const a0_0x565bdb=a0_0x322c;(function(_0x18d9f7,_0x2a1373){const _0x4a47d6=a0_0x322c,_0x126503=_0x18d9f7();while(!![]){try{const _0x26c82f=parseInt(_0x4a47d6(0x21a))/0x1+-parseInt(_0x4a47d6(0x185))/0x2*(-parseInt(_0x4a47d6(0x1c1))/0x3)+parseInt(_0x4a47d6(0x21f))/0x4+-parseInt(_0x4a47d6(0x1f6))/0x5+-parseInt(_0x4a47d6(0x236))/0x6+-parseInt(_0x4a47d6(0x235))/0x7*(-parseInt(_0x4a47d6(0x233))/0x8)+-parseInt(_0x4a47d6(0x1d0))/0x9;if(_0x26c82f===_0x2a1373)break;else _0x126503['push'](_0x126503['shift']());}catch(_0x4a9062){_0x126503['push'](_0x126503['shift']());}}}(a0_0x4c6c,0x22c79));import a0_0xeaae39 from'puppeteer';import a0_0x48edc8 from'path';import{promises as a0_0x5595b5}from'fs';import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';function a0_0x322c(_0x5eeafc,_0x14b438){const _0x4c6cb3=a0_0x4c6c();return a0_0x322c=function(_0x322cbf,_0x198fe0){_0x322cbf=_0x322cbf-0x17f;let _0x45ee8a=_0x4c6cb3[_0x322cbf];if(a0_0x322c['XSQxWz']===undefined){var _0x58c051=function(_0xeaae39){const _0x48edc8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5595b5='',_0x2d1824='';for(let _0x3e0e7d=0x0,_0x2c7e80,_0x7c9de2,_0x409890=0x0;_0x7c9de2=_0xeaae39['charAt'](_0x409890++);~_0x7c9de2&&(_0x2c7e80=_0x3e0e7d%0x4?_0x2c7e80*0x40+_0x7c9de2:_0x7c9de2,_0x3e0e7d++%0x4)?_0x5595b5+=String['fromCharCode'](0xff&_0x2c7e80>>(-0x2*_0x3e0e7d&0x6)):0x0){_0x7c9de2=_0x48edc8['indexOf'](_0x7c9de2);}for(let _0x56906d=0x0,_0x1b7040=_0x5595b5['length'];_0x56906d<_0x1b7040;_0x56906d++){_0x2d1824+='%'+('00'+_0x5595b5['charCodeAt'](_0x56906d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2d1824);};a0_0x322c['IoFCXc']=_0x58c051,_0x5eeafc=arguments,a0_0x322c['XSQxWz']=!![];}const _0x311f5d=_0x4c6cb3[0x0],_0x18b4e5=_0x322cbf+_0x311f5d,_0x59c5c0=_0x5eeafc[_0x18b4e5];return!_0x59c5c0?(_0x45ee8a=a0_0x322c['IoFCXc'](_0x45ee8a),_0x5eeafc[_0x18b4e5]=_0x45ee8a):_0x45ee8a=_0x59c5c0,_0x45ee8a;},a0_0x322c(_0x5eeafc,_0x14b438);}function a0_0x4c6c(){const _0x115a46=['ChjVAMvJDerPCG','rMfPBgvKihrVignOyw5NzsbvuKWGB2yGDgfIia','C2v0vMLLD3bVCNq','CMvHzenVBNnVBgu','y29UzMLN','C3rHy2S','ls1KAxnHyMXLlwfJy2vSzxjHDgvKltjKlwnHBNzHCW','zwXLBwvUDc1ZzwXLy3rVCG','BMv0D29YA2LKBguY','Aw50zxjHy3rPB25tDwDNzxn0Aw9UCW','rMfPBgvKihrVihjLywqGC291CMnLigzYB20GDgfIia','DgfIr29cywnR','cGPqBgvHC2uGyMuGy29Uy2LZzsbIDxqGDgHVCM91z2GSignVDMvYAw5NigfSBcb2AxnPyMXLifvjigvSzw1LBNrZihrOyxqGD291BgqGyMuGCMvSzxzHBNqGzM9YigLUDgvYywn0Aw5NihDPDgGGDgHPCYbWywDLlGO','zgvZy3jPyMuTC2nYzwvUC2HVDa','z29cywnR','y29TBwfUzhm','vxnPBMCG','ig5VDcbMB3vUza','y3jLyxrLzef0','ywXS','rMfPBgvKihrVigrLC2nYAwjLihnJCMvLBNnOB3qGB2yGDgfIia','BMv3lxzHBhvL','DgfItwv0ywrHDge','C25HChnOB3rmzw5NDgG','DgLTzxn0yw1W','rMfPBgvKihrVig9Wzw4GDgfIihDPDgGGvvjmia','mJyZmdy3De9ptLvs','C3rHDhvZ','BgfZDfzPC2L0zwq','C2L6zq','rMLSzsbUB3qGzM91BMq6ia','zM9JDxnbCMvH','wfbHDgGGB3bLCMf0Aw9UigzHAwXLzdOG','DgfNtMfTzq','y2XVC2uTDgfI','C2v0uMvXDwvZDeLUDgvYy2vWDgLVBG','BMv3qwrKCG','DxjS','r2v0DgLUzYbPBwfNzsbKzxnJCMLWDgLVBIbMB3iGC2nYzwvUC2HVDa','DgfRzs1Zy3jLzw5ZAg90','cI0Gu2nYzwvUC2HVDcbuExbLoIa','mJm4nJK0nencAg9ysq','cI0GrwXLBwvUDcbuExbLoIa','y29SBM8','zM9YrwfJAa','Bg9Nz2vY','cGPqBgvHC2uGChjVDMLKzsbLEhrYysbKzxrHAwWGywjVDxqGDgHPCYbMB2n1C2vKigvSzw1LBNqGyw5KigL0CYbJB250zxH0ihDPDgHPBIb0AguGCgfNzs4kcG','l3jLC3qVB2yVCgf0Ac5LEhqkicaGicaGicbfEgfTCgXLCZOkicaGicaGicaTigzPBgu6lY8','zNvSBfbHz2u','DgfICW','zNvSBcbWywDL','A2v5yM9HCMq','nI4Grgv0ywLSzwqGzgvZy3jPChrPB24GB2yGDgHLigzVy3vZzwqGzwXLBwvUDa','tw9UAxrVCMLUzYbUzxr3B3jRigfJDgL2Axr5igLUihrHyJOG','vgfIia','Aw5PDgLHBgL6zwq','AgfZ','Aw5MBW','Dg9ju09tDhjPBMC','B3bLBI10ywi','DhLWzq','CgfYC2vcCM93C2vYq29TBwfUzhnjBKzVCLrHyG','zxHLy3v0ywjSzvbHDgG','rMfPBgvKihrVihjLywqGDgv4DcbMCM9TihrHyIa','zxjYB3i','BgvUz3rO','EhbHDgG6','q2XVC2LUzYb0ywi6ia','y2fWDhvYzs1QCY1LCNjVCNm','C2H1DgrVD24','lcb0ExbLoIa','C2v0teXnu2vYDMLJzq','CMvHzc1JB25ZB2XL','Bw9UAxrVCK5LDhDVCMS','igLUihrHyJOG','zgLZy29UBMvJDgvK','C29YDa','CMvHC29U','Bg9NvhLWzq','ndC5ndaWDeXrqxrq','rxHLy3v0Aw5NigjYB3DZzxiGy29TBwfUzcb3AxrOihbHCMfTzxrLCNm6','rwXLBwvUDcb3AxrOifHqyxrOia','CxvLCNLtzwXLy3rVCG','C2nYzwvUC2HVDa','rMfPBgvKihrVignHChr1CMuGsLmGzxjYB3jZigzYB20GDgfIia','C3rHCNrZv2L0Aa','CMvHzc1ZB3vYy2u','y3jLyxrLvMLZAw9UuhjVBxb0','x2PZrxjYB3jZ','y3nZ','C2LUz2XLtM9KzvzHBhvL','Dw5Oyw5KBgvKuMvQzwn0Aw9U','BMfTzq','DgfIlwDVlwjHy2S','rMfPBgvKihrVignSB3nLihrHyIa','DgfIlwLK','CMvHzfrHyLrLEhq','z2v0sw1Hz2vezxnJCMLWDgLVBG','y2XVC2u','BgXTu2vYDMLJzq','wfbHDgGGzNvUy3rPB24GBM90igf2ywLSywjSzsbVBIbWywDLig9IAMvJDa','lIbdB25ZAwrLCIb1C2LUzYbHigrPzMzLCMvUDcbZzwXLy3rVCIbVCIbJAgvJA2LUzYbPzIb0AguGzwXLBwvUDcbPCYbSB2fKzwqU','z2v0','Bw9UAxrVCI1Uzxr3B3jR','rMfPBgvKihrVihr5CguGAw50BYbLBgvTzw50ia','BgLZDc1Hy3rPDMuTDgfICW','ChvZAa','z290BW','zwXLBwvUDfnLBgvJDg9Y','D2fPDezVCLnLBgvJDg9Y','DgfIswq','y2XLyxi','v2fPDgLUzYbMB3iGC2vSzwn0B3i','rMfPBgvKihrVignHChr1CMuGzM9JDxnLzcbLBgvTzw50ia','yNjVD3nLCG','mJy0mJmZrK5RwMvI','rM9JDxmGyxjLytOG','B3bLBLrHyG','z2v0qM91BMrPBMDdBgLLBNrszwn0','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icaIywn0Aw9UiJOGiMXPC3qTywn0AxzLlxrHyNmIlaOGicj0B3rHBfrHyNmIoIaYlaOGicj0ywjZiJOGwWOGicaGEWOGicaGicaIDgfIswqIoIaIDgfIlteIlaOGicaGicaIDgL0BguIoIaIr2L0shvIiIWkicaGicaGiNvYBci6icjODhrWCZOVl2DPDgH1yI5JB20IlaOGicaGicaIy3jLyxrLzef0iJOGiJiWmJqTmdeTmtvumta6mZa6mdaUmdaWwIiScIaGicaGicj0Aw1Lt25dDxjYzw50vxjSiJOGiJvTidiZCYiScIaGicaGicj0Aw1Lu2LUy2vmyxn0vMLZAxqIoIaImM0GmtvZiIWGcIaGicaGicj0B3rHBefNzsi6ici4Bsa0nxmIlaOGicaGicaIDMLZAxrdB3vUDci6idmkicaGih0kicbDlaOGicjZDwnJzxnZiJOGDhj1zqP9cGPfCNjVCIbiyw5KBgLUzZOklsbpCgvYyxrPB25ZihjLDhvYBIbZDwnJzxnZl2zHAwX1CMuGC3rHDhvZihDPDgGGzgv0ywLSzwqGzxjYB3iGBwvZC2fNzxmklsbgywLSzwqGzwXLBwvUDcbPBNrLCMfJDgLVBNmGChjVDMLKzsbZCgvJAwzPyYbNDwLKyw5JzsbMB3iGywX0zxjUyxrPDMuGC2vSzwn0B3jZcI0GtMv0D29YAYb0Aw1LB3v0CYbHBMqGBMf2AwDHDgLVBIbLCNjVCNmGyxjLigf1Dg9TyxrPy2fSBhKGAgfUzgXLzcbHBMqGCMvWB3j0zwqkcLbLCMzVCM1HBMnLoGOTifnJCMvLBNnOB3rZihn1ChbVCNqGyM90Acb2Awv3Cg9YDcbHBMqGzNvSBc1WywDLignHChr1CMuklsbozxr3B3jRig1VBML0B3jPBMCGy2fWDhvYzxmGCMvXDwvZDc9YzxnWB25Zzsb0Aw1PBMCGyw5Kihn0yxr1CYbJB2rLCWOTienVBNnVBguGBw9UAxrVCMLUzYbYDw5ZignVBNrPBNvVDxnSEsbVBMnLigvUywjSzwqGzM9YigeGDgfIcI0GqwXSig9WzxjHDgLVBNmGAw5JBhvKzsbZywzLDhKGDgLTzw91DhmGDg8GChjLDMvUDcbOyw5NAw5NcGPjtvbpuLrbtLq6ig9Wzw5UAw5NigeGDgfIl2nOyw5NAw5NigfKzhjLC3mGDxn1ywXSEsb0ywTLCYb0Aw1LlIbVCgvUihrHyNmGAw4GysbZAw5NBguGBwvZC2fNzsWGD2fPDcbMB3iGC3vJy2vZC2z1BcbYzxnWB25ZzsbPBIb0AguGzM9SBg93Aw5Nig1LC3nHz2uSihrOzw4GDxnLig90AgvYigLUC3rYDwn0Aw9UCYb3AxrOihjLC3bLy3qGDg8GDgHPCYb0ywiUcIaG','nJC1mJi4turby0L6','rxjYB3iGzxHLy3v0Aw5NigjYB3DZzxiGy29TBwfUzca','rMfPBgvKihrVihrHA2uGC2nYzwvUC2HVDcbVzIb0ywiG','A2v5CW','ihrVia','l2rPC3qVyxbWlMH0BwWkicaGicaGicaTigzPBgu6lY8','zMLSzw5HBwu','qMfJA3nWywnL','zMXVB3i','DgfRzvnJCMvLBNnOB3q','DMLZAxrdB3vUDa','DgL0Bgu','zMfSC2u','rMfPBgvKihrVig1VBML0B3iGBMv0D29YAYbPBIb0ywiG','ls13Aw5KB3CTC2L6zt0XmJGWldGWma','CMvHzfnVDxjJzq','tM8GzwXLBwvUDhmGzM91BMqGD2L0Acbyugf0AdOG','AgfUzgXLtg9JywXgAwXLrxjYB3i','yxr0CMLIDxrLCW','yMfZzty0','ndm4mZyWANbuDhDh','zM9YlxrHyG','n2vxEM5RCa','ndmXodi2BgnRrNHR','lIbuCNKGysbKAwzMzxjLBNqGC2vSzwn0B3iU','q2fWDhvYAw5NiePHDMfty3jPChqGzxjYB3jZigzYB20GDgfIoIa','cI0GrwXLBwvUDcbuzxH0oIa','CMvXDwvZDa','zMLSztOVlW','y2HHBMDLlxrHyI1HzgrY','zgvSzxrL','DgfIvhLWzuLU','AgvHzgvYCW','ls1KAxnHyMXLlxnLDhvPzc1Zyw5KyM94','x25LDhDVCMTszxf1zxn0CW','DxbKyxrLtgfZDfzPC2L0zwq','rwXLBwvUDcbUB3qGzM91BMqGD2L0AcbZzwXLy3rVCJOG','Dg9VBhm','x2nVBNnVBgvmB2DZ','ywn0Aw9U','t1jervjfrf9ot0rfx1noqvbtse9ux1rzueu','Dgv4Da','ihnJCMvLBNnOB3qGB2yGDgfIoIa','zNvUy3rPB24','CxvLCNK','mKvhCKXgza','igLUihrHyIa','ihnLBgvJDg9YoIa','zgvZy3jPyMvty3jLzw5ZAg90','rxjYB3iGCgfYC2LUzYbICM93C2vYihbHCMfTzxrLCNm6','D2fPDezVCK5LDhDVCMTjzgXL','DMfSDwu','y2XPy2S','C3rHDhvZq29Kzq','DgfIlwnSAwnRlw9U','BwvZC2fNzq','cGPqCM92AwrLihrOzsbMB2XSB3DPBMCGAw5MB3jTyxrPB246cJeUie92zxjHBgWGBgf5B3v0igfUzcbKzxnPz24GB2yGDgHLihbHz2ukmI4GtwfPBIbJB250zw50igfYzwfZigfUzcb0AgvPCIbWDxjWB3nLcJmUie5HDMLNyxrPB24GzwXLBwvUDhmGkg1LBNvZlcbICMvHzgnYDw1ICYWGzxrJlIKknc4GrM9YBxmGyw5KigLUDgvYywn0AxzLigvSzw1LBNrZicHPzIbHBNKPcJuUifbYB21PBMvUDcbPBwfNzxmSihzPzgvVCYWGB3iGB3rOzxiGBwvKAwek','ls1KAxnHyMXLlwDWDq','Bg9JyxrPB24','x2vYCM9Yq2fWDhvYAw5Nqwn0AxzL','DgfIq2XPy2TpBG','CMvKDwnL','DMLLD3bVCNq','CgvUzgLUzW','Aw5JBhvKzxm','zxzHBhvHDgu','y2f0y2G','ugfYC2LUzYbICM93C2vYihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','Aw5PDgLHBgL6zq','uMvHzgLUzYbZB3vYy2uGzNjVBsb0ywi6ia','C3rHDhvZvgv4Da','DgfIlxr5CguTAw4','zxjYB3juzxH0','DMLZAwjSzq','rvjsx0zjtevFtK9ux0zpvu5e','C2v0','Aw5UzxjuzxH0','y2HHBMDLvgfIqwrKCG','zgvZy3jPChrPB24'];a0_0x4c6c=function(){return _0x115a46;};return a0_0x4c6c();}export class BrowserTool extends BaseTool{constructor(_0x2d1824,_0x3e0e7d,_0x2c7e80=null){const _0x3d4965=a0_0x322c;super(_0x2d1824,_0x3e0e7d),this[_0x3d4965(0x219)]=null,this['tabs']=new Map(),this['tabMetadata']=new Map(),this[_0x3d4965(0x1de)]=![],this['llmService']=_0x2c7e80;}[a0_0x565bdb(0x1ee)](_0x7c9de2){const _0x5280c7=a0_0x565bdb;this[_0x5280c7(0x20a)]=_0x7c9de2;}['getDescription'](){const _0x2de2ae=a0_0x565bdb;return _0x2de2ae(0x21e);}['parseParameters'](_0x409890){const _0x43ff1d=a0_0x565bdb;this[_0x43ff1d(0x1d4)][_0x43ff1d(0x1e0)](_0x43ff1d(0x19b));const _0x56906d={'commands':[]};try{const _0x1b7040=TagParser[_0x43ff1d(0x184)](_0x409890,_0x43ff1d(0x1e2));for(const _0x3ca574 of _0x1b7040){const _0xa4767b=_0x3ca574[_0x43ff1d(0x231)]['addr'];_0xa4767b&&_0x56906d[_0x43ff1d(0x1b6)]['push']({'action':_0x43ff1d(0x1e2),'addr':_0xa4767b});}const _0x1355e7=TagParser[_0x43ff1d(0x184)](_0x409890,'close-tab');for(const _0x13a2dc of _0x1355e7){const _0x352013=_0x13a2dc['attributes']['tab-id'];_0x352013&&_0x56906d['commands']['push']({'action':'close-tab','tabId':_0x352013});}const _0x25797b=TagParser['query'](_0x409890,'read-tab-text');for(const _0x307259 of _0x25797b){const _0x146409=_0x307259[_0x43ff1d(0x231)]['tab-id'];_0x146409&&_0x56906d[_0x43ff1d(0x1b6)][_0x43ff1d(0x211)]({'action':'read-tab-text','tabId':_0x146409});}const _0x1e04bd=TagParser[_0x43ff1d(0x184)](_0x409890,_0x43ff1d(0x1fd));for(const _0x3e9390 of _0x1e04bd){const _0x53e69a=_0x3e9390['attributes']['id'];_0x53e69a&&_0x56906d['commands']['push']({'action':'read-source','id':_0x53e69a});}const _0x411b13=TagParser['query'](_0x409890,_0x43ff1d(0x23c));for(const _0x152292 of _0x411b13){const _0x374c9b=_0x152292[_0x43ff1d(0x231)][_0x43ff1d(0x206)],_0x5a2be8=_0x152292[_0x43ff1d(0x231)]['new-addr'];_0x374c9b&&_0x5a2be8&&_0x56906d[_0x43ff1d(0x1b6)][_0x43ff1d(0x211)]({'action':_0x43ff1d(0x23c),'tabId':_0x374c9b,'newAddr':_0x5a2be8});}const _0x8f43ad=TagParser['query'](_0x409890,_0x43ff1d(0x18e));for(const _0x1d9019 of _0x8f43ad){const _0x378816=_0x1d9019['attributes']['id'],_0x4f358e=_0x1d9019[_0x43ff1d(0x231)][_0x43ff1d(0x1ae)];_0x378816&&_0x4f358e&&_0x56906d['commands'][_0x43ff1d(0x211)]({'action':'tab-click-on','id':_0x378816,'elementSelector':_0x4f358e});}const _0x593069=TagParser['query'](_0x409890,'tab-type-in');for(const _0x1684d9 of _0x593069){const _0x5a9de5=_0x1684d9['attributes']['id'],_0x17c6e0=_0x1684d9['attributes'][_0x43ff1d(0x1ae)],_0x517cf7=_0x1684d9[_0x43ff1d(0x231)]['new-value'];_0x5a9de5&&_0x17c6e0&&_0x517cf7&&_0x56906d[_0x43ff1d(0x1b6)]['push']({'action':'tab-type-in','id':_0x5a9de5,'elementSelector':_0x17c6e0,'newValue':_0x517cf7});}const _0x38f3a9=TagParser['query'](_0x409890,'tab-go-back');for(const _0x453735 of _0x38f3a9){const _0x4bad7c=_0x453735[_0x43ff1d(0x231)]['id'];_0x56906d['commands'][_0x43ff1d(0x211)]({'action':_0x43ff1d(0x204),'id':_0x4bad7c||''});}const _0x1acab7=TagParser[_0x43ff1d(0x184)](_0x409890,_0x43ff1d(0x234));for(const _0x4db425 of _0x1acab7){const _0x3c35a0=_0x4db425['attributes']['id'];if(_0x3c35a0){const _0x3041f1=this['parseBrowserCommandsInForTab'](_0x4db425['content'],_0x3c35a0);_0x56906d['commands']['push'](..._0x3041f1);}}const _0x108301=TagParser['query'](_0x409890,_0x43ff1d(0x1b4));for(const _0x2d1f8d of _0x108301){const _0x4a04cd=_0x2d1f8d['attributes'][_0x43ff1d(0x206)],_0x6f2350=_0x2d1f8d[_0x43ff1d(0x231)]['full-page']!==_0x43ff1d(0x22b),_0x9c5dad=_0x2d1f8d['attributes']['focus-area']||null;_0x4a04cd&&(this[_0x43ff1d(0x242)](_0x4a04cd),_0x56906d['commands']['push']({'action':_0x43ff1d(0x1b4),'tabId':_0x4a04cd,'fullPage':_0x6f2350,'focusArea':_0x9c5dad}));}const _0x14d675=TagParser['query'](_0x409890,_0x43ff1d(0x1ef));for(const _0x3d628b of _0x14d675){const _0x4ecbaa=_0x3d628b['attributes'][_0x43ff1d(0x206)],_0x57a0fe=_0x3d628b['attributes']['log-type']||_0x43ff1d(0x1ba);_0x4ecbaa&&_0x56906d[_0x43ff1d(0x1b6)][_0x43ff1d(0x211)]({'action':_0x43ff1d(0x1ef),'tabId':_0x4ecbaa,'logType':_0x57a0fe});}const _0x4e658e=TagParser['query'](_0x409890,_0x43ff1d(0x1eb));for(const _0x3e8e33 of _0x4e658e){const _0x23b896=_0x3e8e33['attributes']['tab-id'];_0x23b896&&_0x56906d['commands']['push']({'action':_0x43ff1d(0x1eb),'tabId':_0x23b896});}const _0x59f9b0=TagParser['query'](_0x409890,'monitor-network');for(const _0x292ebf of _0x59f9b0){const _0x5b813e=_0x292ebf['attributes'][_0x43ff1d(0x206)],_0x55ba99=_0x292ebf[_0x43ff1d(0x231)][_0x43ff1d(0x216)]==='true';_0x5b813e&&_0x56906d['commands']['push']({'action':'monitor-network','tabId':_0x5b813e,'clear':_0x55ba99});}const _0x478981=TagParser[_0x43ff1d(0x184)](_0x409890,'list-active-tabs');return _0x478981['length']>0x0&&_0x56906d[_0x43ff1d(0x1b6)][_0x43ff1d(0x211)]({'action':_0x43ff1d(0x210)}),_0x56906d;}catch(_0x4a0ee7){return this[_0x43ff1d(0x1d4)][_0x43ff1d(0x1e7)](_0x43ff1d(0x189),_0x4a0ee7),{'commands':[]};}}[a0_0x565bdb(0x1e4)](_0x544cda,_0x3523f7){const _0x1a3dd0=a0_0x565bdb,_0x1a5c8e=[],_0x2679b9=TagParser['query'](_0x544cda,'tab-click-on');for(const _0x359790 of _0x2679b9){const _0x3a2829=_0x359790['attributes'][_0x1a3dd0(0x1ae)];_0x3a2829&&_0x1a5c8e['push']({'action':_0x1a3dd0(0x18e),'id':_0x3523f7,'elementSelector':_0x3a2829});}const _0x236b12=TagParser[_0x1a3dd0(0x184)](_0x544cda,_0x1a3dd0(0x19f));for(const _0x386132 of _0x236b12){const _0x3b8f02=_0x386132['attributes']['element-selector'],_0x175d14=_0x386132['attributes'][_0x1a3dd0(0x1bc)];_0x3b8f02&&_0x175d14&&_0x1a5c8e[_0x1a3dd0(0x211)]({'action':'tab-type-in','id':_0x3523f7,'elementSelector':_0x3b8f02,'newValue':_0x175d14});}const _0x1b363f=TagParser[_0x1a3dd0(0x184)](_0x544cda,_0x1a3dd0(0x204));return _0x1b363f[_0x1a3dd0(0x1e8)]>0x0&&_0x1a5c8e['push']({'action':_0x1a3dd0(0x204),'id':_0x3523f7}),_0x1a5c8e;}async['executeWithParameters'](_0x3d049e,_0x52f8d7){const _0x5aef60=a0_0x565bdb;this['logger'][_0x5aef60(0x1e0)](_0x5aef60(0x1f7),_0x3d049e);!this[_0x5aef60(0x1de)]&&await this[_0x5aef60(0x19c)]();const _0x162118=[];if(!_0x3d049e['commands']||_0x3d049e['commands'][_0x5aef60(0x1e8)]===0x0)throw new Error('No\x20browser\x20commands\x20specified');for(const _0x5e906b of _0x3d049e['commands']){try{let _0x2c5427;switch(_0x5e906b[_0x5aef60(0x17f)]){case _0x5aef60(0x1e2):_0x2c5427=await this[_0x5aef60(0x21c)](_0x5e906b['addr']);break;case _0x5aef60(0x1c9):_0x2c5427=await this['closeTab'](_0x5e906b[_0x5aef60(0x215)]);break;case'read-tab-text':_0x2c5427=await this['readTabText'](_0x5e906b['tabId']);break;case _0x5aef60(0x1fd):_0x2c5427=await this[_0x5aef60(0x22e)](_0x5e906b['id']);break;case _0x5aef60(0x23c):_0x2c5427=await this[_0x5aef60(0x1a5)](_0x5e906b['tabId'],_0x5e906b[_0x5aef60(0x1cb)]);break;case _0x5aef60(0x18e):_0x2c5427=await this['tabClickOn'](_0x5e906b['id'],_0x5e906b[_0x5aef60(0x213)]);break;case _0x5aef60(0x19f):_0x2c5427=await this['tabTypeIn'](_0x5e906b['id'],_0x5e906b[_0x5aef60(0x213)],_0x5e906b['newValue']);break;case _0x5aef60(0x204):_0x2c5427=await this[_0x5aef60(0x1b2)](_0x5e906b['id']);break;case _0x5aef60(0x1b4):_0x2c5427=await this['describeScreenshot'](_0x5e906b['tabId'],_0x5e906b['fullPage'],_0x5e906b[_0x5aef60(0x1c6)]);break;case'read-console':_0x2c5427=await this[_0x5aef60(0x1aa)](_0x5e906b['tabId'],_0x5e906b[_0x5aef60(0x1f5)]);break;case'capture-js-errors':_0x2c5427=await this['captureJSErrors'](_0x5e906b['tabId']);break;case _0x5aef60(0x20e):_0x2c5427=await this[_0x5aef60(0x1f0)](_0x5e906b[_0x5aef60(0x215)],_0x5e906b['clear']);break;case'list-active-tabs':_0x2c5427=await this['listActiveTabs']();break;default:throw new Error('Unknown\x20browser\x20command:\x20'+_0x5e906b['action']);}_0x162118[_0x5aef60(0x211)](_0x2c5427);}catch(_0x47ebc8){this['logger'][_0x5aef60(0x1e7)](_0x5aef60(0x220)+_0x5e906b[_0x5aef60(0x17f)]+':',_0x47ebc8),_0x162118['push']({'action':_0x5e906b['action'],'success':![],'error':_0x47ebc8['message']});}}return{'results':_0x162118};}async[a0_0x565bdb(0x19c)](){const _0x51db5b=a0_0x565bdb;this['logger'][_0x51db5b(0x1e0)]('Initializing\x20browser');try{const _0x225d85={'headless':!![],'args':['--no-sandbox',_0x51db5b(0x240),'--disable-dev-shm-usage',_0x51db5b(0x1ad),_0x51db5b(0x191),_0x51db5b(0x22d)]};this[_0x51db5b(0x1ab)][_0x51db5b(0x244)]?.['browser']?.['executablePath']&&(_0x225d85[_0x51db5b(0x1e5)]=this[_0x51db5b(0x1ab)][_0x51db5b(0x244)]['browser']['executablePath']),this[_0x51db5b(0x219)]=await a0_0xeaae39['launch'](_0x225d85),this[_0x51db5b(0x1de)]=!![],this[_0x51db5b(0x219)]['on'](_0x51db5b(0x1f2),()=>{const _0x50e9bb=_0x51db5b;this[_0x50e9bb(0x1de)]=![],this['tabs'][_0x50e9bb(0x216)]();}),this['logger']['info']('Browser\x20initialized\x20successfully');}catch(_0x136d97){this['logger'][_0x51db5b(0x1e7)]('Failed\x20to\x20initialize\x20browser:',_0x136d97);throw new Error('Failed\x20to\x20initialize\x20browser:\x20'+_0x136d97[_0x51db5b(0x18f)]);}}async[a0_0x565bdb(0x21c)](_0x419d7c){const _0x1802bd=a0_0x565bdb;this[_0x1802bd(0x1d4)][_0x1802bd(0x1e0)]('Opening\x20tab\x20with\x20URL:\x20'+_0x419d7c);try{const _0x1e658a=await this['browser']['newPage']();await _0x1e658a[_0x1802bd(0x1a9)]({'width':0x500,'height':0x320});const _0x953ed6='tab-'+(this[_0x1802bd(0x1d8)][_0x1802bd(0x1c4)]+0x1),_0x418bc1=new Date();return await _0x1e658a[_0x1802bd(0x212)](_0x419d7c,{'waitUntil':_0x1802bd(0x1af),'timeout':0xea60}),this['tabs'][_0x1802bd(0x1a3)](_0x953ed6,_0x1e658a),this['tabMetadata']['set'](_0x953ed6,{'tabId':_0x953ed6,'title':await _0x1e658a['title'](),'url':_0x1e658a['url'](),'createdAt':_0x418bc1,'currentUrlSince':_0x418bc1,'lastVisited':_0x418bc1,'visitCount':0x1}),{'action':_0x1802bd(0x1e2),'url':_0x419d7c,'tabId':_0x953ed6,'title':await _0x1e658a[_0x1802bd(0x22a)](),'success':!![]};}catch(_0x17ef5b){if(this['isLocalFileError'](_0x17ef5b,_0x419d7c))return await this[_0x1802bd(0x230)](_0x419d7c,_0x17ef5b);throw new Error(_0x1802bd(0x1c0)+_0x419d7c+':\x20'+_0x17ef5b[_0x1802bd(0x18f)]);}}['isLocalFileError'](_0x31fecc,_0x2d6c27){const _0x310c6f=a0_0x565bdb;return _0x31fecc[_0x310c6f(0x18f)][_0x310c6f(0x198)](_0x310c6f(0x1a2))||_0x31fecc[_0x310c6f(0x18f)]['includes']('net::ERR_FILE_NOT_FOUND')||_0x2d6c27[_0x310c6f(0x1fc)](_0x310c6f(0x23b))&&_0x31fecc[_0x310c6f(0x18f)][_0x310c6f(0x198)]('Protocol\x20error');}async['handleLocalFileError'](_0xddfcfd,_0xd2bb80){const _0x3d124f=a0_0x565bdb,_0x4ecf01=await this['generateLocalFileSuggestions'](_0xddfcfd);return{'action':_0x3d124f(0x1e2),'url':_0xddfcfd,'success':![],'error':_0x3d124f(0x1c5)+_0xddfcfd,'localFileError':!![],'projectDirectory':this['projectDir'],'suggestions':_0x4ecf01,'helpText':'To\x20browse\x20local\x20files,\x20use\x20absolute\x20paths\x20starting\x20with\x20file://'+this['projectDir']+_0x3d124f(0x1d6)+this['projectDir']+'/index.html\x0a\x20\x20\x20\x20\x20\x20\x20\x20-\x20file://'+this['projectDir']+_0x3d124f(0x224)+this[_0x3d124f(0x1a7)]+'/public/demo.html'};}async['closeTab'](_0x5b974a){const _0x3721c9=a0_0x565bdb;this['logger'][_0x3721c9(0x1e0)](_0x3721c9(0x1ea)+_0x5b974a);if(!this['tabs'][_0x3721c9(0x1df)](_0x5b974a))throw new Error(_0x3721c9(0x1dd)+_0x5b974a+'\x20not\x20found');try{const _0x1123bc=this['tabs']['get'](_0x5b974a);return await _0x1123bc['close'](),this[_0x3721c9(0x1d8)][_0x3721c9(0x23d)](_0x5b974a),this['tabMetadata']['delete'](_0x5b974a),{'action':'close-tab','tabId':_0x5b974a,'success':!![]};}catch(_0x54541d){throw new Error(_0x3721c9(0x205)+_0x5b974a+':\x20'+_0x54541d[_0x3721c9(0x18f)]);}}['formatDuration'](_0xc1e41){const _0x26245d=a0_0x565bdb;if(_0xc1e41<0x3c)return _0xc1e41+'s';if(_0xc1e41<0xe10)return Math[_0x26245d(0x227)](_0xc1e41/0x3c)+'m\x20'+_0xc1e41%0x3c+'s';const _0x43d6fd=Math[_0x26245d(0x227)](_0xc1e41/0xe10),_0x593d92=Math[_0x26245d(0x227)](_0xc1e41%0xe10/0x3c),_0x20c2c7=_0xc1e41%0x3c;return _0x43d6fd+'h\x20'+_0x593d92+'m\x20'+_0x20c2c7+'s';}async['listActiveTabs'](){const _0x106103=a0_0x565bdb;this[_0x106103(0x1d4)]['info']('Listing\x20all\x20active\x20tabs');try{const _0xfc02f4=[],_0x24f5ed=new Date();for(const [_0x5d5616,_0x413f86]of this['tabs']['entries']()){const _0x56a061=this[_0x106103(0x1bd)]['get'](_0x5d5616);if(_0x56a061){const _0x9ed6d8=Math[_0x106103(0x227)]((_0x24f5ed-_0x56a061['currentUrlSince'])/0x3e8),_0x27a1b5=Math['floor']((_0x24f5ed-_0x56a061['lastVisited'])/0x3e8),_0x3a4b26=Math[_0x106103(0x227)]((_0x24f5ed-_0x56a061['createdAt'])/0x3e8),_0x55da19=await _0x413f86[_0x106103(0x22a)]()['catch'](()=>_0x56a061['title']),_0x2f1533=_0x413f86[_0x106103(0x1cc)]();_0xfc02f4['push']({'tabId':_0x5d5616,'title':_0x55da19,'url':_0x2f1533,'createdAt':_0x56a061[_0x106103(0x1b9)][_0x106103(0x1e1)](),'timeOnCurrentUrl':this['formatDuration'](_0x9ed6d8),'timeSinceLastVisit':this['formatDuration'](_0x27a1b5),'totalAge':this['formatDuration'](_0x3a4b26),'visitCount':_0x56a061[_0x106103(0x229)]});}}return{'action':_0x106103(0x210),'totalTabs':_0xfc02f4[_0x106103(0x1e8)],'tabs':_0xfc02f4,'success':!![]};}catch(_0x41761c){throw new Error('Failed\x20to\x20list\x20active\x20tabs:\x20'+_0x41761c[_0x106103(0x18f)]);}}async[a0_0x565bdb(0x207)](_0x4425e0){const _0xef1c0a=a0_0x565bdb;this[_0xef1c0a(0x1d4)]['info']('Reading\x20text\x20from\x20tab:\x20'+_0x4425e0);if(!this[_0xef1c0a(0x1d8)]['has'](_0x4425e0))throw new Error(_0xef1c0a(0x1dd)+_0x4425e0+'\x20not\x20found');try{const _0x249f74=this[_0xef1c0a(0x1d8)]['get'](_0x4425e0);this[_0xef1c0a(0x242)](_0x4425e0);const _0x151f0b=await _0x249f74[_0xef1c0a(0x199)](()=>{return document['body']['innerText'];});return{'action':'read-tab-text','tabId':_0x4425e0,'url':_0x249f74['url'](),'title':await _0x249f74['title'](),'text':_0x151f0b,'success':!![]};}catch(_0xe563de){throw new Error(_0xef1c0a(0x1e6)+_0x4425e0+':\x20'+_0xe563de[_0xef1c0a(0x18f)]);}}async[a0_0x565bdb(0x22e)](_0x730b19){const _0x3e9ac2=a0_0x565bdb;this[_0x3e9ac2(0x1d4)][_0x3e9ac2(0x1e0)](_0x3e9ac2(0x19d)+_0x730b19);if(!this['tabs'][_0x3e9ac2(0x1df)](_0x730b19))throw new Error('Tab\x20'+_0x730b19+_0x3e9ac2(0x1b8));try{const _0x1e8b48=this['tabs'][_0x3e9ac2(0x20d)](_0x730b19);this[_0x3e9ac2(0x242)](_0x730b19);const _0x1cbbe2=await _0x1e8b48['content']();return{'action':_0x3e9ac2(0x1fd),'tabId':_0x730b19,'url':_0x1e8b48['url'](),'title':await _0x1e8b48['title'](),'source':_0x1cbbe2,'success':!![]};}catch(_0x1ea422){throw new Error(_0x3e9ac2(0x1b1)+_0x730b19+':\x20'+_0x1ea422[_0x3e9ac2(0x18f)]);}}[a0_0x565bdb(0x242)](_0x1165d5){const _0x1277f7=this['tabMetadata']['get'](_0x1165d5);_0x1277f7&&(_0x1277f7['lastVisited']=new Date());}async['changeTabAddr'](_0x1f9652,_0x576f74){const _0x18248a=a0_0x565bdb;this['logger']['info']('Changing\x20URL\x20of\x20tab\x20'+_0x1f9652+'\x20to:\x20'+_0x576f74);if(!this['tabs']['has'](_0x1f9652))throw new Error(_0x18248a(0x1dd)+_0x1f9652+_0x18248a(0x1b8));try{const _0x10294d=this[_0x18248a(0x1d8)][_0x18248a(0x20d)](_0x1f9652);await _0x10294d['goto'](_0x576f74,{'waitUntil':_0x18248a(0x1af),'timeout':0xea60});const _0x46c534=this[_0x18248a(0x1bd)]['get'](_0x1f9652);if(_0x46c534){const _0x24b9df=new Date();_0x46c534['url']=_0x10294d['url'](),_0x46c534['title']=await _0x10294d[_0x18248a(0x22a)](),_0x46c534['currentUrlSince']=_0x24b9df,_0x46c534[_0x18248a(0x1c3)]=_0x24b9df,_0x46c534[_0x18248a(0x229)]++;}return{'action':_0x18248a(0x23c),'tabId':_0x1f9652,'url':_0x576f74,'title':await _0x10294d['title'](),'success':!![]};}catch(_0x540daa){throw new Error(_0x18248a(0x1a8)+_0x1f9652+_0x18248a(0x223)+_0x576f74+':\x20'+_0x540daa[_0x18248a(0x18f)]);}}async[a0_0x565bdb(0x194)](_0xf42727,_0xd32422){const _0x332445=a0_0x565bdb;this['logger'][_0x332445(0x1e0)]('Clicking\x20on\x20element\x20'+_0xd32422+_0x332445(0x1f1)+_0xf42727);if(!this[_0x332445(0x1d8)][_0x332445(0x1df)](_0xf42727))throw new Error(_0x332445(0x1dd)+_0xf42727+_0x332445(0x1b8));try{const _0x3c7173=this[_0x332445(0x1d8)][_0x332445(0x20d)](_0xf42727);this['updateLastVisited'](_0xf42727);let _0x10c373=_0x332445(0x200),_0x386009=_0xd32422;_0xd32422[_0x332445(0x1fc)](_0x332445(0x1e9))&&(_0x10c373='xpath',_0x386009=_0xd32422['substring'](0x6));this['logger']['debug'](_0x332445(0x1b7)+_0x10c373+_0x332445(0x187)+_0x386009);if(_0x10c373==='xpath')try{if(typeof _0x3c7173['$x']!==_0x332445(0x183)){this[_0x332445(0x1d4)][_0x332445(0x1e7)](_0x332445(0x20b));const _0xed04=await _0x3c7173[_0x332445(0x199)](_0x5c3ba6=>{const _0x4a71eb=_0x332445,_0x283b52=[],_0x244835=document[_0x4a71eb(0x199)](_0x5c3ba6,document,null,XPathResult[_0x4a71eb(0x180)],null);for(let _0x15ef2b=0x0;_0x15ef2b<_0x244835[_0x4a71eb(0x1be)];_0x15ef2b++){_0x283b52['push'](_0x244835['snapshotItem'](_0x15ef2b));}return _0x283b52[_0x4a71eb(0x1e8)];},_0x386009);if(_0xed04===0x0)return{'action':'tab-click-on','tabId':_0xf42727,'selector':_0xd32422,'success':![],'error':_0x332445(0x22f)+_0x386009+'.\x20Try\x20a\x20different\x20selector.'};await _0x3c7173[_0x332445(0x199)](_0x2d0e6b=>{const _0x197a51=_0x332445,_0x54541f=document[_0x197a51(0x199)](_0x2d0e6b,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)[_0x197a51(0x201)];_0x54541f&&_0x54541f[_0x197a51(0x18c)]();},_0x386009);}else{const _0x46abe5=await _0x3c7173['$x'](_0x386009);if(_0x46abe5['length']===0x0)return{'action':'tab-click-on','tabId':_0xf42727,'selector':_0xd32422,'success':![],'error':_0x332445(0x22f)+_0x386009+_0x332445(0x237)};await _0x46abe5[0x0][_0x332445(0x18c)]();}}catch(_0x52703c){this['logger']['error']('XPath\x20click\x20error:\x20'+_0x52703c['message']);throw new Error(_0x332445(0x1c7)+_0x52703c[_0x332445(0x18f)]);}else try{await _0x3c7173['waitForSelector'](_0x386009,{'timeout':0x2710}),await _0x3c7173['click'](_0x386009);}catch(_0xbd2478){if(_0xbd2478[_0x332445(0x18f)]['includes'](_0x332445(0x217))||_0xbd2478['message'][_0x332445(0x198)]('failed\x20to\x20find\x20element'))return{'action':'tab-click-on','tabId':_0xf42727,'selector':_0xd32422,'success':![],'error':_0x332445(0x243)+_0x386009+_0x332445(0x20c)};throw _0xbd2478;}return await _0x3c7173[_0x332445(0x18a)]({'timeout':0x2710})[_0x332445(0x19a)](()=>{}),{'action':'tab-click-on','tabId':_0xf42727,'selector':_0xd32422,'url':_0x3c7173['url'](),'title':await _0x3c7173[_0x332445(0x22a)](),'success':!![]};}catch(_0x3992a2){throw new Error('Failed\x20to\x20click\x20on\x20element\x20'+_0xd32422+_0x332445(0x186)+_0xf42727+':\x20'+_0x3992a2[_0x332445(0x18f)]);}}async[a0_0x565bdb(0x23e)](_0x44957e,_0x59720a,_0x59b5ce){const _0xc5762d=a0_0x565bdb;this[_0xc5762d(0x1d4)][_0xc5762d(0x1e0)]('Typing\x20\x22'+_0x59b5ce+'\x22\x20into\x20element\x20'+_0x59720a+_0xc5762d(0x1f1)+_0x44957e);if(!this[_0xc5762d(0x1d8)][_0xc5762d(0x1df)](_0x44957e))throw new Error(_0xc5762d(0x1dd)+_0x44957e+'\x20not\x20found');try{const _0x35c287=this[_0xc5762d(0x1d8)][_0xc5762d(0x20d)](_0x44957e);this[_0xc5762d(0x242)](_0x44957e);if(_0x59720a['startsWith']('xpath:')){const _0x47c8aa=_0x59720a['substring'](0x6),_0x223715=await _0x35c287['$x'](_0x47c8aa);if(_0x223715[_0xc5762d(0x1e8)]===0x0)throw new Error(_0xc5762d(0x1f8)+_0x47c8aa+'\x20not\x20found');await _0x223715[0x0]['click']({'clickCount':0x3}),await _0x223715[0x0]['press']('Backspace'),await _0x223715[0x0][_0xc5762d(0x1e3)](_0x59b5ce);}else await _0x35c287[_0xc5762d(0x214)](_0x59720a,{'timeout':0x2710}),await _0x35c287[_0xc5762d(0x18c)](_0x59720a,{'clickCount':0x3}),await _0x35c287[_0xc5762d(0x1da)]['press'](_0xc5762d(0x226)),await _0x35c287['type'](_0x59720a,_0x59b5ce);return{'action':_0xc5762d(0x19f),'tabId':_0x44957e,'selector':_0x59720a,'value':_0x59b5ce,'success':!![]};}catch(_0x14b5f0){throw new Error(_0xc5762d(0x20f)+_0x59720a+_0xc5762d(0x186)+_0x44957e+':\x20'+_0x14b5f0['message']);}}async['tabGoBack'](_0xb37cca){const _0x12e3c0=a0_0x565bdb;this['logger']['info']('Going\x20back\x20in\x20tab:\x20'+_0xb37cca);if(!this[_0x12e3c0(0x1d8)][_0x12e3c0(0x1df)](_0xb37cca))throw new Error('Tab\x20'+_0xb37cca+'\x20not\x20found');try{const _0x268f35=this['tabs'][_0x12e3c0(0x20d)](_0xb37cca);return this['updateLastVisited'](_0xb37cca),await _0x268f35[_0x12e3c0(0x1b5)]({'waitUntil':'networkidle2','timeout':0x7530}),{'action':'tab-go-back','tabId':_0xb37cca,'url':_0x268f35['url'](),'title':await _0x268f35[_0x12e3c0(0x22a)](),'success':!![]};}catch(_0x129cd4){throw new Error('Failed\x20to\x20go\x20back\x20in\x20tab\x20'+_0xb37cca+':\x20'+_0x129cd4['message']);}}async[a0_0x565bdb(0x228)](_0x226d83,_0x48f98c){const _0x3fff00=a0_0x565bdb;this['logger']['info']('Taking\x20screenshot\x20of\x20tab\x20'+_0x226d83);if(!this['tabs'][_0x3fff00(0x1df)](_0x226d83))throw new Error('Tab\x20'+_0x226d83+'\x20not\x20found');try{const _0x158d3c=this['tabs'][_0x3fff00(0x20d)](_0x226d83);return await _0x158d3c[_0x3fff00(0x1fa)]({'path':_0x48f98c,'fullPage':!![]}),{'action':_0x3fff00(0x1ce),'tabId':_0x226d83,'outputPath':_0x48f98c,'success':!![]};}catch(_0x19cba5){throw new Error(_0x3fff00(0x221)+_0x226d83+':\x20'+_0x19cba5[_0x3fff00(0x18f)]);}}async[a0_0x565bdb(0x1ec)](){const _0x8d96c1=a0_0x565bdb;this[_0x8d96c1(0x1d4)][_0x8d96c1(0x1e0)]('Shutting\x20down\x20browser\x20tool'),this['browser']&&(await this[_0x8d96c1(0x219)][_0x8d96c1(0x209)](),this['browser']=null,this[_0x8d96c1(0x1de)]=![],this[_0x8d96c1(0x1d8)]['clear']());}async[a0_0x565bdb(0x188)](_0x2775d0,_0x352b36=!![],_0x4468c1=null){const _0xa0dcab=a0_0x565bdb;this['logger']['info']('Capturing\x20and\x20describing\x20'+(_0x352b36?_0xa0dcab(0x1d9):_0xa0dcab(0x196))+_0xa0dcab(0x182)+_0x2775d0);if(!this['tabs']['has'](_0x2775d0))throw new Error('Tab\x20'+_0x2775d0+'\x20not\x20found');if(!this['llmService'])throw new Error('LLM\x20service\x20not\x20available\x20for\x20image\x20description.\x20Vision\x20capabilities\x20require\x20LLM\x20service\x20integration.');try{const _0x5f1daf=this['tabs']['get'](_0x2775d0),_0x520c12=await _0x5f1daf[_0xa0dcab(0x1fa)]({'fullPage':_0x352b36,'encoding':'base64'}),_0x20f9f9=await _0x5f1daf['title'](),_0x575a72=_0x5f1daf[_0xa0dcab(0x1cc)]();let _0x398b57=null,_0x97e075=null;if(_0x4468c1)try{await _0x5f1daf[_0xa0dcab(0x214)](_0x4468c1,{'visible':!![],'timeout':0x1388}),_0x398b57=await _0x5f1daf[_0xa0dcab(0x199)](_0x1d605d=>{const _0x40d3a5=_0xa0dcab,_0x278b01=document[_0x40d3a5(0x1f9)](_0x1d605d);if(!_0x278b01)return null;return{'tagName':_0x278b01[_0x40d3a5(0x1c8)],'text':_0x278b01['innerText']?_0x278b01[_0x40d3a5(0x1a4)]['substring'](0x0,0x1f4):'','attributes':Array['from'](_0x278b01['attributes'])[_0x40d3a5(0x195)]((_0x167cb0,_0x3b7060)=>{const _0x2ef12e=_0x40d3a5;return _0x167cb0[_0x3b7060[_0x2ef12e(0x203)]]=_0x3b7060[_0x2ef12e(0x18b)],_0x167cb0;},{}),'boundingBox':_0x278b01[_0x40d3a5(0x21d)](),'visible':_0x278b01['offsetParent']!==null};},_0x4468c1);const _0x593226=await _0x5f1daf['$'](_0x4468c1);_0x593226&&(_0x97e075=await _0x593226[_0xa0dcab(0x1fa)]({'encoding':_0xa0dcab(0x232)}));}catch(_0x2b5420){this[_0xa0dcab(0x1d4)]['warn'](_0xa0dcab(0x218)+_0x4468c1+':\x20'+_0x2b5420[_0xa0dcab(0x18f)]);}const _0x409553=this['createVisionPrompt']({'title':_0x20f9f9,'url':_0x575a72,'fullPage':_0x352b36,'focusArea':_0x4468c1},_0x398b57),_0xdca8e6=await this[_0xa0dcab(0x20a)]['getImageDescription'](_0x520c12,_0x409553,{'title':_0x20f9f9,'url':_0x575a72,'fullPage':_0x352b36,'focusArea':_0x4468c1,'focusedElementMetadata':_0x398b57,'focusedElementScreenshot':_0x97e075,'maxTokens':0x1f40});return{'action':_0xa0dcab(0x1b4),'tabId':_0x2775d0,'url':_0x575a72,'title':_0x20f9f9,'fullPage':_0x352b36,'focusArea':_0x4468c1,'description':_0xdca8e6,'success':!![]};}catch(_0x3fbcaf){throw new Error(_0xa0dcab(0x1bb)+_0x2775d0+':\x20'+_0x3fbcaf[_0xa0dcab(0x18f)]);}}[a0_0x565bdb(0x1fe)](_0x146384,_0x13d3b9){const _0x494dfe=a0_0x565bdb;let _0x2b46c6='Please\x20analyze\x20this\x20screenshot\x20of\x20a\x20webpage\x20and\x20provide\x20a\x20comprehensive\x20description.\x0a\x0a**Page\x20Information:**\x0a-\x20Title:\x20'+_0x146384[_0x494dfe(0x22a)]+'\x0a-\x20URL:\x20'+_0x146384[_0x494dfe(0x1cc)]+_0x494dfe(0x1cf)+(_0x146384[_0x494dfe(0x1d7)]?'Full\x20page':'Viewport\x20only')+'\x0a\x0a**Analysis\x20Required:**\x0a1.\x20**Overall\x20Layout**:\x20Describe\x20the\x20general\x20layout\x20and\x20design\x20of\x20the\x20page\x0a2.\x20**Navigation\x20Elements**:\x20Identify\x20any\x20navigation\x20menus,\x20breadcrumbs,\x20or\x20navigation\x20aids\x0a3.\x20**Main\x20Content\x20Areas**:\x20Describe\x20the\x20primary\x20content\x20sections\x20and\x20their\x20purpose\x0a4.\x20**Interactive\x20Elements**:\x20List\x20all\x20buttons,\x20links,\x20form\x20fields,\x20and\x20other\x20interactive\x20components\x0a5.\x20**Visual\x20Hierarchy**:\x20Describe\x20how\x20information\x20is\x20organized\x20and\x20prioritized\x0a6.\x20**Accessibility\x20Features**:\x20Note\x20any\x20accessibility\x20considerations\x0a\x0a**For\x20Each\x20Interactive\x20Element,\x20Please\x20Provide:**\x0a-\x20Element\x20type\x20(button,\x20link,\x20input\x20field,\x20etc.)\x0a-\x20Visible\x20text\x20or\x20label\x0a-\x20Approximate\x20location\x20on\x20the\x20page\x0a-\x20Likely\x20function\x20or\x20purpose\x0a\x0a';return _0x146384[_0x494dfe(0x1c6)]&&_0x13d3b9&&(_0x2b46c6+='\x0a**Focus\x20Area\x20Analysis:**\x0aThis\x20screenshot\x20includes\x20a\x20focused\x20analysis\x20of\x20the\x20element:\x20'+_0x146384['focusArea']+_0x494dfe(0x1d1)+_0x13d3b9['tagName']+_0x494dfe(0x239)+_0x13d3b9[_0x494dfe(0x181)]+'\x0a-\x20Is\x20Visible:\x20'+_0x13d3b9[_0x494dfe(0x1a1)]+_0x494dfe(0x1d5)),_0x2b46c6+='\x0a**Output\x20Format:**\x0aPlease\x20structure\x20your\x20response\x20to\x20be\x20actionable\x20for\x20web\x20automation.\x20Focus\x20on\x20elements\x20that\x20can\x20be\x20interacted\x20with\x20and\x20provide\x20specific\x20details\x20that\x20would\x20help\x20with\x20programmatic\x20interaction.\x0a\x0aBe\x20concise\x20but\x20thorough,\x20covering\x20all\x20visible\x20UI\x20elements\x20that\x20would\x20be\x20relevant\x20for\x20web\x20scraping,\x20testing,\x20or\x20automation\x20tasks.',_0x2b46c6;}async[a0_0x565bdb(0x208)](_0x3b6388,_0x4660a0){const _0x1efba4=a0_0x565bdb;this['logger'][_0x1efba4(0x1e0)](_0x1efba4(0x1cd));const _0x5921f1=this['config']['services']?.['llmService'];if(!_0x5921f1)throw new Error('LLM\x20service\x20not\x20configured\x20for\x20image\x20description');const _0x1af709='\x0aPlease\x20describe\x20what\x20you\x20see\x20in\x20this\x20screenshot\x20of\x20a\x20webpage.\x0a\x0aURL:\x20'+_0x4660a0[_0x1efba4(0x1cc)]+'\x0aTitle:\x20'+_0x4660a0['title']+'\x0a'+(_0x4660a0['focusArea']?_0x1efba4(0x21b)+_0x4660a0['focusArea']:'')+_0x1efba4(0x190)+(_0x4660a0['focusArea']?_0x1efba4(0x1db):'')+_0x1efba4(0x1b3),_0x4f51aa=await _0x5921f1['getImageDescription'](_0x3b6388,_0x1af709);return{'general':_0x4f51aa[_0x1efba4(0x1a6)],'elements':_0x4f51aa['detectedElements'],'suggestions':_0x4f51aa[_0x1efba4(0x1b0)]};}async[a0_0x565bdb(0x1aa)](_0x1af573,_0xf3a4de=a0_0x565bdb(0x1ba)){const _0x59e44c=a0_0x565bdb;this['logger']['info']('Reading\x20console\x20logs\x20from\x20tab:\x20'+_0x1af573+_0x59e44c(0x1ed)+_0xf3a4de);if(!this['tabs'][_0x59e44c(0x1df)](_0x1af573))throw new Error('Tab\x20'+_0x1af573+'\x20not\x20found');try{const _0x5cec7a=this[_0x59e44c(0x1d8)][_0x59e44c(0x20d)](_0x1af573);this['updateLastVisited'](_0x1af573);const _0x3ef8d9=[];!_0x5cec7a['_consoleListenerActive']&&(_0x5cec7a['_consoleLogs']={'error':[],'warning':[],'info':[],'log':[]},_0x5cec7a['on']('console',_0x156954=>{const _0x401deb=_0x59e44c,_0x352175=_0x156954['type'](),_0x402168=_0x156954[_0x401deb(0x181)](),_0x3916be=_0x156954[_0x401deb(0x192)]();_0x5cec7a[_0x401deb(0x245)][_0x352175]?_0x5cec7a['_consoleLogs'][_0x352175][_0x401deb(0x211)]({'text':_0x402168,'location':_0x3916be,'timestamp':new Date()['toISOString']()}):_0x5cec7a['_consoleLogs']['log'][_0x401deb(0x211)]({'text':_0x402168,'location':_0x3916be,'timestamp':new Date()[_0x401deb(0x1e1)]()});}),_0x5cec7a['_consoleListenerActive']=!![]);if(_0xf3a4de===_0x59e44c(0x1ba))Object[_0x59e44c(0x222)](_0x5cec7a['_consoleLogs'])[_0x59e44c(0x1d3)](_0x1ecdd2=>{_0x5cec7a['_consoleLogs'][_0x1ecdd2]['forEach'](_0x514436=>{_0x3ef8d9['push']({'type':_0x1ecdd2,..._0x514436});});});else _0x5cec7a[_0x59e44c(0x245)][_0xf3a4de]&&_0x5cec7a[_0x59e44c(0x245)][_0xf3a4de][_0x59e44c(0x1d3)](_0x45e3ab=>{const _0x13ea95=_0x59e44c;_0x3ef8d9[_0x13ea95(0x211)]({'type':_0xf3a4de,..._0x45e3ab});});return _0x3ef8d9[_0x59e44c(0x1f3)]((_0x2b1045,_0x196f44)=>new Date(_0x2b1045[_0x59e44c(0x1bf)])-new Date(_0x196f44['timestamp'])),{'action':_0x59e44c(0x1ef),'tabId':_0x1af573,'logType':_0xf3a4de,'logs':_0x3ef8d9,'success':!![]};}catch(_0x29e818){throw new Error('Failed\x20to\x20read\x20console\x20logs\x20from\x20tab\x20'+_0x1af573+':\x20'+_0x29e818[_0x59e44c(0x18f)]);}}async['captureJSErrors'](_0x37c09e){const _0x33767c=a0_0x565bdb;this[_0x33767c(0x1d4)]['info'](_0x33767c(0x238)+_0x37c09e);if(!this[_0x33767c(0x1d8)]['has'](_0x37c09e))throw new Error('Tab\x20'+_0x37c09e+'\x20not\x20found');try{const _0x484879=this['tabs']['get'](_0x37c09e);this['updateLastVisited'](_0x37c09e);const _0x12c374=await _0x484879['evaluate'](()=>{if(window['_jsErrors'])return window['_jsErrors'];return[];});return!_0x484879[_0x33767c(0x193)]&&(await _0x484879['evaluate'](()=>{const _0x48229f=_0x33767c;window[_0x48229f(0x1ff)]=window[_0x48229f(0x1ff)]||[],window['addEventListener']('error',function(_0x209932){const _0x242c46=_0x48229f;window[_0x242c46(0x1ff)]['push']({'message':_0x209932['message'],'filename':_0x209932[_0x242c46(0x225)],'lineno':_0x209932['lineno'],'colno':_0x209932[_0x242c46(0x1d2)],'error':_0x209932['error']?_0x209932[_0x242c46(0x1e7)]['stack']:null,'timestamp':new Date()[_0x242c46(0x1e1)]()});}),window['addEventListener']('unhandledrejection',function(_0x2c0157){const _0x5782b2=_0x48229f;window[_0x5782b2(0x1ff)]['push']({'type':_0x5782b2(0x202),'message':_0x2c0157['reason']?_0x2c0157[_0x5782b2(0x1f4)]['message']||String(_0x2c0157['reason']):'Unknown\x20Promise\x20Rejection','stack':_0x2c0157['reason']&&_0x2c0157['reason'][_0x5782b2(0x1ac)],'timestamp':new Date()['toISOString']()});});}),_0x484879['_errorCapturingActive']=!![]),{'action':'capture-js-errors','tabId':_0x37c09e,'errors':_0x12c374,'success':!![]};}catch(_0x14cafe){throw new Error(_0x33767c(0x1fb)+_0x37c09e+':\x20'+_0x14cafe['message']);}}async['monitorNetwork'](_0x35c7f3,_0x578036=![]){const _0x1bb466=a0_0x565bdb;this[_0x1bb466(0x1d4)][_0x1bb466(0x1e0)](_0x1bb466(0x1dc)+_0x35c7f3);if(!this['tabs']['has'](_0x35c7f3))throw new Error('Tab\x20'+_0x35c7f3+'\x20not\x20found');try{const _0x81a397=this[_0x1bb466(0x1d8)]['get'](_0x35c7f3);return this[_0x1bb466(0x242)](_0x35c7f3),(!_0x81a397['_networkRequests']||_0x578036)&&(_0x81a397['_networkRequests']=[],await _0x81a397[_0x1bb466(0x1ca)](!![]),_0x81a397['on'](_0x1bb466(0x23a),_0x5463cf=>{const _0x6cd44f=_0x1bb466;_0x81a397['_networkRequests'][_0x6cd44f(0x211)]({'url':_0x5463cf['url'](),'method':_0x5463cf['method'](),'resourceType':_0x5463cf['resourceType'](),'timestamp':new Date()[_0x6cd44f(0x1e1)](),'headers':_0x5463cf[_0x6cd44f(0x23f)](),'status':_0x6cd44f(0x197)}),_0x5463cf['continue']();}),_0x81a397['on']('response',_0x5bee27=>{const _0x5c9f95=_0x1bb466,_0x139434=_0x5bee27['request'](),_0x3d42e3=_0x81a397['_networkRequests']['findIndex'](_0x1baf9b=>_0x1baf9b['url']===_0x139434[_0x5c9f95(0x1cc)]()&&_0x1baf9b[_0x5c9f95(0x1c2)]==='pending');_0x3d42e3!==-0x1&&(_0x81a397[_0x5c9f95(0x241)][_0x3d42e3]['status']=_0x5bee27['ok']()?'success':_0x5c9f95(0x1e7),_0x81a397['_networkRequests'][_0x3d42e3][_0x5c9f95(0x18d)]=_0x5bee27['status'](),_0x81a397[_0x5c9f95(0x241)][_0x3d42e3][_0x5c9f95(0x19e)]=_0x5bee27['statusText'](),_0x81a397[_0x5c9f95(0x241)][_0x3d42e3]['responseHeaders']=_0x5bee27[_0x5c9f95(0x23f)]());}),_0x81a397['on']('requestfailed',_0x537df0=>{const _0x211b02=_0x1bb466,_0x4e55fb=_0x81a397[_0x211b02(0x241)]['findIndex'](_0x2c6bfb=>_0x2c6bfb[_0x211b02(0x1cc)]===_0x537df0['url']()&&_0x2c6bfb[_0x211b02(0x1c2)]===_0x211b02(0x197));_0x4e55fb!==-0x1&&(_0x81a397['_networkRequests'][_0x4e55fb][_0x211b02(0x1c2)]='failed',_0x81a397['_networkRequests'][_0x4e55fb]['failureText']=_0x537df0['failure']()[_0x211b02(0x1a0)]);})),{'action':'monitor-network','tabId':_0x35c7f3,'requests':_0x81a397['_networkRequests'],'success':!![]};}catch(_0x4c924d){throw new Error(_0x1bb466(0x22c)+_0x35c7f3+':\x20'+_0x4c924d['message']);}}}