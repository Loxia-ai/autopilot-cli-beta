function a0_0x4aaa(_0x50b17d,_0x58df73){const _0x4a2597=a0_0x4a25();return a0_0x4aaa=function(_0x4aaaef,_0x41ff2b){_0x4aaaef=_0x4aaaef-0x121;let _0x15ffd6=_0x4a2597[_0x4aaaef];if(a0_0x4aaa['qdHtMm']===undefined){var _0x271f44=function(_0x334ab2){const _0x51d260='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x184b83='',_0x39a8eb='';for(let _0x5abe1c=0x0,_0x587b8c,_0x59a09b,_0x556cab=0x0;_0x59a09b=_0x334ab2['charAt'](_0x556cab++);~_0x59a09b&&(_0x587b8c=_0x5abe1c%0x4?_0x587b8c*0x40+_0x59a09b:_0x59a09b,_0x5abe1c++%0x4)?_0x184b83+=String['fromCharCode'](0xff&_0x587b8c>>(-0x2*_0x5abe1c&0x6)):0x0){_0x59a09b=_0x51d260['indexOf'](_0x59a09b);}for(let _0x493db3=0x0,_0x14b64c=_0x184b83['length'];_0x493db3<_0x14b64c;_0x493db3++){_0x39a8eb+='%'+('00'+_0x184b83['charCodeAt'](_0x493db3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x39a8eb);};a0_0x4aaa['zIEaPQ']=_0x271f44,_0x50b17d=arguments,a0_0x4aaa['qdHtMm']=!![];}const _0x566ed0=_0x4a2597[0x0],_0x2fc9e0=_0x4aaaef+_0x566ed0,_0xd999a6=_0x50b17d[_0x2fc9e0];return!_0xd999a6?(_0x15ffd6=a0_0x4aaa['zIEaPQ'](_0x15ffd6),_0x50b17d[_0x2fc9e0]=_0x15ffd6):_0x15ffd6=_0xd999a6,_0x15ffd6;},a0_0x4aaa(_0x50b17d,_0x58df73);}const a0_0x3a4bab=a0_0x4aaa;(function(_0x1a4706,_0xe8da1c){const _0x244110=a0_0x4aaa,_0x4b24f5=_0x1a4706();while(!![]){try{const _0x4caf84=-parseInt(_0x244110(0x163))/0x1+-parseInt(_0x244110(0x160))/0x2+-parseInt(_0x244110(0x13e))/0x3+-parseInt(_0x244110(0x158))/0x4+-parseInt(_0x244110(0x12d))/0x5*(-parseInt(_0x244110(0x152))/0x6)+parseInt(_0x244110(0x12b))/0x7+-parseInt(_0x244110(0x14e))/0x8*(-parseInt(_0x244110(0x121))/0x9);if(_0x4caf84===_0xe8da1c)break;else _0x4b24f5['push'](_0x4b24f5['shift']());}catch(_0x514b9c){_0x4b24f5['push'](_0x4b24f5['shift']());}}}(a0_0x4a25,0x69b79));import{promises as a0_0x334ab2}from'fs';import a0_0x51d260 from'path';import{TagParser}from'../utilities/tagParser.js';function a0_0x4a25(){const _0x1bd0a9=['BwfW','ChvZAa','odHIqKz5rM4','tM8GC2vLAYbJB21Tyw5KCYbZCgvJAwzPzwq','zMLUzezPBgvZuMvJDxjZAxzLBhK','BwvZC2fNzq','mZmWndqXnK1mCNf4Ea','DxrMltG','tM8GzMLSzxmGzM91BMqGBwf0y2HPBMCGDgHLihnWzwnPzMLLzcbWyxr0zxjUCW','BgfZDeLUzgv4t2y','AM9PBG','yMfZzw5HBwu','mtC3ndGZnMftqMLTBa','BMfTzq','Aw5MBW','rxjYB3iGCMvHzgLUzYbKAxjLy3rVCNKG','AxneAxjLy3rVCNK','CMvZB2X2zuzPBgvqyxrOCW','Aw5JBhvKzxm','rxjYB3jZig9Jy3vYCMvKihDOzw4GC2vHCMnOAw5NihrOzsbMB2XSB3DPBMCGzMLSzxm6cG','ndq0mti2rfLkwu5I','lYOUDhn4','zw5KC1DPDgG','nJKYode4vLPOA0TH','mtu5mdy0mLfYDNLUzW','rxjYB3iGzxHLy3v0Aw5NihnLzwSGy29TBwfUzca','C3bSAxq','y29Kzq','icHUB3qGysbMAwXLkq','AxnbyNnVBhv0zq','BgLUzu51BwjLCG','zxjYB3i','D2fYBG','zMLSDgvY','mZqWovPIwgTYuW','C2vHCMnOrMLSzxm','nuHws3fwtq','tM8GC2vHCMnOihrLCM1ZihnWzwnPzMLLza','rxjYB3iGCgfYC2LUzYbZzwvRihbHCMfTzxrLCNm6','Aw4TzMLSzxm','A2v5CW','C2vHCMnOsw5gAwXL','AxngAwXL','DgvYBq','lYOUANm','BgvUz3rO','BgLUzunVBNrLBNq','zM91BMq','Bwf0y2HLC1DPBgrJyxjK','CMvHzgrPCG','icHUBYbTyxrJAgLUzYbMAwXLCYK','BM90rM91BMq','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','mJeXmtiWmNbXzMXpDa','zgLYBMfTzq','lYOUDhm','y29TBwfUzhm','vgHLigzVBgXVD2LUzYbMAwXLCYb3zxjLig5VDcbMB3vUzdOk','ywn0Aw9U','rxHLy3v0Aw5NihnLzwSGy29TBwfUzcb3AxrOihbHCMfTzxrLCNm6','CMvWBgfJzq','Bg9Nz2vY','icHUB3qGysbKAxjLy3rVCNKP','tM8GBwf0y2HLCYbMB3vUzcbMB3iGDgHLihnWzwnPzMLLzcbZzwfYy2GGDgvYBxmGAw4GDgHLigf2ywLSywjSzsbMAwXLCY4k','rxjYB3iGCMvZB2X2Aw5NihbHDgGG','lYOUANnVBG','zhvTBxK'];a0_0x4a25=function(){return _0x1bd0a9;};return a0_0x4a25();}import{BaseTool}from'./baseTool.js';export class SeekTool extends BaseTool{constructor(_0x184b83,_0x39a8eb){super(_0x184b83,_0x39a8eb);}['getDescription'](){return'\x0aSeek\x20Tool:\x20Allows\x20you\x20to\x20search\x20for\x20specific\x20content\x20within\x20project\x20files.\x20highly\x20recommended\x20for\x20verifying\x20imports\x20(includes\x20etc)\x20between\x20files.\x0a\x0aUsage:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0afile/path/one.js\x0afile/path/two.js\x0apath/to/directory/*.js\x0a[/in-files]\x0a[search-terms]\x0a[t]search\x20phrase\x20one[/t]\x0a[t]search\x20phrase\x20two[/t]\x0a[t]search\x20phrase\x20three[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0aExamples:\x0a1.\x20Search\x20for\x20specific\x20functions\x20in\x20JavaScript\x20files:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/components/*.js\x0asrc/utils/helpers.js\x0a[/in-files]\x0a[search-terms]\x0a[t]function\x20handleSubmit[/t]\x0a[t]useState([/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0a2.\x20Find\x20usages\x20of\x20a\x20specific\x20variable:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/**/*.js\x0a[/in-files]\x0a[search-terms]\x0a[t]apiClient[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0a3.\x20Look\x20for\x20specific\x20imports:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/components/Header.js\x0asrc/components/Footer.js\x0a[/in-files]\x0a[search-terms]\x0a[t]import\x20React[/t]\x0a[t]import\x20{\x20useState\x20}[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0aThe\x20tool\x20will\x20search\x20every\x20file\x20mentioned\x20in\x20the\x20[in-files]\x20tag.\x0aIn\x20each\x20file,\x20it\x20will\x20search\x20for\x20lines\x20containing\x20at\x20least\x20one\x20of\x20the\x20phrases\x20in\x20[search-terms].\x0aGlob\x20patterns\x20(like\x20*.js)\x20are\x20supported\x20in\x20file\x20paths.\x0aThe\x20tool\x20will\x20clearly\x20indicate\x20which\x20files\x20could\x20not\x20be\x20found\x20or\x20had\x20errors\x20during\x20the\x20search.\x0a\x20\x20\x20\x20';}['parseParameters'](_0x5abe1c){const _0x124228=a0_0x4aaa;this['logger'][_0x124228(0x15a)]('Parsing\x20seek\x20parameters\x20with\x20TagParser');const _0x587b8c={'commands':[]};try{const _0x59a09b=TagParser['query'](_0x5abe1c,_0x124228(0x130));let _0x556cab=[];_0x59a09b[_0x124228(0x136)]>0x0&&(_0x556cab=_0x59a09b[0x0]['content']['split']('\x0a')[_0x124228(0x14c)](_0x1a01ab=>_0x1a01ab['trim']())[_0x124228(0x12a)](_0x3bc8fc=>_0x3bc8fc['length']>0x0));const _0x493db3=TagParser['query'](_0x5abe1c,'search-terms');let _0x14b64c=[];if(_0x493db3[_0x124228(0x136)]>0x0){const _0x2702ac=TagParser['query'](_0x493db3[0x0]['content'],'t');_0x14b64c=_0x2702ac[_0x124228(0x14c)](_0x4d6ca5=>_0x4d6ca5['content']['trim']())[_0x124228(0x12a)](_0xb9fa03=>_0xb9fa03[_0x124228(0x136)]>0x0);}return _0x587b8c['commands']['push']({'action':'search','filePaths':_0x556cab,'searchTerms':_0x14b64c}),_0x587b8c;}catch(_0x1635ae){return this['logger'][_0x124228(0x128)](_0x124228(0x12f),_0x1635ae),{'commands':[]};}}async[a0_0x3a4bab(0x13d)](_0x32ad1b,_0x20558a){const _0x256620=a0_0x3a4bab;this['logger'][_0x256620(0x15a)](_0x256620(0x144),_0x32ad1b);const _0x50e856=[];if(!_0x32ad1b[_0x256620(0x141)]||_0x32ad1b['commands'][_0x256620(0x136)]===0x0)throw new Error(_0x256620(0x14f));for(const _0x3bcb8f of _0x32ad1b[_0x256620(0x141)]){try{switch(_0x3bcb8f['action']){case'search':_0x50e856[_0x256620(0x14d)](await this[_0x256620(0x12c)](_0x3bcb8f['filePaths'],_0x3bcb8f['searchTerms'],_0x20558a));break;default:throw new Error('Unknown\x20seek\x20command:\x20'+_0x3bcb8f[_0x256620(0x143)]);}}catch(_0x53d6ec){this[_0x256620(0x146)]['error'](_0x256620(0x122)+_0x3bcb8f[_0x256620(0x143)]+':',_0x53d6ec),_0x50e856[_0x256620(0x14d)]({'action':_0x3bcb8f['action'],'success':![],'error':_0x53d6ec['message']});}}return{'results':_0x50e856};}async[a0_0x3a4bab(0x12c)](_0x424fcc,_0x164eb4,_0x5233a5){const _0x28fda2=a0_0x3a4bab;this['logger']['info']('Searching\x20for\x20'+_0x164eb4['length']+'\x20terms\x20in\x20'+_0x424fcc[_0x28fda2(0x136)]+'\x20files');if(_0x424fcc[_0x28fda2(0x136)]===0x0)throw new Error('No\x20files\x20specified\x20for\x20search');if(_0x164eb4[_0x28fda2(0x136)]===0x0)throw new Error(_0x28fda2(0x12e));const _0x3101be=await this[_0x28fda2(0x15d)](_0x424fcc,_0x5233a5),_0x2295d3=_0x3101be['found'],_0x164437=_0x3101be['notFound'];if(_0x2295d3['length']===0x0)return{'action':'search','success':!![],'message':_0x28fda2(0x154),'notFoundFiles':_0x164437,'matches':[]};const _0x5d4c1d=[],_0x32b4ef=[];for(const _0x42ffc1 of _0x2295d3){try{const _0x2447a4=await this['searchInFile'](_0x42ffc1,_0x164eb4);_0x5d4c1d[_0x28fda2(0x14d)](..._0x2447a4);}catch(_0x331d06){this[_0x28fda2(0x146)][_0x28fda2(0x129)]('Error\x20searching\x20in\x20file\x20'+_0x42ffc1+':\x20'+_0x331d06[_0x28fda2(0x151)]),_0x32b4ef[_0x28fda2(0x14d)]({'filePath':_0x42ffc1,'error':_0x331d06['message']});}}const _0x5da149={};for(const _0x233edd of _0x5d4c1d){!_0x5da149[_0x233edd[_0x28fda2(0x134)]]&&(_0x5da149[_0x233edd[_0x28fda2(0x134)]]=[]),_0x5da149[_0x233edd[_0x28fda2(0x134)]][_0x28fda2(0x14d)]({'filePath':_0x233edd['filePath'],'lineNumber':_0x233edd[_0x28fda2(0x127)],'lineContent':_0x233edd[_0x28fda2(0x137)]});}let _0xee4ffb='';if(_0x164437['length']>0x0){_0xee4ffb+=_0x28fda2(0x142);for(const _0xa29e51 of _0x164437){_0xee4ffb+='-\x20'+_0xa29e51+'\x0a';}_0xee4ffb+='\x0a';}if(_0x32b4ef[_0x28fda2(0x136)]>0x0){_0xee4ffb+=_0x28fda2(0x15f);for(const _0x57b28f of _0x32b4ef){_0xee4ffb+='-\x20'+_0x57b28f['filePath']+':\x20'+_0x57b28f[_0x28fda2(0x128)]+'\x0a';}_0xee4ffb+='\x0a';}if(Object[_0x28fda2(0x131)](_0x5da149)[_0x28fda2(0x136)]===0x0)_0xee4ffb+=_0x28fda2(0x148);else for(const [_0x6c704b,_0x3d1a47]of Object['entries'](_0x5da149)){_0xee4ffb+='Search\x20string\x20\x22'+_0x6c704b+'\x22\x20found\x20at:\x0a';for(const _0x5d322f of _0x3d1a47){_0xee4ffb+='-\x20'+_0x5d322f['filePath']+',\x20line\x20#'+_0x5d322f[_0x28fda2(0x127)]+',\x20line\x20content:\x20\x22'+_0x5d322f['lineContent']['trim']()+'\x22\x0a';}_0xee4ffb+='\x0a';}return{'action':'search','success':!![],'filesSearched':_0x2295d3['length'],'filesNotFound':_0x164437['length'],'filesWithErrors':_0x32b4ef['length'],'matchCount':_0x5d4c1d[_0x28fda2(0x136)],'formattedResults':_0xee4ffb['trim'](),'matchesByTerm':_0x5da149,'notFoundFiles':_0x164437,'errorFiles':_0x32b4ef};}async[a0_0x3a4bab(0x15d)](_0xd25037,_0x301adc){const _0x49126a=a0_0x3a4bab,_0x785efa={'found':[],'notFound':[]};for(const _0x8df947 of _0xd25037){const _0x54b8ac=a0_0x51d260[_0x49126a(0x126)](_0x8df947)?_0x8df947:a0_0x51d260[_0x49126a(0x156)](_0x301adc,_0x8df947);try{if(_0x8df947[_0x49126a(0x15e)]('*')){if(_0x8df947['endsWith'](_0x49126a(0x135))||_0x8df947['endsWith']('/*.jsx')||_0x8df947['endsWith'](_0x49126a(0x140))||_0x8df947[_0x49126a(0x162)](_0x49126a(0x161))||_0x8df947['endsWith']('/*.css')||_0x8df947[_0x49126a(0x162)]('/*.html')||_0x8df947[_0x49126a(0x162)](_0x49126a(0x14a))){const _0x2b7b4a=a0_0x51d260[_0x49126a(0x13f)](_0x54b8ac),_0x1eaca5=a0_0x51d260['extname'](a0_0x51d260[_0x49126a(0x157)](_0x8df947)[_0x49126a(0x145)]('*',_0x49126a(0x14b)));try{const _0x41346d=await a0_0x334ab2['stat'](_0x2b7b4a);if(_0x41346d[_0x49126a(0x15c)]()){const _0x3ba584=await a0_0x334ab2['readdir'](_0x2b7b4a);let _0x214d67=![];for(const _0x4d66c9 of _0x3ba584){_0x4d66c9[_0x49126a(0x162)](_0x1eaca5)&&(_0x785efa['found']['push'](a0_0x51d260[_0x49126a(0x156)](_0x2b7b4a,_0x4d66c9)),_0x214d67=!![]);}!_0x214d67&&_0x785efa[_0x49126a(0x13c)]['push'](_0x8df947+_0x49126a(0x13b));}else _0x785efa[_0x49126a(0x13c)]['push'](_0x8df947+'\x20(not\x20a\x20directory)');}catch(_0x4ed84a){_0x785efa['notFound'][_0x49126a(0x14d)](_0x8df947+'\x20('+_0x4ed84a[_0x49126a(0x124)]+')');}}else{if(_0x8df947[_0x49126a(0x15e)]('/**/*.')){const [_0x56dfe6,_0x2e30ca]=_0x8df947[_0x49126a(0x123)]('/**/*.'),_0x328529=a0_0x51d260['isAbsolute'](_0x56dfe6)?_0x56dfe6:a0_0x51d260[_0x49126a(0x156)](_0x301adc,_0x56dfe6);try{const _0x2ccddf=await a0_0x334ab2['stat'](_0x328529);if(_0x2ccddf[_0x49126a(0x15c)]()){const _0x164f66=[];await this['findFilesRecursively'](_0x328529,'.'+_0x2e30ca,_0x164f66),_0x164f66['length']>0x0?_0x785efa['found'][_0x49126a(0x14d)](..._0x164f66):_0x785efa[_0x49126a(0x13c)]['push'](_0x8df947+'\x20(no\x20matching\x20files)');}else _0x785efa[_0x49126a(0x13c)]['push'](_0x8df947+_0x49126a(0x147));}catch(_0x2eea63){_0x785efa['notFound']['push'](_0x8df947+'\x20('+_0x2eea63['code']+')');}}else{const _0x42be17=a0_0x51d260['dirname'](_0x54b8ac),_0x40a217=a0_0x51d260['basename'](_0x8df947),_0x23b3ac=_0x40a217[_0x49126a(0x15e)]('.')?_0x40a217['substring'](_0x40a217[_0x49126a(0x155)]('.')):'';try{const _0x18bc5b=await a0_0x334ab2['stat'](_0x42be17);if(_0x18bc5b['isDirectory']()){const _0x451481=await a0_0x334ab2[_0x49126a(0x13a)](_0x42be17);let _0x1278b7=![];for(const _0x316f5e of _0x451481){this[_0x49126a(0x139)](_0x316f5e,_0x40a217)&&(_0x785efa['found'][_0x49126a(0x14d)](a0_0x51d260[_0x49126a(0x156)](_0x42be17,_0x316f5e)),_0x1278b7=!![]);}!_0x1278b7&&_0x785efa[_0x49126a(0x13c)]['push'](_0x8df947+'\x20(no\x20matching\x20files)');}else _0x785efa['notFound'][_0x49126a(0x14d)](_0x8df947+'\x20(not\x20a\x20directory)');}catch(_0x4c08c2){_0x785efa['notFound']['push'](_0x8df947+'\x20('+_0x4c08c2['code']+')');}}}}else try{const _0x5cae2c=await a0_0x334ab2['stat'](_0x54b8ac);_0x5cae2c[_0x49126a(0x133)]()?_0x785efa[_0x49126a(0x138)][_0x49126a(0x14d)](_0x54b8ac):_0x785efa['notFound']['push'](_0x8df947+_0x49126a(0x125));}catch(_0xb4eec0){_0x785efa['notFound']['push'](_0x8df947+'\x20('+_0xb4eec0[_0x49126a(0x124)]+')');}}catch(_0x184732){this['logger'][_0x49126a(0x129)](_0x49126a(0x149)+_0x8df947+':\x20'+_0x184732['message']),_0x785efa[_0x49126a(0x13c)][_0x49126a(0x14d)](_0x8df947+'\x20('+_0x184732['message']+')');}}return _0x785efa;}async[a0_0x3a4bab(0x150)](_0x52df49,_0x161744,_0x375d43){const _0x30f5=a0_0x3a4bab;try{const _0x4fe0bb=await a0_0x334ab2['readdir'](_0x52df49,{'withFileTypes':!![]});for(const _0xf079a8 of _0x4fe0bb){const _0x254b2c=a0_0x51d260[_0x30f5(0x156)](_0x52df49,_0xf079a8[_0x30f5(0x159)]);try{if(_0xf079a8[_0x30f5(0x15c)]())await this[_0x30f5(0x150)](_0x254b2c,_0x161744,_0x375d43);else _0xf079a8[_0x30f5(0x133)]()&&_0xf079a8['name'][_0x30f5(0x162)](_0x161744)&&_0x375d43[_0x30f5(0x14d)](_0x254b2c);}catch(_0xbe2676){this[_0x30f5(0x146)][_0x30f5(0x129)]('Error\x20processing\x20'+_0x254b2c+':\x20'+_0xbe2676[_0x30f5(0x151)]);}}}catch(_0x3d2f58){this[_0x30f5(0x146)]['warn'](_0x30f5(0x15b)+_0x52df49+':\x20'+_0x3d2f58[_0x30f5(0x151)]);}}[a0_0x3a4bab(0x139)](_0x47daf9,_0x1665d6){const _0x187e5c=a0_0x3a4bab,_0x55daa8=new RegExp('^'+_0x1665d6[_0x187e5c(0x123)]('*')['map'](_0x55bca2=>this['escapeRegExp'](_0x55bca2))[_0x187e5c(0x156)]('.*')+'$');return _0x55daa8['test'](_0x47daf9);}['escapeRegExp'](_0x570a72){const _0x164dd6=a0_0x3a4bab;return _0x570a72[_0x164dd6(0x145)](/[.*+?^${}()|[\]\\]/g,'\x5c$&');}async[a0_0x3a4bab(0x132)](_0x4b575c,_0x2637cb){const _0xcc3dc8=a0_0x3a4bab,_0x46767d=await a0_0x334ab2['readFile'](_0x4b575c,_0xcc3dc8(0x153)),_0x37cac4=_0x46767d[_0xcc3dc8(0x123)]('\x0a'),_0x58fd07=[];for(let _0x2a7770=0x0;_0x2a7770<_0x37cac4['length'];_0x2a7770++){const _0xbce5c8=_0x37cac4[_0x2a7770];for(const _0x327079 of _0x2637cb){if(_0xbce5c8[_0xcc3dc8(0x15e)](_0x327079)){_0x58fd07[_0xcc3dc8(0x14d)]({'term':_0x327079,'filePath':_0x4b575c,'lineNumber':_0x2a7770+0x1,'lineContent':_0xbce5c8});continue;}}}return _0x58fd07;}}