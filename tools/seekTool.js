const a0_0x40c3ba=a0_0x183b;function a0_0x3f29(){const _0x107620=['CgfYC2vqyxjHBwv0zxjZ','mJm3ndqZn1fWEfn3sa','zMLSzvbHDgHZ','mZbrAMTLy3G','Bg9Nz2vY','C2vHCMnOrMLSzxm','ugfYC2LUzYbZzwvRihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','z2v0rgvZy3jPChrPB24','tM8GzMLSzxmGzM91BMqGBwf0y2HPBMCGDgHLihnWzwnPzMLLzcbWyxr0zxjUCW','icHUB3qGysbMAwXLkq','y29TBwfUzhm','u2vHCMnOihn0CMLUzYaI','BgvUz3rO','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','BM90rM91BMq','mZb1vNvMAuq','AM9PBG','CMvZB2X2zuzPBgvqyxrOCW','mteWuK1sA3HX','mKDQz1DbCW','rxjYB3iGC2vHCMnOAw5NigLUigzPBguG','rxjYB3jZig9Jy3vYCMvKihDOzw4GC2vHCMnOAw5NihrOzsbMB2XSB3DPBMCGzMLSzxm6cG','mZu4mdHVwhP0tLe','zw50CMLLCW','zMLUzezPBgvZuMvJDxjZAxzLBhK','AxneAxjLy3rVCNK','Aw5MBW','lYOUANm','C2vHCMnO','C2vHCMnOsw5gAwXL','tM8GC2vHCMnOihrLCM1ZihnWzwnPzMLLza','xcqM','lYOUAhrTBa','mJuYmJC4yMjrEvrs','D2fYBG','ChvZAa','DhjPBq','BwfW','lYOUDhn4','icHUBYbTyxrJAgLUzYbMAwXLCYK','zxjYB3i','mtm2otyZogfjwMHmzG','Aw5JBhvKzxm','lYOUy3nZ','zxnJyxbLuMvNrxHW','DgvYBq','u2vHCMnOAw5NigzVCIa','zw5KC1DPDgG','CMvWBgfJzq','nejRuLbrwa','zMLSDgvY','y29Kzq','vgHLigzVBgXVD2LUzYbMAwXLCYb3zxjLig5VDcbMB3vUzdOk','BwvZC2fNzq','mZy2otK2BeXWyw96','DgvZDa','zhvTBxK','Bwf0y2HLC1DPBgrJyxjK','zgLYBMfTzq','ywn0Aw9U','C3bSAxq','mte3mZm0u2vOrxDV','C3rHDa','igzPBgvZ','BgLUzunVBNrLBNq','y29UDgvUDa','CxvLCNK','mJa4rNHyvvzl','mta3nJyYohvfAgDtzW','zMLSzvbHDgG'];a0_0x3f29=function(){return _0x107620;};return a0_0x3f29();}(function(_0x2cb02c,_0x42b980){const _0x5cb5b0=a0_0x183b,_0x312488=_0x2cb02c();while(!![]){try{const _0x1aabbf=parseInt(_0x5cb5b0(0x134))/0x1*(parseInt(_0x5cb5b0(0x142))/0x2)+parseInt(_0x5cb5b0(0x165))/0x3*(parseInt(_0x5cb5b0(0x152))/0x4)+-parseInt(_0x5cb5b0(0x130))/0x5*(-parseInt(_0x5cb5b0(0x157))/0x6)+-parseInt(_0x5cb5b0(0x15e))/0x7*(parseInt(_0x5cb5b0(0x164))/0x8)+-parseInt(_0x5cb5b0(0x14a))/0x9*(parseInt(_0x5cb5b0(0x124))/0xa)+-parseInt(_0x5cb5b0(0x133))/0xb*(parseInt(_0x5cb5b0(0x137))/0xc)+parseInt(_0x5cb5b0(0x168))/0xd;if(_0x1aabbf===_0x42b980)break;else _0x312488['push'](_0x312488['shift']());}catch(_0x2c6272){_0x312488['push'](_0x312488['shift']());}}}(a0_0x3f29,0x3a409));import{promises as a0_0x30f4b7}from'fs';import a0_0x18e68b from'path';import{TagParser}from'../utilities/tagParser.js';function a0_0x183b(_0x2b68e2,_0x470b75){const _0x3f2965=a0_0x3f29();return a0_0x183b=function(_0x183b30,_0x516a51){_0x183b30=_0x183b30-0x124;let _0x18704e=_0x3f2965[_0x183b30];if(a0_0x183b['LfDeRz']===undefined){var _0x21cb78=function(_0x30f4b7){const _0x18e68b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x40c235='',_0x204ffa='';for(let _0x5065a9=0x0,_0x415467,_0x232703,_0x417ebd=0x0;_0x232703=_0x30f4b7['charAt'](_0x417ebd++);~_0x232703&&(_0x415467=_0x5065a9%0x4?_0x415467*0x40+_0x232703:_0x232703,_0x5065a9++%0x4)?_0x40c235+=String['fromCharCode'](0xff&_0x415467>>(-0x2*_0x5065a9&0x6)):0x0){_0x232703=_0x18e68b['indexOf'](_0x232703);}for(let _0x5f4f0e=0x0,_0x56c4eb=_0x40c235['length'];_0x5f4f0e<_0x56c4eb;_0x5f4f0e++){_0x204ffa+='%'+('00'+_0x40c235['charCodeAt'](_0x5f4f0e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x204ffa);};a0_0x183b['FBaSfn']=_0x21cb78,_0x2b68e2=arguments,a0_0x183b['LfDeRz']=!![];}const _0x3100ef=_0x3f2965[0x0],_0x373f9b=_0x183b30+_0x3100ef,_0x489853=_0x2b68e2[_0x373f9b];return!_0x489853?(_0x18704e=a0_0x183b['FBaSfn'](_0x18704e),_0x2b68e2[_0x373f9b]=_0x18704e):_0x18704e=_0x489853,_0x18704e;},a0_0x183b(_0x2b68e2,_0x470b75);}import{BaseTool}from'./baseTool.js';export class SeekTool extends BaseTool{constructor(_0x40c235,_0x204ffa){super(_0x40c235,_0x204ffa);}[a0_0x40c3ba(0x128)](){return'\x0aSeek\x20Tool:\x20Allows\x20you\x20to\x20search\x20for\x20specific\x20content\x20within\x20project\x20files.\x20highly\x20recommended\x20for\x20verifying\x20imports\x20(includes\x20etc)\x20between\x20files.\x0a\x0aUsage:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0afile/path/one.js\x0afile/path/two.js\x0apath/to/directory/*.js\x0a[/in-files]\x0a[search-terms]\x0a[t]search\x20phrase\x20one[/t]\x0a[t]search\x20phrase\x20two[/t]\x0a[t]search\x20phrase\x20three[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0aExamples:\x0a1.\x20Search\x20for\x20specific\x20functions\x20in\x20JavaScript\x20files:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/components/*.js\x0asrc/utils/helpers.js\x0a[/in-files]\x0a[search-terms]\x0a[t]function\x20handleSubmit[/t]\x0a[t]useState([/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0a2.\x20Find\x20usages\x20of\x20a\x20specific\x20variable:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/**/*.js\x0a[/in-files]\x0a[search-terms]\x0a[t]apiClient[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0a3.\x20Look\x20for\x20specific\x20imports:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/components/Header.js\x0asrc/components/Footer.js\x0a[/in-files]\x0a[search-terms]\x0a[t]import\x20React[/t]\x0a[t]import\x20{\x20useState\x20}[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0aThe\x20tool\x20will\x20search\x20every\x20file\x20mentioned\x20in\x20the\x20[in-files]\x20tag.\x0aIn\x20each\x20file,\x20it\x20will\x20search\x20for\x20lines\x20containing\x20at\x20least\x20one\x20of\x20the\x20phrases\x20in\x20[search-terms].\x0aGlob\x20patterns\x20(like\x20*.js)\x20are\x20supported\x20in\x20file\x20paths.\x0aThe\x20tool\x20will\x20clearly\x20indicate\x20which\x20files\x20could\x20not\x20be\x20found\x20or\x20had\x20errors\x20during\x20the\x20search.\x0a\x20\x20\x20\x20';}[a0_0x40c3ba(0x167)](_0x5065a9){const _0x4f387a=a0_0x40c3ba;this['logger']['info'](_0x4f387a(0x127));const _0x415467={'commands':[]};try{const _0x232703=TagParser[_0x4f387a(0x163)](_0x5065a9,'in-files');let _0x417ebd=[];_0x232703[_0x4f387a(0x12d)]>0x0&&(_0x417ebd=_0x232703[0x0]['content']['split']('\x0a')['map'](_0x2d6d89=>_0x2d6d89['trim']())[_0x4f387a(0x153)](_0x2262c3=>_0x2262c3['length']>0x0));const _0x5f4f0e=TagParser[_0x4f387a(0x163)](_0x5065a9,'search-terms');let _0x56c4eb=[];if(_0x5f4f0e['length']>0x0){const _0x333f0a=TagParser['query'](_0x5f4f0e[0x0][_0x4f387a(0x162)],'t');_0x56c4eb=_0x333f0a[_0x4f387a(0x146)](_0x16ea65=>_0x16ea65[_0x4f387a(0x162)]['trim']())[_0x4f387a(0x153)](_0x5bc2f4=>_0x5bc2f4[_0x4f387a(0x12d)]>0x0);}return _0x415467['commands'][_0x4f387a(0x144)]({'action':_0x4f387a(0x13d),'filePaths':_0x417ebd,'searchTerms':_0x56c4eb}),_0x415467;}catch(_0x3cd406){return this[_0x4f387a(0x125)][_0x4f387a(0x149)]('Error\x20parsing\x20seek\x20parameters:',_0x3cd406),{'commands':[]};}}async[a0_0x40c3ba(0x12e)](_0x213e8c,_0x1cc5c8){const _0x2e07ee=a0_0x40c3ba;this[_0x2e07ee(0x125)]['info']('Executing\x20seek\x20command\x20with\x20parameters:',_0x213e8c);const _0x4c2b6c=[];if(!_0x213e8c[_0x2e07ee(0x12b)]||_0x213e8c[_0x2e07ee(0x12b)][_0x2e07ee(0x12d)]===0x0)throw new Error('No\x20seek\x20commands\x20specified');for(const _0x12167a of _0x213e8c['commands']){try{switch(_0x12167a[_0x2e07ee(0x15c)]){case'search':_0x4c2b6c['push'](await this[_0x2e07ee(0x126)](_0x12167a[_0x2e07ee(0x169)],_0x12167a['searchTerms'],_0x1cc5c8));break;default:throw new Error('Unknown\x20seek\x20command:\x20'+_0x12167a['action']);}}catch(_0x5a642c){this[_0x2e07ee(0x125)][_0x2e07ee(0x149)]('Error\x20executing\x20seek\x20command\x20'+_0x12167a[_0x2e07ee(0x15c)]+':',_0x5a642c),_0x4c2b6c[_0x2e07ee(0x144)]({'action':_0x12167a['action'],'success':![],'error':_0x5a642c[_0x2e07ee(0x156)]});}}return{'results':_0x4c2b6c};}async[a0_0x40c3ba(0x126)](_0x3bdbc8,_0x2f6af7,_0x876502){const _0x104905=a0_0x40c3ba;this[_0x104905(0x125)][_0x104905(0x13b)](_0x104905(0x14f)+_0x2f6af7[_0x104905(0x12d)]+'\x20terms\x20in\x20'+_0x3bdbc8[_0x104905(0x12d)]+_0x104905(0x160));if(_0x3bdbc8['length']===0x0)throw new Error('No\x20files\x20specified\x20for\x20search');if(_0x2f6af7[_0x104905(0x12d)]===0x0)throw new Error(_0x104905(0x13f));const _0x31acba=await this['resolveFilePaths'](_0x3bdbc8,_0x876502),_0x4d8fc3=_0x31acba['found'],_0x588d0e=_0x31acba[_0x104905(0x12f)];if(_0x4d8fc3[_0x104905(0x12d)]===0x0)return{'action':_0x104905(0x13d),'success':!![],'message':_0x104905(0x129),'notFoundFiles':_0x588d0e,'matches':[]};const _0x3648e4=[],_0x59a581=[];for(const _0x4f6f8d of _0x4d8fc3){try{const _0x471216=await this['searchInFile'](_0x4f6f8d,_0x2f6af7);_0x3648e4['push'](..._0x471216);}catch(_0x50f360){this[_0x104905(0x125)]['warn'](_0x104905(0x135)+_0x4f6f8d+':\x20'+_0x50f360[_0x104905(0x156)]),_0x59a581[_0x104905(0x144)]({'filePath':_0x4f6f8d,'error':_0x50f360['message']});}}const _0x5ae9b0={};for(const _0x420129 of _0x3648e4){!_0x5ae9b0[_0x420129[_0x104905(0x14e)]]&&(_0x5ae9b0[_0x420129['term']]=[]),_0x5ae9b0[_0x420129[_0x104905(0x14e)]][_0x104905(0x144)]({'filePath':_0x420129[_0x104905(0x166)],'lineNumber':_0x420129['lineNumber'],'lineContent':_0x420129[_0x104905(0x161)]});}let _0x44494c='';if(_0x588d0e[_0x104905(0x12d)]>0x0){_0x44494c+=_0x104905(0x155);for(const _0x23edf9 of _0x588d0e){_0x44494c+='-\x20'+_0x23edf9+'\x0a';}_0x44494c+='\x0a';}if(_0x59a581['length']>0x0){_0x44494c+=_0x104905(0x136);for(const _0x394d5c of _0x59a581){_0x44494c+='-\x20'+_0x394d5c[_0x104905(0x166)]+':\x20'+_0x394d5c['error']+'\x0a';}_0x44494c+='\x0a';}if(Object['keys'](_0x5ae9b0)['length']===0x0)_0x44494c+='No\x20matches\x20found\x20for\x20the\x20specified\x20search\x20terms\x20in\x20the\x20available\x20files.\x0a';else for(const [_0x421651,_0x1ffcdb]of Object[_0x104905(0x138)](_0x5ae9b0)){_0x44494c+=_0x104905(0x12c)+_0x421651+'\x22\x20found\x20at:\x0a';for(const _0x1a1797 of _0x1ffcdb){_0x44494c+='-\x20'+_0x1a1797['filePath']+',\x20line\x20#'+_0x1a1797['lineNumber']+',\x20line\x20content:\x20\x22'+_0x1a1797[_0x104905(0x161)][_0x104905(0x145)]()+'\x22\x0a';}_0x44494c+='\x0a';}return{'action':_0x104905(0x13d),'success':!![],'filesSearched':_0x4d8fc3['length'],'filesNotFound':_0x588d0e[_0x104905(0x12d)],'filesWithErrors':_0x59a581[_0x104905(0x12d)],'matchCount':_0x3648e4['length'],'formattedResults':_0x44494c['trim'](),'matchesByTerm':_0x5ae9b0,'notFoundFiles':_0x588d0e,'errorFiles':_0x59a581};}async[a0_0x40c3ba(0x132)](_0x201395,_0x3647ce){const _0x4b2aa5=a0_0x40c3ba,_0xd8a001={'found':[],'notFound':[]};for(const _0x41ca8e of _0x201395){const _0x3af657=a0_0x18e68b['isAbsolute'](_0x41ca8e)?_0x41ca8e:a0_0x18e68b[_0x4b2aa5(0x131)](_0x3647ce,_0x41ca8e);try{if(_0x41ca8e[_0x4b2aa5(0x14b)]('*')){if(_0x41ca8e['endsWith'](_0x4b2aa5(0x13c))||_0x41ca8e[_0x4b2aa5(0x150)]('/*.jsx')||_0x41ca8e[_0x4b2aa5(0x150)]('/*.ts')||_0x41ca8e[_0x4b2aa5(0x150)](_0x4b2aa5(0x147))||_0x41ca8e['endsWith'](_0x4b2aa5(0x14c))||_0x41ca8e[_0x4b2aa5(0x150)](_0x4b2aa5(0x141))||_0x41ca8e[_0x4b2aa5(0x150)]('/*.json')){const _0xa2042b=a0_0x18e68b['dirname'](_0x3af657),_0x15da47=a0_0x18e68b['extname'](a0_0x18e68b['basename'](_0x41ca8e)[_0x4b2aa5(0x151)]('*',_0x4b2aa5(0x159)));try{const _0x268ce7=await a0_0x30f4b7['stat'](_0xa2042b);if(_0x268ce7['isDirectory']()){const _0x1eae4c=await a0_0x30f4b7['readdir'](_0xa2042b);let _0x14f018=![];for(const _0x35a276 of _0x1eae4c){_0x35a276['endsWith'](_0x15da47)&&(_0xd8a001['found'][_0x4b2aa5(0x144)](a0_0x18e68b[_0x4b2aa5(0x131)](_0xa2042b,_0x35a276)),_0x14f018=!![]);}!_0x14f018&&_0xd8a001['notFound'][_0x4b2aa5(0x144)](_0x41ca8e+_0x4b2aa5(0x148));}else _0xd8a001[_0x4b2aa5(0x12f)][_0x4b2aa5(0x144)](_0x41ca8e+'\x20(not\x20a\x20directory)');}catch(_0x509a4b){_0xd8a001['notFound'][_0x4b2aa5(0x144)](_0x41ca8e+'\x20('+_0x509a4b['code']+')');}}else{if(_0x41ca8e[_0x4b2aa5(0x14b)]('/**/*.')){const [_0x14eac9,_0x4ce92d]=_0x41ca8e['split']('/**/*.'),_0x482597=a0_0x18e68b['isAbsolute'](_0x14eac9)?_0x14eac9:a0_0x18e68b[_0x4b2aa5(0x131)](_0x3647ce,_0x14eac9);try{const _0x2a9ae6=await a0_0x30f4b7[_0x4b2aa5(0x15f)](_0x482597);if(_0x2a9ae6['isDirectory']()){const _0x53acbe=[];await this['findFilesRecursively'](_0x482597,'.'+_0x4ce92d,_0x53acbe),_0x53acbe['length']>0x0?_0xd8a001['found'][_0x4b2aa5(0x144)](..._0x53acbe):_0xd8a001[_0x4b2aa5(0x12f)][_0x4b2aa5(0x144)](_0x41ca8e+'\x20(no\x20matching\x20files)');}else _0xd8a001[_0x4b2aa5(0x12f)]['push'](_0x41ca8e+'\x20(not\x20a\x20directory)');}catch(_0x1c3253){_0xd8a001[_0x4b2aa5(0x12f)][_0x4b2aa5(0x144)](_0x41ca8e+'\x20('+_0x1c3253[_0x4b2aa5(0x154)]+')');}}else{const _0x583895=a0_0x18e68b[_0x4b2aa5(0x15b)](_0x3af657),_0x545ccc=a0_0x18e68b['basename'](_0x41ca8e),_0x513693=_0x545ccc['includes']('.')?_0x545ccc['substring'](_0x545ccc['lastIndexOf']('.')):'';try{const _0x1dbdcd=await a0_0x30f4b7[_0x4b2aa5(0x15f)](_0x583895);if(_0x1dbdcd[_0x4b2aa5(0x13a)]()){const _0x26a6d7=await a0_0x30f4b7['readdir'](_0x583895);let _0x72ce5c=![];for(const _0x518858 of _0x26a6d7){this[_0x4b2aa5(0x15a)](_0x518858,_0x545ccc)&&(_0xd8a001['found']['push'](a0_0x18e68b['join'](_0x583895,_0x518858)),_0x72ce5c=!![]);}!_0x72ce5c&&_0xd8a001[_0x4b2aa5(0x12f)][_0x4b2aa5(0x144)](_0x41ca8e+_0x4b2aa5(0x148));}else _0xd8a001[_0x4b2aa5(0x12f)][_0x4b2aa5(0x144)](_0x41ca8e+'\x20(not\x20a\x20directory)');}catch(_0x1405c0){_0xd8a001['notFound']['push'](_0x41ca8e+'\x20('+_0x1405c0['code']+')');}}}}else try{const _0x3c62be=await a0_0x30f4b7[_0x4b2aa5(0x15f)](_0x3af657);_0x3c62be['isFile']()?_0xd8a001['found'][_0x4b2aa5(0x144)](_0x3af657):_0xd8a001[_0x4b2aa5(0x12f)][_0x4b2aa5(0x144)](_0x41ca8e+_0x4b2aa5(0x12a));}catch(_0x2957bf){_0xd8a001[_0x4b2aa5(0x12f)]['push'](_0x41ca8e+'\x20('+_0x2957bf['code']+')');}}catch(_0x5395be){this[_0x4b2aa5(0x125)][_0x4b2aa5(0x143)]('Error\x20resolving\x20path\x20'+_0x41ca8e+':\x20'+_0x5395be['message']),_0xd8a001['notFound']['push'](_0x41ca8e+'\x20('+_0x5395be[_0x4b2aa5(0x156)]+')');}}return _0xd8a001;}async[a0_0x40c3ba(0x139)](_0x25b3bf,_0x8825bf,_0x33a7e9){const _0xea4cf5=a0_0x40c3ba;try{const _0xdb1f77=await a0_0x30f4b7['readdir'](_0x25b3bf,{'withFileTypes':!![]});for(const _0x319e40 of _0xdb1f77){const _0x28961f=a0_0x18e68b['join'](_0x25b3bf,_0x319e40['name']);try{if(_0x319e40[_0xea4cf5(0x13a)]())await this[_0xea4cf5(0x139)](_0x28961f,_0x8825bf,_0x33a7e9);else _0x319e40['isFile']()&&_0x319e40['name']['endsWith'](_0x8825bf)&&_0x33a7e9['push'](_0x28961f);}catch(_0x41e96c){this['logger']['warn']('Error\x20processing\x20'+_0x28961f+':\x20'+_0x41e96c['message']);}}}catch(_0x38c1d6){this['logger'][_0xea4cf5(0x143)]('Error\x20reading\x20directory\x20'+_0x25b3bf+':\x20'+_0x38c1d6[_0xea4cf5(0x156)]);}}['matchesWildcard'](_0x2587e9,_0x588e08){const _0x37d72f=a0_0x40c3ba,_0x2524d6=new RegExp('^'+_0x588e08['split']('*')['map'](_0x113aaf=>this[_0x37d72f(0x14d)](_0x113aaf))['join']('.*')+'$');return _0x2524d6[_0x37d72f(0x158)](_0x2587e9);}[a0_0x40c3ba(0x14d)](_0x459aa3){const _0x440a97=a0_0x40c3ba;return _0x459aa3['replace'](/[.*+?^${}()|[\]\\]/g,_0x440a97(0x140));}async[a0_0x40c3ba(0x13e)](_0x538038,_0x3b2c0a){const _0x166ba6=a0_0x40c3ba,_0x4e9e56=await a0_0x30f4b7['readFile'](_0x538038,'utf-8'),_0x15a2da=_0x4e9e56[_0x166ba6(0x15d)]('\x0a'),_0x12cf24=[];for(let _0x21c89c=0x0;_0x21c89c<_0x15a2da[_0x166ba6(0x12d)];_0x21c89c++){const _0x43cc8a=_0x15a2da[_0x21c89c];for(const _0x3e5f6c of _0x3b2c0a){if(_0x43cc8a['includes'](_0x3e5f6c)){_0x12cf24['push']({'term':_0x3e5f6c,'filePath':_0x538038,'lineNumber':_0x21c89c+0x1,'lineContent':_0x43cc8a});continue;}}}return _0x12cf24;}}