const a0_0x42ef49=a0_0x2537;function a0_0x1ed7(){const _0x49b9b4=['vgHLigzVBgXVD2LUzYbMAwXLCYb3zxjLig5VDcbMB3vUzdOk','CMvWBgfJzq','BgLUzu51BwjLCG','zMLUzezPBgvZuMvJDxjZAxzLBhK','ugfYC2LUzYbZzwvRihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','mJi0mda0wxrsvvLn','icHUB3qGysbKAxjLy3rVCNKP','tM8GC2vHCMnOihrLCM1ZihnWzwnPzMLLza','BwfW','BgLUzunVBNrLBNq','Bwf0y2HLC1DPBgrJyxjK','rxjYB3iGzxHLy3v0Aw5NihnLzwSGy29TBwfUzca','mJy0mdqWogHirwfJqq','BMfTzq','Bg9Nz2vY','zw50CMLLCW','AM9PBG','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','zxjYB3i','zMLSDgvY','C3bSAxq','lYOUy3nZ','DxrMltG','tM8GC2vLAYbJB21Tyw5KCYbZCgvJAwzPzwq','rxjYB3iGCgfYC2LUzYbZzwvRihbHCMfTzxrLCNm6','lYOUDhn4','zMLSzvbHDgG','C2vHCMnOrMLSzxm','lcbSAw5LignVBNrLBNq6ici','BM90rM91BMq','ndy1ntu1qML4wxHx','CMvHzgrPCG','zxnJyxbLuMvNrxHW','DhjPBq','zM91BMq','ihrLCM1ZigLUia','y29UDgvUDa','CMvZB2X2zuzPBgvqyxrOCW','ChvZAa','rxjYB3jZig9Jy3vYCMvKihDOzw4GC2vHCMnOAw5NihrOzsbMB2XSB3DPBMCGzMLSzxm6cG','BgvUz3rO','y29TBwfUzhm','igzPBgvZ','lYOUANnVBG','ywn0Aw9U','rxjYB3iGChjVy2vZC2LUzYa','ntv2EeHLCvy','C3rHDa','CgfYC2vqyxjHBwv0zxjZ','C2vHCMnO','zw5KC1DPDgG','n0z1uLrNwG','nJa0mdqWBhr6Cfzu','CxvLCNK','mte4nZa4mtbgBMT0DeO','iIbMB3vUzcbHDdOk','Aw4TzMLSzxm','AxneAxjLy3rVCNK','ndm5mdm5ohbwA1LQDa','mtq0mJe4qw5brvPt','xcqM','DgvYBq','Aw5MBW','y29Kzq','C2vHCMnOvgvYBxm','owz5CNfPtq','icHUBYbTyxrJAgLUzYbMAwXLCYK','BwvZC2fNzq','lYOUANm'];a0_0x1ed7=function(){return _0x49b9b4;};return a0_0x1ed7();}(function(_0x4f3c8b,_0x95706a){const _0x110399=a0_0x2537,_0x2c3dd3=_0x4f3c8b();while(!![]){try{const _0x3e03bb=parseInt(_0x110399(0x1c2))/0x1+parseInt(_0x110399(0x1bb))/0x2+parseInt(_0x110399(0x1a5))/0x3+parseInt(_0x110399(0x1d1))/0x4*(parseInt(_0x110399(0x1b5))/0x5)+parseInt(_0x110399(0x1c1))/0x6*(parseInt(_0x110399(0x1ba))/0x7)+-parseInt(_0x110399(0x193))/0x8+-parseInt(_0x110399(0x1c8))/0x9*(parseInt(_0x110399(0x1bd))/0xa);if(_0x3e03bb===_0x95706a)break;else _0x2c3dd3['push'](_0x2c3dd3['shift']());}catch(_0x3e3e0d){_0x2c3dd3['push'](_0x2c3dd3['shift']());}}}(a0_0x1ed7,0x697a3));import{promises as a0_0x162ff3}from'fs';import a0_0x4f00fe from'path';function a0_0x2537(_0x583e41,_0x3aa5fc){const _0x1ed77b=a0_0x1ed7();return a0_0x2537=function(_0x253758,_0x586d56){_0x253758=_0x253758-0x191;let _0x33a7e8=_0x1ed77b[_0x253758];if(a0_0x2537['tJeRNr']===undefined){var _0x4a2ce5=function(_0x162ff3){const _0x4f00fe='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xfd1bb6='',_0x3f8dd1='';for(let _0x15aeb9=0x0,_0xa1d852,_0x5a8c04,_0x34bb71=0x0;_0x5a8c04=_0x162ff3['charAt'](_0x34bb71++);~_0x5a8c04&&(_0xa1d852=_0x15aeb9%0x4?_0xa1d852*0x40+_0x5a8c04:_0x5a8c04,_0x15aeb9++%0x4)?_0xfd1bb6+=String['fromCharCode'](0xff&_0xa1d852>>(-0x2*_0x15aeb9&0x6)):0x0){_0x5a8c04=_0x4f00fe['indexOf'](_0x5a8c04);}for(let _0xdc0fbc=0x0,_0x590f9b=_0xfd1bb6['length'];_0xdc0fbc<_0x590f9b;_0xdc0fbc++){_0x3f8dd1+='%'+('00'+_0xfd1bb6['charCodeAt'](_0xdc0fbc)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3f8dd1);};a0_0x2537['PPysFs']=_0x4a2ce5,_0x583e41=arguments,a0_0x2537['tJeRNr']=!![];}const _0x17b244=_0x1ed77b[0x0],_0x160772=_0x253758+_0x17b244,_0x1fde20=_0x583e41[_0x160772];return!_0x1fde20?(_0x33a7e8=a0_0x2537['PPysFs'](_0x33a7e8),_0x583e41[_0x160772]=_0x33a7e8):_0x33a7e8=_0x1fde20,_0x33a7e8;},a0_0x2537(_0x583e41,_0x3aa5fc);}import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';export class SeekTool extends BaseTool{constructor(_0xfd1bb6,_0x3f8dd1){super(_0xfd1bb6,_0x3f8dd1);}['getDescription'](){return'\x0aSeek\x20Tool:\x20Allows\x20you\x20to\x20search\x20for\x20specific\x20content\x20within\x20project\x20files.\x20highly\x20recommended\x20for\x20verifying\x20imports\x20(includes\x20etc)\x20between\x20files.\x0a\x0aUsage:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0afile/path/one.js\x0afile/path/two.js\x0apath/to/directory/*.js\x0a[/in-files]\x0a[search-terms]\x0a[t]search\x20phrase\x20one[/t]\x0a[t]search\x20phrase\x20two[/t]\x0a[t]search\x20phrase\x20three[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0aExamples:\x0a1.\x20Search\x20for\x20specific\x20functions\x20in\x20JavaScript\x20files:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/components/*.js\x0asrc/utils/helpers.js\x0a[/in-files]\x0a[search-terms]\x0a[t]function\x20handleSubmit[/t]\x0a[t]useState([/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0a2.\x20Find\x20usages\x20of\x20a\x20specific\x20variable:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/**/*.js\x0a[/in-files]\x0a[search-terms]\x0a[t]apiClient[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0a3.\x20Look\x20for\x20specific\x20imports:\x0a[tool\x20id=\x22seek\x22]\x0a[in-files]\x0asrc/components/Header.js\x0asrc/components/Footer.js\x0a[/in-files]\x0a[search-terms]\x0a[t]import\x20React[/t]\x0a[t]import\x20{\x20useState\x20}[/t]\x0a[/search-terms]\x0a[/tool]\x0a\x0aThe\x20tool\x20will\x20search\x20every\x20file\x20mentioned\x20in\x20the\x20[in-files]\x20tag.\x0aIn\x20each\x20file,\x20it\x20will\x20search\x20for\x20lines\x20containing\x20at\x20least\x20one\x20of\x20the\x20phrases\x20in\x20[search-terms].\x0aGlob\x20patterns\x20(like\x20*.js)\x20are\x20supported\x20in\x20file\x20paths.\x0aThe\x20tool\x20will\x20clearly\x20indicate\x20which\x20files\x20could\x20not\x20be\x20found\x20or\x20had\x20errors\x20during\x20the\x20search.\x0a\x20\x20\x20\x20';}[a0_0x42ef49(0x1b7)](_0x15aeb9){const _0x2c10d0=a0_0x42ef49;this[_0x2c10d0(0x195)]['info'](_0x2c10d0(0x1d0));const _0xa1d852={'commands':[]};try{const _0x5a8c04=TagParser['query'](_0x15aeb9,_0x2c10d0(0x1bf));let _0x34bb71=[];_0x5a8c04[_0x2c10d0(0x1af)]>0x0&&(_0x34bb71=_0x5a8c04[0x0][_0x2c10d0(0x1ab)][_0x2c10d0(0x19b)]('\x0a')[_0x2c10d0(0x1d4)](_0x108633=>_0x108633[_0x2c10d0(0x1a8)]())[_0x2c10d0(0x19a)](_0x50f367=>_0x50f367['length']>0x0));const _0xdc0fbc=TagParser[_0x2c10d0(0x1bc)](_0x15aeb9,'search-terms');let _0x590f9b=[];if(_0xdc0fbc['length']>0x0){const _0xdf53dd=TagParser[_0x2c10d0(0x1bc)](_0xdc0fbc[0x0][_0x2c10d0(0x1ab)],'t');_0x590f9b=_0xdf53dd['map'](_0x43d743=>_0x43d743['content'][_0x2c10d0(0x1a8)]())['filter'](_0x27e49f=>_0x27e49f[_0x2c10d0(0x1af)]>0x0);}return _0xa1d852[_0x2c10d0(0x1b0)][_0x2c10d0(0x1ad)]({'action':_0x2c10d0(0x1b8),'filePaths':_0x34bb71,'searchTerms':_0x590f9b}),_0xa1d852;}catch(_0x30c5ed){return this['logger']['error'](_0x2c10d0(0x19f),_0x30c5ed),{'commands':[]};}}async[a0_0x42ef49(0x198)](_0x3a8f06,_0x31fd77){const _0x1789e7=a0_0x42ef49;this[_0x1789e7(0x195)]['info']('Executing\x20seek\x20command\x20with\x20parameters:',_0x3a8f06);const _0x26fd08=[];if(!_0x3a8f06['commands']||_0x3a8f06['commands'][_0x1789e7(0x1af)]===0x0)throw new Error(_0x1789e7(0x19e));for(const _0x531455 of _0x3a8f06[_0x1789e7(0x1b0)]){try{switch(_0x531455[_0x1789e7(0x1b3)]){case _0x1789e7(0x1b8):_0x26fd08[_0x1789e7(0x1ad)](await this[_0x1789e7(0x1a2)](_0x531455['filePaths'],_0x531455[_0x1789e7(0x1c7)],_0x31fd77));break;default:throw new Error('Unknown\x20seek\x20command:\x20'+_0x531455['action']);}}catch(_0x3e0be3){this['logger']['error'](_0x1789e7(0x192)+_0x531455[_0x1789e7(0x1b3)]+':',_0x3e0be3),_0x26fd08['push']({'action':_0x531455['action'],'success':![],'error':_0x3e0be3['message']});}}return{'results':_0x26fd08};}async['searchFiles'](_0x50a3b9,_0x2c1cdd,_0x122d6c){const _0x1e8c02=a0_0x42ef49;this[_0x1e8c02(0x195)][_0x1e8c02(0x1c5)]('Searching\x20for\x20'+_0x2c1cdd[_0x1e8c02(0x1af)]+_0x1e8c02(0x1aa)+_0x50a3b9['length']+_0x1e8c02(0x1b1));if(_0x50a3b9[_0x1e8c02(0x1af)]===0x0)throw new Error('No\x20files\x20specified\x20for\x20search');if(_0x2c1cdd[_0x1e8c02(0x1af)]===0x0)throw new Error(_0x1e8c02(0x1d3));const _0x510b2f=await this['resolveFilePaths'](_0x50a3b9,_0x122d6c),_0x5bb2e8=_0x510b2f[_0x1e8c02(0x1a9)],_0x3a0421=_0x510b2f['notFound'];if(_0x5bb2e8['length']===0x0)return{'action':_0x1e8c02(0x1b8),'success':!![],'message':'No\x20files\x20found\x20matching\x20the\x20specified\x20patterns','notFoundFiles':_0x3a0421,'matches':[]};const _0x1c4d34=[],_0x18d9a5=[];for(const _0x23d14d of _0x5bb2e8){try{const _0x20d492=await this['searchInFile'](_0x23d14d,_0x2c1cdd);_0x1c4d34['push'](..._0x20d492);}catch(_0x506be0){this[_0x1e8c02(0x195)]['warn']('Error\x20searching\x20in\x20file\x20'+_0x23d14d+':\x20'+_0x506be0[_0x1e8c02(0x1ca)]),_0x18d9a5['push']({'filePath':_0x23d14d,'error':_0x506be0['message']});}}const _0x3f32c7={};for(const _0x5736fe of _0x1c4d34){!_0x3f32c7[_0x5736fe['term']]&&(_0x3f32c7[_0x5736fe[_0x1e8c02(0x1c4)]]=[]),_0x3f32c7[_0x5736fe['term']]['push']({'filePath':_0x5736fe[_0x1e8c02(0x1a1)],'lineNumber':_0x5736fe[_0x1e8c02(0x1ce)],'lineContent':_0x5736fe[_0x1e8c02(0x1d5)]});}let _0x504e06='';if(_0x3a0421[_0x1e8c02(0x1af)]>0x0){_0x504e06+=_0x1e8c02(0x1cc);for(const _0x23e4c0 of _0x3a0421){_0x504e06+='-\x20'+_0x23e4c0+'\x0a';}_0x504e06+='\x0a';}if(_0x18d9a5['length']>0x0){_0x504e06+=_0x1e8c02(0x1ae);for(const _0x168174 of _0x18d9a5){_0x504e06+='-\x20'+_0x168174[_0x1e8c02(0x1a1)]+':\x20'+_0x168174[_0x1e8c02(0x199)]+'\x0a';}_0x504e06+='\x0a';}if(Object['keys'](_0x3f32c7)[_0x1e8c02(0x1af)]===0x0)_0x504e06+='No\x20matches\x20found\x20for\x20the\x20specified\x20search\x20terms\x20in\x20the\x20available\x20files.\x0a';else for(const [_0xe120ed,_0x3c8166]of Object[_0x1e8c02(0x196)](_0x3f32c7)){_0x504e06+='Search\x20string\x20\x22'+_0xe120ed+_0x1e8c02(0x1be);for(const _0x566b54 of _0x3c8166){_0x504e06+='-\x20'+_0x566b54[_0x1e8c02(0x1a1)]+',\x20line\x20#'+_0x566b54['lineNumber']+_0x1e8c02(0x1a3)+_0x566b54[_0x1e8c02(0x1d5)]['trim']()+'\x22\x0a';}_0x504e06+='\x0a';}return{'action':_0x1e8c02(0x1b8),'success':!![],'filesSearched':_0x5bb2e8[_0x1e8c02(0x1af)],'filesNotFound':_0x3a0421['length'],'filesWithErrors':_0x18d9a5['length'],'matchCount':_0x1c4d34['length'],'formattedResults':_0x504e06['trim'](),'matchesByTerm':_0x3f32c7,'notFoundFiles':_0x3a0421,'errorFiles':_0x18d9a5};}async[a0_0x42ef49(0x1ac)](_0x3e8f70,_0x2bee39){const _0x179863=a0_0x42ef49,_0x5b52ff={'found':[],'notFound':[]};for(const _0x278df5 of _0x3e8f70){const _0x43b640=a0_0x4f00fe['isAbsolute'](_0x278df5)?_0x278df5:a0_0x4f00fe[_0x179863(0x197)](_0x2bee39,_0x278df5);try{if(_0x278df5['includes']('*')){if(_0x278df5['endsWith'](_0x179863(0x1cb))||_0x278df5[_0x179863(0x1b9)]('/*.jsx')||_0x278df5[_0x179863(0x1b9)]('/*.ts')||_0x278df5['endsWith'](_0x179863(0x1a0))||_0x278df5[_0x179863(0x1b9)](_0x179863(0x19c))||_0x278df5['endsWith']('/*.html')||_0x278df5['endsWith'](_0x179863(0x1b2))){const _0x24dfcf=a0_0x4f00fe['dirname'](_0x43b640),_0x32cbc3=a0_0x4f00fe['extname'](a0_0x4f00fe['basename'](_0x278df5)['replace']('*','dummy'));try{const _0x405579=await a0_0x162ff3['stat'](_0x24dfcf);if(_0x405579['isDirectory']()){const _0x476b17=await a0_0x162ff3['readdir'](_0x24dfcf);let _0x2c9e73=![];for(const _0x3e8f8f of _0x476b17){_0x3e8f8f[_0x179863(0x1b9)](_0x32cbc3)&&(_0x5b52ff['found'][_0x179863(0x1ad)](a0_0x4f00fe[_0x179863(0x197)](_0x24dfcf,_0x3e8f8f)),_0x2c9e73=!![]);}!_0x2c9e73&&_0x5b52ff['notFound']['push'](_0x278df5+_0x179863(0x1c9));}else _0x5b52ff[_0x179863(0x1a4)]['push'](_0x278df5+_0x179863(0x1d2));}catch(_0x4aad0f){_0x5b52ff['notFound'][_0x179863(0x1ad)](_0x278df5+'\x20('+_0x4aad0f['code']+')');}}else{if(_0x278df5['includes']('/**/*.')){const [_0x3e7a2c,_0xecca07]=_0x278df5[_0x179863(0x19b)]('/**/*.'),_0x44794f=a0_0x4f00fe['isAbsolute'](_0x3e7a2c)?_0x3e7a2c:a0_0x4f00fe['join'](_0x2bee39,_0x3e7a2c);try{const _0x56383d=await a0_0x162ff3['stat'](_0x44794f);if(_0x56383d[_0x179863(0x1c0)]()){const _0xe6de3a=[];await this[_0x179863(0x1cf)](_0x44794f,'.'+_0xecca07,_0xe6de3a),_0xe6de3a['length']>0x0?_0x5b52ff['found']['push'](..._0xe6de3a):_0x5b52ff[_0x179863(0x1a4)]['push'](_0x278df5+_0x179863(0x1c9));}else _0x5b52ff['notFound'][_0x179863(0x1ad)](_0x278df5+'\x20(not\x20a\x20directory)');}catch(_0x160c59){_0x5b52ff[_0x179863(0x1a4)]['push'](_0x278df5+'\x20('+_0x160c59['code']+')');}}else{const _0x2ffd46=a0_0x4f00fe['dirname'](_0x43b640),_0x174f44=a0_0x4f00fe['basename'](_0x278df5),_0x482c78=_0x174f44['includes']('.')?_0x174f44['substring'](_0x174f44['lastIndexOf']('.')):'';try{const _0x207e81=await a0_0x162ff3[_0x179863(0x1b6)](_0x2ffd46);if(_0x207e81['isDirectory']()){const _0x2c73e8=await a0_0x162ff3[_0x179863(0x1a6)](_0x2ffd46);let _0x25674a=![];for(const _0x28db7e of _0x2c73e8){this['matchesWildcard'](_0x28db7e,_0x174f44)&&(_0x5b52ff['found']['push'](a0_0x4f00fe['join'](_0x2ffd46,_0x28db7e)),_0x25674a=!![]);}!_0x25674a&&_0x5b52ff['notFound']['push'](_0x278df5+_0x179863(0x1c9));}else _0x5b52ff[_0x179863(0x1a4)][_0x179863(0x1ad)](_0x278df5+_0x179863(0x1d2));}catch(_0x53c6b0){_0x5b52ff[_0x179863(0x1a4)]['push'](_0x278df5+'\x20('+_0x53c6b0['code']+')');}}}}else try{const _0x2021d9=await a0_0x162ff3[_0x179863(0x1b6)](_0x43b640);_0x2021d9['isFile']()?_0x5b52ff[_0x179863(0x1a9)]['push'](_0x43b640):_0x5b52ff[_0x179863(0x1a4)]['push'](_0x278df5+'\x20(not\x20a\x20file)');}catch(_0x2782e8){_0x5b52ff['notFound']['push'](_0x278df5+'\x20('+_0x2782e8[_0x179863(0x1c6)]+')');}}catch(_0x522b42){this['logger']['warn']('Error\x20resolving\x20path\x20'+_0x278df5+':\x20'+_0x522b42['message']),_0x5b52ff[_0x179863(0x1a4)]['push'](_0x278df5+'\x20('+_0x522b42[_0x179863(0x1ca)]+')');}}return _0x5b52ff;}async['findFilesRecursively'](_0x4a03f4,_0x3b1665,_0x6c5108){const _0x3f416d=a0_0x42ef49;try{const _0x7639b0=await a0_0x162ff3['readdir'](_0x4a03f4,{'withFileTypes':!![]});for(const _0x32c320 of _0x7639b0){const _0x34bdd2=a0_0x4f00fe['join'](_0x4a03f4,_0x32c320[_0x3f416d(0x194)]);try{if(_0x32c320['isDirectory']())await this['findFilesRecursively'](_0x34bdd2,_0x3b1665,_0x6c5108);else _0x32c320['isFile']()&&_0x32c320[_0x3f416d(0x194)][_0x3f416d(0x1b9)](_0x3b1665)&&_0x6c5108['push'](_0x34bdd2);}catch(_0x53a229){this['logger']['warn'](_0x3f416d(0x1b4)+_0x34bdd2+':\x20'+_0x53a229[_0x3f416d(0x1ca)]);}}}catch(_0x1da235){this['logger']['warn']('Error\x20reading\x20directory\x20'+_0x4a03f4+':\x20'+_0x1da235[_0x3f416d(0x1ca)]);}}[a0_0x42ef49(0x191)](_0x82aab0,_0xeb749b){const _0x532cf1=a0_0x42ef49,_0x5b2b38=new RegExp('^'+_0xeb749b[_0x532cf1(0x19b)]('*')[_0x532cf1(0x1d4)](_0x4371a9=>this[_0x532cf1(0x1a7)](_0x4371a9))[_0x532cf1(0x197)]('.*')+'$');return _0x5b2b38['test'](_0x82aab0);}['escapeRegExp'](_0x10e293){const _0x362372=a0_0x42ef49;return _0x10e293[_0x362372(0x1cd)](/[.*+?^${}()|[\]\\]/g,_0x362372(0x1c3));}async['searchInFile'](_0x2d3163,_0x1191db){const _0x243efd=a0_0x42ef49,_0x477851=await a0_0x162ff3['readFile'](_0x2d3163,_0x243efd(0x19d)),_0x2267ff=_0x477851['split']('\x0a'),_0x4e4032=[];for(let _0x21cb6b=0x0;_0x21cb6b<_0x2267ff[_0x243efd(0x1af)];_0x21cb6b++){const _0x27561c=_0x2267ff[_0x21cb6b];for(const _0x15011b of _0x1191db){if(_0x27561c['includes'](_0x15011b)){_0x4e4032[_0x243efd(0x1ad)]({'term':_0x15011b,'filePath':_0x2d3163,'lineNumber':_0x21cb6b+0x1,'lineContent':_0x27561c});continue;}}}return _0x4e4032;}}