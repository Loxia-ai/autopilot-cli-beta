const a0_0x41208c=a0_0x52f5;(function(_0x5e91a9,_0x44ae84){const _0x2ac453=a0_0x52f5,_0x33f974=_0x5e91a9();while(!![]){try{const _0x3b60ad=parseInt(_0x2ac453(0x15c))/0x1*(-parseInt(_0x2ac453(0x135))/0x2)+parseInt(_0x2ac453(0x129))/0x3+parseInt(_0x2ac453(0x158))/0x4*(parseInt(_0x2ac453(0x15a))/0x5)+parseInt(_0x2ac453(0x138))/0x6*(parseInt(_0x2ac453(0x12a))/0x7)+parseInt(_0x2ac453(0x143))/0x8*(parseInt(_0x2ac453(0x15b))/0x9)+parseInt(_0x2ac453(0x157))/0xa*(-parseInt(_0x2ac453(0x156))/0xb)+-parseInt(_0x2ac453(0x142))/0xc;if(_0x3b60ad===_0x44ae84)break;else _0x33f974['push'](_0x33f974['shift']());}catch(_0x3a5b0b){_0x33f974['push'](_0x33f974['shift']());}}}(a0_0x2b8b,0xde5b6));import{promises as a0_0x1e812e}from'fs';function a0_0x52f5(_0x2209d3,_0x4dfc91){const _0x2b8b91=a0_0x2b8b();return a0_0x52f5=function(_0x52f504,_0x276828){_0x52f504=_0x52f504-0x128;let _0x2099a9=_0x2b8b91[_0x52f504];if(a0_0x52f5['qrPVxw']===undefined){var _0x5b0d99=function(_0x1e812e){const _0x1cfb7d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x521af6='',_0x3d7929='';for(let _0x173761=0x0,_0x3e1fad,_0x42553c,_0x2298ba=0x0;_0x42553c=_0x1e812e['charAt'](_0x2298ba++);~_0x42553c&&(_0x3e1fad=_0x173761%0x4?_0x3e1fad*0x40+_0x42553c:_0x42553c,_0x173761++%0x4)?_0x521af6+=String['fromCharCode'](0xff&_0x3e1fad>>(-0x2*_0x173761&0x6)):0x0){_0x42553c=_0x1cfb7d['indexOf'](_0x42553c);}for(let _0xf8de9=0x0,_0x23307f=_0x521af6['length'];_0xf8de9<_0x23307f;_0xf8de9++){_0x3d7929+='%'+('00'+_0x521af6['charCodeAt'](_0xf8de9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3d7929);};a0_0x52f5['RIavcB']=_0x5b0d99,_0x2209d3=arguments,a0_0x52f5['qrPVxw']=!![];}const _0x2de742=_0x2b8b91[0x0],_0x4f7bfa=_0x52f504+_0x2de742,_0x29da94=_0x2209d3[_0x4f7bfa];return!_0x29da94?(_0x2099a9=a0_0x52f5['RIavcB'](_0x2099a9),_0x2209d3[_0x4f7bfa]=_0x2099a9):_0x2099a9=_0x29da94,_0x2099a9;},a0_0x52f5(_0x2209d3,_0x4dfc91);}import a0_0x1cfb7d from'path';import{exec as a0_0x521af6}from'child_process';import{promisify}from'util';import{BaseTool}from'./baseTool.js';import{TagParser}from'../utilities/tagParser.js';function a0_0x2b8b(){const _0x58b574=['4PQG77Ipica','zgvWzw5Kzw5JAwvZ','cVcFK4qGtM8GDxbKyxrLCYbUzwvKzwqGAw4GCgfJA2fNzs5QC29U','CgfYC2u','twLZC2LUzYbBCMvZB2X2zv0Gy29TBwfUzcbPBIbKzxbLBMrLBMn5ihjLC29SDMvYihrVB2W','AM9PBG','CMvHzezPBgu','DxrMltG','zML4','8j+tPIbdAgvJA2LUzYbKzxbLBMrLBMnPzxmGzM9YigXHDgvZDcbJB21WyxrPyMXLihzLCNnPB25ZlI4U','tM8GCgfJA2fNzs5QC29UigzVDw5Kigf0oIa','yxv0BW','BwvZC2fNzq','mta0nw1KvhjLzG','nJa1ntb6q0XjvNC','mti2mtCYBunfrLDt','iokgKIbHDMfPBgfIBguG','nxPYr1fUyW','mte4otK1otncv0nqtfC','mtCYm2TbBKjoDa','v2fYBMLUzZOG','CMvZB2X2zq','igrLCgvUzgvUy2LLCW','ndKYnZy4nMfgs3rRuG','nJy0mtmYu05uCwnX','rgvWzw5Kzw5JEsbYzxnVBhzLCIbYDw5UAw5NigLUia','cVcFM6aGvxbKyxrPBMCGCgfJA2fNzs5QC29UihDPDgGGCMvZB2X2zwqGDMvYC2LVBNmUlI4','cKrLCgvUzgvUy3KGuMvZB2X2zxiGvg9VBdOGuMvZB2X2zxmGtM9Kzs5QCYbWywnRywDLigrLCgvUzgvUy3KGy29UzMXPy3rZigj5ignOzwnRAw5NigfUzcb1CgrHDgLUzYb0BYbSyxrLC3qGy29TCgf0AwjSzsb2zxjZAw9UCY4kcLvZywDLoGPBDg9VBcbPzd0IzgvWlxjLC29SDMvYiL0kw3jLC29SDMuGCgf0Ad0IB3b0Aw9UywWVCgf0Ac90BY9WCM9Qzwn0iIbTB2rLpsjJAgvJA3XMAxH8yxv0BYiGl10kwY90B29SxqOktw9Kzxm6cI0GBw9Kzt0Iy2HLy2SIicHKzwzHDwX0ktOGt25SEsbJAgvJA3mGzM9YigrLCgvUzgvUy3KGAxnZDwvZihDPDgHVDxqGBwfRAw5NignOyw5NzxmklsbTB2rLpsjMAxGIoIbvCgrHDgvZihbHy2THz2uUANnVBIb3AxrOihjLC29SDMvKihzLCNnPB25ZigfUzcbYDw5Zig5WBsbPBNn0ywXScI0GBw9Kzt0Iyxv0BYi6ief1Dg9TyxrPy2fSBhKGzML4zxmGywXSihjLC29SDMfIBguGy29UzMXPy3rZihDPDgHVDxqGChjVBxb0Aw5NcGPqyxjHBwv0zxjZoGOTihbHDgG6ie9WDgLVBMfSihbHDgGGDg8GChjVAMvJDcbKAxjLy3rVCNKGy29UDgfPBMLUzYbWywnRywDLlMPZB24GkgrLzMf1BhrZihrVign1CNjLBNqGzgLYzwn0B3j5kqOTig1Vzgu6ie9WzxjHDgLVBIbTB2rLicHJAgvJAYWGzML4lcbVCIbHDxrVkqOkrxHHBxbSzxm6cJeUienOzwnRigzVCIbKzxbLBMrLBMn5ignVBMzSAwn0CYbPBIbJDxjYzw50igrPCMvJDg9YEtOkw3rVB2WGAwq9iMrLCc1YzxnVBhzLCIjDcLTYzxnVBhzLig1Vzgu9iMnOzwnRiIaVxqPBl3rVB2XDcGOYlIbgAxGGzgvWzw5Kzw5JEsbJB25MBgLJDhmGAw4GysbZCgvJAwzPyYbWCM9Qzwn0oGPBDg9VBcbPzd0IzgvWlxjLC29SDMvYiL0kw3jLC29SDMuGCgf0Ad0IlI9TEs1WCM9Qzwn0iIbTB2rLpsjMAxGIic9DcLSVDg9VBf0kcJmUief1Dg9TyxrPy2fSBhKGCMvZB2X2zsbHBgWGy29UzMXPy3rZoGPBDg9VBcbPzd0IzgvWlxjLC29SDMvYiL0kw3jLC29SDMuGBw9Kzt0Iyxv0BYiGl10kwY90B29SxqOkvgHLihrVB2WGD2LSBdOkms4GuMvHzcbWywnRywDLlMPZB24GzNjVBsb0AguGC3bLy2LMAwvKigrPCMvJDg9YEqOYlIbdAgvJAYbLywnOigrLCgvUzgvUy3KGywDHAw5ZDcbUCg0GCMvNAxn0CNKGzM9YigXHDgvZDcbJB21WyxrPyMXLihzLCNnPB25ZcJmUieLKzw50Awz5igrLCgvUzgvUy2LLCYb0Agf0ig5LzwqGDxbKyxrLCWO0lIbjBIbMAxGVyxv0BYbTB2rLoIbvCgrHDguGCgfJA2fNzs5QC29UigfUzcbYDw4GBNbTigLUC3rHBgWkns4GuMvWB3j0ihrOzsbYzxn1BhrZig9MihrOzsbVCgvYyxrPB24kcLvtrsbuseLtifrpt0WGrfvssu5hifLpvviGrevwruXpue1ftLqGq1LdteuGqu5eiervuKLorYbcruzpuKuGuLvotKLorYbuseuGq09ers4k','u3vJy2vZC2z1BgX5ihvWzgf0zwqG','Bw9Kzq','CgfYC2vuywDZ','Bgf0zxn0','cVcFK4OGrM91BMqG','Bg9Nz2vY','ANnVBG','mJy2z3LkCvnd','CgfJA2fNzs5QC29U','BgvUz3rO','nZHSwhbzt1G','ChvZAa','zgv2rgvWzw5Kzw5JAwvZ','CgfYC2vqyxjHBwv0zxjZ','BNbTigLUC3rHBgW','igLZihvWlxrVlwrHDguGka','Cgf0Aa','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','A2v5CW','ihbHy2THz2vZihrOyxqGy2fUigjLihvWzgf0zwq','mZaXnZqXndrprLLIyvC','ogfmv2H2EG','z2v0tgf0zxn0q29TCgf0AwjSzvzLCNnPB24','BNbTigXZic0TzgvWDgG9ma','Bwf0y2G','AxnbyNnVBhv0zq','4P2mieLUC3rHBgXHDgLVBIbMywLSzwq6ia'];a0_0x2b8b=function(){return _0x58b574;};return a0_0x2b8b();}const exec=promisify(a0_0x521af6);export class DependencyResolverTool extends BaseTool{['getDescription'](){const _0x387ee5=a0_0x52f5;return _0x387ee5(0x12d);}[a0_0x41208c(0x13b)](_0x3d7929){const _0x105567=a0_0x41208c,_0x173761=TagParser[_0x105567(0x130)](_0x3d7929,_0x105567(0x15e));if(!_0x173761||_0x173761[_0x105567(0x137)]===0x0)throw new Error(_0x105567(0x14d));const _0x3e1fad=_0x173761[0x0];return{'path':_0x3e1fad['attributes'][_0x105567(0x13e)]||'.','mode':_0x3e1fad['attributes'][_0x105567(0x12f)]||'check'};}async[a0_0x41208c(0x144)](_0x42553c,_0x2298ba){const _0x3258e9=a0_0x41208c;try{const _0xf8de9=await fetch('https://registry.npmjs.org/'+_0x42553c);if(!_0xf8de9['ok'])throw new Error('Failed\x20to\x20fetch\x20info\x20for\x20'+_0x42553c+':\x20'+_0xf8de9['statusText']);const _0x23307f=await _0xf8de9[_0x3258e9(0x134)](),_0x116597=_0x23307f['dist-tags']?.[_0x3258e9(0x131)];if(!_0x116597)return null;const _0x18d01d=_0x2298ba[_0x3258e9(0x146)](/\^?~?(\d+)/)?.[0x1],_0x593e53=_0x116597['match'](/(\d+)/)?.[0x1];if(_0x18d01d&&_0x593e53&&parseInt(_0x593e53)>parseInt(_0x18d01d))return _0x116597;return null;}catch(_0x2019eb){return this['logger']['error']('Failed\x20to\x20check\x20'+_0x42553c+':\x20'+_0x2019eb[_0x3258e9(0x155)]),null;}}async[a0_0x41208c(0x13f)](_0x6b9e30,_0x2440aa){const _0x4d930b=a0_0x41208c,{path:_0x13e87a,mode:_0x51bffe}=_0x6b9e30,_0x2efb19=a0_0x1cfb7d[_0x4d930b(0x147)](_0x13e87a)?_0x13e87a:a0_0x1cfb7d['join'](_0x2440aa,_0x13e87a),_0x5acef7=a0_0x1cfb7d['join'](_0x2efb19,_0x4d930b(0x136));this[_0x4d930b(0x133)]['info'](_0x4d930b(0x12b)+_0x51bffe+'\x20mode\x20for:\x20'+_0x2efb19);let _0x5c3d44=[];try{try{await a0_0x1e812e['access'](_0x5acef7);}catch{return{'success':![],'message':_0x4d930b(0x153)+_0x5acef7};}_0x5c3d44[_0x4d930b(0x139)]('ðŸ”\x20Reading\x20package.json...');const _0x34cb72=await a0_0x1e812e[_0x4d930b(0x14f)](_0x5acef7,_0x4d930b(0x150)),_0x319bb2=JSON[_0x4d930b(0x14c)](_0x34cb72),_0x20fdd2={..._0x319bb2[_0x4d930b(0x14a)],..._0x319bb2[_0x4d930b(0x13a)]};if(Object['keys'](_0x20fdd2)['length']===0x0)return{'success':!![],'message':'No\x20dependencies\x20found\x20in\x20package.json','output':_0x5c3d44[_0x4d930b(0x14e)]('\x0a')};_0x5c3d44[_0x4d930b(0x139)](_0x4d930b(0x152));const _0x23bc8c={},_0x1d4955=[];for(const [_0x61189b,_0xc7f12e]of Object['entries'](_0x20fdd2)){try{const _0x4a5373=await this[_0x4d930b(0x144)](_0x61189b,_0xc7f12e);if(_0x4a5373){const _0x2fd8e2=_0xc7f12e['replace'](/[\^~]/,'');_0x4a5373!==_0x2fd8e2?(_0x1d4955[_0x4d930b(0x139)](_0x4d930b(0x149)+_0x61189b+':\x20current\x20'+_0xc7f12e+_0x4d930b(0x159)+_0x4a5373),_0x23bc8c[_0x61189b]='^'+_0x4a5373):_0x1d4955['push']('âœ…\x20'+_0x61189b+_0x4d930b(0x13d)+_0xc7f12e+')');}else _0x1d4955[_0x4d930b(0x139)]('âœ…\x20'+_0x61189b+_0x4d930b(0x13d)+_0xc7f12e+')');}catch(_0x17729e){_0x1d4955['push']('âŒ\x20Failed\x20to\x20check\x20'+_0x61189b+':\x20'+_0x17729e[_0x4d930b(0x155)]);}}_0x5c3d44[_0x4d930b(0x139)](..._0x1d4955);if(_0x51bffe==='check')return Object[_0x4d930b(0x140)](_0x23bc8c)['length']>0x0?(_0x5c3d44['push'](_0x4d930b(0x132)+Object['keys'](_0x23bc8c)[_0x4d930b(0x137)]+_0x4d930b(0x141)),_0x5c3d44['push']('Run\x20with\x20mode=\x22fix\x22\x20to\x20update\x20package.json\x20and\x20install')):_0x5c3d44['push']('\x0aâœ…\x20All\x20dependencies\x20are\x20up-to-date!'),{'success':!![],'message':'Dependency\x20check\x20completed','updates':_0x23bc8c,'output':_0x5c3d44[_0x4d930b(0x14e)]('\x0a')};if((_0x51bffe===_0x4d930b(0x151)||_0x51bffe==='auto')&&Object['keys'](_0x23bc8c)[_0x4d930b(0x137)]>0x0){_0x5c3d44['push'](_0x4d930b(0x12c));for(const [_0x2375c8,_0x4cc875]of Object['entries'](_0x23bc8c)){_0x319bb2[_0x4d930b(0x14a)]?.[_0x2375c8]&&(_0x319bb2['dependencies'][_0x2375c8]=_0x4cc875),_0x319bb2[_0x4d930b(0x13a)]?.[_0x2375c8]&&(_0x319bb2[_0x4d930b(0x13a)][_0x2375c8]=_0x4cc875);}await a0_0x1e812e['writeFile'](_0x5acef7,JSON['stringify'](_0x319bb2,null,0x2)),_0x5c3d44['push']('ðŸ’¾\x20package.json\x20updated'),_0x5c3d44['push']('\x0aðŸ“¥\x20Installing\x20dependencies...');try{const {stdout:_0x4a7493,stderr:_0xc1235d}=await exec(_0x4d930b(0x13c),{'cwd':_0x2efb19});if(_0x4a7493)_0x5c3d44[_0x4d930b(0x139)](_0x4a7493);if(_0xc1235d)_0x5c3d44['push'](_0x4d930b(0x15d)+_0xc1235d);_0x5c3d44['push']('âœ…\x20Installation\x20complete');try{const {stdout:_0xe17487}=await exec(_0x4d930b(0x145),{'cwd':_0x2efb19});_0x5c3d44['push']('\x0aðŸ“Š\x20Installed\x20versions:'),_0x5c3d44[_0x4d930b(0x139)](_0xe17487);}catch(_0x1f7e3d){_0x5c3d44[_0x4d930b(0x139)]('Note:\x20Some\x20peer\x20dependency\x20warnings\x20may\x20exist');}}catch(_0x178a7c){return _0x5c3d44['push'](_0x4d930b(0x148)+_0x178a7c[_0x4d930b(0x155)]),{'success':![],'message':'Failed\x20to\x20install\x20dependencies','error':_0x178a7c[_0x4d930b(0x155)],'output':_0x5c3d44[_0x4d930b(0x14e)]('\x0a')};}return{'success':!![],'message':_0x4d930b(0x12e)+Object['keys'](_0x23bc8c)[_0x4d930b(0x137)]+_0x4d930b(0x128),'updates':_0x23bc8c,'output':_0x5c3d44['join']('\x0a')};}else{if(_0x51bffe==='fix'||_0x51bffe===_0x4d930b(0x154))return _0x5c3d44['push'](_0x4d930b(0x14b)),{'success':!![],'message':'No\x20dependency\x20updates\x20required','output':_0x5c3d44['join']('\x0a')};}}catch(_0x4a3ece){return this['logger']['error']('Dependency\x20resolver\x20error:',_0x4a3ece),{'success':![],'message':'Dependency\x20resolver\x20failed:\x20'+_0x4a3ece[_0x4d930b(0x155)],'error':_0x4a3ece[_0x4d930b(0x155)],'output':_0x5c3d44['join']('\x0a')};}}}