function a0_0x1fb3(){const _0x4a8e74=['C3bSAxq','Aw5JBhvKzxm','Cgf0DgvYBG','mti3mNPjwKHruq','C3rHCNrZv2L0Aa','otKXmtnsAundtva','rxHLy3v0Aw5NigzPBguGDhjLzsbJB21Tyw5KihDPDgGGCgfYyw1LDgvYCZO','ywn0Aw9U','zM9YrwfJAa','BwvZC2fNzq','Bg9Nz2vY','DMvUzg9Y','rxjYB3iGzxHLy3v0Aw5NigzPBguGDhjLzsbJB21Tyw5Kia','z2v0rgvZy3jPChrPB24','BgvUz3rO','AwDUB3jLrgLYCW','z2vUzxjHDguTDhjLzq','CMvSyxrPDMu','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','ugfYC2LUzYbMAwXLihrYzwuGCgfYyw1LDgvYCYb3AxrOifrHz1bHCNnLCG','zgLY','mteZndKZmLzPrLLitq','lM51Ehq','BMfTzq','DhLWzq','vw5RBM93BIbMAwXLihrYzwuGy29TBwfUzdOG','zgLYzwn0B3j5','CxvLCNK','AxneAxjLy3rVCNK','mZb6BKz4ELm','ChvZAa','AwDUB3jLlwrPCNm','C2HVDY1MAwXLCW','r2vUzxjHDgLUzYbMAwXLihrYzwuGzM9YoIa','mJqYotG3ngDLu3HdrW','Aw5MBW','rxjYB3iGCgfYC2LUzYbMAwXLihrYzwuGCgfYyw1LDgvYCZO','mJyYmZy4ng5Jze5kEa','y29TBwfUzhm','zw52','tM8GzMLSzsb0CMvLignVBw1HBMrZihnWzwnPzMLLza','icaGia','zgvMyxvSDeLNBM9YzurPCNm','CgfYC2vqyxjHBwv0zxjZ','yMfZzw5HBwu','zgLZDa','lMDPDa','lM1HCa','y2HPBgrYzw4','zxjYB3i','4PsC4Psa4Psaia','nLbgtwLrzq','mtCZmdfzzwPxwM0','odmYmZK1meTLtLHZra','yxr0CMLIDxrLCW','zMLSDgvY','z2vUzxjHDgvuCMvL','zMfSC2u','nZu2nZy2nev6u2fUBa','zgvMyxvSDeLNBM9Yzuv4Dhm','C2vW','CMvZB2X2zvbHDgG','rxjYB3iGyNvPBgrPBMCGDhjLzsbMB3iG'];a0_0x1fb3=function(){return _0x4a8e74;};return a0_0x1fb3();}function a0_0x1245(_0x122485,_0x4b131c){const _0x1fb3b0=a0_0x1fb3();return a0_0x1245=function(_0x12459e,_0x1d1b0d){_0x12459e=_0x12459e-0x1b6;let _0x21f591=_0x1fb3b0[_0x12459e];if(a0_0x1245['XpKcSr']===undefined){var _0x21b6a0=function(_0x46ce43){const _0xb7430='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1cddd6='',_0x3454d7='';for(let _0x5eff6f=0x0,_0x1af10d,_0x18f545,_0xd6bf56=0x0;_0x18f545=_0x46ce43['charAt'](_0xd6bf56++);~_0x18f545&&(_0x1af10d=_0x5eff6f%0x4?_0x1af10d*0x40+_0x18f545:_0x18f545,_0x5eff6f++%0x4)?_0x1cddd6+=String['fromCharCode'](0xff&_0x1af10d>>(-0x2*_0x5eff6f&0x6)):0x0){_0x18f545=_0xb7430['indexOf'](_0x18f545);}for(let _0x1bc293=0x0,_0x21b783=_0x1cddd6['length'];_0x1bc293<_0x21b783;_0x1bc293++){_0x3454d7+='%'+('00'+_0x1cddd6['charCodeAt'](_0x1bc293)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3454d7);};a0_0x1245['aKXCjO']=_0x21b6a0,_0x122485=arguments,a0_0x1245['XpKcSr']=!![];}const _0xcc75d=_0x1fb3b0[0x0],_0x393645=_0x12459e+_0xcc75d,_0x47d258=_0x122485[_0x393645];return!_0x47d258?(_0x21f591=a0_0x1245['aKXCjO'](_0x21f591),_0x122485[_0x393645]=_0x21f591):_0x21f591=_0x47d258,_0x21f591;},a0_0x1245(_0x122485,_0x4b131c);}const a0_0x5b0843=a0_0x1245;(function(_0x2c88b0,_0x453a68){const _0x467655=a0_0x1245,_0x3c8217=_0x2c88b0();while(!![]){try{const _0x586ce9=-parseInt(_0x467655(0x1e7))/0x1+-parseInt(_0x467655(0x1b8))/0x2+parseInt(_0x467655(0x1c7))/0x3*(parseInt(_0x467655(0x1d5))/0x4)+parseInt(_0x467655(0x1c8))/0x5+parseInt(_0x467655(0x1c6))/0x6*(parseInt(_0x467655(0x1d7))/0x7)+-parseInt(_0x467655(0x1cd))/0x8+parseInt(_0x467655(0x1f4))/0x9*(parseInt(_0x467655(0x1ef))/0xa);if(_0x586ce9===_0x453a68)break;else _0x3c8217['push'](_0x3c8217['shift']());}catch(_0xeda6ca){_0x3c8217['push'](_0x3c8217['shift']());}}}(a0_0x1fb3,0xe3121));import{promises as a0_0x46ce43}from'fs';import a0_0xb7430 from'path';import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';export class FileTreeTool extends BaseTool{constructor(_0x1cddd6,_0x3454d7){const _0x3275c8=a0_0x1245;super(_0x1cddd6,_0x3454d7),this[_0x3275c8(0x1bd)]=['.loxia_state','node_modules',_0x3275c8(0x1c1),_0x3275c8(0x1c0),'build','coverage','.next',_0x3275c8(0x1e8),'.cache',_0x3275c8(0x1dd),'bower_components','.vscode','.idea','__pycache__','venv',_0x3275c8(0x1ba),'.env'],this['defaultIgnoreExts']=[_0x3275c8(0x1c2),'.min.js','.min.css','.log','.tmp','.temp'];}[a0_0x5b0843(0x1df)](){return'\x0aFile\x20Tree\x20Tool:\x20Generates\x20a\x20hierarchical\x20tree\x20representation\x20of\x20your\x20project\x27s\x20file\x20structure.\x0a\x0aUsage:\x0a[tool\x20id=\x22file-tree\x22]\x0a[generate-tree\x20\x0a\x20\x20dir=\x22path/to/directory\x22\x20\x0a\x20\x20max-depth=\x223\x22\x20\x0a\x20\x20ignore-dirs=\x22node_modules,dist,.git\x22\x20\x0a\x20\x20ignore-exts=\x22.map,.min.js\x22\x20\x0a\x20\x20show-files=\x22true\x22\x20\x0a\x20\x20pattern=\x22*.js,*.ts\x22\x0a/]\x0a[/tool]\x0a\x0aParameters:\x0a-\x20dir:\x20Directory\x20to\x20scan\x20(defaults\x20to\x20project\x20root)\x0a-\x20max-depth:\x20Maximum\x20depth\x20to\x20scan\x20(defaults\x20to\x203)\x0a-\x20ignore-dirs:\x20Comma-separated\x20list\x20of\x20directories\x20to\x20ignore\x0a-\x20ignore-exts:\x20Comma-separated\x20list\x20of\x20file\x20extensions\x20to\x20ignore\x0a-\x20show-files:\x20Whether\x20to\x20show\x20files\x20(defaults\x20to\x20true)\x0a-\x20pattern:\x20Optional\x20glob\x20pattern\x20to\x20filter\x20files\x20(e.g.,\x20\x22*.js,*.ts\x22)\x0a\x0aExamples:\x0a1.\x20Generate\x20a\x20basic\x20tree\x20of\x20the\x20project:\x0a[tool\x20id=\x22file-tree\x22]\x0a[generate-tree\x20/]\x0a[/tool]\x0a\x0a2.\x20Generate\x20a\x20detailed\x20tree\x20with\x20custom\x20options:\x0a[tool\x20id=\x22file-tree\x22]\x0a[generate-tree\x20\x0a\x20\x20dir=\x22src\x22\x20\x0a\x20\x20max-depth=\x224\x22\x20\x0a\x20\x20ignore-dirs=\x22tests,fixtures\x22\x20\x0a\x20\x20show-files=\x22true\x22\x20\x0a\x20\x20pattern=\x22*.js,*.jsx\x22\x0a/]\x0a[/tool]\x0a\x0aThe\x20tool\x20automatically\x20ignores\x20common\x20dependency\x20and\x20build\x20directories\x20like\x20node_modules,\x20.git,\x20dist,\x20etc.\x0a\x20\x20\x20\x20';}[a0_0x5b0843(0x1be)](_0x5eff6f){const _0x118b34=a0_0x5b0843;this['logger']['info'](_0x118b34(0x1e5));const _0x1af10d={'commands':[]};try{const _0x18f545=TagParser[_0x118b34(0x1ed)](_0x5eff6f,'generate-tree');for(const _0xd6bf56 of _0x18f545){_0x1af10d['commands'][_0x118b34(0x1f0)]({'action':'generate-tree','dir':_0xd6bf56['attributes'][_0x118b34(0x1e6)]||'.','maxDepth':parseInt(_0xd6bf56['attributes']['max-depth']||'3',0xa),'ignoreDirs':(_0xd6bf56['attributes'][_0x118b34(0x1f1)]||'')[_0x118b34(0x1d2)](',')['filter'](Boolean),'ignoreExts':(_0xd6bf56['attributes']['ignore-exts']||'')['split'](',')[_0x118b34(0x1ca)](Boolean),'showFiles':_0xd6bf56[_0x118b34(0x1c9)][_0x118b34(0x1f2)]!==_0x118b34(0x1cc),'pattern':(_0xd6bf56['attributes']['pattern']||'')[_0x118b34(0x1d2)](',')[_0x118b34(0x1ca)](Boolean)});}return _0x1af10d;}catch(_0x1bc293){return this[_0x118b34(0x1dc)]['error'](_0x118b34(0x1b7),_0x1bc293),{'commands':[]};}}async[a0_0x5b0843(0x1e4)](_0x21b783,_0x310849){const _0x37e7c6=a0_0x5b0843;this[_0x37e7c6(0x1dc)]['info'](_0x37e7c6(0x1d8),_0x21b783);const _0x5ef384=[];if(!_0x21b783[_0x37e7c6(0x1b9)]||_0x21b783[_0x37e7c6(0x1b9)]['length']===0x0)throw new Error(_0x37e7c6(0x1bb));for(const _0x6075c of _0x21b783['commands']){try{switch(_0x6075c[_0x37e7c6(0x1d9)]){case _0x37e7c6(0x1e2):_0x5ef384[_0x37e7c6(0x1f0)](await this[_0x37e7c6(0x1cb)](_0x6075c[_0x37e7c6(0x1e6)],_0x6075c['maxDepth'],_0x6075c[_0x37e7c6(0x1e1)],_0x6075c['ignoreExts'],_0x6075c['showFiles'],_0x6075c[_0x37e7c6(0x1d4)],_0x310849));break;default:throw new Error(_0x37e7c6(0x1eb)+_0x6075c[_0x37e7c6(0x1d9)]);}}catch(_0x103a7f){this[_0x37e7c6(0x1dc)]['error'](_0x37e7c6(0x1de)+_0x6075c['action']+':',_0x103a7f),_0x5ef384[_0x37e7c6(0x1f0)]({'action':_0x6075c[_0x37e7c6(0x1d9)],'success':![],'error':_0x103a7f[_0x37e7c6(0x1db)]});}}return{'results':_0x5ef384};}async['generateTree'](_0x43dc23,_0x5eb8bf,_0x4a26bc,_0x39f393,_0x309219,_0x592a2b,_0x2f9879){const _0x417e36=a0_0x5b0843;this[_0x417e36(0x1dc)][_0x417e36(0x1b6)](_0x417e36(0x1f3)+_0x43dc23);const _0x1c0ff8=this[_0x417e36(0x1d0)](_0x43dc23,_0x2f9879),_0x3f4e5c=[...this[_0x417e36(0x1bd)],..._0x4a26bc][_0x417e36(0x1ca)](Boolean),_0xf1e66b=[...this[_0x417e36(0x1ce)],..._0x39f393][_0x417e36(0x1ca)](Boolean),_0x1b32fb=await this['buildTree'](_0x1c0ff8,_0x1c0ff8,0x0,_0x5eb8bf,_0x3f4e5c,_0xf1e66b,_0x309219,_0x592a2b),_0x21ef42=this['formatTree'](_0x1b32fb);return{'action':'generate-tree','path':_0x43dc23,'resolvedPath':_0x1c0ff8,'tree':_0x21ef42,'success':!![]};}async['buildTree'](_0x572281,_0x2271bf,_0x52bb38,_0x330e65,_0x25ef17,_0x55333a,_0x286d94,_0x29c953){const _0x55d845=a0_0x5b0843;if(_0x52bb38>_0x330e65)return null;try{const _0xb1c1fb=await a0_0x46ce43['readdir'](_0x2271bf,{'withFileTypes':!![]}),_0x461b07={'name':a0_0xb7430['basename'](_0x2271bf),'path':a0_0xb7430[_0x55d845(0x1e3)](_0x572281,_0x2271bf),'type':'directory','children':[]};for(const _0x59c09f of _0xb1c1fb){const _0x41d62a=a0_0xb7430['join'](_0x2271bf,_0x59c09f['name']),_0x1aeb48=a0_0xb7430['relative'](_0x572281,_0x41d62a);if(_0x59c09f[_0x55d845(0x1ee)]()){if(_0x25ef17['some'](_0x1a62b1=>_0x59c09f['name']===_0x1a62b1||_0x1aeb48['split'](a0_0xb7430[_0x55d845(0x1cf)])[_0x55d845(0x1d3)](_0x1a62b1)))continue;const _0x523477=await this['buildTree'](_0x572281,_0x41d62a,_0x52bb38+0x1,_0x330e65,_0x25ef17,_0x55333a,_0x286d94,_0x29c953);_0x523477&&(_0x523477[_0x55d845(0x1c3)][_0x55d845(0x1e0)]>0x0||_0x52bb38===0x0)&&_0x461b07[_0x55d845(0x1c3)][_0x55d845(0x1f0)](_0x523477);}else{if(_0x59c09f['isFile']()&&_0x286d94){const _0x48ebed=a0_0xb7430['extname'](_0x59c09f['name']);if(_0x55333a[_0x55d845(0x1d3)](_0x48ebed))continue;if(_0x29c953&&_0x29c953['length']>0x0){const _0x2b8265=_0x29c953['some'](_0x14b4d4=>{const _0xa9efd4=_0x55d845;return _0x14b4d4[_0xa9efd4(0x1d6)]('*.')?_0x59c09f['name']['endsWith'](_0x14b4d4['substring'](0x1)):_0x59c09f['name']['includes'](_0x14b4d4['replace']('*',''));});if(!_0x2b8265)continue;}_0x461b07[_0x55d845(0x1c3)]['push']({'name':_0x59c09f['name'],'path':_0x1aeb48,'type':'file','ext':_0x48ebed});}}}return _0x461b07[_0x55d845(0x1c3)]['sort']((_0x577c50,_0x2c3a54)=>{const _0x377e76=_0x55d845;if(_0x577c50[_0x377e76(0x1ea)]===_0x2c3a54['type'])return _0x577c50[_0x377e76(0x1e9)]['localeCompare'](_0x2c3a54[_0x377e76(0x1e9)]);return _0x577c50[_0x377e76(0x1ea)]===_0x377e76(0x1ec)?-0x1:0x1;}),_0x461b07;}catch(_0x44376e){return this['logger'][_0x55d845(0x1c4)](_0x55d845(0x1d1)+_0x2271bf+':',_0x44376e),{'name':a0_0xb7430[_0x55d845(0x1bf)](_0x2271bf),'path':a0_0xb7430['relative'](_0x572281,_0x2271bf),'type':'directory','error':_0x44376e[_0x55d845(0x1db)],'children':[]};}}['formatTree'](_0x203db3,_0x442885='',_0x47dbe5=!![]){const _0x5194db=a0_0x5b0843;if(!_0x203db3)return'';const _0x3474e4=_0x5194db(0x1c5),_0x1e4ce8='└──\x20',_0x45c3ff='│\x20\x20\x20',_0x35d052=_0x5194db(0x1bc);let _0x5f502d=''+_0x442885+(_0x47dbe5?_0x1e4ce8:_0x3474e4)+_0x203db3['name']+'\x0a';if(_0x203db3[_0x5194db(0x1c3)]&&_0x203db3['children'][_0x5194db(0x1e0)]>0x0){const _0x630e50=_0x442885+(_0x47dbe5?_0x35d052:_0x45c3ff);_0x203db3['children'][_0x5194db(0x1da)]((_0xccf2be,_0x18979b)=>{const _0x2d988c=_0x5194db,_0x55d7db=_0x18979b===_0x203db3[_0x2d988c(0x1c3)]['length']-0x1;_0x5f502d+=this['formatTree'](_0xccf2be,_0x630e50,_0x55d7db);});}return _0x5f502d;}[a0_0x5b0843(0x1d0)](_0x22b306,_0x3fa287){if(a0_0xb7430['isAbsolute'](_0x22b306))return _0x22b306;return a0_0xb7430['resolve'](_0x3fa287,_0x22b306);}}