function a0_0x33dc(_0x180923,_0x149b51){const _0x4b7d34=a0_0x4b7d();return a0_0x33dc=function(_0x33dcb8,_0x9faedc){_0x33dcb8=_0x33dcb8-0x17f;let _0x13a3ff=_0x4b7d34[_0x33dcb8];if(a0_0x33dc['EobXzc']===undefined){var _0x2bff88=function(_0x3e4635){const _0x501a85='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x473d2c='',_0x22309a='';for(let _0x1d05d1=0x0,_0xa5ac1e,_0xb40cae,_0xfb3260=0x0;_0xb40cae=_0x3e4635['charAt'](_0xfb3260++);~_0xb40cae&&(_0xa5ac1e=_0x1d05d1%0x4?_0xa5ac1e*0x40+_0xb40cae:_0xb40cae,_0x1d05d1++%0x4)?_0x473d2c+=String['fromCharCode'](0xff&_0xa5ac1e>>(-0x2*_0x1d05d1&0x6)):0x0){_0xb40cae=_0x501a85['indexOf'](_0xb40cae);}for(let _0x5cec3d=0x0,_0x2b2a52=_0x473d2c['length'];_0x5cec3d<_0x2b2a52;_0x5cec3d++){_0x22309a+='%'+('00'+_0x473d2c['charCodeAt'](_0x5cec3d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x22309a);};a0_0x33dc['rpwZul']=_0x2bff88,_0x180923=arguments,a0_0x33dc['EobXzc']=!![];}const _0x1bb901=_0x4b7d34[0x0],_0x21a69b=_0x33dcb8+_0x1bb901,_0x13a893=_0x180923[_0x21a69b];return!_0x13a893?(_0x13a3ff=a0_0x33dc['rpwZul'](_0x13a3ff),_0x180923[_0x21a69b]=_0x13a3ff):_0x13a3ff=_0x13a893,_0x13a3ff;},a0_0x33dc(_0x180923,_0x149b51);}const a0_0x5d34de=a0_0x33dc;(function(_0x4c51a5,_0x3d818c){const _0x97da8=a0_0x33dc,_0x2853b6=_0x4c51a5();while(!![]){try{const _0x54a686=parseInt(_0x97da8(0x19a))/0x1+-parseInt(_0x97da8(0x19b))/0x2+parseInt(_0x97da8(0x1b6))/0x3*(parseInt(_0x97da8(0x183))/0x4)+-parseInt(_0x97da8(0x192))/0x5*(parseInt(_0x97da8(0x1b9))/0x6)+-parseInt(_0x97da8(0x197))/0x7+-parseInt(_0x97da8(0x1a7))/0x8+parseInt(_0x97da8(0x1a1))/0x9;if(_0x54a686===_0x3d818c)break;else _0x2853b6['push'](_0x2853b6['shift']());}catch(_0x6a15d2){_0x2853b6['push'](_0x2853b6['shift']());}}}(a0_0x4b7d,0x96ae5));import{promises as a0_0x3e4635}from'fs';import a0_0x501a85 from'path';import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';export class FileTreeTool extends BaseTool{constructor(_0x473d2c,_0x22309a){const _0x8b7074=a0_0x33dc;super(_0x473d2c,_0x22309a),this['defaultIgnoreDirs']=[_0x8b7074(0x1c0),_0x8b7074(0x1be),'.git',_0x8b7074(0x19c),_0x8b7074(0x1c6),'coverage','.next','.nuxt','.cache',_0x8b7074(0x1b0),'bower_components','.vscode',_0x8b7074(0x186),_0x8b7074(0x1ab),'venv','env',_0x8b7074(0x1ae)],this['defaultIgnoreExts']=[_0x8b7074(0x1a9),'.min.js','.min.css','.log','.tmp','.temp'];}[a0_0x5d34de(0x1a4)](){const _0x315493=a0_0x5d34de;return _0x315493(0x1b5);}[a0_0x5d34de(0x194)](_0x1d05d1){const _0x438b58=a0_0x5d34de;this['logger'][_0x438b58(0x1c2)](_0x438b58(0x18a));const _0xa5ac1e={'commands':[]};try{const _0xb40cae=TagParser[_0x438b58(0x193)](_0x1d05d1,'generate-tree');for(const _0xfb3260 of _0xb40cae){_0xa5ac1e['commands']['push']({'action':'generate-tree','dir':_0xfb3260['attributes']['dir']||'.','maxDepth':parseInt(_0xfb3260['attributes']['max-depth']||'3',0xa),'ignoreDirs':(_0xfb3260[_0x438b58(0x1a3)]['ignore-dirs']||'')['split'](',')[_0x438b58(0x190)](Boolean),'ignoreExts':(_0xfb3260['attributes']['ignore-exts']||'')['split'](',')[_0x438b58(0x190)](Boolean),'showFiles':_0xfb3260[_0x438b58(0x1a3)][_0x438b58(0x185)]!=='false','pattern':(_0xfb3260['attributes'][_0x438b58(0x1a6)]||'')['split'](',')['filter'](Boolean)});}return _0xa5ac1e;}catch(_0x5cec3d){return this[_0x438b58(0x1bd)][_0x438b58(0x1b1)](_0x438b58(0x1aa),_0x5cec3d),{'commands':[]};}}async['executeWithParameters'](_0x2b2a52,_0xa144a2){const _0x27d5e3=a0_0x5d34de;this[_0x27d5e3(0x1bd)]['info'](_0x27d5e3(0x191),_0x2b2a52);const _0x2a4eed=[];if(!_0x2b2a52['commands']||_0x2b2a52[_0x27d5e3(0x18c)][_0x27d5e3(0x1c1)]===0x0)throw new Error(_0x27d5e3(0x196));for(const _0x4b17ab of _0x2b2a52[_0x27d5e3(0x18c)]){try{switch(_0x4b17ab['action']){case _0x27d5e3(0x1b8):_0x2a4eed['push'](await this[_0x27d5e3(0x195)](_0x4b17ab['dir'],_0x4b17ab[_0x27d5e3(0x188)],_0x4b17ab[_0x27d5e3(0x1bb)],_0x4b17ab['ignoreExts'],_0x4b17ab[_0x27d5e3(0x19d)],_0x4b17ab['pattern'],_0xa144a2));break;default:throw new Error(_0x27d5e3(0x1ad)+_0x4b17ab['action']);}}catch(_0x2658c1){this['logger']['error'](_0x27d5e3(0x19f)+_0x4b17ab['action']+':',_0x2658c1),_0x2a4eed['push']({'action':_0x4b17ab[_0x27d5e3(0x1ac)],'success':![],'error':_0x2658c1[_0x27d5e3(0x1a5)]});}}return{'results':_0x2a4eed};}async['generateTree'](_0x473989,_0xc3a709,_0x3d4f2e,_0x32b18f,_0x16f124,_0x15b4ec,_0x4b93e7){const _0x34f839=a0_0x5d34de;this[_0x34f839(0x1bd)][_0x34f839(0x1c2)](_0x34f839(0x1c5)+_0x473989);const _0x10b7ca=this['resolvePath'](_0x473989,_0x4b93e7),_0x3e6e25=[...this[_0x34f839(0x1a2)],..._0x3d4f2e][_0x34f839(0x190)](Boolean),_0x3e88eb=[...this[_0x34f839(0x1b4)],..._0x32b18f][_0x34f839(0x190)](Boolean),_0xe86730=await this[_0x34f839(0x1a0)](_0x10b7ca,_0x10b7ca,0x0,_0xc3a709,_0x3e6e25,_0x3e88eb,_0x16f124,_0x15b4ec),_0x36276f=this[_0x34f839(0x181)](_0xe86730);return{'action':_0x34f839(0x1b8),'path':_0x473989,'resolvedPath':_0x10b7ca,'tree':_0x36276f,'success':!![]};}async['buildTree'](_0x41d643,_0x1b522c,_0x2524ed,_0x4a7d76,_0x4fdb9b,_0x1ea921,_0x3b71c8,_0x408651){const _0x23a1e5=a0_0x5d34de;if(_0x2524ed>_0x4a7d76)return null;try{const _0x4b1960=await a0_0x3e4635[_0x23a1e5(0x1a8)](_0x1b522c,{'withFileTypes':!![]}),_0x5795c3={'name':a0_0x501a85[_0x23a1e5(0x1af)](_0x1b522c),'path':a0_0x501a85[_0x23a1e5(0x180)](_0x41d643,_0x1b522c),'type':_0x23a1e5(0x182),'children':[]};for(const _0x746e17 of _0x4b1960){const _0x280c1f=a0_0x501a85['join'](_0x1b522c,_0x746e17[_0x23a1e5(0x19e)]),_0x2f0898=a0_0x501a85[_0x23a1e5(0x180)](_0x41d643,_0x280c1f);if(_0x746e17['isDirectory']()){if(_0x4fdb9b['some'](_0x4cdac3=>_0x746e17['name']===_0x4cdac3||_0x2f0898[_0x23a1e5(0x1ba)](a0_0x501a85[_0x23a1e5(0x18d)])[_0x23a1e5(0x17f)](_0x4cdac3)))continue;const _0x8e4aa3=await this['buildTree'](_0x41d643,_0x280c1f,_0x2524ed+0x1,_0x4a7d76,_0x4fdb9b,_0x1ea921,_0x3b71c8,_0x408651);_0x8e4aa3&&(_0x8e4aa3['children']['length']>0x0||_0x2524ed===0x0)&&_0x5795c3[_0x23a1e5(0x1bf)][_0x23a1e5(0x199)](_0x8e4aa3);}else{if(_0x746e17['isFile']()&&_0x3b71c8){const _0x1d595b=a0_0x501a85[_0x23a1e5(0x18f)](_0x746e17[_0x23a1e5(0x19e)]);if(_0x1ea921[_0x23a1e5(0x17f)](_0x1d595b))continue;if(_0x408651&&_0x408651['length']>0x0){const _0x31f165=_0x408651[_0x23a1e5(0x1c3)](_0x275570=>{const _0x5d5365=_0x23a1e5;return _0x275570[_0x5d5365(0x1bc)]('*.')?_0x746e17['name'][_0x5d5365(0x198)](_0x275570['substring'](0x1)):_0x746e17['name']['includes'](_0x275570['replace']('*',''));});if(!_0x31f165)continue;}_0x5795c3[_0x23a1e5(0x1bf)][_0x23a1e5(0x199)]({'name':_0x746e17['name'],'path':_0x2f0898,'type':'file','ext':_0x1d595b});}}}return _0x5795c3['children'][_0x23a1e5(0x18e)]((_0x106bc5,_0x35f689)=>{const _0x12cd0a=_0x23a1e5;if(_0x106bc5[_0x12cd0a(0x1b7)]===_0x35f689[_0x12cd0a(0x1b7)])return _0x106bc5[_0x12cd0a(0x19e)][_0x12cd0a(0x1b3)](_0x35f689['name']);return _0x106bc5['type']==='directory'?-0x1:0x1;}),_0x5795c3;}catch(_0x4424c4){return this[_0x23a1e5(0x1bd)][_0x23a1e5(0x1b1)](_0x23a1e5(0x18b)+_0x1b522c+':',_0x4424c4),{'name':a0_0x501a85['basename'](_0x1b522c),'path':a0_0x501a85[_0x23a1e5(0x180)](_0x41d643,_0x1b522c),'type':'directory','error':_0x4424c4[_0x23a1e5(0x1a5)],'children':[]};}}['formatTree'](_0x447b24,_0x47d412='',_0xecdad0=!![]){const _0x2426cb=a0_0x5d34de;if(!_0x447b24)return'';const _0x2b9572='├──\x20',_0x35a2f4=_0x2426cb(0x1b2),_0x286212=_0x2426cb(0x189),_0x44a7d2=_0x2426cb(0x187);let _0x16e778=''+_0x47d412+(_0xecdad0?_0x35a2f4:_0x2b9572)+_0x447b24[_0x2426cb(0x19e)]+'\x0a';if(_0x447b24[_0x2426cb(0x1bf)]&&_0x447b24['children'][_0x2426cb(0x1c1)]>0x0){const _0x1521aa=_0x47d412+(_0xecdad0?_0x44a7d2:_0x286212);_0x447b24['children'][_0x2426cb(0x184)]((_0x328b68,_0x291c68)=>{const _0x9a509a=_0x2426cb,_0xffa562=_0x291c68===_0x447b24[_0x9a509a(0x1bf)][_0x9a509a(0x1c1)]-0x1;_0x16e778+=this[_0x9a509a(0x181)](_0x328b68,_0x1521aa,_0xffa562);});}return _0x16e778;}['resolvePath'](_0x468edb,_0x236866){const _0x3a53d0=a0_0x5d34de;if(a0_0x501a85['isAbsolute'](_0x468edb))return _0x468edb;return a0_0x501a85[_0x3a53d0(0x1c4)](_0x236866,_0x468edb);}}function a0_0x4b7d(){const _0x1b268d=['C3rHCNrZv2L0Aa','Bg9Nz2vY','BM9Kzv9TB2r1BgvZ','y2HPBgrYzw4','lMXVEgLHx3n0yxrL','BgvUz3rO','Aw5MBW','C29Tzq','CMvZB2X2zq','r2vUzxjHDgLUzYbMAwXLihrYzwuGzM9YoIa','yNvPBgq','Aw5JBhvKzxm','CMvSyxrPDMu','zM9YBwf0vhjLzq','zgLYzwn0B3j5','ndbjvNjqrNG','zM9YrwfJAa','C2HVDY1MAwXLCW','lMLKzwe','icaGia','Bwf4rgvWDgG','4PscicaG','ugfYC2LUzYbMAwXLihrYzwuGCgfYyw1LDgvYCYb3AxrOifrHz1bHCNnLCG','rxjYB3iGyNvPBgrPBMCGDhjLzsbMB3iG','y29TBwfUzhm','C2vW','C29YDa','zxH0BMfTzq','zMLSDgvY','rxHLy3v0Aw5NigzPBguGDhjLzsbJB21Tyw5KihDPDgGGCgfYyw1LDgvYCZO','ndm4mtuWnvvjuND1Ba','CxvLCNK','CgfYC2vqyxjHBwv0zxjZ','z2vUzxjHDgvuCMvL','tM8GzMLSzsb0CMvLignVBw1HBMrZihnWzwnPzMLLza','ode2ota0mNbLvgHzAG','zw5KC1DPDgG','ChvZAa','mte0nZKZnwnzq2fxuW','mtaWnte1mLjMDwHMBW','zgLZDa','C2HVD0zPBgvZ','BMfTzq','rxjYB3iGzxHLy3v0Aw5NigzPBguGDhjLzsbJB21Tyw5Kia','yNvPBgruCMvL','mJaXmJGXnJDWDefiq3q','zgvMyxvSDeLNBM9YzurPCNm','yxr0CMLIDxrLCW','z2v0rgvZy3jPChrPB24','BwvZC2fNzq','Cgf0DgvYBG','ota4mtqWoerPteTVBq','CMvHzgrPCG','lM1HCa','rxjYB3iGCgfYC2LUzYbMAwXLihrYzwuGCgfYyw1LDgvYCZO','x19WEwnHy2HLx18','ywn0Aw9U','vw5RBM93BIbMAwXLihrYzwuGy29TBwfUzdOG','lMvUDG','yMfZzw5HBwu','DMvUzg9Y','zxjYB3i','4Psu4Psa4Psaia','Bg9JywXLq29TCgfYzq','zgvMyxvSDeLNBM9Yzuv4Dhm','cKzPBguGvhjLzsbuB29SoIbhzw5LCMf0zxmGysbOAwvYyxjJAgLJywWGDhjLzsbYzxbYzxnLBNrHDgLVBIbVzIb5B3vYihbYB2PLy3qNCYbMAwXLihn0CNvJDhvYzs4kcLvZywDLoGPBDg9VBcbPzd0IzMLSzs10CMvLiL0kw2DLBMvYyxrLlxrYzwuGcIaGzgLYpsjWyxrOl3rVl2rPCMvJDg9YEsiGcIaGBwf4lwrLChrOpsiZiIakicbPz25VCMuTzgLYCZ0IBM9Kzv9TB2r1BgvZlgrPC3qSlMDPDciGcIaGAwDUB3jLlwv4Dhm9iI5TyxaSlM1PBI5QCYiGcIaGC2HVDY1MAwXLCZ0IDhj1zsiGcIaGCgf0DgvYBJ0IkI5QCYWQlNrZiGOVxqPBl3rVB2XDcGPqyxjHBwv0zxjZoGOTigrPCJOGrgLYzwn0B3j5ihrVihnJyw4GkgrLzMf1BhrZihrVihbYB2PLy3qGCM9VDcKklsbTyxGTzgvWDgG6ie1HEgLTDw0GzgvWDgGGDg8GC2nHBIaOzgvMyxvSDhmGDg8GmYKklsbPz25VCMuTzgLYCZOGq29TBweTC2vWyxjHDgvKigXPC3qGB2yGzgLYzwn0B3jPzxmGDg8GAwDUB3jLcI0GAwDUB3jLlwv4Dhm6ienVBw1HlxnLCgfYyxrLzcbSAxn0ig9MigzPBguGzxH0zw5ZAw9UCYb0BYbPz25VCMuklsbZAg93lwzPBgvZoIbxAgv0AgvYihrVihnOB3CGzMLSzxmGkgrLzMf1BhrZihrVihrYDwuPcI0GCgf0DgvYBJOGt3b0Aw9UywWGz2XVyIbWyxr0zxjUihrVigzPBhrLCIbMAwXLCYaOzs5NlIWGiIOUANmSkI50CYiPcGPfEgfTCgXLCZOkms4Gr2vUzxjHDguGysbIyxnPyYb0CMvLig9MihrOzsbWCM9Qzwn0oGPBDg9VBcbPzd0IzMLSzs10CMvLiL0kw2DLBMvYyxrLlxrYzwuGl10kwY90B29SxqOkmI4Gr2vUzxjHDguGysbKzxrHAwXLzcb0CMvLihDPDgGGy3vZDg9Tig9WDgLVBNm6cLT0B29SigLKpsjMAwXLlxrYzwuIxqPBz2vUzxjHDguTDhjLzsakicbKAxi9iNnYyYiGcIaGBwf4lwrLChrOpsi0iIakicbPz25VCMuTzgLYCZ0IDgvZDhmSzML4DhvYzxmIiaOGihnOB3CTzMLSzxm9iNrYDwuIiaOGihbHDhrLCM49iIOUANmSkI5QC3GIcI9DcLSVDg9VBf0kcLrOzsb0B29Sigf1Dg9TyxrPy2fSBhKGAwDUB3jLCYbJB21TB24GzgvWzw5Kzw5JEsbHBMqGyNvPBgqGzgLYzwn0B3jPzxmGBgLRzsbUB2rLx21VzhvSzxmSic5NAxqSigrPC3qSigv0yY4kicaGia','mJC0mtu1sMPfuK1e','DhLWzq','z2vUzxjHDguTDhjLzq','nKDNwKLVsW','C3bSAxq','AwDUB3jLrgLYCW'];a0_0x4b7d=function(){return _0x1b268d;};return a0_0x4b7d();}