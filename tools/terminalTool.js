const a0_0x1e4282=a0_0x5a7f;(function(_0x14a2ac,_0x526ef9){const _0x3ca4b3=a0_0x5a7f,_0x3c074a=_0x14a2ac();while(!![]){try{const _0x1f789a=parseInt(_0x3ca4b3(0x91))/0x1*(-parseInt(_0x3ca4b3(0x116))/0x2)+parseInt(_0x3ca4b3(0x104))/0x3+-parseInt(_0x3ca4b3(0x7b))/0x4+parseInt(_0x3ca4b3(0xf9))/0x5*(parseInt(_0x3ca4b3(0xfd))/0x6)+-parseInt(_0x3ca4b3(0x7f))/0x7*(parseInt(_0x3ca4b3(0x11d))/0x8)+parseInt(_0x3ca4b3(0xe6))/0x9+parseInt(_0x3ca4b3(0xb6))/0xa*(parseInt(_0x3ca4b3(0x10e))/0xb);if(_0x1f789a===_0x526ef9)break;else _0x3c074a['push'](_0x3c074a['shift']());}catch(_0x3fd947){_0x3c074a['push'](_0x3c074a['shift']());}}}(a0_0x2ee8,0x8abaa));import{spawn}from'child_process';import{promises as a0_0x10a8a7}from'fs';import a0_0x10e4cb from'path';function a0_0x2ee8(){const _0x3c11f8=['iGOGicaGicaGiaOGicaGicaGicmGrxHLy3v0zsb0AguGy29TBwfUzaOGicaGicaGia','y29TBwfUzhm','A2LSBa','lNLHCM4','ihDPDgGGyxjNCZO','uefusa','q09nu1bfqW','lM5WBs1NBg9IywW','q2HLy2TPBMCGzgv2zwXVCg1LBNqGzw52AxjVBM1LBNq','lM52Bq','z2v0qwn0AxzLu2vZC2LVBNm','q29TBwfUzcbLEgL0zwqGD2L0AcbJB2rLoIa','l3vZCI9ZyMLU','BM9Kzq','y29TBwfUza','u2vZC2LVBIbUB3qGzM91BMq','C2H1DgrVD24','z2v0','BgvUz3rO','cIaGicaGicaGiYbtzxqGzxjYB3iGAgfUzgXPBMCkicaGicaGicaKrxjYB3jby3rPB25qCMvMzxjLBMnLid0Gj0nVBNrPBNvLjWOGicaGicaGiaOGicaGicaGicmGtg9HzcbqB3DLCLnOzwXSihbYB2zPBgvZigLMihrOzxKGzxHPC3qkicaGicaGicbPzIaOvgvZDc1qyxrOicrquK9gsuXflKn1CNjLBNrvC2vYq3vYCMvUDeHVC3qPihSGcIaGicaGicaGicb0CNKGEYakicaGicaGicaGicaGlIaKufjprKLmrs5dDxjYzw50vxnLCKn1CNjLBNriB3n0iaOGicaGicaGicaGFsbJyxrJAcb7iaOGicaGicaGicaGicbxCML0zs1xyxjUAw5NicjgywLSzwqGDg8GBg9HzcbqB3DLCLnOzwXSihbYB2zPBgu6icrFiIakicaGicaGicaGih0kicaGicaGicb9cIaGicaGicaGAwyGkfrLC3qTugf0AcaKufjprKLmrs5dDxjYzw50vxnLCKfSBeHVC3rZksb7iaOGicaGicaGicaGDhj5ihSGcIaGicaGicaGicaGic4Gjfbst0zjteuUq3vYCMvUDfvZzxjbBgXiB3n0CYakicaGicaGicaGih0Gy2f0y2GGEYakicaGicaGicaGicaGv3jPDguTv2fYBMLUzYaIrMfPBgvKihrVigXVywqGug93zxjtAgvSBcbWCM9MAwXLoIaKxYiGcIaGicaGicaGicb9cIaGicaGicaGFqOGicaGicaGiaOGicaGicaGicmGu2v0ihDVCMTPBMCGzgLYzwn0B3j5cIaGicaGicaGu2v0luXVy2f0Aw9Uici','C2HLBgW','g1Tc','mtC0mZG5mfD2Eu5XBG','AMf2yq','BwTMCW','BwvZC2fNzq','zxjYB3i','u0HfteW','y29TBwfUzfrPBwvVDxq','AxnxAw5KB3DZ','DhjPBq','yMLU','zM9YBwf0','C3rKB3v0','Dg9mB3DLCKnHC2u','cVcFM6pVUi8Gien1CNjLBNqGuefusdOk','ChjVAMvJDerPCG','zw52ugf0AeTLEq','y3jLyxrLlxnLC3nPB24','zw5K','CMvIB290','x2nOyw5NzurPCMvJDg9YEq','Bwf0y2G','DgvYBwLUyxrL','ugf0Aa','8j+uJsbezxzLBg9WBwvUDcbfBNzPCM9UBwvUDcbtDgf0DxmGka','vw5RBM93BIb0zxjTAw5HBcbJB21Tyw5KoIa','zgvSic9M','yMXVy2TLzenVBw1HBMrZ','zgfYD2LU','uhL0Ag9Uidm','z2L0ic0TDMvYC2LVBG','D29YA2LUz0rPCMvJDg9YEq','yxzHAwXHyMXL','BgfZDefJDgL2Axr5','sMf2ysbsDw50Aw1L','tM8Gywn0AxzLihbYB2nLC3mGDg8GCMvJzwL2zsbPBNb1Da','zgvZy3jPChrPB24','y2HLy2TfBNzPCM9UBwvUDa','u0Lhvevstq','vxbKyxrLzcbKzwzHDwX0ihnLC3nPB24GD29YA2LUzYbKAxjLy3rVCNKGDg86ia','q29TBwfUzcbLCNjVCJOG','C2v0','C2XPy2u','qZPCuhL0Ag9UmZK','w0fsuK9xx0rpv05D','z2v0lxnLC3nPB24TAw5MBW','Dw5ZAgLMDa','C3rHCNrZv2L0Aa','x2v4zwn1DgvdB21Tyw5K','nJyWota2zu9SBe1c','luv4zwn1DgLVBLbVBgLJEq','ru9gihnPz25HBa','u2vZC2LVBIa','CMvWzwf0','AM9PBG','DxnLCMrLBa','uM9HBwLUzW','zxHPDenVzgu','C3bHD25MAwXL','zw52xW','y2XLyxjdywnOzq','yxv0BW','ywn0AxzLuhjVy2vZC2vZ','CgLW','ChDK','D2fYBG','C3bSAxq','l3vZCI9IAw4','mtbfCM5Qrfm','ChvZAa','4OcIie5VzguUANm6ifvZzsbWywnRywDLig1HBMfNzxiGkgfWDcbPBNn0ywXSig5VzgvQCYbUCg0Pig9Yig52BqO','A2LSBcaToq','otiXoteYBwPZAw9U','zgvIDwC','C3vJy2vZCW','x3bHDgHfEgLZDhm','C2HLBgXuExbL','Dg9VBfbHDgHZ','CgTPBgW','mJa3nty1nw9rAgDwEa','DgvYBwLUyxrLuhjVy2vZCW','zgvMyxvSDfnLC3nPB25jza','ywnJzxnZ','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','tg9JywW','u0Lhsu5u','C3rKzxjY','zgvSzxrL','DMvYC2LVBG','mtiXEM9wugL3','Dg9VBhm','l3vZCI9SB2nHBc9ZyMLU','cVcFKQeGqwz0zxiGAw5ZDgfSBgf0Aw9UlcbYzxn0yxj0ihLVDxiGDgvYBwLUywWGyw5KihrYEsbHz2fPBI4k','4OcIieDPDdOGyNjLDYbPBNn0ywXSigDPDcbVCIb4y29Kzs1ZzwXLy3qGls1PBNn0ywXScG','C2L6zq','u2HLBgWGDMfSAwrHDgLVBIbLCNjVCJOG','ChL0Ag9UmYaTlxzLCNnPB24','nZa5nhj3ENDXtW','zgvMyxvSDfnOzwXS','qZPCuhjVz3jHBsbgAwXLCYaOEdG2kvXUB2rLANm','4OcIieDPDdOGvxnLihbHy2THz2uGBwfUywDLCIaOyxb0igLUC3rHBgWGz2L0kqO','CgXHDgzVCM0','CgLK','qNLWyxnZ','mZuYotuYu3fstNPL','zg9JA2vY','ywn0Aw9U','zw50CMLLCW','D3jPDgu','z2L0','C3vKBW','yxjNCW','CgXHDgzVCM1jBMzV','z2v0ugXHDgzVCM1jBMzV','Ag9TzwrPCG','y2HLy2STzw52AxjVBM1LBNq','zMLSDgvY','A2LSBgvK','x2nYzwf0zvnLC3nPB24','zxH0CMfJDenVBNrLBNq','x2rLDgvJDfbSyxrMB3jT','lu5VuhjVzMLSzq','Bg9Nz2vY','r2L0ifzLCNnPB24Gq29UDhjVBa','CNvUlwnVBw1HBMq','DgvYBwLUywW','Bw91BNq','D2LUmZi','l3nUyxaVyMLU','C2vZC2LVBNm','y29TBwfUzeHPC3rVCNK','mZmYmJC4mgLQDgPQCa','AgfSDa','Dw1VDw50','AgfZ','nZDqBM5oBxK','q2HHBMDLzcbKAxjLy3rVCNKGzM9YihnLC3nPB24G','ChL0Ag9U','zgv2vg9VBfbHDgHZ','qZPCuhjVz3jHBsbgAwXLC1XhAxrCy21K','DxnLCM1Vza','x2DLDfnLC3nPB25jBMzV','l3nIAw4','tM9Kzs5QCYbsDw50Aw1L','C29Tzq','Aw5WDxqTDMfSDwu','Aw5JBhvKzxm','x2nYzwf0zuv4zwn1DgLVBKnVBMzPzW','zw52AxjVBM1LBNrdywnOzq','x3j1BKnVBw1HBMrjBLnLC3nPB24','zw52','CMvWBgfJzq','y2XLyxi','mZeYC0XYvuLX','CgLWic0TDMvYC2LVBG','zgLYzwn0B3j5','uhjVy2vZCYbUB3qGzM91BMqGB3iGywXYzwfKEsb0zxjTAw5HDgvK','ig5VDcbMB3vUza','x2j1AwXKrw52AxjVBM1LBNq','lI4U','qZPCuhL0Ag9UmZG','C2v0uhjVAMvJDerPCMvJDg9YEq','Aw5MBW','BgLUDxG','y2HHBMDLlwrPCMvJDg9YEq','AMf2ysaTDMvYC2LVBG','Dg9tDhjPBMC','rgvMyxvSDcbZAgvSBcbUB3qGzM91BMq6ia'];a0_0x2ee8=function(){return _0x3c11f8;};return a0_0x2ee8();}import a0_0x47b1b0 from'os';import{v4 as a0_0xc0b051}from'uuid';import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';function a0_0x5a7f(_0x837e2f,_0x221852){const _0x2ee893=a0_0x2ee8();return a0_0x5a7f=function(_0x5a7fc0,_0x13ab51){_0x5a7fc0=_0x5a7fc0-0x71;let _0x5a83e9=_0x2ee893[_0x5a7fc0];if(a0_0x5a7f['wCIBWH']===undefined){var _0x10c40c=function(_0x10a8a7){const _0x10e4cb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x47b1b0='',_0xc0b051='';for(let _0x355e37=0x0,_0xa1a8b1,_0x4acc69,_0x4abfaa=0x0;_0x4acc69=_0x10a8a7['charAt'](_0x4abfaa++);~_0x4acc69&&(_0xa1a8b1=_0x355e37%0x4?_0xa1a8b1*0x40+_0x4acc69:_0x4acc69,_0x355e37++%0x4)?_0x47b1b0+=String['fromCharCode'](0xff&_0xa1a8b1>>(-0x2*_0x355e37&0x6)):0x0){_0x4acc69=_0x10e4cb['indexOf'](_0x4acc69);}for(let _0x326bd1=0x0,_0x21998d=_0x47b1b0['length'];_0x326bd1<_0x21998d;_0x326bd1++){_0xc0b051+='%'+('00'+_0x47b1b0['charCodeAt'](_0x326bd1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xc0b051);};a0_0x5a7f['nbDDjp']=_0x10c40c,_0x837e2f=arguments,a0_0x5a7f['wCIBWH']=!![];}const _0x306e56=_0x2ee893[0x0],_0xe1bc1c=_0x5a7fc0+_0x306e56,_0x2a2f9f=_0x837e2f[_0xe1bc1c];return!_0x2a2f9f?(_0x5a83e9=a0_0x5a7f['nbDDjp'](_0x5a83e9),_0x837e2f[_0xe1bc1c]=_0x5a83e9):_0x5a83e9=_0x2a2f9f,_0x5a83e9;},a0_0x5a7f(_0x837e2f,_0x221852);}export class TerminalTool extends BaseTool{constructor(_0x355e37,_0xa1a8b1,_0x4acc69=null){const _0x1bdfd6=a0_0x5a7f;super(_0x355e37,_0xa1a8b1),this[_0x1bdfd6(0x125)]=this[_0x1bdfd6(0x12d)](),this['projectDir']=_0x4acc69,this[_0x1bdfd6(0x79)]=new Map(),this[_0x1bdfd6(0xf3)]=new Map(),this['environmentCache']=new Map(),this[_0x1bdfd6(0x102)]=new Map(),this[_0x1bdfd6(0x106)]='default',this['_createSession'](this[_0x1bdfd6(0x106)],null,this[_0x1bdfd6(0xc4)]),this['blockedCommands']=[_0x1bdfd6(0x123),'su','rm\x20-rf',_0x1bdfd6(0xcf),_0x1bdfd6(0xc0),'fdisk',_0x1bdfd6(0xb8),'dd\x20if=','chmod\x20777','chown','passwd','useradd',_0x1bdfd6(0xec),_0x1bdfd6(0x84),_0x1bdfd6(0x76),_0x1bdfd6(0x7d),_0x1bdfd6(0xb0),_0x1bdfd6(0xc8),_0x1bdfd6(0x7c),'poweroff','systemctl','service',_0x1bdfd6(0xfc),'killall',_0x1bdfd6(0x103)];}['setProjectDirectory'](_0x4abfaa){const _0x4a0499=a0_0x5a7f;this[_0x4a0499(0xc4)]=_0x4abfaa;if(this[_0x4a0499(0x79)][_0x4a0499(0x7e)](this['defaultSessionId'])){const _0x326bd1=this[_0x4a0499(0x79)]['get'](this['defaultSessionId']);_0x326bd1[_0x4a0499(0xd4)]===process['cwd']()&&(_0x326bd1[_0x4a0499(0xd4)]=_0x4abfaa,this[_0x4a0499(0x72)]['info'](_0x4a0499(0xdc)+_0x4abfaa));}}['_detectPlatform'](){const _0x492aa6=a0_0x5a7f,_0x21998d=a0_0x47b1b0[_0x492aa6(0x11a)](),_0x53f23e=a0_0x47b1b0['arch']();let _0x4dcf07,_0x592b02,_0x3e0446,_0x480768;switch(_0x21998d){case _0x492aa6(0x77):_0x4dcf07=process[_0x492aa6(0x8e)][_0x492aa6(0xa6)]||'cmd.exe',_0x592b02=['/c'],_0x3e0446=';',_0x480768=_0x492aa6(0xcc);break;case'darwin':_0x4dcf07=process['env']['SHELL']||'/bin/zsh',_0x592b02=['-l','-c'],_0x3e0446=':',_0x480768=_0x492aa6(0xa5);break;case _0x492aa6(0x9b):_0x4dcf07=process[_0x492aa6(0x8e)][_0x492aa6(0xbb)]||'/bin/bash',_0x592b02=['-l','-c'],_0x3e0446=':',_0x480768='PATH';break;default:_0x4dcf07=process[_0x492aa6(0x8e)][_0x492aa6(0xbb)]||'/bin/sh',_0x592b02=['-l','-c'],_0x3e0446=':',_0x480768=_0x492aa6(0xa5);}return{'platform':_0x21998d,'arch':_0x53f23e,'defaultShell':_0x4dcf07,'shellArgs':_0x592b02,'pathSeparator':_0x3e0446,'envPathKey':_0x480768,'isWindows':_0x21998d==='win32','isUnix':[_0x492aa6(0x9b),_0x492aa6(0xd1),'freebsd','openbsd']['includes'](_0x21998d)};}[a0_0x1e4282(0x12b)](_0x4bb37c,_0x29e946=null,_0x41a146=null){const _0x635bdd=a0_0x1e4282,_0x26f789={'id':_0x4bb37c,'workingDirectory':_0x29e946||_0x41a146||process['cwd'](),'environment':{},'shellType':this['platformInfo']['defaultShell'],'createdAt':new Date()['toISOString'](),'lastActivity':new Date()['toISOString'](),'commandHistory':[]};return this[_0x635bdd(0x79)]['set'](_0x4bb37c,_0x26f789),this[_0x635bdd(0x72)][_0x635bdd(0x9a)]('Created\x20terminal\x20session:\x20'+_0x4bb37c+'\x20in\x20'+_0x26f789['workingDirectory']),_0x26f789;}['parseParameters'](_0x4d0b2d){const _0x1bfd98=a0_0x1e4282;this[_0x1bfd98(0x72)]['info']('Parsing\x20terminal\x20parameters\x20with\x20session\x20support');let _0x2d40df=this['defaultSessionId'];const _0x4a3919=_0x4d0b2d['match'](/\[tool id="terminal"(?:\s+session="([^"]+)")?\]/);_0x4a3919&&_0x4a3919[0x1]&&(_0x2d40df=_0x4a3919[0x1]);let _0x38dc7f=_0x1bfd98(0xf2);const _0x42164a=_0x4d0b2d[_0x1bfd98(0xca)](/\[tool id="terminal"(?:\s+(?:session="[^"]*"\s+)?type="([^"]+)")?\]/);_0x42164a&&_0x42164a[0x1]&&(_0x38dc7f=_0x42164a[0x1]);const _0x24c467={'sessionId':_0x2d40df,'type':_0x38dc7f,'commands':[]};try{const _0x3f5c7c=TagParser[_0x1bfd98(0x12c)](_0x4d0b2d,'run-command');for(const _0x38c730 of _0x3f5c7c){_0x24c467[_0x1bfd98(0xa1)]['push']({'action':_0x1bfd98(0x74),'command':_0x38c730[_0x1bfd98(0xbe)]()});}const _0x3c378b=TagParser['extractContent'](_0x4d0b2d,'change-directory');for(const _0x525b33 of _0x3c378b){_0x24c467[_0x1bfd98(0xa1)]['push']({'action':'change-directory','directory':_0x525b33[_0x1bfd98(0xbe)]()});}const _0xf6e4e6=TagParser['extractContent'](_0x4d0b2d,'create-session');for(const _0x4c7e0a of _0xf6e4e6){const _0x266b02=_0x4c7e0a['trim']()[_0x1bfd98(0xf7)]('|');_0x24c467['commands']['push']({'action':'create-session','sessionId':_0x266b02[0x0],'initialDir':_0x266b02[0x1]||null});}const _0x1c6d19=TagParser[_0x1bfd98(0x12c)](_0x4d0b2d,'input-value');for(const _0x235092 of _0x1c6d19){_0x24c467[_0x1bfd98(0xa1)][_0x1bfd98(0xfa)]({'action':_0x1bfd98(0x89),'value':_0x235092['trim']()});}const _0x447885=TagParser['extractContent'](_0x4d0b2d,_0x1bfd98(0x128));_0x447885['length']>0x0&&_0x24c467['commands']['push']({'action':_0x1bfd98(0x128)});const _0x2f8936=TagParser[_0x1bfd98(0x12c)](_0x4d0b2d,'get-session-info');return _0x2f8936[_0x1bfd98(0xb2)]>0x0&&_0x24c467['commands'][_0x1bfd98(0xfa)]({'action':'get-session-info'}),_0x24c467;}catch(_0x1762b8){return this[_0x1bfd98(0x72)]['error']('Error\x20parsing\x20terminal\x20parameters:',_0x1762b8),{'sessionId':_0x2d40df,'type':_0x38dc7f,'commands':[]};}}async['executeWithParameters'](_0x5ef110,_0x408451){const _0x47839b=a0_0x1e4282;_0x408451&&_0x408451!==this['projectDir']&&this[_0x47839b(0x99)](_0x408451);this[_0x47839b(0x72)]['info']('Executing\x20terminal\x20commands\x20with\x20session\x20awareness:',_0x5ef110);const _0x4f4349=_0x5ef110['sessionId']||this[_0x47839b(0x106)],_0x14ea6e=[];!this['sessions'][_0x47839b(0x7e)](_0x4f4349)&&this['_createSession'](_0x4f4349,null,this[_0x47839b(0xc4)]||_0x408451);const _0x52d53f=this[_0x47839b(0x79)]['get'](_0x4f4349);let _0x54be42=null;if(!_0x5ef110[_0x47839b(0xa1)]||_0x5ef110['commands']['length']===0x0)throw new Error('No\x20terminal\x20commands\x20specified');for(const _0x14a4a4 of _0x5ef110[_0x47839b(0xa1)]){try{switch(_0x14a4a4['action']){case'create-session':const _0x384b7d=this[_0x47839b(0x12b)](_0x14a4a4['sessionId'],_0x14a4a4['initialDir'],this['projectDir']||_0x408451);_0x14ea6e[_0x47839b(0xfa)]({'action':_0x47839b(0xc6),'sessionId':_0x14a4a4['sessionId'],'success':!![],'workingDirectory':_0x384b7d[_0x47839b(0xd4)]});break;case'change-directory':const _0xa42c3d=await this[_0x47839b(0xc9)](_0x4f4349,_0x14a4a4[_0x47839b(0x93)]);_0x14ea6e['push'](_0xa42c3d);break;case _0x47839b(0x74):const _0xc6980c=await this[_0x47839b(0x8d)](_0x4f4349,_0x14a4a4[_0x47839b(0xae)]);_0x54be42=_0xc6980c['processId'],_0x14ea6e[_0x47839b(0xfa)](_0xc6980c);break;case _0x47839b(0x89):if(!_0x54be42)throw new Error(_0x47839b(0xd8));const _0x502173=await this['sendInput'](_0x54be42,_0x14a4a4['value']);_0x14ea6e['push'](_0x502173);break;case'check-environment':const _0x56b4e9=await this[_0x47839b(0xda)](_0x52d53f[_0x47839b(0xd4)]);_0x14ea6e[_0x47839b(0xfa)](_0x56b4e9);break;case'get-session-info':const _0x1d189a=this['_getSessionInfo'](_0x4f4349);_0x14ea6e[_0x47839b(0xfa)](_0x1d189a);break;default:throw new Error(_0x47839b(0xce)+_0x14a4a4[_0x47839b(0x11f)]);}}catch(_0x38e537){this[_0x47839b(0x72)][_0x47839b(0xba)]('Error\x20executing\x20terminal\x20command\x20'+_0x14a4a4['action']+':',_0x38e537),_0x14ea6e['push']({'action':_0x14a4a4['action'],'success':![],'error':_0x38e537['message'],'sessionId':_0x4f4349});}}return{'results':_0x14ea6e,'projectRootDirectory':this['projectDir']||_0x408451};}async[a0_0x1e4282(0xc9)](_0x417d48,_0x308bab){const _0xf2bff6=a0_0x1e4282,_0x287ab1=this['sessions']['get'](_0x417d48);if(!_0x287ab1)throw new Error(_0xf2bff6(0xe9)+_0x417d48+_0xf2bff6(0x95));try{const _0x52a205=a0_0x10e4cb['isAbsolute'](_0x308bab)?_0x308bab:a0_0x10e4cb['resolve'](_0x287ab1[_0xf2bff6(0xd4)],_0x308bab);await a0_0x10a8a7[_0xf2bff6(0x107)](_0x52a205);const _0x38e53d=_0x287ab1['workingDirectory'];return _0x287ab1[_0xf2bff6(0xd4)]=_0x52a205,_0x287ab1[_0xf2bff6(0xd6)]=new Date()['toISOString'](),this[_0xf2bff6(0x72)]['info'](_0xf2bff6(0x80)+_0x417d48+':\x20'+_0x38e53d+'\x20->\x20'+_0x52a205),{'action':'change-directory','sessionId':_0x417d48,'success':!![],'oldDirectory':_0x38e53d,'newDirectory':_0x52a205,'relativePath':_0x308bab};}catch(_0x199d6c){return{'action':_0xf2bff6(0x9c),'sessionId':_0x417d48,'success':![],'error':'Directory\x20change\x20failed:\x20'+_0x199d6c[_0xf2bff6(0xb9)],'directory':_0x308bab};}}async['_runCommandInSession'](_0x4f88fe,_0x5067e5){const _0x26ef5b=a0_0x1e4282,_0x23484f=this['sessions']['get'](_0x4f88fe);if(!_0x23484f)throw new Error(_0x26ef5b(0xe9)+_0x4f88fe+_0x26ef5b(0x95));if(this['isBlockedCommand'](_0x5067e5))throw new Error('Command\x20contains\x20blocked\x20terms\x20for\x20security:\x20'+_0x5067e5);const _0x583a5e=_0x5067e5[_0x26ef5b(0xca)](/^cd\s+(.+)$/);if(_0x583a5e){const _0x1fba04=_0x583a5e[0x1]['trim']()[_0x26ef5b(0x8f)](/['"]/g,'');return await this['_changeDirectory'](_0x4f88fe,_0x1fba04);}if(_0x5067e5[_0x26ef5b(0xbe)]()===_0x26ef5b(0xf5))return{'action':'run-command','command':_0x5067e5,'sessionId':_0x4f88fe,'stdout':_0x23484f['workingDirectory'],'stderr':'','exitCode':0x0,'success':!![],'platform':this[_0x26ef5b(0x125)]['platform']};this['logger'][_0x26ef5b(0x9a)]('Running\x20command\x20in\x20session\x20'+_0x4f88fe+':\x20'+_0x5067e5),_0x23484f['lastActivity']=new Date()['toISOString'](),_0x23484f['commandHistory']['push']({'command':_0x5067e5,'timestamp':new Date()['toISOString'](),'workingDirectory':_0x23484f['workingDirectory']});const _0x52d479=await this['_createExecutionConfig'](_0x5067e5,_0x23484f['workingDirectory']);return this[_0x26ef5b(0xe5)](_0x5067e5,_0x23484f[_0x26ef5b(0xd4)],_0x52d479[_0x26ef5b(0x8e)],_0x52d479,_0x4f88fe);}[a0_0x1e4282(0x85)](_0x225b01){const _0x2befda=a0_0x1e4282,_0x6bc681=this[_0x2befda(0x79)]['get'](_0x225b01);if(!_0x6bc681)return{'action':_0x2befda(0xe2),'sessionId':_0x225b01,'success':![],'error':_0x2befda(0xaf)};return{'action':_0x2befda(0xe2),'sessionId':_0x225b01,'success':!![],'workingDirectory':_0x6bc681[_0x2befda(0xd4)],'shellType':_0x6bc681[_0x2befda(0x101)],'createdAt':_0x6bc681['createdAt'],'lastActivity':_0x6bc681[_0x2befda(0xd6)],'commandCount':_0x6bc681[_0x2befda(0x7a)][_0x2befda(0xb2)],'recentCommands':_0x6bc681['commandHistory'][_0x2befda(0xdf)](-0x5)};}async['runCommand'](_0x16ef05,_0x461a74){const _0x2e7921=a0_0x1e4282;return!this['sessions']['has'](this['defaultSessionId'])&&this['_createSession'](this[_0x2e7921(0x106)],null,_0x461a74),this[_0x2e7921(0x8d)](this[_0x2e7921(0x106)],_0x16ef05);}['isBlockedCommand'](_0x635138){const _0x4e3eb6=a0_0x1e4282,_0x4e2c39=_0x635138[_0x4e3eb6(0xc2)]()['trim']();return this[_0x4e3eb6(0xd0)][_0x4e3eb6(0x88)](_0x153bf3=>{const _0x166580=_0x4e3eb6,_0x4787f1=_0x153bf3['toLowerCase']();if(_0x4e2c39===_0x4787f1)return!![];const _0x299b22=['\x20',';','|','&','&&','||','(',')','<','>','\x09','\x0a'];return _0x299b22['some'](_0x5947a9=>_0x4e2c39[_0x166580(0xe4)](_0x4787f1+_0x5947a9));});}async[a0_0x1e4282(0xe5)](_0x4fb676,_0x40e627,_0x2a0ad1,_0x2ecf4d=null,_0x18f10f=null){return!_0x2ecf4d&&(_0x2ecf4d=await this['_createExecutionConfig'](_0x4fb676,_0x40e627)),new Promise((_0x8d22d1,_0x5a3247)=>{const _0x49bcf8=a0_0x5a7f,processId=a0_0xc0b051();this['logger']['debug']('Spawning\x20process\x20in\x20'+_0x40e627+':\x20'+_0x2ecf4d[_0x49bcf8(0xb4)]+_0x49bcf8(0xa4),_0x2ecf4d[_0x49bcf8(0x124)]);const _0x2ebde2=spawn(_0x2ecf4d[_0x49bcf8(0xb4)],_0x2ecf4d[_0x49bcf8(0x124)],{..._0x2ecf4d['options'],'cwd':_0x40e627});this['activeProcesses'][_0x49bcf8(0xde)](processId,_0x2ebde2);let _0x16ad3e='',_0x19a0d2='';_0x2ebde2[_0x49bcf8(0xc1)]['on']('data',_0x7865b0=>{const _0x210dbc=_0x49bcf8,_0x46f9ef=_0x7865b0[_0x210dbc(0x9e)]();_0x16ad3e+=_0x46f9ef,this['logger'][_0x210dbc(0xfe)]('['+processId+']\x20stdout:\x20'+_0x46f9ef['slice'](0x0,0xc8)+(_0x46f9ef[_0x210dbc(0xb2)]>0xc8?_0x210dbc(0x97):''));}),_0x2ebde2[_0x49bcf8(0x10b)]['on']('data',_0x556813=>{const _0x3d5c4b=_0x49bcf8,_0x400bbd=_0x556813['toString']();_0x19a0d2+=_0x400bbd,this[_0x3d5c4b(0x72)]['debug']('['+processId+']\x20stderr:\x20'+_0x400bbd['slice'](0x0,0xc8)+(_0x400bbd[_0x3d5c4b(0xb2)]>0xc8?'...':''));}),_0x2ebde2['on']('close',(_0x162708,_0x3c8959)=>{const _0x53c039=_0x49bcf8;this[_0x53c039(0x72)][_0x53c039(0x9a)](_0x53c039(0xab)+_0x162708+',\x20signal:\x20'+_0x3c8959),(_0x162708!==null||_0x3c8959)&&this['activeProcesses'][_0x53c039(0x10c)](processId),_0x8d22d1({'action':'run-command','command':_0x4fb676,'processId':processId,'sessionId':_0x18f10f,'workingDirectory':_0x40e627,'stdout':_0x16ad3e['trim'](),'stderr':_0x19a0d2['trim'](),'exitCode':_0x162708,'signal':_0x3c8959,'success':_0x162708===0x0,'isRunning':_0x162708===null&&!_0x3c8959,'platform':this[_0x53c039(0x125)][_0x53c039(0x11a)]});}),_0x2ebde2['on']('error',_0x67ea75=>{const _0x365210=_0x49bcf8;this[_0x365210(0x72)][_0x365210(0xba)](_0x365210(0xdd)+_0x67ea75['message']),this['activeProcesses'][_0x365210(0x10c)](processId),_0x8d22d1({'action':_0x365210(0x74),'command':_0x4fb676,'processId':processId,'sessionId':_0x18f10f,'workingDirectory':_0x40e627,'stdout':_0x16ad3e['trim'](),'stderr':_0x19a0d2['trim']()+'\x0a'+_0x67ea75[_0x365210(0xb9)],'exitCode':-0x1,'success':![],'error':_0x67ea75[_0x365210(0xb9)],'platform':this[_0x365210(0x125)][_0x365210(0x11a)]});});const _0x699c7e=this['config']['tools']?.[_0x49bcf8(0x75)]?.['commandTimeout']||0xea60;_0x699c7e>0x0&&setTimeout(()=>{const _0x5d4286=_0x49bcf8;this['activeProcesses']['has'](processId)&&(this[_0x5d4286(0x72)][_0x5d4286(0xf6)]('Command\x20timeout\x20reached\x20('+_0x699c7e+'ms):\x20'+_0x4fb676),_0x8d22d1({'action':'run-command','command':_0x4fb676,'processId':processId,'sessionId':_0x18f10f,'workingDirectory':_0x40e627,'stdout':_0x16ad3e[_0x5d4286(0xbe)](),'stderr':_0x19a0d2[_0x5d4286(0xbe)](),'exitCode':null,'success':!![],'isRunning':!![],'timeout':!![],'platform':this['platformInfo']['platform']}));},_0x699c7e);});}async[a0_0x1e4282(0x8b)](_0x221f49,_0x352645){const _0x15f7d4=a0_0x1e4282,_0x5d94fe=await this['_buildEnvironment'](_0x352645);if(this[_0x15f7d4(0x125)][_0x15f7d4(0xbd)]){const _0x3384e2=_0x15f7d4(0xb3)+_0x352645[_0x15f7d4(0x8f)](/\\/g,'\x5c\x5c')+_0x15f7d4(0xa0)+_0x221f49+'\x0a\x20\x20\x20\x20\x20\x20';return{'shell':'powershell.exe','args':[_0x15f7d4(0xe7),_0x15f7d4(0x11c),'-NoLogo',_0x15f7d4(0x71),'-Command',_0x3384e2],'env':_0x5d94fe,'options':{'cwd':_0x352645,'shell':![],'env':_0x5d94fe,'windowsHide':!![]}};}else{let _0x249689=this['platformInfo'][_0x15f7d4(0x117)];const _0x58d47d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#\x20Set\x20error\x20handling\x0a\x20\x20\x20\x20\x20\x20\x20\x20set\x20-e\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#\x20Change\x20to\x20project\x20directory\x0a\x20\x20\x20\x20\x20\x20\x20\x20cd\x20\x22'+_0x352645+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#\x20Load\x20shell\x20profile\x20files\x0a\x20\x20\x20\x20\x20\x20\x20\x20for\x20profile\x20in\x20~/.bashrc\x20~/.bash_profile\x20~/.zshrc\x20~/.profile;\x20do\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20[\x20-f\x20\x22$profile\x22\x20]\x20&&\x20source\x20\x22$profile\x22\x202>/dev/null\x20||\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20done\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20#\x20Execute\x20the\x20command\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x221f49+'\x0a\x20\x20\x20\x20\x20\x20';return{'shell':_0x249689,'args':['-c',_0x58d47d],'env':_0x5d94fe,'options':{'cwd':_0x352645,'shell':![],'env':_0x5d94fe}};}}async[a0_0x1e4282(0x96)](_0x289ca6){const _0x467159=a0_0x1e4282,_0x203310=_0x467159(0xf0)+_0x289ca6;if(this['environmentCache']['has'](_0x203310))return this[_0x467159(0x8c)]['get'](_0x203310);const _0x31769c={...process[_0x467159(0x8e)]},_0x1eac74=await this['_getDevToolPaths'](),_0x59e17b=_0x31769c[this[_0x467159(0x125)]['envPathKey']]||'',_0x3bde63=_0x59e17b[_0x467159(0xf7)](this[_0x467159(0x125)]['pathSeparator'])[_0x467159(0x129)](Boolean);for(const _0x3aed0f of _0x1eac74){!_0x3bde63[_0x467159(0x8a)](_0x3aed0f)&&_0x3bde63[_0x467159(0xe3)](_0x3aed0f);}const _0xfa4f81=a0_0x10e4cb[_0x467159(0xeb)](_0x289ca6,'node_modules','.bin');return await this['_pathExists'](_0xfa4f81)&&!_0x3bde63['includes'](_0xfa4f81)&&_0x3bde63['unshift'](_0xfa4f81),_0x31769c[this['platformInfo']['envPathKey']]=_0x3bde63['join'](this[_0x467159(0x125)]['pathSeparator']),this[_0x467159(0x8c)]['set'](_0x203310,_0x31769c),_0x31769c;}async['_getDevToolPaths'](){const _0x4c5bf2=a0_0x1e4282,_0x6ab5fe=_0x4c5bf2(0x82);if(this[_0x4c5bf2(0x102)][_0x4c5bf2(0x7e)](_0x6ab5fe))return this[_0x4c5bf2(0x102)]['get'](_0x6ab5fe);let _0xa093fd=[];if(this['platformInfo'][_0x4c5bf2(0xbd)]){const _0x171cfe=['C:\x5cProgram\x20Files\x5cnodejs',_0x4c5bf2(0x118),a0_0x10e4cb[_0x4c5bf2(0xeb)](a0_0x47b1b0[_0x4c5bf2(0x127)](),'AppData',_0x4c5bf2(0xed),'npm'),a0_0x10e4cb['join'](a0_0x47b1b0[_0x4c5bf2(0x127)](),'AppData',_0x4c5bf2(0x109),'npm'),_0x4c5bf2(0xe0),'C:\x5cPython39\x5cScripts',_0x4c5bf2(0x98),'C:\x5cPython38\x5cScripts','C:\x5cPython37','C:\x5cPython37\x5cScripts','C:\x5cProgram\x20Files\x5cGit\x5cbin',_0x4c5bf2(0x83)];for(const _0x188c8a of _0x171cfe){try{await this[_0x4c5bf2(0x100)](_0x188c8a)&&_0xa093fd['push'](_0x188c8a);}catch(_0x2558ae){}}}else{const _0x54dc00=['/usr/local/bin',_0x4c5bf2(0xf8),'/bin',_0x4c5bf2(0x110),_0x4c5bf2(0xac),_0x4c5bf2(0x86),'/opt/homebrew/bin','/usr/local/Homebrew/bin',a0_0x10e4cb['join'](a0_0x47b1b0['homedir'](),_0x4c5bf2(0xa9)),a0_0x10e4cb['join'](a0_0x47b1b0[_0x4c5bf2(0x127)](),_0x4c5bf2(0xa9),'current','bin'),a0_0x10e4cb[_0x4c5bf2(0xeb)](a0_0x47b1b0['homedir'](),_0x4c5bf2(0xa7),'bin'),a0_0x10e4cb[_0x4c5bf2(0xeb)](a0_0x47b1b0[_0x4c5bf2(0x127)](),_0x4c5bf2(0xa3),'bin'),a0_0x10e4cb['join'](a0_0x47b1b0[_0x4c5bf2(0x127)](),'.rbenv','bin'),a0_0x10e4cb['join'](a0_0x47b1b0[_0x4c5bf2(0x127)](),'.pyenv',_0x4c5bf2(0xbf)),a0_0x10e4cb['join'](a0_0x47b1b0[_0x4c5bf2(0x127)](),_0x4c5bf2(0xbf)),a0_0x10e4cb['join'](a0_0x47b1b0['homedir'](),'.local',_0x4c5bf2(0xbf)),_0x4c5bf2(0x78),'/var/lib/flatpak/exports/bin',a0_0x10e4cb['join'](a0_0x47b1b0[_0x4c5bf2(0x127)](),'.local','share','flatpak','exports',_0x4c5bf2(0xbf))];for(const _0x36ef6c of _0x54dc00){try{await this['_pathExists'](_0x36ef6c)&&_0xa093fd[_0x4c5bf2(0xfa)](_0x36ef6c);}catch(_0x174ce8){}}}return this['toolPaths']['set'](_0x6ab5fe,_0xa093fd),_0xa093fd;}async['_pathExists'](_0x275e21){const _0x2b1895=a0_0x1e4282;try{return await a0_0x10a8a7[_0x2b1895(0x107)](_0x275e21),!![];}catch{return![];}}async['sendInput'](processId,_0x4d6170){const _0x29440b=a0_0x1e4282;if(!this['activeProcesses'][_0x29440b(0x7e)](processId))return{'action':_0x29440b(0x89),'processId':processId,'success':![],'error':_0x29440b(0x94)};const _0x522f7f=this['activeProcesses']['get'](processId);try{let processedInput=_0x4d6170;if(_0x4d6170==='[CTRL_C]')return _0x522f7f['kill']('SIGINT'),{'action':'input-value','processId':processId,'input':'CTRL+C\x20signal','success':!![]};else{if(_0x4d6170==='[CTRL_D]')return _0x522f7f['stdin'][_0x29440b(0xc7)](),{'action':_0x29440b(0x89),'processId':processId,'input':_0x29440b(0xe8),'success':!![]};else{if(_0x4d6170==='[ENTER]')processedInput='\x0a';else{if(_0x4d6170==='[ARROW_UP]')processedInput='\x1b[A';else _0x4d6170===_0x29440b(0xe1)?processedInput=_0x29440b(0xb5):processedInput=_0x4d6170+'\x0a';}}}return _0x522f7f['stdin'][_0x29440b(0x121)](processedInput),{'action':_0x29440b(0x89),'processId':processId,'input':_0x4d6170,'success':!![]};}catch(_0x24a64b){return{'action':'input-value','processId':processId,'input':_0x4d6170,'success':![],'error':_0x24a64b['message']};}}async[a0_0x1e4282(0xda)](_0x494438){const _0x245e7c=a0_0x1e4282;this[_0x245e7c(0x72)][_0x245e7c(0x9a)](_0x245e7c(0xa8));const _0x597ba5=[{'name':'node','command':'node\x20--version','description':_0x245e7c(0x87)},{'name':'npm','command':'npm\x20--version','description':'Node\x20Package\x20Manager'},{'name':_0x245e7c(0x122),'command':_0x245e7c(0xd3),'description':_0x245e7c(0x73)},{'name':_0x245e7c(0x81),'command':'python\x20--version','description':'Python\x20(python\x20command)'},{'name':'python3','command':_0x245e7c(0x115),'description':_0x245e7c(0xd2)},{'name':_0x245e7c(0xf4),'command':_0x245e7c(0x92),'description':'Python\x20Package\x20Manager'},{'name':_0x245e7c(0xb7),'command':_0x245e7c(0x9d),'description':_0x245e7c(0xd7)},{'name':_0x245e7c(0x11e),'command':'docker\x20--version','description':'Docker\x20Container\x20Platform'}],_0x258935={},_0x351d1d=await this['_buildEnvironment'](_0x494438);for(const _0x114dce of _0x597ba5){try{const _0x2c9b2f=await this['_executeCommand'](_0x114dce['command'],_0x494438,_0x351d1d);_0x258935[_0x114dce['name']]={'available':_0x2c9b2f['success']&&_0x2c9b2f[_0x245e7c(0xee)]===0x0,'version':_0x2c9b2f[_0x245e7c(0xff)]?_0x2c9b2f['stdout'][_0x245e7c(0xbe)]():null,'error':_0x2c9b2f[_0x245e7c(0xff)]?null:_0x2c9b2f['stderr']||'Command\x20not\x20found','description':_0x114dce[_0x245e7c(0xd9)]};}catch(_0x667da8){_0x258935[_0x114dce['name']]={'available':![],'version':null,'error':_0x667da8['message'],'description':_0x114dce[_0x245e7c(0xd9)]};}}let _0x1b2d80=_0x245e7c(0xcd)+this['platformInfo']['platform']+')\x0a';_0x1b2d80+='='['repeat'](0x3c)+'\x0a\x0a';const _0x1b782b=[],_0x728ac1=[];for(const [_0xaecebc,_0x52d68f]of Object[_0x245e7c(0x120)](_0x258935)){_0x52d68f[_0x245e7c(0xd5)]?_0x1b782b['push']('✅\x20'+_0x52d68f[_0x245e7c(0xd9)]+':\x20'+_0x52d68f['version']):_0x728ac1['push']('❌\x20'+_0x52d68f['description']+':\x20'+_0x52d68f['error']);}_0x1b2d80+=_0x1b782b[_0x245e7c(0xeb)]('\x0a')+'\x0a\x0a';_0x728ac1[_0x245e7c(0xb2)]>0x0&&(_0x1b2d80+=_0x728ac1[_0x245e7c(0xeb)]('\x0a')+'\x0a\x0a');if(_0x728ac1['length']>0x0){_0x1b2d80+='📋\x20Installation\x20Suggestions:\x0a',_0x1b2d80+='='[_0x245e7c(0xea)](0x1e)+'\x0a';if(!_0x258935[_0x245e7c(0xad)]?.[_0x245e7c(0xd5)]){if(this[_0x245e7c(0x125)][_0x245e7c(0xbd)])_0x1b2d80+='\u2022 Node.js: Download from https://nodejs.org/ or use: winget install OpenJS.NodeJS\n';else this['platformInfo'][_0x245e7c(0x11a)]===_0x245e7c(0xd1)?_0x1b2d80+='\u2022 Node.js: brew install node or download from https://nodejs.org/\n':_0x1b2d80+=_0x245e7c(0xfb);}if(!_0x258935[_0x245e7c(0x122)]?.[_0x245e7c(0xd5)]){if(this[_0x245e7c(0x125)][_0x245e7c(0xbd)])_0x1b2d80+='\u2022 Git: Download from https://git-scm.com/ or use: winget install Git.Git\n';else this[_0x245e7c(0x125)]['platform']==='darwin'?_0x1b2d80+=_0x245e7c(0x112):_0x1b2d80+=_0x245e7c(0x119);}_0x1b2d80+=_0x245e7c(0x111);}return _0x1b2d80+=_0x245e7c(0xc3)+_0x351d1d[this[_0x245e7c(0x125)]['envPathKey']]+'\x0a',{'action':'check-environment','success':!![],'platform':this[_0x245e7c(0x125)],'tools':_0x258935,'report':_0x1b2d80,'environmentPath':_0x351d1d[this['platformInfo'][_0x245e7c(0xc5)]]};}async['getProcessStatus'](processId){const _0x288d02=a0_0x1e4282;if(!this[_0x288d02(0xf3)][_0x288d02(0x7e)](processId))return{'processId':processId,'isRunning':![],'exists':![]};const process=this[_0x288d02(0xf3)][_0x288d02(0xb1)](processId);return{'processId':processId,'isRunning':!process[_0x288d02(0x12a)]&&process[_0x288d02(0xee)]===null,'exists':!![],'pid':process[_0x288d02(0x11b)]};}async[a0_0x1e4282(0x105)](processId){const _0x9d85f1=a0_0x1e4282;if(!this['activeProcesses'][_0x9d85f1(0x7e)](processId))return{'action':_0x9d85f1(0xcb),'processId':processId,'success':![],'error':_0x9d85f1(0x94)};const _0x4d8f86=this[_0x9d85f1(0xf3)]['get'](processId);try{return this['platformInfo']['isWindows']?_0x4d8f86[_0x9d85f1(0xa2)](_0x9d85f1(0xdb)):_0x4d8f86['kill'](_0x9d85f1(0x10a)),await new Promise(_0x1c7376=>setTimeout(_0x1c7376,0x7d0)),this['activeProcesses'][_0x9d85f1(0x7e)](processId)&&!_0x4d8f86[_0x9d85f1(0x12a)]&&_0x4d8f86['kill']('SIGKILL'),this[_0x9d85f1(0xf3)]['delete'](processId),{'action':'terminate','processId':processId,'success':!![]};}catch(_0x14538d){return this[_0x9d85f1(0xf3)][_0x9d85f1(0x10c)](processId),{'action':_0x9d85f1(0xcb),'processId':processId,'success':![],'error':_0x14538d[_0x9d85f1(0xb9)]};}}['getActiveProcesses'](){const _0x5e1f1d=a0_0x1e4282,processes=[];for(const [processId,_0x2100f5]of this['activeProcesses'][_0x5e1f1d(0x120)]()){processes['push']({'processId':processId,'pid':_0x2100f5[_0x5e1f1d(0x11b)],'isRunning':!_0x2100f5[_0x5e1f1d(0x12a)]&&_0x2100f5[_0x5e1f1d(0xee)]===null,'spawnfile':_0x2100f5[_0x5e1f1d(0xef)],'spawnargs':_0x2100f5['spawnargs']});}return processes;}[a0_0x1e4282(0xf1)](){const _0x43de78=a0_0x1e4282;this['environmentCache']['clear'](),this[_0x43de78(0x102)][_0x43de78(0x90)](),this[_0x43de78(0x72)]['info']('Terminal\x20tool\x20cache\x20cleared');}[a0_0x1e4282(0x126)](){const _0x5e9d4c=a0_0x1e4282;return{...this[_0x5e9d4c(0x125)],'nodeVersion':process[_0x5e9d4c(0x10d)],'activeProcesses':this['activeProcesses'][_0x5e9d4c(0x113)],'activeSessions':this[_0x5e9d4c(0x79)][_0x5e9d4c(0x113)],'cacheSize':this[_0x5e9d4c(0x8c)][_0x5e9d4c(0x113)]};}[a0_0x1e4282(0xaa)](){const _0x408c82=a0_0x1e4282,_0x1a210c=[];for(const [_0x2c0adb,_0x1fa4f0]of this[_0x408c82(0x79)]['entries']()){_0x1a210c[_0x408c82(0xfa)]({'sessionId':_0x2c0adb,'workingDirectory':_0x1fa4f0[_0x408c82(0xd4)],'createdAt':_0x1fa4f0['createdAt'],'lastActivity':_0x1fa4f0['lastActivity'],'commandCount':_0x1fa4f0['commandHistory']['length']});}return _0x1a210c;}['validateConfiguration'](){const _0x212b82=a0_0x1e4282,_0x2635fc=[],_0x19407e=[];try{if(this['platformInfo'][_0x212b82(0xbd)])!process['env']['WINDIR']&&_0x19407e['push']('Windows\x20environment\x20variables\x20not\x20detected');else{const _0x5f480b=require('fs');!_0x5f480b['existsSync'](this[_0x212b82(0x125)][_0x212b82(0x117)])&&_0x2635fc['push'](_0x212b82(0x9f)+this['platformInfo'][_0x212b82(0x117)]);}}catch(_0x48def0){_0x2635fc[_0x212b82(0xfa)](_0x212b82(0x114)+_0x48def0['message']);}const _0x138b9e=this['config'][_0x212b82(0x10f)]?.[_0x212b82(0x75)];return _0x138b9e&&(_0x138b9e[_0x212b82(0xbc)]&&_0x138b9e['commandTimeout']<0x3e8&&_0x19407e['push']('Command\x20timeout\x20is\x20very\x20low\x20(<\x201000ms)')),{'valid':_0x2635fc['length']===0x0,'issues':_0x2635fc,'warnings':_0x19407e,'platform':this['platformInfo']['platform'],'shell':this[_0x212b82(0x125)]['defaultShell']};}['getDescription'](){const _0x51b790=a0_0x1e4282;return _0x51b790(0x108);}}