const a0_0x419a7e=a0_0x2c7c;(function(_0x4284a4,_0x100891){const _0x275682=a0_0x2c7c,_0x1e2fbf=_0x4284a4();while(!![]){try{const _0x2d34ed=parseInt(_0x275682(0x280))/0x1+-parseInt(_0x275682(0x1c4))/0x2*(-parseInt(_0x275682(0x239))/0x3)+parseInt(_0x275682(0x282))/0x4*(-parseInt(_0x275682(0x1fe))/0x5)+-parseInt(_0x275682(0x27d))/0x6*(parseInt(_0x275682(0x260))/0x7)+parseInt(_0x275682(0x271))/0x8*(-parseInt(_0x275682(0x251))/0x9)+-parseInt(_0x275682(0x1c0))/0xa+parseInt(_0x275682(0x26e))/0xb*(parseInt(_0x275682(0x21d))/0xc);if(_0x2d34ed===_0x100891)break;else _0x1e2fbf['push'](_0x1e2fbf['shift']());}catch(_0x3685d4){_0x1e2fbf['push'](_0x1e2fbf['shift']());}}}(a0_0x235e,0x3a1d4));import{spawn}from'child_process';function a0_0x235e(){const _0x28befd=['w0fsuK9xx0rpv05D','tM8Gywn0AxzLihbYB2nLC3mGDg8GCMvJzwL2zsbPBNb1Da','BNbT','BgfZDefJDgL2Axr5','Bw9UAxrVCI1WCM9JzxnZ','y29UzMLN','CM0GlxjM','C2vYDMLJzq','zMXVB3i','qZPCuhjVz3jHBsbgAwXLC1XUB2rLANm','uNvUBMLUzYbJB21Tyw5KigLUihnLC3nPB24G','l2jPBI96C2G','ugfYC2LUzYb0zxjTAw5HBcbWyxjHBwv0zxjZihDPDgGGC2vZC2LVBIbZDxbWB3j0','ywn0Aw9U','l3vZCI9IAw4','C3rKAw4','ChvZAa','tM8GDgvYBwLUywWGy29TBwfUzhmGC3bLy2LMAwvK','C2L6zq','y2XLyxjdywnOzq','DgLTzvnPBMnLtgfZDfvWzgf0zq','A2LSBcaToq','Dw5ZAgLMDa','x2DLDerLDLrVB2XqyxrOCW','mtKZmgnNy1D2DG','zMXHDhbHAW','iGOGicaGicaGiaOGicaGicaGicmGrxHLy3v0zsb0AguGy29TBwfUzaOGicaGicaGia','CNvUq29TBwfUza','u0HfteW','l2jPBI9ZAa','DxnLCMrLBa','zgvMyxvSDfnOzwXS','igLUia','yMXVy2TLzenVBw1HBMrZ','C3bSAxq','C10GC3rKB3v0oIa','l3nUyxaVyMLU','y2XLyxi','uhjVy2vZCYbUB3qGzM91BMqGB3iGywXYzwfKEsb0zxjTAw5HDgvK','ywn0AxzLuhjVy2vZC2vZ','lM52Bq','Dg9VBhm','Bg9Nz2vY','y29TBwfUzhm','DgLTzwrpDxq','rMfPBgvKihrVigTPBgWGDgLTzwqTB3v0ihbYB2nLC3m6ia','4OcIieDPDdOGvxnLihbHy2THz2uGBwfUywDLCIaOyxb0igLUC3rHBgWGz2L0kqO','C3bHD25MAwXL','y3jLyxrLlxnLC3nPB24','z2v0lw91Dhb1Da','BNbTic0TDMvYC2LVBG','z2v0qwn0AxzLuhjVy2vZC2vZ','rxjYB3iGCgfYC2LUzYb0zxjTAw5HBcbWyxjHBwv0zxjZoG','zw52ugf0AeTLEq','y2HLy2STzw52AxjVBM1LBNq','ntC2rMLhsM1k','BwvZC2fNzq','8j+uJsbezxzLBg9WBwvUDcbfBNzPCM9UBwvUDcbtDgf0DxmGka','x2nOyw5NzurPCMvJDg9YEq','z2v0rgvZy3jPChrPB24','u0Lhsu5u','zgfYD2LU','AM9PBG','C2H1DgrVD24','C3rKzxjY','ChDK','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','C2v0uhjVAMvJDerPCMvJDg9YEq','g1Tb','Cgf0AfnLCgfYyxrVCG','y2HLy2TfBNzPCM9UBwvUDa','x2v4zwn1DgvdB21Tyw5K','ChjVy2vZC0LK','z2v0uhjVy2vZC1n0yxr1CW','x2nYzwf0zuv4zwn1DgLVBKnVBMzPzW','u2vZC2LVBIa','z2v0q29UDgLUDw91C091Dhb1Da','Bwf0y2G','CgfYC2vqyxjHBwv0zxjZ','C3rKB3v0','Dg9mB3DLCKnHC2u','DgLTzxn0yw1W','D29YA2LUz0rPCMvJDg9YEq','mJGYodqZz0rtELPJ','qZPCuhjVz3jHBsbgAwXLC1XhAxrCyMLU','rxHLy3v0Aw5NihrLCM1PBMfSignVBw1HBMrZihDPDgGGC2vZC2LVBIbHD2fYzw5LC3m6','z2v0','ChjVy2vZC091Dhb1Dej1zMzLCNm','zxjYB3i','y2XVC2u','BgvUz3rO','zgv2vg9VBfbHDgHZ','zg9JA2vYic0TDMvYC2LVBG','y29TBwfUzeHPC3rVCNK','DMvYC2LVBG','Dg9VBfbHDgHZ','zgf0yq','C2HLBgW','tM9KzsbqywnRywDLie1HBMfNzxi','cIaGicaGicaGiYbtzxqGzxjYB3iGAgfUzgXPBMCkicaGicaGicaKrxjYB3jby3rPB25qCMvMzxjLBMnLid0Gj0nVBNrPBNvLjWOGicaGicaGiaOGicaGicaGicmGtg9HzcbqB3DLCLnOzwXSihbYB2zPBgvZigLMihrOzxKGzxHPC3qkicaGicaGicbPzIaOvgvZDc1qyxrOicrquK9gsuXflKn1CNjLBNrvC2vYq3vYCMvUDeHVC3qPihSGcIaGicaGicaGicb0CNKGEYakicaGicaGicaGicaGlIaKufjprKLmrs5dDxjYzw50vxnLCKn1CNjLBNriB3n0iaOGicaGicaGicaGFsbJyxrJAcb7iaOGicaGicaGicaGicbxCML0zs1xyxjUAw5NicjgywLSzwqGDg8GBg9HzcbqB3DLCLnOzwXSihbYB2zPBgu6icrFiIakicaGicaGicaGih0kicaGicaGicb9cIaGicaGicaGAwyGkfrLC3qTugf0AcaKufjprKLmrs5dDxjYzw50vxnLCKfSBeHVC3rZksb7iaOGicaGicaGicaGDhj5ihSGcIaGicaGicaGicaGic4Gjfbst0zjteuUq3vYCMvUDfvZzxjbBgXiB3n0CYakicaGicaGicaGih0Gy2f0y2GGEYakicaGicaGicaGicaGv3jPDguTv2fYBMLUzYaIrMfPBgvKihrVigXVywqGug93zxjtAgvSBcbWCM9MAwXLoIaKxYiGcIaGicaGicaGicb9cIaGicaGicaGFqOGicaGicaGiaOGicaGicaGicmGu2v0ihDVCMTPBMCGzgLYzwn0B3j5cIaGicaGicaGu2v0luXVy2f0Aw9Uici','z2v0qwn0AxzLu2vZC2LVBNm','uhL0Ag9UicHWExrOB24Gy29TBwfUzcK','lNjIzw52','zgvZy3jPChrPB24','zgLYzwn0B3j5','CgLWic0TDMvYC2LVBG','C3vJy2vZCW','ovbxshHPBa','y2HVD24','ChL0Ag9Uic0TDMvYC2LVBG','r2L0ifzLCNnPB24Gq29UDhjVBa','zgqGAwy9','lM5WBs1NBg9IywW','ig5VDcbMB3vUza','yMLU','lcbZAwDUywW6ia','l3vZCI9SB2nHBc9ZyMLU','cIaGicaGicaGiYbtzxqGzxjYB3iGAgfUzgXPBMCkicaGicaGicbZzxqGlwukicaGicaGicakicaGicaGicaJienOyw5Nzsb0BYbWCM9Qzwn0igrPCMvJDg9YEqOGicaGicaGignKici','C3rHCNrZv2L0Aa','C2vUzeLUChv0','l2jPBI9IyxnO','q3jLyxrLzcb0zxjTAw5HBcbZzxnZAw9UoIa','nJn3AhjMAgi','z2L0','rgLYzwn0B3j5ignOyw5NzsbMywLSzwq6ia','zxHPDenVzgu','AgfZ','x3j1BKnVBw1HBMrjBLnLC3nPB24','C2vZC2LVBKLK','D29YA2LUz0rPCG','q29TBwfUzcbLCNjVCJOG','cIaGicaGia','BgLUDxG','x2DLDfnLC3nPB25jBMzV','4OcIieDPDdOGyNjLDYbPBNn0ywXSigDPDcbVCIb4y29Kzs1ZzwXLy3qGls1PBNn0ywXScG','BwTMCW','mti0mJu2ENjrugDn','ywnJzxnZ','g1Tc','mteZodC3nMrYr0LOra','CMvJzw50u3rKB3v0','rgvMyxvSDcbZAgvSBcbUB3qGzM91BMq6ia','qZPCuhL0Ag9UmZLCu2nYAxb0CW','y2HHBMDLlwrPCMvJDg9YEq','zhvYyxrPB24','CYK6ia','CgLW','CMvWzwf0','Aw5MBW','B3b0Aw9UCW','Aw5JBhvKzxm','mtCYmZa4zu5UzNbO','CgLK','sMf2ysbsDw50Aw1L','nJiZm1jJzNrPvW','C2vZC2LVBNm','mtCWme5JDLjizq','A2LSBa','tg9JywW','iGOGicaGicaGiaOGicaGicaGicmGtg9HzcbZAgvSBcbWCM9MAwXLigzPBgvZcIaGicaGicaGzM9YihbYB2zPBguGAw4GFI8UyMfZAhjJih4VlMjHC2HFChjVzMLSzsb+lY56C2HYyYb+lY5WCM9MAwXLoYbKBWOGicaGicaGicaGwYaTzIaIjhbYB2zPBguIif0GjIyGC291CMnLiciKChjVzMLSzsiGmJ4Vzgv2l251BgWGFhWGDhj1zqOGicaGicaGigrVBMukicaGicaGicakicaGicaGicaJiev4zwn1DguGDgHLignVBw1HBMqkicaGicaGica','CgfZC3DK','x2nYzwf0zvnLC3nPB24','y29TBwfUzfrPBwvVDxq','Ag9TzwrPCG','BM9Kzq','l2jPBG','y3jLyxrLzef0','DgvYBwLUyxrL','u0Lhvevstq','CgXHDgzVCM1jBMzV','qZPCuhL0Ag9UmZC','u3bHD25PBMCGChjVy2vZCYbPBIa','l3vZCI9ZyMLU','Aw5WDxqTDMfSDwu','zgvSic9M','x3bHDgHfEgLZDhm','CYaO','y3DK','BM9KzsaTlxzLCNnPB24','zgvIDwC','BM93','C2v0','mJGZodKWrLPfEgjS','C2XPy2u','zw50CMLLCW','qxbWrgf0yq','nLLWCNrsqq','CNvUlwnVBw1HBMq','x2j1AwXKrw52AxjVBM1LBNq','lI4U','yxzHAwXHyMXL','l29WDc9OB21LyNjLDY9IAw4','u0Lhs0Lmta','Dg9tDhjPBMC','uhL0Ag9Uidm','x2rLDgvJDfbSyxrMB3jT','ru9gihnPz25HBa','BwfW','zgvMyxvSDfnLC3nPB25jza','C3rHCNruAw1L','z2v0lxnLC3nPB24TAw5MBW','ChjVAMvJDerPCG','qZPCuhjVz3jHBsbgAwXLC1XhAxrCy21K','zw52','zxH0CMfJDenVBNrLBNq','BgfZDfvWzgf0zq','Dg9ju09tDhjPBMC','q29TBwfUzcb0Aw1LB3v0ihjLywnOzwqGka','zw52AxjVBM1LBNrdywnOzq','lMXVy2fS','zgvSzxrL','C2LUy2u','AxnsDw5UAw5N','A2LSBgvK','DhjPBq','CgXHDgzVCM0','CMvWBgfJzq','C2HLBgXuExbL','AxnxAw5KB3DZ','y29TBwfUza'];a0_0x235e=function(){return _0x28befd;};return a0_0x235e();}import{promises as a0_0x53c134}from'fs';import a0_0x40b8d5 from'path';import a0_0x1c13e3 from'os';import{v4 as a0_0x3297c7}from'uuid';function a0_0x2c7c(_0x3fcf4a,_0x5f3eb8){const _0x235e16=a0_0x235e();return a0_0x2c7c=function(_0x2c7c37,_0x4d0319){_0x2c7c37=_0x2c7c37-0x1bc;let _0x3fcbfb=_0x235e16[_0x2c7c37];if(a0_0x2c7c['ORzATM']===undefined){var _0x357cd6=function(_0x53c134){const _0x40b8d5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1c13e3='',_0x3297c7='';for(let _0x27ffa9=0x0,_0x6dfa32,_0x5b43d6,_0x339c95=0x0;_0x5b43d6=_0x53c134['charAt'](_0x339c95++);~_0x5b43d6&&(_0x6dfa32=_0x27ffa9%0x4?_0x6dfa32*0x40+_0x5b43d6:_0x5b43d6,_0x27ffa9++%0x4)?_0x1c13e3+=String['fromCharCode'](0xff&_0x6dfa32>>(-0x2*_0x27ffa9&0x6)):0x0){_0x5b43d6=_0x40b8d5['indexOf'](_0x5b43d6);}for(let _0x2980f0=0x0,_0x23d2e4=_0x1c13e3['length'];_0x2980f0<_0x23d2e4;_0x2980f0++){_0x3297c7+='%'+('00'+_0x1c13e3['charCodeAt'](_0x2980f0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3297c7);};a0_0x2c7c['nURIBI']=_0x357cd6,_0x3fcf4a=arguments,a0_0x2c7c['ORzATM']=!![];}const _0x1caace=_0x235e16[0x0],_0xf52929=_0x2c7c37+_0x1caace,_0x44f2e5=_0x3fcf4a[_0xf52929];return!_0x44f2e5?(_0x3fcbfb=a0_0x2c7c['nURIBI'](_0x3fcbfb),_0x3fcf4a[_0xf52929]=_0x3fcbfb):_0x3fcbfb=_0x44f2e5,_0x3fcbfb;},a0_0x2c7c(_0x3fcf4a,_0x5f3eb8);}import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';export class TerminalTool extends BaseTool{constructor(_0x27ffa9,_0x6dfa32,_0x5b43d6=null){const _0x1c2e2a=a0_0x2c7c;super(_0x27ffa9,_0x6dfa32),this['platformInfo']=this[_0x1c2e2a(0x1cd)](),this['projectDir']=_0x5b43d6,this[_0x1c2e2a(0x281)]=new Map(),this[_0x1c2e2a(0x20d)]=new Map(),this['processOutputBuffers']=new Map(),this['environmentCache']=new Map(),this['toolPaths']=new Map(),this['defaultSessionId']='default',this['_createSession'](this[_0x1c2e2a(0x1d0)],null,this['projectDir']),this[_0x1c2e2a(0x207)]=['sudo','su',_0x1c2e2a(0x1ec),_0x1c2e2a(0x294),'format','fdisk',_0x1c2e2a(0x26d),_0x1c2e2a(0x255),'chmod\x20777',_0x1c2e2a(0x252),_0x1c2e2a(0x286),'useradd',_0x1c2e2a(0x204),'usermod','mount','umount',_0x1c2e2a(0x225),'reboot','halt','poweroff','systemctl',_0x1c2e2a(0x1ed),_0x1c2e2a(0x1fb),'killall','pkill'];}['setProjectDirectory'](_0x339c95){const _0x5bcaa3=a0_0x2c7c;this[_0x5bcaa3(0x1d3)]=_0x339c95;if(this['sessions']['has'](this['defaultSessionId'])){const _0x2980f0=this['sessions']['get'](this['defaultSessionId']);_0x2980f0[_0x5bcaa3(0x238)]===process['cwd']()&&(_0x2980f0[_0x5bcaa3(0x238)]=_0x339c95,this['logger'][_0x5bcaa3(0x27a)]('Updated\x20default\x20session\x20working\x20directory\x20to:\x20'+_0x339c95));}}[a0_0x419a7e(0x1cd)](){const _0xf5e02a=a0_0x419a7e,_0x23d2e4=a0_0x1c13e3['platform'](),_0x1905e4=a0_0x1c13e3['arch']();let _0x43999d,_0xafd26f,_0xb70078,_0x5de0e8;switch(_0x23d2e4){case'win32':_0x43999d=process['env']['COMSPEC']||'cmd.exe',_0xafd26f=['/c'],_0xb70078=';',_0x5de0e8='Path';break;case _0xf5e02a(0x223):_0x43999d=process[_0xf5e02a(0x1d5)]['SHELL']||_0xf5e02a(0x1f1),_0xafd26f=['-l','-c'],_0xb70078=':',_0x5de0e8='PATH';break;case _0xf5e02a(0x26a):_0x43999d=process['env'][_0xf5e02a(0x202)]||_0xf5e02a(0x25e),_0xafd26f=['-l','-c'],_0xb70078=':',_0x5de0e8='PATH';break;default:_0x43999d=process[_0xf5e02a(0x1d5)]['SHELL']||_0xf5e02a(0x203),_0xafd26f=['-l','-c'],_0xb70078=':',_0x5de0e8='PATH';}return{'platform':_0x23d2e4,'arch':_0x1905e4,'defaultShell':_0x43999d,'shellArgs':_0xafd26f,'pathSeparator':_0xb70078,'envPathKey':_0x5de0e8,'isWindows':_0x23d2e4==='win32','isUnix':[_0xf5e02a(0x26a),_0xf5e02a(0x223),'freebsd','openbsd'][_0xf5e02a(0x27c)](_0x23d2e4)};}['_createSession'](_0x333702,_0x522ba3=null,_0x2c5d95=null){const _0x1430bb=a0_0x419a7e,_0x3e7753={'id':_0x333702,'workingDirectory':_0x522ba3||_0x2c5d95||process[_0x1430bb(0x297)](),'environment':{},'shellType':this['platformInfo']['defaultShell'],'createdAt':new Date()[_0x1430bb(0x1d8)](),'lastActivity':new Date()[_0x1430bb(0x1d8)](),'commandHistory':[]};return this['sessions'][_0x1430bb(0x1bf)](_0x333702,_0x3e7753),this['logger'][_0x1430bb(0x27a)](_0x1430bb(0x25f)+_0x333702+_0x1430bb(0x206)+_0x3e7753['workingDirectory']),_0x3e7753;}[a0_0x419a7e(0x234)](_0x2db55c){const _0x8f538=a0_0x419a7e;this['logger']['info'](_0x8f538(0x1f2));let _0xc95663=this[_0x8f538(0x1d0)];const _0x5c93e2=_0x2db55c[_0x8f538(0x233)](/\[tool id="terminal"(?:\s+session="([^"]+)")?\]/);_0x5c93e2&&_0x5c93e2[0x1]&&(_0xc95663=_0x5c93e2[0x1]);let _0x30673b='auto';const _0x1258ea=_0x2db55c[_0x8f538(0x233)](/\[tool id="terminal"(?:\s+(?:session="[^"]*"\s+)?type="([^"]+)")?\]/);_0x1258ea&&_0x1258ea[0x1]&&(_0x30673b=_0x1258ea[0x1]);const _0xc6f4ae={'sessionId':_0xc95663,'type':_0x30673b,'commands':[]};try{const _0x3591e8=TagParser['extractContent'](_0x2db55c,_0x8f538(0x1c5));for(const _0x24350d of _0x3591e8){_0xc6f4ae[_0x8f538(0x211)][_0x8f538(0x1f6)]({'action':'run-command','command':_0x24350d['trim']()});}const _0x331245=TagParser['extractContent'](_0x2db55c,'change-directory');for(const _0xbb260e of _0x331245){_0xc6f4ae['commands']['push']({'action':'change-directory','directory':_0xbb260e[_0x8f538(0x1e0)]()});}const _0x303440=TagParser['extractContent'](_0x2db55c,_0x8f538(0x216));for(const _0x23ac7e of _0x303440){const _0x5138b4=_0x23ac7e[_0x8f538(0x1e0)]()['split']('|');_0xc6f4ae[_0x8f538(0x211)]['push']({'action':_0x8f538(0x216),'sessionId':_0x5138b4[0x0],'initialDir':_0x5138b4[0x1]||null});}const _0x3137f3=TagParser[_0x8f538(0x1d6)](_0x2db55c,'input-value');for(const _0x4f168a of _0x3137f3){_0xc6f4ae[_0x8f538(0x211)]['push']({'action':_0x8f538(0x293),'value':_0x4f168a['trim']()});}const _0x146530=TagParser[_0x8f538(0x1d6)](_0x2db55c,_0x8f538(0x21c));_0x146530[_0x8f538(0x240)]>0x0&&_0xc6f4ae['commands']['push']({'action':_0x8f538(0x21c)});const _0x175f26=TagParser[_0x8f538(0x1d6)](_0x2db55c,'get-session-info');_0x175f26['length']>0x0&&_0xc6f4ae['commands'][_0x8f538(0x1f6)]({'action':_0x8f538(0x1d2)});const _0x2cd20f=TagParser['extractContent'](_0x2db55c,'get-output');for(const _0x555075 of _0x2cd20f){const _0x515173=_0x555075[_0x8f538(0x1e0)]()[_0x8f538(0x208)]('|');_0xc6f4ae['commands'][_0x8f538(0x1f6)]({'action':'get-output','processId':_0x515173[0x0],'since':_0x515173[0x1]?parseInt(_0x515173[0x1]):0x0});}const _0xcb69f8=TagParser[_0x8f538(0x1d6)](_0x2db55c,_0x8f538(0x1ea));for(const _0x9f03f7 of _0xcb69f8){_0xc6f4ae[_0x8f538(0x211)][_0x8f538(0x1f6)]({'action':'monitor-process','processId':_0x9f03f7['trim']()});}return _0xc6f4ae;}catch(_0x4bcf7c){return this[_0x8f538(0x210)][_0x8f538(0x23e)](_0x8f538(0x21a),_0x4bcf7c),{'sessionId':_0xc95663,'type':_0x30673b,'commands':[]};}}async[a0_0x419a7e(0x228)](_0x2b31ef,_0x4d2b5b){const _0x4d428b=a0_0x419a7e;_0x4d2b5b&&_0x4d2b5b!==this[_0x4d428b(0x1d3)]&&this[_0x4d428b(0x229)](_0x4d2b5b);this[_0x4d428b(0x210)][_0x4d428b(0x27a)](_0x4d428b(0x23b),_0x2b31ef);const _0x26b425=_0x2b31ef[_0x4d428b(0x266)]||this[_0x4d428b(0x1d0)],_0x36b921=[];!this['sessions']['has'](_0x26b425)&&this[_0x4d428b(0x287)](_0x26b425,null,this['projectDir']||_0x4d2b5b);const _0xe6b411=this[_0x4d428b(0x281)]['get'](_0x26b425);let _0x31a225=null;if(!_0x2b31ef['commands']||_0x2b31ef['commands']['length']===0x0)throw new Error(_0x4d428b(0x1f7));for(const _0x354861 of _0x2b31ef['commands']){try{switch(_0x354861[_0x4d428b(0x1f3)]){case _0x4d428b(0x216):const _0x1b7c48=this['_createSession'](_0x354861['sessionId'],_0x354861['initialDir'],this[_0x4d428b(0x1d3)]||_0x4d2b5b);_0x36b921[_0x4d428b(0x1f6)]({'action':_0x4d428b(0x216),'sessionId':_0x354861[_0x4d428b(0x266)],'success':!![],'workingDirectory':_0x1b7c48['workingDirectory']});break;case _0x4d428b(0x275):const _0x29d0c4=await this[_0x4d428b(0x220)](_0x26b425,_0x354861[_0x4d428b(0x24e)]);_0x36b921['push'](_0x29d0c4);break;case'run-command':const _0x1adefb=await this[_0x4d428b(0x265)](_0x26b425,_0x354861[_0x4d428b(0x1e5)]);_0x31a225=_0x1adefb['processId'],_0x36b921['push'](_0x1adefb);break;case _0x4d428b(0x293):if(!_0x31a225)throw new Error(_0x4d428b(0x1e7));const _0x317e92=await this['sendInput'](_0x31a225,_0x354861['value']);_0x36b921[_0x4d428b(0x1f6)](_0x317e92);break;case'check-environment':const _0x81cbc1=await this['checkEnvironment'](_0xe6b411[_0x4d428b(0x238)]);_0x36b921['push'](_0x81cbc1);break;case'get-session-info':const _0x4a9b4e=this[_0x4d428b(0x26b)](_0x26b425);_0x36b921['push'](_0x4a9b4e);break;case'get-output':const _0x5521da=this[_0x4d428b(0x232)](_0x354861['processId'],_0x354861[_0x4d428b(0x1dd)]);_0x36b921['push']({'action':_0x4d428b(0x217),..._0x5521da});break;case _0x4d428b(0x1ea):const _0x3faab3=await this['getProcessStatus'](_0x354861[_0x4d428b(0x22e)],!![]);_0x36b921['push']({'action':_0x4d428b(0x1ea),..._0x3faab3});break;default:throw new Error('Unknown\x20terminal\x20command:\x20'+_0x354861['action']);}}catch(_0x13b470){this[_0x4d428b(0x210)]['error']('Error\x20executing\x20terminal\x20command\x20'+_0x354861['action']+':',_0x13b470),_0x36b921['push']({'action':_0x354861['action'],'success':![],'error':_0x13b470['message'],'sessionId':_0x26b425});}}return{'results':_0x36b921,'projectRootDirectory':this[_0x4d428b(0x1d3)]||_0x4d2b5b};}async[a0_0x419a7e(0x220)](_0x260bf1,_0x89717c){const _0x1c4d87=a0_0x419a7e,_0x17a20b=this['sessions']['get'](_0x260bf1);if(!_0x17a20b)throw new Error('Session\x20'+_0x260bf1+_0x1c4d87(0x257));try{const _0x363fc7=a0_0x40b8d5['isAbsolute'](_0x89717c)?_0x89717c:a0_0x40b8d5['resolve'](_0x17a20b['workingDirectory'],_0x89717c);await a0_0x53c134[_0x1c4d87(0x26f)](_0x363fc7);const _0x372506=_0x17a20b[_0x1c4d87(0x238)];return _0x17a20b[_0x1c4d87(0x238)]=_0x363fc7,_0x17a20b['lastActivity']=new Date()['toISOString'](),this[_0x1c4d87(0x210)][_0x1c4d87(0x27a)]('Changed\x20directory\x20for\x20session\x20'+_0x260bf1+':\x20'+_0x372506+'\x20->\x20'+_0x363fc7),{'action':_0x1c4d87(0x275),'sessionId':_0x260bf1,'success':!![],'oldDirectory':_0x372506,'newDirectory':_0x363fc7,'relativePath':_0x89717c};}catch(_0xe0b2fd){return{'action':'change-directory','sessionId':_0x260bf1,'success':![],'error':_0x1c4d87(0x262)+_0xe0b2fd['message'],'directory':_0x89717c};}}async[a0_0x419a7e(0x265)](_0x6105cf,_0x369b01){const _0x292cc0=a0_0x419a7e,_0x2038e1=this['sessions'][_0x292cc0(0x23c)](_0x6105cf);if(!_0x2038e1)throw new Error(_0x292cc0(0x231)+_0x6105cf+_0x292cc0(0x257));if(this['isBlockedCommand'](_0x369b01))throw new Error('Command\x20contains\x20blocked\x20terms\x20for\x20security:\x20'+_0x369b01);const _0x65aaf5=_0x369b01[_0x292cc0(0x233)](/^cd\s+(.+)$/);if(_0x65aaf5){const _0x1bc702=_0x65aaf5[0x1]['trim']()[_0x292cc0(0x1e2)](/['"]/g,'');return await this['_changeDirectory'](_0x6105cf,_0x1bc702);}if(_0x369b01['trim']()===_0x292cc0(0x227))return{'action':'run-command','command':_0x369b01,'sessionId':_0x6105cf,'stdout':_0x2038e1[_0x292cc0(0x238)],'stderr':'','exitCode':0x0,'success':!![],'platform':this['platformInfo']['platform']};this[_0x292cc0(0x210)]['info'](_0x292cc0(0x1f0)+_0x6105cf+':\x20'+_0x369b01),_0x2038e1['lastActivity']=new Date()[_0x292cc0(0x1d8)](),_0x2038e1[_0x292cc0(0x243)][_0x292cc0(0x1f6)]({'command':_0x369b01,'timestamp':new Date()['toISOString'](),'workingDirectory':_0x2038e1['workingDirectory']});const _0x4d3684=await this['_createExecutionConfig'](_0x369b01,_0x2038e1[_0x292cc0(0x238)]);return this[_0x292cc0(0x22d)](_0x369b01,_0x2038e1[_0x292cc0(0x238)],_0x4d3684[_0x292cc0(0x1d5)],_0x4d3684,_0x6105cf);}['_getSessionInfo'](_0x4e24d3){const _0x19c006=a0_0x419a7e,_0x39d417=this[_0x19c006(0x281)]['get'](_0x4e24d3);if(!_0x39d417)return{'action':_0x19c006(0x1d2),'sessionId':_0x4e24d3,'success':![],'error':'Session\x20not\x20found'};return{'action':'get-session-info','sessionId':_0x4e24d3,'success':!![],'workingDirectory':_0x39d417['workingDirectory'],'shellType':_0x39d417[_0x19c006(0x1e3)],'createdAt':_0x39d417[_0x19c006(0x28c)],'lastActivity':_0x39d417[_0x19c006(0x1e9)],'commandCount':_0x39d417[_0x19c006(0x243)]['length'],'recentCommands':_0x39d417['commandHistory'][_0x19c006(0x1c1)](-0x5)};}async[a0_0x419a7e(0x201)](_0xf6f6e6,_0x3027e6){const _0x3505d7=a0_0x419a7e;return!this['sessions']['has'](this['defaultSessionId'])&&this[_0x3505d7(0x287)](this[_0x3505d7(0x1d0)],null,_0x3027e6),this[_0x3505d7(0x265)](this['defaultSessionId'],_0xf6f6e6);}['isBlockedCommand'](_0x1050e3){const _0x290e61=_0x1050e3['toLowerCase']()['trim']();return this['blockedCommands']['some'](_0x431cde=>{const _0x2f4e9=a0_0x2c7c,_0x136aad=_0x431cde[_0x2f4e9(0x236)]();if(_0x290e61===_0x136aad)return!![];const _0x2fea2a=['\x20',';','|','&','&&','||','(',')','<','>','\x09','\x0a'];return _0x2fea2a['some'](_0xc0c7fe=>_0x290e61[_0x2f4e9(0x25c)](_0x136aad+_0xc0c7fe));});}async[a0_0x419a7e(0x22d)](_0x400c21,_0x856d1d,_0x18ac9e,_0x529379=null,_0xde04ba=null){const _0x3857b7=a0_0x419a7e;return!_0x529379&&(_0x529379=await this[_0x3857b7(0x230)](_0x400c21,_0x856d1d)),new Promise((_0x1c051e,_0x36c39f)=>{const _0x3a5907=_0x3857b7,processId=a0_0x3297c7(),_0x481c8c=Date[_0x3a5907(0x1be)]();this[_0x3a5907(0x210)][_0x3a5907(0x1bd)](_0x3a5907(0x291)+_0x856d1d+':\x20'+_0x529379[_0x3a5907(0x247)]+'\x20with\x20args:',_0x529379['args']);const _0x3671e3=spawn(_0x529379['shell'],_0x529379['args'],{..._0x529379[_0x3a5907(0x27b)],'cwd':_0x856d1d});this[_0x3a5907(0x20d)]['set'](processId,_0x3671e3),this[_0x3a5907(0x23d)]['set'](processId,{'stdout':[],'stderr':[],'startTime':_0x481c8c,'lastUpdate':_0x481c8c,'command':_0x400c21,'workingDir':_0x856d1d,'isRunning':!![]});let _0x438c7d='',_0x2cfa48='';_0x3671e3['stdout']['on'](_0x3a5907(0x246),_0x1f3f0f=>{const _0x4089f1=_0x3a5907,_0x5d62ea=_0x1f3f0f[_0x4089f1(0x1cb)]();_0x438c7d+=_0x5d62ea;const _0x54f7ff=this['processOutputBuffers'][_0x4089f1(0x23c)](processId);_0x54f7ff&&(_0x54f7ff[_0x4089f1(0x235)][_0x4089f1(0x1f6)]({'data':_0x5d62ea,'timestamp':Date[_0x4089f1(0x1be)]()-_0x54f7ff['startTime']}),_0x54f7ff['lastUpdate']=Date[_0x4089f1(0x1be)]());const _0xcf469f=Math[_0x4089f1(0x1ee)]((Date[_0x4089f1(0x1be)]()-_0x481c8c)/0x3e8);this['logger']['debug']('['+processId+']\x20['+_0xcf469f+_0x4089f1(0x209)+_0x5d62ea['slice'](0x0,0xc8)+(_0x5d62ea['length']>0xc8?_0x4089f1(0x1c7):''));}),_0x3671e3['stderr']['on'](_0x3a5907(0x246),_0x288976=>{const _0x4de391=_0x3a5907,_0x7c09ea=_0x288976[_0x4de391(0x1cb)]();_0x2cfa48+=_0x7c09ea;const _0x25791d=this[_0x4de391(0x23d)]['get'](processId);_0x25791d&&(_0x25791d[_0x4de391(0x226)][_0x4de391(0x1f6)]({'data':_0x7c09ea,'timestamp':Date[_0x4de391(0x1be)]()-_0x25791d[_0x4de391(0x1d1)]}),_0x25791d['lastUpdate']=Date[_0x4de391(0x1be)]());const _0x594f9a=Math[_0x4de391(0x1ee)]((Date[_0x4de391(0x1be)]()-_0x481c8c)/0x3e8);this['logger']['debug']('['+processId+']\x20['+_0x594f9a+'s]\x20stderr:\x20'+_0x7c09ea[_0x4de391(0x1c1)](0x0,0xc8)+(_0x7c09ea['length']>0xc8?_0x4de391(0x1c7):''));}),_0x3671e3['on'](_0x3a5907(0x23f),(_0x2d1d8b,_0x549adf)=>{const _0x362d8c=_0x3a5907,_0x145f16=Math['floor']((Date[_0x362d8c(0x1be)]()-_0x481c8c)/0x3e8);this['logger']['info']('Command\x20exited\x20with\x20code:\x20'+_0x2d1d8b+_0x362d8c(0x259)+_0x549adf+'\x20after\x20'+_0x145f16+'s');const _0x54eb25=this['processOutputBuffers']['get'](processId);_0x54eb25&&(_0x54eb25['isRunning']=![],_0x54eb25['exitCode']=_0x2d1d8b,_0x54eb25['duration']=Date['now']()-_0x481c8c),(_0x2d1d8b!==null||_0x549adf)&&(this['activeProcesses'][_0x362d8c(0x1dc)](processId),setTimeout(()=>this[_0x362d8c(0x23d)]['delete'](processId),0xea60)),_0x1c051e({'action':'run-command','command':_0x400c21,'processId':processId,'sessionId':_0xde04ba,'workingDirectory':_0x856d1d,'stdout':_0x438c7d['trim'](),'stderr':_0x2cfa48['trim'](),'exitCode':_0x2d1d8b,'signal':_0x549adf,'success':_0x2d1d8b===0x0,'isRunning':_0x2d1d8b===null&&!_0x549adf,'duration':_0x145f16+'s','startTime':new Date(_0x481c8c)['toISOString'](),'endTime':new Date()['toISOString'](),'platform':this[_0x362d8c(0x28f)][_0x362d8c(0x1e1)]});}),_0x3671e3['on']('error',_0x3f05bd=>{const _0x36de73=_0x3a5907;this['logger']['error'](_0x36de73(0x268)+_0x3f05bd['message']),this[_0x36de73(0x20d)]['delete'](processId),_0x1c051e({'action':'run-command','command':_0x400c21,'processId':processId,'sessionId':_0xde04ba,'workingDirectory':_0x856d1d,'stdout':_0x438c7d[_0x36de73(0x1e0)](),'stderr':_0x2cfa48['trim']()+'\x0a'+_0x3f05bd[_0x36de73(0x21e)],'exitCode':-0x1,'success':![],'error':_0x3f05bd['message'],'platform':this['platformInfo'][_0x36de73(0x1e1)]});});const _0x2db503=this[_0x3a5907(0x1eb)][_0x3a5907(0x20f)]?.['terminal']?.[_0x3a5907(0x288)]||0xea60;if(_0x2db503>0x0){const _0x4da895=setTimeout(()=>{const _0x91f29d=_0x3a5907;if(this['activeProcesses']['has'](processId)){const _0x2bd509=Math['floor']((Date[_0x91f29d(0x1be)]()-_0x481c8c)/0x3e8);this[_0x91f29d(0x210)]['warn'](_0x91f29d(0x1d9)+_0x2db503+'ms\x20/\x20'+_0x2bd509+_0x91f29d(0x277)+_0x400c21);try{_0x3671e3[_0x91f29d(0x283)](_0x91f29d(0x28e)),setTimeout(()=>{const _0x4abfa6=_0x91f29d;this['activeProcesses'][_0x4abfa6(0x264)](processId)&&_0x3671e3['kill'](_0x4abfa6(0x1ca));},0x7d0);}catch(_0x2c1ce7){this[_0x91f29d(0x210)]['error'](_0x91f29d(0x213)+_0x2c1ce7[_0x91f29d(0x21e)]);}const _0x2ba9d9=this[_0x91f29d(0x23d)][_0x91f29d(0x23c)](processId);_0x2ba9d9&&(_0x2ba9d9[_0x91f29d(0x1de)]=![],_0x2ba9d9[_0x91f29d(0x212)]=!![],_0x2ba9d9[_0x91f29d(0x276)]=Date[_0x91f29d(0x1be)]()-_0x481c8c),this['activeProcesses'][_0x91f29d(0x1dc)](processId),_0x1c051e({'action':_0x91f29d(0x1c5),'command':_0x400c21,'processId':processId,'sessionId':_0xde04ba,'workingDirectory':_0x856d1d,'stdout':_0x438c7d[_0x91f29d(0x1e0)](),'stderr':_0x2cfa48['trim']()+'\x0a⏱️\x20Process\x20terminated\x20due\x20to\x20timeout','exitCode':-0x1,'success':![],'isRunning':![],'timeout':!![],'duration':_0x2bd509+'s','timeoutValue':_0x2db503+'ms','startTime':new Date(_0x481c8c)['toISOString'](),'endTime':new Date()[_0x91f29d(0x1d8)](),'platform':this['platformInfo']['platform']});}},_0x2db503);_0x3671e3['on']('exit',()=>clearTimeout(_0x4da895));}});}async['_createExecutionConfig'](_0x4cbcd1,_0x138a14){const _0x34d0c8=a0_0x419a7e,_0x41400c=await this['_buildEnvironment'](_0x138a14);if(this[_0x34d0c8(0x28f)][_0x34d0c8(0x1e4)]){const _0x3c8fa4=_0x34d0c8(0x249)+_0x138a14['replace'](/\\/g,'\x5c\x5c')+_0x34d0c8(0x200)+_0x4cbcd1+_0x34d0c8(0x269);return{'shell':'powershell.exe','args':['-ExecutionPolicy','Bypass','-NoLogo','-NoProfile','-Command',_0x3c8fa4],'env':_0x41400c,'options':{'cwd':_0x138a14,'shell':![],'env':_0x41400c,'windowsHide':!![]}};}else{let _0x21d1cd=this['platformInfo'][_0x34d0c8(0x205)];const _0x1fc427=_0x34d0c8(0x25b)+_0x138a14+_0x34d0c8(0x285)+_0x4cbcd1+_0x34d0c8(0x269);return{'shell':_0x21d1cd,'args':['-c',_0x1fc427],'env':_0x41400c,'options':{'cwd':_0x138a14,'shell':![],'env':_0x41400c}};}}async[a0_0x419a7e(0x1c6)](_0x19ba46){const _0x25ea7e=a0_0x419a7e,_0x1334d3='env_'+_0x19ba46;if(this[_0x25ea7e(0x1da)][_0x25ea7e(0x264)](_0x1334d3))return this[_0x25ea7e(0x1da)][_0x25ea7e(0x23c)](_0x1334d3);const _0x48156d={...process['env']},_0x319b77=await this[_0x25ea7e(0x1fd)](),_0x36a334=_0x48156d[this[_0x25ea7e(0x28f)]['envPathKey']]||'',_0x5f0ea5=_0x36a334['split'](this['platformInfo'][_0x25ea7e(0x22b)])['filter'](Boolean);for(const _0x44842a of _0x319b77){!_0x5f0ea5['includes'](_0x44842a)&&_0x5f0ea5[_0x25ea7e(0x1fc)](_0x44842a);}const _0x261134=a0_0x40b8d5[_0x25ea7e(0x224)](_0x19ba46,'node_modules','.bin');return await this['_pathExists'](_0x261134)&&!_0x5f0ea5['includes'](_0x261134)&&_0x5f0ea5[_0x25ea7e(0x1fc)](_0x261134),_0x48156d[this['platformInfo'][_0x25ea7e(0x21b)]]=_0x5f0ea5['join'](this[_0x25ea7e(0x28f)]['pathSeparator']),this[_0x25ea7e(0x1da)][_0x25ea7e(0x1bf)](_0x1334d3,_0x48156d),_0x48156d;}async['_getDevToolPaths'](){const _0x1bb85b=a0_0x419a7e,_0x4e168f=_0x1bb85b(0x241);if(this[_0x1bb85b(0x245)]['has'](_0x4e168f))return this['toolPaths']['get'](_0x4e168f);let _0x2fae16=[];if(this['platformInfo'][_0x1bb85b(0x1e4)]){const _0x5809e6=[_0x1bb85b(0x1ef),'C:\x5cProgram\x20Files\x20(x86)\x5cnodejs',a0_0x40b8d5['join'](a0_0x1c13e3['homedir'](),_0x1bb85b(0x1c3),'Roaming',_0x1bb85b(0x1e8)),a0_0x40b8d5[_0x1bb85b(0x224)](a0_0x1c13e3[_0x1bb85b(0x289)](),_0x1bb85b(0x1c3),_0x1bb85b(0x284),_0x1bb85b(0x1e8)),'C:\x5cPython39',_0x1bb85b(0x274),'C:\x5cPython38','C:\x5cPython38\x5cScripts',_0x1bb85b(0x290),'C:\x5cPython37\x5cScripts',_0x1bb85b(0x23a),_0x1bb85b(0x1d4)];for(const _0x30cb28 of _0x5809e6){try{await this[_0x1bb85b(0x295)](_0x30cb28)&&_0x2fae16['push'](_0x30cb28);}catch(_0x56447e){}}}else{const _0x3ba32c=['/usr/local/bin',_0x1bb85b(0x1f4),_0x1bb85b(0x28b),_0x1bb85b(0x25a),_0x1bb85b(0x292),'/sbin',_0x1bb85b(0x1c9),'/usr/local/Homebrew/bin',a0_0x40b8d5[_0x1bb85b(0x224)](a0_0x1c13e3['homedir'](),'.nvm'),a0_0x40b8d5['join'](a0_0x1c13e3['homedir'](),_0x1bb85b(0x20e),'current',_0x1bb85b(0x258)),a0_0x40b8d5['join'](a0_0x1c13e3['homedir'](),_0x1bb85b(0x256),'bin'),a0_0x40b8d5['join'](a0_0x1c13e3['homedir'](),'.yarn',_0x1bb85b(0x258)),a0_0x40b8d5[_0x1bb85b(0x224)](a0_0x1c13e3[_0x1bb85b(0x289)](),_0x1bb85b(0x24c),'bin'),a0_0x40b8d5['join'](a0_0x1c13e3['homedir'](),'.pyenv',_0x1bb85b(0x258)),a0_0x40b8d5[_0x1bb85b(0x224)](a0_0x1c13e3[_0x1bb85b(0x289)](),_0x1bb85b(0x258)),a0_0x40b8d5['join'](a0_0x1c13e3[_0x1bb85b(0x289)](),'.local','bin'),_0x1bb85b(0x20a),'/var/lib/flatpak/exports/bin',a0_0x40b8d5[_0x1bb85b(0x224)](a0_0x1c13e3[_0x1bb85b(0x289)](),_0x1bb85b(0x1db),'share',_0x1bb85b(0x1ff),'exports','bin')];for(const _0x569287 of _0x3ba32c){try{await this[_0x1bb85b(0x295)](_0x569287)&&_0x2fae16['push'](_0x569287);}catch(_0x949349){}}}return this[_0x1bb85b(0x245)][_0x1bb85b(0x1bf)](_0x4e168f,_0x2fae16),_0x2fae16;}async['_pathExists'](_0x94ee63){const _0x56baaa=a0_0x419a7e;try{return await a0_0x53c134[_0x56baaa(0x26f)](_0x94ee63),!![];}catch{return![];}}async[a0_0x419a7e(0x25d)](processId,_0x2cd5c7){const _0x13d43a=a0_0x419a7e;if(!this['activeProcesses'][_0x13d43a(0x264)](processId))return{'action':'input-value','processId':processId,'success':![],'error':_0x13d43a(0x20c)};const _0x296a39=this[_0x13d43a(0x20d)]['get'](processId);try{let processedInput=_0x2cd5c7;if(_0x2cd5c7==='[CTRL_C]')return _0x296a39['kill']('SIGINT'),{'action':_0x13d43a(0x293),'processId':processId,'input':'CTRL+C\x20signal','success':!![]};else{if(_0x2cd5c7==='[CTRL_D]')return _0x296a39[_0x13d43a(0x1f5)]['end'](),{'action':_0x13d43a(0x293),'processId':processId,'input':_0x13d43a(0x1ce),'success':!![]};else{if(_0x2cd5c7==='[ENTER]')processedInput='\x0a';else{if(_0x2cd5c7==='[ARROW_UP]')processedInput=_0x13d43a(0x22a);else _0x2cd5c7===_0x13d43a(0x1e6)?processedInput=_0x13d43a(0x270):processedInput=_0x2cd5c7+'\x0a';}}}return _0x296a39['stdin']['write'](processedInput),{'action':'input-value','processId':processId,'input':_0x2cd5c7,'success':!![]};}catch(_0x14f3ee){return{'action':'input-value','processId':processId,'input':_0x2cd5c7,'success':![],'error':_0x14f3ee['message']};}}async[a0_0x419a7e(0x22c)](_0x425484){const _0x4dc9ef=a0_0x419a7e;this[_0x4dc9ef(0x210)]['info']('Checking\x20development\x20environment');const _0x59e004=[{'name':_0x4dc9ef(0x28a),'command':_0x4dc9ef(0x1bc),'description':'Node.js\x20Runtime'},{'name':_0x4dc9ef(0x1e8),'command':_0x4dc9ef(0x218),'description':_0x4dc9ef(0x248)},{'name':_0x4dc9ef(0x261),'command':'git\x20--version','description':_0x4dc9ef(0x254)},{'name':'python','command':_0x4dc9ef(0x253),'description':_0x4dc9ef(0x24b)},{'name':'python3','command':'python3\x20--version','description':_0x4dc9ef(0x1cc)},{'name':_0x4dc9ef(0x278),'command':_0x4dc9ef(0x24f),'description':'Python\x20Package\x20Manager'},{'name':'java','command':'java\x20-version','description':_0x4dc9ef(0x27f)},{'name':'docker','command':_0x4dc9ef(0x242),'description':'Docker\x20Container\x20Platform'}],_0x3a0d7d={},_0x4e0569=await this['_buildEnvironment'](_0x425484);for(const _0x47abf2 of _0x59e004){try{const _0x5cf40e=await this['_executeCommand'](_0x47abf2[_0x4dc9ef(0x1e5)],_0x425484,_0x4e0569);_0x3a0d7d[_0x47abf2['name']]={'available':_0x5cf40e[_0x4dc9ef(0x250)]&&_0x5cf40e[_0x4dc9ef(0x263)]===0x0,'version':_0x5cf40e[_0x4dc9ef(0x250)]?_0x5cf40e[_0x4dc9ef(0x235)][_0x4dc9ef(0x1e0)]():null,'error':_0x5cf40e['success']?null:_0x5cf40e[_0x4dc9ef(0x226)]||'Command\x20not\x20found','description':_0x47abf2[_0x4dc9ef(0x24d)]};}catch(_0x2c8104){_0x3a0d7d[_0x47abf2['name']]={'available':![],'version':null,'error':_0x2c8104['message'],'description':_0x47abf2[_0x4dc9ef(0x24d)]};}}let _0x4556be=_0x4dc9ef(0x21f)+this[_0x4dc9ef(0x28f)]['platform']+')\x0a';_0x4556be+='='[_0x4dc9ef(0x279)](0x3c)+'\x0a\x0a';const _0x4e5b57=[],_0x2f2d72=[];for(const [_0x46f3af,_0x29eb77]of Object['entries'](_0x3a0d7d)){_0x29eb77['available']?_0x4e5b57['push']('✅\x20'+_0x29eb77['description']+':\x20'+_0x29eb77[_0x4dc9ef(0x244)]):_0x2f2d72[_0x4dc9ef(0x1f6)]('❌\x20'+_0x29eb77['description']+':\x20'+_0x29eb77['error']);}_0x4556be+=_0x4e5b57['join']('\x0a')+'\x0a\x0a';_0x2f2d72[_0x4dc9ef(0x240)]>0x0&&(_0x4556be+=_0x2f2d72[_0x4dc9ef(0x224)]('\x0a')+'\x0a\x0a');if(_0x2f2d72[_0x4dc9ef(0x240)]>0x0){_0x4556be+='📋\x20Installation\x20Suggestions:\x0a',_0x4556be+='='['repeat'](0x1e)+'\x0a';if(!_0x3a0d7d['node']?.['available']){if(this[_0x4dc9ef(0x28f)][_0x4dc9ef(0x1e4)])_0x4556be+='\u2022 Node.js: Download from https://nodejs.org/ or use: winget install OpenJS.NodeJS\n';else this['platformInfo']['platform']==='darwin'?_0x4556be+='\u2022 Node.js: brew install node or download from https://nodejs.org/\n':_0x4556be+='•\x20Node.js:\x20Use\x20package\x20manager\x20(apt\x20install\x20nodejs\x20npm)\x20or\x20nvm\x0a';}if(!_0x3a0d7d['git']?.[_0x4dc9ef(0x1c8)]){if(this['platformInfo']['isWindows'])_0x4556be+='\u2022 Git: Download from https://git-scm.com/ or use: winget install Git.Git\n';else this['platformInfo']['platform']===_0x4dc9ef(0x223)?_0x4556be+=_0x4dc9ef(0x26c):_0x4556be+=_0x4dc9ef(0x214);}_0x4556be+='\x0a💡\x20After\x20installation,\x20restart\x20your\x20terminal\x20and\x20try\x20again.\x0a';}return _0x4556be+='\x0a🛣️\x20\x20Current\x20PATH:\x0a'+_0x4e0569[this['platformInfo'][_0x4dc9ef(0x21b)]]+'\x0a',{'action':'check-environment','success':!![],'platform':this[_0x4dc9ef(0x28f)],'tools':_0x3a0d7d,'report':_0x4556be,'environmentPath':_0x4e0569[this[_0x4dc9ef(0x28f)][_0x4dc9ef(0x21b)]]};}async[a0_0x419a7e(0x22f)](processId,_0x66c50e=![]){const _0x1ee629=a0_0x419a7e,_0x1a2c75=this['processOutputBuffers'][_0x1ee629(0x23c)](processId);if(!this[_0x1ee629(0x20d)][_0x1ee629(0x264)](processId)&&!_0x1a2c75)return{'processId':processId,'isRunning':![],'exists':![]};const process=this[_0x1ee629(0x20d)][_0x1ee629(0x23c)](processId),_0x162472=Date[_0x1ee629(0x1be)](),_0x425299={'processId':processId,'isRunning':process?!process[_0x1ee629(0x1df)]&&process['exitCode']===null:![],'exists':!![],'pid':process?.[_0x1ee629(0x27e)]};if(_0x1a2c75){const _0x578939=_0x162472-_0x1a2c75['startTime'];_0x425299['duration']=Math['floor'](_0x578939/0x3e8)+'s',_0x425299[_0x1ee629(0x1d1)]=new Date(_0x1a2c75[_0x1ee629(0x1d1)])[_0x1ee629(0x1d8)](),_0x425299[_0x1ee629(0x1d7)]=new Date(_0x1a2c75['lastUpdate'])[_0x1ee629(0x1d8)](),_0x425299[_0x1ee629(0x1fa)]=Math['floor']((_0x162472-_0x1a2c75[_0x1ee629(0x1d7)])/0x3e8)+'s',_0x66c50e&&(_0x425299[_0x1ee629(0x272)]=_0x1a2c75[_0x1ee629(0x235)]['slice'](-0xa)['map'](_0x1a895e=>({'data':_0x1a895e['data'][_0x1ee629(0x1c1)](0x0,0xc8),'timestamp':Math[_0x1ee629(0x1ee)](_0x1a895e['timestamp']/0x3e8)+'s'})),_0x425299['recentStderr']=_0x1a2c75['stderr'][_0x1ee629(0x1c1)](-0x5)['map'](_0x219f3e=>({'data':_0x219f3e['data'][_0x1ee629(0x1c1)](0x0,0xc8),'timestamp':Math[_0x1ee629(0x1ee)](_0x219f3e[_0x1ee629(0x237)]/0x3e8)+'s'}))),_0x425299['command']=_0x1a2c75[_0x1ee629(0x1e5)],_0x425299[_0x1ee629(0x267)]=_0x1a2c75['workingDir'];}return _0x425299;}['getContinuousOutput'](processId,_0x43d448=0x0){const _0x2cd56f=a0_0x419a7e,_0x59c267=this['processOutputBuffers']['get'](processId);if(!_0x59c267)return{'processId':processId,'exists':![],'error':'Process\x20not\x20found\x20or\x20output\x20buffer\x20expired'};const _0xc4e03d=Date[_0x2cd56f(0x1be)](),_0x60b434=_0xc4e03d-_0x59c267[_0x2cd56f(0x1d1)],_0x5d94cb=_0x59c267['stdout']['filter'](_0x45739d=>_0x45739d[_0x2cd56f(0x237)]>=_0x43d448),_0x56c0e1=_0x59c267[_0x2cd56f(0x226)]['filter'](_0x23f790=>_0x23f790[_0x2cd56f(0x237)]>=_0x43d448);return{'processId':processId,'isRunning':_0x59c267['isRunning'],'duration':Math[_0x2cd56f(0x1ee)](_0x60b434/0x3e8)+_0x2cd56f(0x296)+Math['floor'](_0x60b434/0xea60)+'m\x20'+Math['floor'](_0x60b434%0xea60/0x3e8)+'s)','startTime':new Date(_0x59c267['startTime'])[_0x2cd56f(0x1d8)](),'currentTime':new Date(_0xc4e03d)[_0x2cd56f(0x1d8)](),'lastUpdate':new Date(_0x59c267[_0x2cd56f(0x1d7)])[_0x2cd56f(0x1d8)](),'newStdout':_0x5d94cb[_0x2cd56f(0x1cf)](_0xd7efbd=>_0xd7efbd['data'])[_0x2cd56f(0x224)](''),'newStderr':_0x56c0e1['map'](_0x5a06b5=>_0x5a06b5[_0x2cd56f(0x246)])['join'](''),'stdoutCount':_0x5d94cb['length'],'stderrCount':_0x56c0e1[_0x2cd56f(0x240)],'totalStdoutLines':_0x59c267[_0x2cd56f(0x235)]['length'],'totalStderrLines':_0x59c267[_0x2cd56f(0x226)]['length'],'command':_0x59c267[_0x2cd56f(0x1e5)],'workingDirectory':_0x59c267[_0x2cd56f(0x267)],'timedOut':_0x59c267[_0x2cd56f(0x212)]||![],'exitCode':_0x59c267['exitCode']};}async['terminateProcess'](processId){const _0x875cfd=a0_0x419a7e;if(!this['activeProcesses'][_0x875cfd(0x264)](processId))return{'action':_0x875cfd(0x28d),'processId':processId,'success':![],'error':'Process\x20not\x20found\x20or\x20already\x20terminated'};const _0x5db35a=this['activeProcesses'][_0x875cfd(0x23c)](processId);try{return this['platformInfo']['isWindows']?_0x5db35a['kill'](_0x875cfd(0x28e)):_0x5db35a['kill'](_0x875cfd(0x222)),await new Promise(_0x3c4c33=>setTimeout(_0x3c4c33,0x7d0)),this[_0x875cfd(0x20d)][_0x875cfd(0x264)](processId)&&!_0x5db35a['killed']&&_0x5db35a[_0x875cfd(0x283)](_0x875cfd(0x1ca)),this['activeProcesses']['delete'](processId),{'action':_0x875cfd(0x28d),'processId':processId,'success':!![]};}catch(_0x36cae4){return this[_0x875cfd(0x20d)]['delete'](processId),{'action':_0x875cfd(0x28d),'processId':processId,'success':![],'error':_0x36cae4[_0x875cfd(0x21e)]};}}[a0_0x419a7e(0x219)](){const _0x14fdba=a0_0x419a7e,processes=[];for(const [processId,_0x3cb91f]of this['activeProcesses'][_0x14fdba(0x1c2)]()){processes['push']({'processId':processId,'pid':_0x3cb91f[_0x14fdba(0x27e)],'isRunning':!_0x3cb91f['killed']&&_0x3cb91f[_0x14fdba(0x263)]===null,'spawnfile':_0x3cb91f[_0x14fdba(0x215)],'spawnargs':_0x3cb91f['spawnargs']});}return processes;}[a0_0x419a7e(0x1f9)](){const _0x381af3=a0_0x419a7e;this['environmentCache'][_0x381af3(0x20b)](),this[_0x381af3(0x245)][_0x381af3(0x20b)](),this['logger'][_0x381af3(0x27a)]('Terminal\x20tool\x20cache\x20cleared');}['getPlatformInfo'](){const _0x44838e=a0_0x419a7e;return{...this[_0x44838e(0x28f)],'nodeVersion':process[_0x44838e(0x244)],'activeProcesses':this['activeProcesses'][_0x44838e(0x1f8)],'activeSessions':this['sessions'][_0x44838e(0x1f8)],'cacheSize':this[_0x44838e(0x1da)]['size']};}[a0_0x419a7e(0x24a)](){const _0x1b805f=a0_0x419a7e,_0xad6ab2=[];for(const [_0x5d353e,_0x3349d9]of this[_0x1b805f(0x281)]['entries']()){_0xad6ab2[_0x1b805f(0x1f6)]({'sessionId':_0x5d353e,'workingDirectory':_0x3349d9[_0x1b805f(0x238)],'createdAt':_0x3349d9[_0x1b805f(0x28c)],'lastActivity':_0x3349d9[_0x1b805f(0x1e9)],'commandCount':_0x3349d9[_0x1b805f(0x243)][_0x1b805f(0x240)]});}return _0xad6ab2;}['validateConfiguration'](){const _0x114be5=a0_0x419a7e,_0x2f1361=[],_0x20a14b=[];try{if(this[_0x114be5(0x28f)][_0x114be5(0x1e4)])!process[_0x114be5(0x1d5)]['WINDIR']&&_0x20a14b[_0x114be5(0x1f6)]('Windows\x20environment\x20variables\x20not\x20detected');else{const _0x46d00d=require('fs');!_0x46d00d['existsSync'](this[_0x114be5(0x28f)][_0x114be5(0x205)])&&_0x2f1361['push'](_0x114be5(0x273)+this['platformInfo']['defaultShell']);}}catch(_0x52e8d0){_0x2f1361[_0x114be5(0x1f6)]('Shell\x20validation\x20error:\x20'+_0x52e8d0[_0x114be5(0x21e)]);}const _0x17d87b=this['config']['tools']?.['terminal'];return _0x17d87b&&(_0x17d87b[_0x114be5(0x288)]&&_0x17d87b[_0x114be5(0x288)]<0x3e8&&_0x20a14b[_0x114be5(0x1f6)]('Command\x20timeout\x20is\x20very\x20low\x20(<\x201000ms)')),{'valid':_0x2f1361[_0x114be5(0x240)]===0x0,'issues':_0x2f1361,'warnings':_0x20a14b,'platform':this[_0x114be5(0x28f)][_0x114be5(0x1e1)],'shell':this[_0x114be5(0x28f)]['defaultShell']};}[a0_0x419a7e(0x221)](){return'\x0aTerminal\x20Tool:\x20Cross-platform\x20terminal\x20command\x20execution\x20with\x20comprehensive\x20environment\x20support.\x0a\x0aFeatures:\x0a-\x20Automatic\x20environment\x20detection\x20and\x20setup\x0a-\x20Cross-platform\x20compatibility\x20(Windows,\x20macOS,\x20Linux)\x0a-\x20Development\x20tool\x20path\x20discovery\x20(Node.js,\x20npm,\x20Python,\x20Git,\x20etc.)\x0a-\x20Profile\x20and\x20environment\x20variable\x20loading\x0a-\x20Security\x20command\x20blocking\x0a\x0aUsage:\x0a[tool\x20id=\x22terminal\x22\x20type=\x22auto\x20|\x20powershell\x20|\x20bash\x20|\x20zsh\x20|\x20cmd\x22]\x0a[run-command]\x0acommand\x20to\x20execute\x0a[/run-command]\x0a\x0a[input-value]\x0avalue\x20to\x20input\x20when\x20prompted\x0a[/input-value]\x0a\x0a[check-environment]\x0aDisplay\x20environment\x20information\x0a[/check-environment]\x0a[/tool]\x0a\x0aExamples:\x0a\x0a1.\x20Check\x20environment:\x0a[tool\x20id=\x22terminal\x22]\x0a[check-environment]\x0a[/check-environment]\x0a[/tool]\x0a\x0a2.\x20Run\x20Node.js\x20commands:\x0a[tool\x20id=\x22terminal\x22]\x0a[run-command]\x0anode\x20--version\x20&&\x20npm\x20--version\x0a[/run-command]\x0a[/tool]\x0a\x0a3.\x20Install\x20packages:\x0a[tool\x20id=\x22terminal\x22]\x0a[run-command]\x0anpm\x20install\x20express\x0a[/run-command]\x0a[/tool]\x0a\x0a4.\x20Interactive\x20command\x20with\x20input:\x0a[tool\x20id=\x22terminal\x22]\x0a[run-command]\x0anpm\x20init\x0a[/run-command]\x0a[input-value]\x0amy-project\x0a[/input-value]\x0a[/tool]\x0a\x0a5.\x20Session-aware\x20usage\x20(supports\x20directory\x20persistence):\x0a[tool\x20id=\x22terminal\x22\x20session=\x22optional-session-id\x22]\x0a[change-directory]\x0apath/to/directory\x0a[/change-directory]\x0a[run-command]\x0acommand\x20to\x20execute\x0a[/run-command]\x0a[get-output]\x0aprocess-id|since-timestamp\x0a[/get-output]\x0a[monitor-process]\x0aprocess-id\x0a[/monitor-process]\x0a[/tool]\x0a\x0aSession\x20management\x20commands:\x0a[tool\x20id=\x22terminal\x22]\x0a[create-session]\x0asession-id|optional-initial-directory\x0a[/create-session]\x0a[get-session-info]\x0a[/get-session-info]\x0a[/tool]\x0a\x0aSOLUTION\x20FOR\x20DIRECTORY\x20MISMATCH\x20ISSUE:\x0a[tool\x20id=\x22terminal\x22]\x0a[change-directory]\x0aarchitech/backend\x0a[/change-directory]\x0a[run-command]\x0anpm\x20run\x20build\x0a[/run-command]\x0a[/tool]\x0a\x0aMultiple\x20session\x20workflow:\x0a[tool\x20id=\x22terminal\x22]\x0a[create-session]\x0abackend|architech/backend\x0a[/create-session]\x0a[create-session]\x0afrontend|architech/frontend\x0a[/create-session]\x0a[/tool]\x0a\x0a[tool\x20id=\x22terminal\x22\x20session=\x22backend\x22]\x0a[run-command]\x0anpm\x20run\x20build\x0a[/run-command]\x0a[/tool]\x0a\x0a[tool\x20id=\x22terminal\x22\x20session=\x22frontend\x22]\x0a[run-command]\x0anpm\x20start\x0a[/run-command]\x0a[/tool]\x0a\x0aKey\x20Improvements:\x0a-\x20Working\x20directory\x20persists\x20between\x20commands\x20within\x20sessions\x0a-\x20Multiple\x20independent\x20terminal\x20sessions\x20supported\x0a-\x20Built-in\x20change-directory\x20command\x20that\x20updates\x20session\x20state\x0a-\x20Session\x20information\x20tracking\x20and\x20command\x20history\x0a-\x20Backwards\x20compatibility\x20with\x20existing\x20syntax\x0a-\x20Enhanced\x20debugging\x20with\x20session\x20context\x0a-\x20Continuous\x20output\x20monitoring\x20with\x20timestamps\x0a-\x20Process\x20duration\x20tracking\x20(minutes:seconds\x20format)\x0a-\x20Enhanced\x20timeout\x20that\x20actually\x20terminates\x20stuck\x20processes\x0a-\x20Real-time\x20output\x20buffer\x20for\x20monitoring\x20long-running\x20commands\x0a\x0aSpecial\x20placeholders\x20for\x20input\x20(for\x20interactive\x20commands):\x0a-\x20[CTRL_C]:\x20Send\x20Ctrl+C\x20signal\x20to\x20terminate\x0a-\x20[CTRL_D]:\x20Send\x20Ctrl+D\x20(EOF)\x20to\x20close\x20input\x0a-\x20[ENTER]:\x20Send\x20Enter\x20key\x0a-\x20[ARROW_UP],\x20[ARROW_DOWN]:\x20Arrow\x20keys\x20for\x20navigation\x0a\x0aMonitoring\x20long-running\x20processes:\x0a[tool\x20id=\x22terminal\x22]\x0a[run-command]\x0anpm\x20install\x0a[/run-command]\x0a[/tool]\x0a\x0aThen\x20check\x20progress:\x0a[tool\x20id=\x22terminal\x22]\x0a[get-output]\x0aprocess-id|0\x0a[/get-output]\x0a[/tool]\x0a\x0aOr\x20monitor\x20with\x20full\x20status:\x0a[tool\x20id=\x22terminal\x22]\x0a[monitor-process]\x0aprocess-id\x0a[/monitor-process]\x0a[/tool]\x0a\x0aSecurity:\x20Commands\x20containing\x20dangerous\x20operations\x20(sudo,\x20rm\x20-rf,\x20format,\x20etc.)\x20are\x20blocked.\x0a\x0aThe\x20tool\x20automatically:\x0a-\x20Detects\x20your\x20operating\x20system\x20and\x20sets\x20up\x20appropriate\x20shell\x0a-\x20Loads\x20shell\x20profiles\x20and\x20environment\x20variables\x0a-\x20Discovers\x20development\x20tool\x20installation\x20paths\x0a-\x20Sets\x20up\x20proper\x20PATH\x20for\x20Node.js,\x20npm,\x20Python,\x20Git,\x20and\x20other\x20tools\x0a-\x20Handles\x20cross-platform\x20path\x20differences\x0a\x0aBefore\x20running\x20commands,\x20check\x20working\x20directory\x20and\x20navigate\x20to\x20desired\x20location\x20using\x20[change-directory]\x20command\x20(alternative:\x20cd\x20command)\x0a\x20\x20\x20\x20';}}