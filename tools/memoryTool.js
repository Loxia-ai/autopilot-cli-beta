const a0_0x4f18be=a0_0x2dc9;(function(_0x5d8534,_0x182796){const _0x339acf=a0_0x2dc9,_0x7cc2ea=_0x5d8534();while(!![]){try{const _0x24eda0=parseInt(_0x339acf(0x18e))/0x1+-parseInt(_0x339acf(0x11f))/0x2*(parseInt(_0x339acf(0x139))/0x3)+parseInt(_0x339acf(0x133))/0x4+parseInt(_0x339acf(0x128))/0x5*(parseInt(_0x339acf(0x190))/0x6)+parseInt(_0x339acf(0x16b))/0x7*(parseInt(_0x339acf(0x196))/0x8)+parseInt(_0x339acf(0x177))/0x9*(parseInt(_0x339acf(0x14e))/0xa)+-parseInt(_0x339acf(0x123))/0xb;if(_0x24eda0===_0x182796)break;else _0x7cc2ea['push'](_0x7cc2ea['shift']());}catch(_0x226ca4){_0x7cc2ea['push'](_0x7cc2ea['shift']());}}}(a0_0x26a1,0x1c186));function a0_0x26a1(){const _0x3c0d8d=['C2fwv0W','wfPPDLC','BLLfCxC','u2f2Aw5Nig1LBw9YAwvZihrVigrPC2S','B0HVufm','zxjYB3i','CxvLCNK','vhfvyuK','Bg9Nz2vY','wuXStxK','ChjVDg90ExbL','y29UC29Szq','mJe4ote4v2LlvgHi','Exfvtw0','rwHWquy','CMvHzezPBgu','mZK2mtiYmuz1CNzVsq','Dfv4C1y','BvHrq1e','C2H1DgrVD24','ru5pru5u','otyYnJbxBxfUueO','zw50CMLLCW','BwvTB3j5','D3jPDgvgAwXL','yxbWBhK','CMnLDeO','zwTKrLu','sKD5A08','u0vXsei','y3jLyxrLzef0','C2vHCMnO','odCWmdHRve54wNm','ChvZAa','t29gAMu','Dfn1zLO','BgvUz3rO','q1D1Axe','m1LJtwnTBq','twvTB3j5ignVBNrLBNqGy2fUBM90igjLigvTChr5','tg9HzgvKia','CgfYC2u','twvTB3j5ihDPDgGGsuqG','CxfdA2S','revqExa','CMvHze1LBw9YEq','u2f2Aw5Nig1LBw9YEtOG','vevRtgy','Aw5MBW','rxjYB3iGzxHLy3v0Aw5Nig1LBw9YEsbJB21Tyw5Kia','CuL6sMy','BwvTB3jPzxmUANnVBG','CMvHzc1Tzw0','zvfKq3K','CMnIDgG','C2f2zu1LBw9YAwvZvg9eAxnR','Dg9ju09tDhjPBMC','zNnwswO','BwvTB3jPzxm','mtbjuvfmy2i','txvztvK','rg5dwNi','kcGOlISPkYKRksSK','uMvHzgLUzYbTzw1VCNK6ia','BMfTzq','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','rerqsxO','EfbfBe4','z29jsLC','t09Qtxi','q0HVre0','sw5PDgLHBgL6Aw5Nig1LBw9YEsbZDg9YywDL','C0rVtxa','Aw5PDgLHBgL6zwq','uePmz0K','rMfPBgvKihrVigLUAxrPywXPEMuGBwvTB3j5ihn0B3jHz2u6ia','rMfPBgvKihrVigLUAxrPywXPEMuGBwvTB3j5ihn0B3jHz2u6','uNfID1u','B2nlweu','BwvHBMLUzW','D012Avm','C2f2zu1LBw9YEq','DxrMltG','AM9PBG','ugfYC2LUzYbTzw1VCNKGCgfYyw1LDgvYCYb3AxrOifrHz1bHCNnLCG','y29UDgvUDa','wuTNyNm','zhf4BxK','ndGWotD2Eujhvee','qLDHDLK','CMv0DxjUicHMDw5JDgLVBIGPia','AuPICNO','r1DzsgS','ig5VDcbMB3vUza','C2rczvq','DezuCfi','C3vJy2vZCW','v0TmzhO','uej0Chm','EunXD1i','mta4ndK3n0v1y2nRzq','CMvJDxjZAxzL','v3rSrhu','u2H1DhrPBMCGzg93BIbTzw1VCNKGDg9VBa','wgTNvu4','x19WCM90B19F','ENjAs00','y29Kzq','ig1LBw9YAwvZ','wxvJrxm','vw5RBM93BIbTzw1VCNKGy29TBwfUzdOG','DLnhwKG','ywn0Aw9U','DgvACwK','z1PkBLa','DgrIyxy','Cezhy3m','y291BNq','yMLUza','y29TBwfUzhm','BfvxzLe','D2fYBG','Ewr2qKu','mJi5mJC2rw9pBLDt','Aw5PDgLHBgL6zq','mZbAu2nQshG','uePIsuu','lMXVEgLHlxn0yxrL','rez4whO','A0TXq2i','BfD4CKq','mtm2zvn0CfjO','y29UC3rYDwn0B3i','r05IvNq','rxjYB3iGC2f2Aw5Nig1LBw9YAwvZihrVigrPC2S6','Duj5Bha','BuPtD3u','zxHJzxb0Aw9U','zwzLBuK','ANDwExG','uvjZAvi','u2jLvu8','u3LzEgy','AgfZ','wxHgr1u','rhL4zhy','C2L6zq','BwDxtK4','rxjYB3iGCgfYC2LUzYbTzw1VCNKGCgfYyw1LDgvYCZO','uxbQwMq','v0L0y2C','CMvHzc1Tzw1VCNK','EwPHuKG','EuL5ALC','vwf3v2y','Dg9tDhjPBMC','vxrZENG','BNHgBxK','rxHLy3v0Aw5Nig1LBw9YEsbJB21Tyw5KihDPDgGGCgfYyw1LDgvYCZO','swTZtxq','wfLurgy','s2XqwM4','cK1LBw9YEsbuB29SoIbbBgXVD3mGEw91ihrVihn0B3jLigfUzcbYzxrYAwv2zsbPBxbVCNrHBNqGAw5MB3jTyxrPB24GDgHHDcb5B3uGD2fUDcb0BYbYzw1LBwjLCIb0AhjVDwDOB3v0ihrOzsbJB252zxjZyxrPB24UcGPvC2fNztOkw3rVB2WGAwq9iM1LBw9YEsjDcLTTzw1VCNKGBMfTzt0IC2HVCNqGzgvZy3jPChrPDMuGBMfTzsiGBwvHBMLUzZ0ICMvHC29UihLVDsb3yw50ihrVihjLBwvTyMvYihrOAxmIxqPdB250zw50ihrVihjLBwvTyMvYicHJyw4GyMuGy29KzsWGzMfJDhmSihvZzxiGChjLzMvYzw5JzxmSigv0yY4PcLSVBwvTB3j5xqOkw3jLywqTywXSic9DcGPBCMvHzc1Tzw0GAwq9iM1LBw9YEs1PzciGl10kwY90B29SxqOkrxHHBxbSzxm6cJeUifn0B3jLigfUigLTCg9YDgfUDcbWAwvJzsbVzIbPBMzVCM1HDgLVBJOkw3rVB2WGAwq9iM1LBw9YEsjDcLTTzw1VCNKGBMfTzt0IuhjVAMvJDcbYzxf1AxjLBwvUDhmIig1Lyw5PBMC9iKnVCMuGCMvXDwLYzw1LBNrZihnWzwnPzMLLzcbIEsb0AguGDxnLCIjDcI0GtxvZDcb3B3jRig9UigjVDgGGv2LUzg93CYbHBMqGtgLUDxGklsbtAg91BgqGC3vWCg9YDcbIB3rOigXPz2H0igfUzcbKyxjRihrOzw1LCWOTie1HEgLTDw0GBwvTB3j5ihvZywDLoIa1mdbnqGPBl21LBw9YEv0kwY90B29SxqOkmI4GuMv0CMLLDMuGywXSig1LBw9YAwvZihrVihnLzsb3Agf0j3mGyxzHAwXHyMXLoGPBDg9VBcbPzd0IBwvTB3j5iL0kw3jLywqTywXSic9DcLSVDg9VBf0kcJmUifjLywqGC3bLy2LMAwmGBwvTB3jPzxm6cLT0B29SigLKpsjTzw1VCNKIxqPBCMvHzc1Tzw0GAwq9iMeXyJjJm2q0ltu2nZGTotbHyI1JzgvMlteYmZq1nJC4otaXmIiGl10kwY90B29SxqOktM90zxm6cI0GvxnLihrOAxmGDg9VBcb0BYbZDg9YzsbPBMzVCM1HDgLVBIb0Agf0ihLVDsbTAwDODcbUzwvKigXHDgvYigLUihrOzsbJB252zxjZyxrPB24klsbnzw1VCMLLCYbWzxjZAxn0igzVCIb0AguGzhvYyxrPB24GB2yGDgHLihnLC3nPB24klsbzB3uGy2fUihnHDMuGy29KzsbZBMLWCgv0CYWGCMvXDwLYzw1LBNrZlcb1C2vYihbYzwzLCMvUy2vZlcbVCIbHBNKGB3rOzxiGAw1WB3j0yw50igLUzM9YBwf0Aw9UcI0Gv2HLBIbZDg9YAw5Nig5LDYbPBMzVCM1HDgLVBIWGywX3yxLZihbYB3zPzguGysbJBgvHCIbUyw1LigfUzcbTzwfUAw5NihrVigHLBhaGEw91ihjLy2fSBcb3AhKGAxqGD2fZigLTCg9YDgfUDaOTifvZzsbYzwfKlwfSBcb0BYbNzxqGysbSAxn0ig9MigfSBcbHDMfPBgfIBguGBwvTB3jPzxmGD2HLBIb5B3uGBMvLzcbHihjLBwLUzgvYcG','DhjPBq','D1Lyqxi','twvTB3j5ig5HBwuGy2fUBM90igjLigvTChr5','rvfkshK','BwTKAxi','C2f2zs1Tzw1VCNK','BKDIDeW','yxr0CMLIDxrLCW','AhrQtNa','CMvHzefSBe1LBw9YAwvZ','CMvHzc1HBgW','BvHfzNG','z2v0','r2rbuhq'];a0_0x26a1=function(){return _0x3c0d8d;};return a0_0x26a1();}const a0_0x16bc7f=(function(){const _0x5ef8fd=a0_0x2dc9,_0x1cfb4={};_0x1cfb4['sDoMp']=function(_0x4709a4,_0x4a11f8){return _0x4709a4===_0x4a11f8;},_0x1cfb4[_0x5ef8fd(0x101)]=_0x5ef8fd(0x112),_0x1cfb4['pZOgs']=_0x5ef8fd(0x16a),_0x1cfb4[_0x5ef8fd(0x150)]=function(_0x5a3d19,_0x5d51db){return _0x5a3d19===_0x5d51db;},_0x1cfb4[_0x5ef8fd(0x14c)]=_0x5ef8fd(0x10b);const _0x5c3c9c=_0x1cfb4;let _0x3e2142=!![];return function(_0x323c06,_0x2afffd){const _0x25fd7e=_0x5ef8fd;if(_0x5c3c9c['DnCZr'](_0x5c3c9c[_0x25fd7e(0x14c)],_0x5c3c9c[_0x25fd7e(0x14c)])){const _0x3b2a3f=_0x3e2142?function(){const _0x18268f=_0x25fd7e;if(_0x5c3c9c[_0x18268f(0x15b)](_0x5c3c9c[_0x18268f(0x101)],_0x5c3c9c['pZOgs']))_0x2a1c7f[_0x47c091]=_0x1e83d7;else{if(_0x2afffd){const _0x3e4fa9=_0x2afffd[_0x18268f(0x12c)](_0x323c06,arguments);return _0x2afffd=null,_0x3e4fa9;}}}:function(){};return _0x3e2142=![],_0x3b2a3f;}else{const _0x4f9b6a=_0x2c07f8[_0x25fd7e(0x197)]['prototype'][_0x25fd7e(0x189)](_0x5888b9),_0x251d6b=_0x21a037[_0x33f934],_0x49ba0c=_0x2fab5a[_0x251d6b]||_0x4f9b6a;_0x4f9b6a[_0x25fd7e(0x17c)]=_0x18e771[_0x25fd7e(0x189)](_0x56a74e),_0x4f9b6a[_0x25fd7e(0xfd)]=_0x49ba0c[_0x25fd7e(0xfd)][_0x25fd7e(0x189)](_0x49ba0c),_0x323e04[_0x251d6b]=_0x4f9b6a;}};}()),a0_0x43ab31=a0_0x16bc7f(this,function(){const _0x27a95a=a0_0x2dc9,_0x3440b9={};_0x3440b9[_0x27a95a(0x11a)]=_0x27a95a(0x151);const _0x45860d=_0x3440b9;return a0_0x43ab31[_0x27a95a(0xfd)]()[_0x27a95a(0x132)](_0x45860d[_0x27a95a(0x11a)])[_0x27a95a(0xfd)]()[_0x27a95a(0x197)](a0_0x43ab31)[_0x27a95a(0x132)](_0x27a95a(0x151));});a0_0x43ab31();const a0_0x21f74c=(function(){const _0x1cf58f=a0_0x2dc9,_0x266ecc={};_0x266ecc[_0x1cf58f(0x142)]=_0x1cf58f(0x12e),_0x266ecc[_0x1cf58f(0x17b)]=_0x1cf58f(0x1a1);const _0x3103e6=_0x266ecc;let _0x4fbb4f=!![];return function(_0xf402c5,_0x4d1287){const _0x4cdbd1=_0x4fbb4f?function(){const _0xe11f71=a0_0x2dc9;if(_0x3103e6['TEkLf']!==_0x3103e6[_0xe11f71(0x17b)]){if(_0x4d1287){const _0x7e0944=_0x4d1287[_0xe11f71(0x12c)](_0xf402c5,arguments);return _0x4d1287=null,_0x7e0944;}}else throw new _0x233887(_0xe11f71(0x13d)+_0x5eb616+_0xe11f71(0x170));}:function(){};return _0x4fbb4f=![],_0x4cdbd1;};}()),a0_0x1a4d6b=a0_0x21f74c(this,function(){const _0xc9c1f6=a0_0x2dc9,_0x4e5bb9={'xfFme':function(_0x5b3559,_0x5d84b7){return _0x5b3559(_0x5d84b7);},'sdBeT':function(_0x357ae0,_0x5b474f){return _0x357ae0+_0x5b474f;},'rcbth':function(_0xeda5df,_0x552bc8){return _0xeda5df+_0x552bc8;},'yCqwR':_0xc9c1f6(0x16d),'CHoDM':'log','Utszx':_0xc9c1f6(0x19c),'DEPyp':'table','Icdwk':'trace'};let _0x4daf17;try{const _0x499107=_0x4e5bb9['xfFme'](Function,_0x4e5bb9[_0xc9c1f6(0x171)](_0x4e5bb9[_0xc9c1f6(0x149)](_0x4e5bb9[_0xc9c1f6(0x176)],'{}.constructor(\x22return\x20this\x22)(\x20)'),');'));_0x4daf17=_0x499107();}catch(_0x5d752b){_0x4daf17=window;}const _0x6ad9bd=_0x4daf17[_0xc9c1f6(0x11e)]=_0x4daf17['console']||{},_0x55b271=[_0x4e5bb9[_0xc9c1f6(0x159)],'warn',_0xc9c1f6(0x143),'error',_0x4e5bb9[_0xc9c1f6(0xfe)],_0x4e5bb9[_0xc9c1f6(0x13f)],_0x4e5bb9['Icdwk']];for(let _0x380f9c=0x0;_0x380f9c<_0x55b271[_0xc9c1f6(0x137)];_0x380f9c++){const _0x1bfcb4=a0_0x21f74c[_0xc9c1f6(0x197)][_0xc9c1f6(0x11d)][_0xc9c1f6(0x189)](a0_0x21f74c),_0x204f6f=_0x55b271[_0x380f9c],_0x3a9f75=_0x6ad9bd[_0x204f6f]||_0x1bfcb4;_0x1bfcb4[_0xc9c1f6(0x17c)]=a0_0x21f74c['bind'](a0_0x21f74c),_0x1bfcb4[_0xc9c1f6(0xfd)]=_0x3a9f75[_0xc9c1f6(0xfd)][_0xc9c1f6(0x189)](_0x3a9f75),_0x6ad9bd[_0x204f6f]=_0x1bfcb4;}});a0_0x1a4d6b();import{promises as a0_0x1c01b3}from'fs';import a0_0x457ee0 from'path';function a0_0x2dc9(_0x1f403b,_0x309e1a){const _0x5cb37f=a0_0x26a1();return a0_0x2dc9=function(_0x1a4d6b,_0x21f74c){_0x1a4d6b=_0x1a4d6b-0xf6;let _0x10c1e1=_0x5cb37f[_0x1a4d6b];if(a0_0x2dc9['gKgucM']===undefined){var _0x5e1529=function(_0x2dc95f){const _0x58dd2d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3dd4a2='',_0x5d214f='',_0x44a443=_0x3dd4a2+_0x5e1529;for(let _0x592992=0x0,_0x2d4bd8,_0x165a02,_0x11202b=0x0;_0x165a02=_0x2dc95f['charAt'](_0x11202b++);~_0x165a02&&(_0x2d4bd8=_0x592992%0x4?_0x2d4bd8*0x40+_0x165a02:_0x165a02,_0x592992++%0x4)?_0x3dd4a2+=_0x44a443['charCodeAt'](_0x11202b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2d4bd8>>(-0x2*_0x592992&0x6)):_0x592992:0x0){_0x165a02=_0x58dd2d['indexOf'](_0x165a02);}for(let _0x849ed3=0x0,_0x44d38a=_0x3dd4a2['length'];_0x849ed3<_0x44d38a;_0x849ed3++){_0x5d214f+='%'+('00'+_0x3dd4a2['charCodeAt'](_0x849ed3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5d214f);};a0_0x2dc9['hyTVpY']=_0x5e1529,_0x1f403b=arguments,a0_0x2dc9['gKgucM']=!![];}const _0x43ab31=_0x5cb37f[0x0],_0x16bc7f=_0x1a4d6b+_0x43ab31,_0x26a11c=_0x1f403b[_0x16bc7f];if(!_0x26a11c){const _0x180390=function(_0x133b83){this['JxUTam']=_0x133b83,this['CYssPH']=[0x1,0x0,0x0],this['HvaNBM']=function(){return'newState';},this['RvxRbx']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['WRefjf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x180390['prototype']['HuBhqP']=function(){const _0x27af05=new RegExp(this['RvxRbx']+this['WRefjf']),_0x470e37=_0x27af05['test'](this['HvaNBM']['toString']())?--this['CYssPH'][0x1]:--this['CYssPH'][0x0];return this['hYiLtS'](_0x470e37);},_0x180390['prototype']['hYiLtS']=function(_0x200ff9){if(!Boolean(~_0x200ff9))return _0x200ff9;return this['Wkbwux'](this['JxUTam']);},_0x180390['prototype']['Wkbwux']=function(_0x450125){for(let _0x2d3e80=0x0,_0x50c876=this['CYssPH']['length'];_0x2d3e80<_0x50c876;_0x2d3e80++){this['CYssPH']['push'](Math['round'](Math['random']())),_0x50c876=this['CYssPH']['length'];}return _0x450125(this['CYssPH'][0x0]);},new _0x180390(a0_0x2dc9)['HuBhqP'](),_0x10c1e1=a0_0x2dc9['hyTVpY'](_0x10c1e1),_0x1f403b[_0x16bc7f]=_0x10c1e1;}else _0x10c1e1=_0x26a11c;return _0x10c1e1;},a0_0x2dc9(_0x1f403b,_0x309e1a);}import{v4 as a0_0x874943}from'uuid';import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';export class MemoryTool extends BaseTool{constructor(_0x4060a0,_0x57fba8){const _0x3561e7=a0_0x2dc9;super(_0x4060a0,_0x57fba8),this['memories']=new Map(),this[_0x3561e7(0x15c)]=![];}['getDescription'](){const _0x252ea1=a0_0x2dc9;return _0x252ea1(0x104);}['parseParameters'](_0x43d6ce){const _0xdd634a=a0_0x2dc9,_0x59e081={};_0x59e081[_0xdd634a(0x12f)]=_0xdd634a(0x167),_0x59e081[_0xdd634a(0x1a6)]='name',_0x59e081[_0xdd634a(0x113)]=_0xdd634a(0x162),_0x59e081['kkzEM']=_0xdd634a(0x10a),_0x59e081[_0xdd634a(0xf7)]=function(_0x313156,_0x24a921){return _0x313156||_0x24a921;},_0x59e081[_0xdd634a(0x125)]=_0xdd634a(0x10f),_0x59e081['wksmq']=function(_0x32c6bb,_0x3ec185){return _0x32c6bb>_0x3ec185;},_0x59e081[_0xdd634a(0x16c)]='Error\x20parsing\x20memory\x20parameters:';const _0x14c308=_0x59e081;this['logger'][_0xdd634a(0x143)](_0x14c308[_0xdd634a(0x12f)]);const _0x278918={};_0x278918[_0xdd634a(0x18a)]=[];const _0x3be65a=_0x278918;try{const _0x27b084=TagParser[_0xdd634a(0x119)](_0x43d6ce,_0xdd634a(0x12a));for(const _0x2852b7 of _0x27b084){const _0x531475=_0x2852b7[_0xdd634a(0x10c)][_0x14c308[_0xdd634a(0x1a6)]],_0x536956=_0x2852b7[_0xdd634a(0x10c)][_0x14c308[_0xdd634a(0x113)]];_0x531475&&_0x3be65a[_0xdd634a(0x18a)][_0xdd634a(0x134)]({'action':_0x14c308['kkzEM'],'name':_0x531475,'meaning':_0x14c308[_0xdd634a(0xf7)](_0x536956,''),'content':_0x2852b7['content']});}const _0xb1f4a9=TagParser[_0xdd634a(0x119)](_0x43d6ce,_0x14c308[_0xdd634a(0x125)]);if(_0x14c308['wksmq'](_0xb1f4a9[_0xdd634a(0x137)],0x0)){const _0x253389={};_0x253389[_0xdd634a(0x183)]=_0x14c308[_0xdd634a(0x125)],_0x3be65a[_0xdd634a(0x18a)][_0xdd634a(0x134)](_0x253389);}const _0x3e6343=TagParser[_0xdd634a(0x119)](_0x43d6ce,_0xdd634a(0x147));for(const _0x5ce242 of _0x3e6343){const _0x449243=_0x5ce242[_0xdd634a(0x10c)]['id'];if(_0x449243){const _0x1e8147={};_0x1e8147[_0xdd634a(0x183)]='read-memory',_0x1e8147['id']=_0x449243,_0x3be65a[_0xdd634a(0x18a)][_0xdd634a(0x134)](_0x1e8147);}}return _0x3be65a;}catch(_0x11e889){this['logger']['error'](_0x14c308['BWavY'],_0x11e889);const _0x57725f={};return _0x57725f[_0xdd634a(0x18a)]=[],_0x57725f;}}async[a0_0x4f18be(0x154)](_0x315b77,_0x55e6e2){const _0x1b9360=a0_0x4f18be,_0x7d5e4={};_0x7d5e4[_0x1b9360(0x17d)]='Memory\x20content\x20cannot\x20be\x20empty',_0x7d5e4[_0x1b9360(0x182)]=_0x1b9360(0x100),_0x7d5e4[_0x1b9360(0x110)]=function(_0x4e80f5,_0x484a1b){return _0x4e80f5===_0x484a1b;},_0x7d5e4[_0x1b9360(0x156)]=_0x1b9360(0x155),_0x7d5e4['yXCEc']=_0x1b9360(0x16f),_0x7d5e4[_0x1b9360(0x148)]='No\x20memory\x20commands\x20specified',_0x7d5e4[_0x1b9360(0x175)]=_0x1b9360(0x10a),_0x7d5e4[_0x1b9360(0x108)]=_0x1b9360(0xf9);const _0xaf8f14=_0x7d5e4;this['logger']['info'](_0xaf8f14[_0x1b9360(0x182)],_0x315b77);!this[_0x1b9360(0x15c)]&&await this[_0x1b9360(0x18f)](_0x55e6e2);const _0x27559d=[];if(!_0x315b77['commands']||_0xaf8f14[_0x1b9360(0x110)](_0x315b77[_0x1b9360(0x18a)][_0x1b9360(0x137)],0x0)){if(_0xaf8f14[_0x1b9360(0x156)]!==_0xaf8f14['yXCEc'])throw new Error(_0xaf8f14[_0x1b9360(0x148)]);else throw new _0x175213(_0xaf8f14['zrZKM']);}for(const _0x490f05 of _0x315b77[_0x1b9360(0x18a)]){try{let _0x1d7fba;switch(_0x490f05[_0x1b9360(0x183)]){case _0xaf8f14['PBtps']:_0x1d7fba=await this['saveMemory'](_0x490f05[_0x1b9360(0x153)],_0x490f05[_0x1b9360(0x162)],_0x490f05[_0x1b9360(0x168)]);break;case _0x1b9360(0x10f):_0x1d7fba=await this[_0x1b9360(0x10e)]();break;case _0xaf8f14[_0x1b9360(0x108)]:_0x1d7fba=await this[_0x1b9360(0x140)](_0x490f05['id']);break;default:throw new Error(_0x1b9360(0x181)+_0x490f05[_0x1b9360(0x183)]);}_0x27559d[_0x1b9360(0x134)](_0x1d7fba);}catch(_0x45197e){this[_0x1b9360(0x11b)][_0x1b9360(0x118)](_0x1b9360(0x144)+_0x490f05[_0x1b9360(0x183)]+':',_0x45197e);const _0x3982b0={};_0x3982b0[_0x1b9360(0x183)]=_0x490f05[_0x1b9360(0x183)],_0x3982b0[_0x1b9360(0x173)]=![],_0x3982b0[_0x1b9360(0x118)]=_0x45197e['message'],_0x27559d[_0x1b9360(0x134)](_0x3982b0);}}await this[_0x1b9360(0x14a)](_0x55e6e2);const _0x40db06={};return _0x40db06['results']=_0x27559d,_0x40db06;}async[a0_0x4f18be(0x18f)](_0x49f203){const _0x1e032a=a0_0x4f18be,_0x4bf752={};_0x4bf752[_0x1e032a(0x135)]=function(_0x406f4d,_0x3ab7de){return _0x406f4d!==_0x3ab7de;},_0x4bf752[_0x1e032a(0x161)]=_0x1e032a(0x127),_0x4bf752[_0x1e032a(0x157)]='Error\x20loading\x20memories:',_0x4bf752['wYXAr']=_0x1e032a(0x10f),_0x4bf752[_0x1e032a(0x103)]=_0x1e032a(0x15a),_0x4bf752['yIyjW']=function(_0x1a1f84,_0x581a89){return _0x1a1f84!==_0x581a89;},_0x4bf752[_0x1e032a(0x195)]=_0x1e032a(0x163),_0x4bf752[_0x1e032a(0xfa)]=_0x1e032a(0x146),_0x4bf752['UxFSm']='utf-8',_0x4bf752[_0x1e032a(0x14f)]=function(_0x4358c4,_0x448ba9){return _0x4358c4===_0x448ba9;},_0x4bf752[_0x1e032a(0x138)]=_0x1e032a(0x121),_0x4bf752['htjNp']=_0x1e032a(0x117),_0x4bf752[_0x1e032a(0x15d)]=function(_0x4c3a66,_0xcad730){return _0x4c3a66===_0xcad730;},_0x4bf752[_0x1e032a(0x187)]=_0x1e032a(0x169),_0x4bf752[_0x1e032a(0x174)]=_0x1e032a(0xff),_0x4bf752['YucEs']=_0x1e032a(0x15f);const _0x419216=_0x4bf752;this[_0x1e032a(0x11b)][_0x1e032a(0x143)](_0x419216[_0x1e032a(0x103)]);try{if(_0x419216['yIyjW'](_0x1e032a(0x193),_0x419216[_0x1e032a(0x195)])){const _0x1b2a36=a0_0x457ee0[_0x1e032a(0x166)](_0x49f203,_0x1e032a(0x192),'memories'),_0x2bfec4={};_0x2bfec4[_0x1e032a(0x178)]=!![],await a0_0x1c01b3[_0x1e032a(0x109)](_0x1b2a36,_0x2bfec4);try{const _0x338eeb=a0_0x457ee0[_0x1e032a(0x166)](_0x1b2a36,_0x419216['yjaRH']),_0x10a94d=await a0_0x1c01b3[_0x1e032a(0x122)](_0x338eeb,_0x419216['UxFSm']),_0x1dc849=JSON[_0x1e032a(0x13c)](_0x10a94d);for(const [_0x1f2eee,_0x33c12d]of Object[_0x1e032a(0x129)](_0x1dc849)){if(_0x419216[_0x1e032a(0x14f)](_0x419216[_0x1e032a(0x138)],_0x1e032a(0x121)))this['memories']['set'](_0x1f2eee,_0x33c12d);else return _0x1e032a(0x104);}this[_0x1e032a(0x11b)][_0x1e032a(0x143)](_0x1e032a(0x13b)+this[_0x1e032a(0x14d)][_0x1e032a(0x1a5)]+_0x1e032a(0x17f));}catch(_0x1b6010){_0x1b6010['code']!==_0x1e032a(0x127)&&(_0x419216[_0x1e032a(0xfb)](_0x419216[_0x1e032a(0x10d)],_0x419216['htjNp'])?_0x419216[_0x1e032a(0x135)](_0x5102c4[_0x1e032a(0x17e)],_0x419216[_0x1e032a(0x161)])&&this[_0x1e032a(0x11b)][_0x1e032a(0x18c)](_0x419216[_0x1e032a(0x157)],_0x5e2460):this['logger'][_0x1e032a(0x18c)](_0x419216[_0x1e032a(0x157)],_0x1b6010));}this[_0x1e032a(0x15c)]=!![];}else{const _0x160453={};_0x160453[_0x1e032a(0x183)]=_0x419216[_0x1e032a(0x106)],_0x35d806[_0x1e032a(0x18a)][_0x1e032a(0x134)](_0x160453);}}catch(_0x4c9232){if(_0x419216[_0x1e032a(0x15d)](_0x419216['pFGcs'],_0x419216[_0x1e032a(0x174)]))_0x43c2df=_0xd822fd;else{this[_0x1e032a(0x11b)]['error'](_0x419216[_0x1e032a(0x180)],_0x4c9232);throw new Error(_0x1e032a(0x15e)+_0x4c9232['message']);}}}async[a0_0x4f18be(0x164)](_0x16ca7a,_0x2f0e3b,_0x5c5f57){const _0x4cbb78=a0_0x4f18be,_0x461d93={'tSufZ':_0x4cbb78(0x153),'tdbav':'save-memory','qqCkk':function(_0x4340e0,_0xd8512c){return _0x4340e0||_0xd8512c;},'kKqCb':function(_0x14bd32,_0x50be96){return _0x14bd32===_0x50be96;},'oGcJK':_0x4cbb78(0x107),'tFTpR':function(_0x9b80c2,_0x6be352){return _0x9b80c2!==_0x6be352;},'OOjMr':_0x4cbb78(0x179),'teZqi':_0x4cbb78(0x18d),'mJSwu':_0x4cbb78(0x13a),'SEqHB':function(_0x21138c){return _0x21138c();}};this[_0x4cbb78(0x11b)][_0x4cbb78(0x143)](_0x4cbb78(0x141)+_0x16ca7a);if(!_0x16ca7a||_0x461d93[_0x4cbb78(0x194)](_0x16ca7a[_0x4cbb78(0x105)](),''))throw new Error(_0x461d93['oGcJK']);if(!_0x5c5f57||_0x461d93[_0x4cbb78(0x194)](_0x5c5f57[_0x4cbb78(0x105)](),'')){if(_0x461d93[_0x4cbb78(0x172)](_0x461d93[_0x4cbb78(0x158)],_0x461d93[_0x4cbb78(0x184)]))throw new Error(_0x461d93[_0x4cbb78(0x19b)]);else{const _0x2f4f5f=_0x237ef3[_0x4cbb78(0x10c)][_0x461d93[_0x4cbb78(0x136)]],_0x2b22a2=_0x33e546[_0x4cbb78(0x10c)][_0x4cbb78(0x162)];_0x2f4f5f&&_0x2623ba[_0x4cbb78(0x18a)][_0x4cbb78(0x134)]({'action':_0x461d93['tdbav'],'name':_0x2f4f5f,'meaning':_0x461d93['qqCkk'](_0x2b22a2,''),'content':_0x4537ba[_0x4cbb78(0x168)]});}}const _0xd4beb9=_0x461d93[_0x4cbb78(0x130)](a0_0x874943),_0x9ec93a={'id':_0xd4beb9,'name':_0x16ca7a,'meaning':_0x461d93[_0x4cbb78(0x13e)](_0x2f0e3b,''),'content':_0x5c5f57,'createdAt':new Date()[_0x4cbb78(0x14b)]()};this[_0x4cbb78(0x14d)]['set'](_0xd4beb9,_0x9ec93a);const _0x3f618a={};return _0x3f618a[_0x4cbb78(0x183)]=_0x461d93[_0x4cbb78(0x186)],_0x3f618a['id']=_0xd4beb9,_0x3f618a['name']=_0x16ca7a,_0x3f618a[_0x4cbb78(0x173)]=!![],_0x3f618a;}async[a0_0x4f18be(0x140)](_0xd346a2){const _0x49a2aa=a0_0x4f18be,_0x2726e7={};_0x2726e7[_0x49a2aa(0x114)]=function(_0x5e9baa,_0x1d1580){return _0x5e9baa===_0x1d1580;},_0x2726e7[_0x49a2aa(0x120)]=_0x49a2aa(0x1a0),_0x2726e7[_0x49a2aa(0xfc)]=_0x49a2aa(0x1a3),_0x2726e7[_0x49a2aa(0x18b)]=_0x49a2aa(0xf9);const _0x395402=_0x2726e7;this[_0x49a2aa(0x11b)][_0x49a2aa(0x143)](_0x49a2aa(0x152)+_0xd346a2);if(!this[_0x49a2aa(0x14d)][_0x49a2aa(0x1a2)](_0xd346a2)){if(_0x395402['XZivW'](_0x395402['yqUMm'],_0x395402[_0x49a2aa(0xfc)])){const _0x1f7d53=_0x23cee4?function(){const _0x386a33=_0x49a2aa;if(_0x261f06){const _0x4f2bd4=_0xf158a3[_0x386a33(0x12c)](_0x8319d2,arguments);return _0x54997f=null,_0x4f2bd4;}}:function(){};return _0x1f059b=![],_0x1f7d53;}else throw new Error(_0x49a2aa(0x13d)+_0xd346a2+_0x49a2aa(0x170));}const _0x268922=this[_0x49a2aa(0x14d)][_0x49a2aa(0x111)](_0xd346a2),_0x9b5de3={};return _0x9b5de3[_0x49a2aa(0x183)]=_0x395402[_0x49a2aa(0x18b)],_0x9b5de3['id']=_0xd346a2,_0x9b5de3[_0x49a2aa(0x153)]=_0x268922[_0x49a2aa(0x153)],_0x9b5de3[_0x49a2aa(0x162)]=_0x268922[_0x49a2aa(0x162)],_0x9b5de3[_0x49a2aa(0x168)]=_0x268922['content'],_0x9b5de3['createdAt']=_0x268922[_0x49a2aa(0x131)],_0x9b5de3[_0x49a2aa(0x173)]=!![],_0x9b5de3;}async['readAllMemories'](){const _0x24d2dd=a0_0x4f18be,_0x3bbc7f={};_0x3bbc7f[_0x24d2dd(0x16e)]='Reading\x20all\x20memories';const _0x4a0c43=_0x3bbc7f;this[_0x24d2dd(0x11b)][_0x24d2dd(0x143)](_0x4a0c43[_0x24d2dd(0x16e)]);const _0x5e6096=[];for(const [_0x3c716c,_0x1b39e3]of this[_0x24d2dd(0x14d)]['entries']()){const _0x5730ba={};_0x5730ba['id']=_0x3c716c,_0x5730ba[_0x24d2dd(0x153)]=_0x1b39e3[_0x24d2dd(0x153)],_0x5730ba[_0x24d2dd(0x162)]=_0x1b39e3[_0x24d2dd(0x162)],_0x5730ba[_0x24d2dd(0x131)]=_0x1b39e3[_0x24d2dd(0x131)],_0x5e6096[_0x24d2dd(0x134)](_0x5730ba);}const _0x1d0c69={};return _0x1d0c69['action']='read-all',_0x1d0c69[_0x24d2dd(0x14d)]=_0x5e6096,_0x1d0c69[_0x24d2dd(0x188)]=_0x5e6096[_0x24d2dd(0x137)],_0x1d0c69[_0x24d2dd(0x173)]=!![],_0x1d0c69;}async[a0_0x4f18be(0x14a)](_0xab4804){const _0x3dc712=a0_0x4f18be,_0x3f2ba4={};_0x3f2ba4[_0x3dc712(0x185)]=_0x3dc712(0xf6),_0x3f2ba4[_0x3dc712(0x115)]=_0x3dc712(0x151),_0x3f2ba4[_0x3dc712(0x19a)]=_0x3dc712(0x116),_0x3f2ba4[_0x3dc712(0x160)]=function(_0xe6511e,_0x53cc34){return _0xe6511e!==_0x53cc34;},_0x3f2ba4[_0x3dc712(0x145)]=_0x3dc712(0x1a4),_0x3f2ba4[_0x3dc712(0x102)]=_0x3dc712(0x192),_0x3f2ba4[_0x3dc712(0xf8)]='memories',_0x3f2ba4['CLqXg']=_0x3dc712(0x146),_0x3f2ba4[_0x3dc712(0x198)]=function(_0x4faa17,_0x2cfe3f){return _0x4faa17===_0x2cfe3f;},_0x3f2ba4[_0x3dc712(0x19f)]=_0x3dc712(0x19d),_0x3f2ba4[_0x3dc712(0x11c)]=_0x3dc712(0x124),_0x3f2ba4[_0x3dc712(0x191)]=_0x3dc712(0x165),_0x3f2ba4[_0x3dc712(0x19e)]=_0x3dc712(0x199);const _0x2c9499=_0x3f2ba4;this[_0x3dc712(0x11b)][_0x3dc712(0x143)](_0x2c9499[_0x3dc712(0x19a)]);try{if(_0x2c9499[_0x3dc712(0x160)](_0x2c9499['qIzJf'],_0x3dc712(0x1a4))){this[_0x3dc712(0x11b)][_0x3dc712(0x118)](_0x2c9499[_0x3dc712(0x185)],_0x11a9b6);const _0x5dc447={};return _0x5dc447[_0x3dc712(0x18a)]=[],_0x5dc447;}else{const _0x101f96=a0_0x457ee0[_0x3dc712(0x166)](_0xab4804,_0x2c9499[_0x3dc712(0x102)],_0x2c9499['WItcg']),_0x5db502={};_0x5db502['recursive']=!![],await a0_0x1c01b3['mkdir'](_0x101f96,_0x5db502);const _0x43aed6=a0_0x457ee0[_0x3dc712(0x166)](_0x101f96,_0x2c9499['CLqXg']),_0x465e9f={};for(const [_0x488ccc,_0x16af31]of this['memories'][_0x3dc712(0x129)]()){if(_0x2c9499[_0x3dc712(0x198)](_0x2c9499['QRsiR'],_0x2c9499[_0x3dc712(0x11c)]))return _0x368926[_0x3dc712(0xfd)]()[_0x3dc712(0x132)](mTyPbC[_0x3dc712(0x115)])[_0x3dc712(0xfd)]()[_0x3dc712(0x197)](_0x495b56)[_0x3dc712(0x132)](_0x3dc712(0x151));else _0x465e9f[_0x488ccc]=_0x16af31;}await a0_0x1c01b3[_0x3dc712(0x12b)](_0x43aed6,JSON['stringify'](_0x465e9f,null,0x2),_0x2c9499['PJbIE']);}}catch(_0x3f5b02){this[_0x3dc712(0x11b)][_0x3dc712(0x118)](_0x2c9499[_0x3dc712(0x19e)],_0x3f5b02);throw new Error('Failed\x20to\x20save\x20memories\x20to\x20disk:\x20'+_0x3f5b02['message']);}}async[a0_0x4f18be(0x126)](){const _0x5132dc=a0_0x4f18be,_0x43887e={};_0x43887e[_0x5132dc(0x12d)]=_0x5132dc(0x17a);const _0x52a5f5=_0x43887e;this[_0x5132dc(0x11b)][_0x5132dc(0x143)](_0x52a5f5['rcetJ']);}}