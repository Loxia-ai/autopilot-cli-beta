const a0_0x145233=a0_0x1c48;(function(_0x5a3562,_0x1d232a){const _0xee414b=a0_0x1c48,_0x30267c=_0x5a3562();while(!![]){try{const _0x2d5acf=parseInt(_0xee414b(0xca))/0x1+parseInt(_0xee414b(0x1b7))/0x2*(-parseInt(_0xee414b(0x121))/0x3)+parseInt(_0xee414b(0x1b6))/0x4+-parseInt(_0xee414b(0x127))/0x5+parseInt(_0xee414b(0x1d7))/0x6*(parseInt(_0xee414b(0x156))/0x7)+-parseInt(_0xee414b(0x1b8))/0x8+-parseInt(_0xee414b(0xc8))/0x9*(-parseInt(_0xee414b(0xba))/0xa);if(_0x2d5acf===_0x1d232a)break;else _0x30267c['push'](_0x30267c['shift']());}catch(_0x386186){_0x30267c['push'](_0x30267c['shift']());}}}(a0_0x305a,0x2db97));const a0_0x476467=(function(){const _0x374971=a0_0x1c48,_0x856534={};_0x856534[_0x374971(0xe4)]=_0x374971(0x1cc),_0x856534['hrqPE']=_0x374971(0x100);const _0x55f221=_0x856534;let _0x3954a7=!![];return function(_0x5be582,_0x31d68c){const _0x3019e8=_0x374971;if(_0x55f221[_0x3019e8(0x19d)]===_0x3019e8(0xff))this['logger']['error'](_0x55f221[_0x3019e8(0xe4)],_0x238d2f);else{const _0x2ebcdb=_0x3954a7?function(){if(_0x31d68c){const _0x25a7f3=_0x31d68c['apply'](_0x5be582,arguments);return _0x31d68c=null,_0x25a7f3;}}:function(){};return _0x3954a7=![],_0x2ebcdb;}};}()),a0_0x447985=a0_0x476467(this,function(){const _0x2309cf=a0_0x1c48,_0x4dba98={};_0x4dba98[_0x2309cf(0x1b2)]=_0x2309cf(0x1aa);const _0x522ecc=_0x4dba98;return a0_0x447985['toString']()[_0x2309cf(0xfe)]('(((.+)+)+)+$')['toString']()[_0x2309cf(0xe2)](a0_0x447985)[_0x2309cf(0xfe)](_0x522ecc['wQiXP']);});a0_0x447985();const a0_0x5435af=(function(){let _0x32f463=!![];return function(_0x3deaca,_0x1d19b8){const _0x1f7152=_0x32f463?function(){if(_0x1d19b8){const _0x21f7aa=_0x1d19b8['apply'](_0x3deaca,arguments);return _0x1d19b8=null,_0x21f7aa;}}:function(){};return _0x32f463=![],_0x1f7152;};}()),a0_0x69d909=a0_0x5435af(this,function(){const _0x5c9b33=a0_0x1c48,_0x33b681={'QjOtZ':'gtfmn','bmCWQ':function(_0x4852d7,_0x1f44ec){return _0x4852d7(_0x1f44ec);},'FfFmM':function(_0x48bbdb,_0x206efd){return _0x48bbdb+_0x206efd;},'ylutp':function(_0x467a51,_0x5cdc4c){return _0x467a51+_0x5cdc4c;},'nmbZt':'return\x20(function()\x20','qqxgj':function(_0x52d26d){return _0x52d26d();},'AUpyG':_0x5c9b33(0x194),'SCjIJ':'warn','ffNGS':_0x5c9b33(0x111),'qLUtn':_0x5c9b33(0x108),'uopCM':_0x5c9b33(0xd7),'ZmStF':_0x5c9b33(0xf5),'CPLJS':_0x5c9b33(0x191),'dBTwJ':function(_0x22a731,_0x193fb3){return _0x22a731<_0x193fb3;},'WQtdD':function(_0x16f6e2,_0x1fdc0a){return _0x16f6e2!==_0x1fdc0a;},'ztcyH':_0x5c9b33(0xd0),'VghPG':_0x5c9b33(0x160)},_0x2be257=function(){const _0x49fe70=_0x5c9b33;let _0x547ba0;try{if(_0x49fe70(0x18e)!==_0x33b681[_0x49fe70(0x13d)]){const _0x9107d={};_0x9107d[_0x49fe70(0x126)]=_0x49fe70(0x131),_0x207000[_0x49fe70(0x15b)][_0x49fe70(0x169)](_0x9107d);}else _0x547ba0=_0x33b681['bmCWQ'](Function,_0x33b681[_0x49fe70(0x10a)](_0x33b681[_0x49fe70(0x1d3)](_0x33b681['nmbZt'],_0x49fe70(0x113)),');'))();}catch(_0x1c063e){_0x547ba0=window;}return _0x547ba0;},_0x31f0fe=_0x33b681['qqxgj'](_0x2be257),_0x2afca5=_0x31f0fe[_0x5c9b33(0x1bd)]=_0x31f0fe[_0x5c9b33(0x1bd)]||{},_0x56eb1c=[_0x33b681[_0x5c9b33(0x14d)],_0x33b681['SCjIJ'],_0x33b681[_0x5c9b33(0xf4)],_0x33b681['qLUtn'],_0x33b681[_0x5c9b33(0x186)],_0x33b681[_0x5c9b33(0x197)],_0x33b681['CPLJS']];for(let _0x210427=0x0;_0x33b681[_0x5c9b33(0x147)](_0x210427,_0x56eb1c[_0x5c9b33(0x1b3)]);_0x210427++){if(_0x33b681['WQtdD'](_0x33b681[_0x5c9b33(0xde)],_0x33b681[_0x5c9b33(0x139)])){const _0x5fe914=a0_0x5435af['constructor']['prototype'][_0x5c9b33(0x190)](a0_0x5435af),_0x5673d4=_0x56eb1c[_0x210427],_0x514cd3=_0x2afca5[_0x5673d4]||_0x5fe914;_0x5fe914['__proto__']=a0_0x5435af[_0x5c9b33(0x190)](a0_0x5435af),_0x5fe914[_0x5c9b33(0xf3)]=_0x514cd3['toString']['bind'](_0x514cd3),_0x2afca5[_0x5673d4]=_0x5fe914;}else throw new _0x373cb2(_0x5c9b33(0x14c)+_0xa6853+_0x5c9b33(0xd4));}});function a0_0x1c48(_0x136b96,_0x5b7330){const _0x2d2663=a0_0x305a();return a0_0x1c48=function(_0x69d909,_0x5435af){_0x69d909=_0x69d909-0xb0;let _0x534724=_0x2d2663[_0x69d909];if(a0_0x1c48['LgoyiI']===undefined){var _0x554803=function(_0x1c4874){const _0xc61197='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x39392a='',_0x30f1d1='',_0x44e7de=_0x39392a+_0x554803;for(let _0x33b870=0x0,_0x24650c,_0x48c443,_0x1a413b=0x0;_0x48c443=_0x1c4874['charAt'](_0x1a413b++);~_0x48c443&&(_0x24650c=_0x33b870%0x4?_0x24650c*0x40+_0x48c443:_0x48c443,_0x33b870++%0x4)?_0x39392a+=_0x44e7de['charCodeAt'](_0x1a413b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x24650c>>(-0x2*_0x33b870&0x6)):_0x33b870:0x0){_0x48c443=_0xc61197['indexOf'](_0x48c443);}for(let _0x52bf4a=0x0,_0x1155f6=_0x39392a['length'];_0x52bf4a<_0x1155f6;_0x52bf4a++){_0x30f1d1+='%'+('00'+_0x39392a['charCodeAt'](_0x52bf4a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x30f1d1);};a0_0x1c48['ZJcadx']=_0x554803,_0x136b96=arguments,a0_0x1c48['LgoyiI']=!![];}const _0x447985=_0x2d2663[0x0],_0x476467=_0x69d909+_0x447985,_0x305a68=_0x136b96[_0x476467];if(!_0x305a68){const _0x4e07b8=function(_0x273d44){this['eFnmRF']=_0x273d44,this['gQhJSz']=[0x1,0x0,0x0],this['OTaCfY']=function(){return'newState';},this['QfPjdt']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['vxKotD']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e07b8['prototype']['DSAzBL']=function(){const _0x38980f=new RegExp(this['QfPjdt']+this['vxKotD']),_0x558d86=_0x38980f['test'](this['OTaCfY']['toString']())?--this['gQhJSz'][0x1]:--this['gQhJSz'][0x0];return this['kZBxup'](_0x558d86);},_0x4e07b8['prototype']['kZBxup']=function(_0x225704){if(!Boolean(~_0x225704))return _0x225704;return this['xJxhEL'](this['eFnmRF']);},_0x4e07b8['prototype']['xJxhEL']=function(_0xf4f093){for(let _0x2da9c5=0x0,_0x555de5=this['gQhJSz']['length'];_0x2da9c5<_0x555de5;_0x2da9c5++){this['gQhJSz']['push'](Math['round'](Math['random']())),_0x555de5=this['gQhJSz']['length'];}return _0xf4f093(this['gQhJSz'][0x0]);},new _0x4e07b8(a0_0x1c48)['DSAzBL'](),_0x534724=a0_0x1c48['ZJcadx'](_0x534724),_0x136b96[_0x476467]=_0x534724;}else _0x534724=_0x305a68;return _0x534724;},a0_0x1c48(_0x136b96,_0x5b7330);}a0_0x69d909();function a0_0x305a(){const _0x342936=['ywLqDuS','C2nOzw1H','D3jPDgvgAwXL','A2PoEvO','kcGOlISPkYKRksSK','t3zPAxa','yLHbBg0','vg9VBcaN','wM9jDha','Bfb6tLm','qLz2zg0','vLHzDg4','D1fPwfa','BgvUz3rO','sxPqCum','ww9zy1q','ode1mJi4y21ou1LN','mJu3mdG2zuHbALPi','mti4ntaYne5wC050rW','r1PoCxO','tgroqLG','rMfPBgvKihrVigfKzcbZzxj2zxiG','tM8GtunqignSAwvUDcbJB21Tyw5KCYbZCgvJAwzPzwq','y29UC29Szq','rMfPBgvKihrVignYzwf0zsbJBgLLBNq','CK1yB0O','B1Duwuu','z2v0lxrVB2WTC2nOzw1H','u2f2zwqG','C2zev2i','t2jlD0m','r2v0DgLUzYbZy2HLBweGzM9YihrVB2W6ia','s0nwq2G','z2v0rgvZy3jPChrPB24','z1H2B0m','zMfPBgvKu2vYDMvYCW','B0vADwu','yxbWBhK','rMfPBgvKihrVihnHDMuGtunqihnLCNzLCNmGDg8GzMLSztO','DxrMltG','twjnzLm','t1zlzgG','DMvYC2LVBG','rNn2rwW','De90D0W','EwX1Dha','C2jNrvm','sgT2zuW','s1nLsLO','mZu4mdaYqxPSz0vf','y2XPzw50CW','rNHfwvq','uwPdzLm','zMLUza','B2r2uMO','C3rKAw8','jYbUB3qGzM91BMq','BgLZDfrVB2XZ','EfrhDuS','rMfPBgvKihrVigXVywqGC2f2zwqGtunqihnLCNzLCNm6','mtb3zgfvCe8','C2vYDMvYCY5QC29U','Bhf0svC','vK1WChi','uMXLt0i','u2vYDMvYicC','BLboEfq','rxHLy3v0Aw5Nie1ducbJBgLLBNqGy29TBwfUzcb3AxrOihbHCMfTzxrLCNm6','z3z2uM8','tg9HzgvKia','jYbUB3qGzM91BMqGB24GC2vYDMvYicC','Ahr0CdOVlW','Aw5PDgLHBgL6zvnLCNzLCKrPCMvJDg9YEq','BwnWlxnLCNzLCNm','mtC2mte3nej1AvHNBW','z2v0lwf2ywLSywjSzs1Zzxj2zxjZ','mJy0nty0AvjNDvjL','C2vUze1LC3nHz2vuB01JCa','A3P6uwq','CMvTB3zLu2vYDMvY','ugfYC2LUzYbnq1aGy2XPzw50ihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','sw52ywXPzcb0B29Sig5HBwuGzM9YBwf0oIa','uvHoAKC','Eu1zC04','s2vLq0m','vw5ZDxbWB3j0zwqGC2vYDMvYihr5Cgu6ia','lIbfEhbLy3rLzcbMB3jTyxq6ihnLCNzLCK5HBwuVDg9VBe5HBwu','Dvj4DeG','vKrMB2S','zxHJzxb0Aw9U','Dg9VBhm','CMv0DxjUicHMDw5JDgLVBIGPia','BwvZC2fNzs10BY1Ty3a','BMfTzq','C2H1DgrVD24','CxvLCNK','ENrJEuG','sfDQv1e','C2vYDMvY','Cffosw8','y29UC3rYDwn0B3i','Dg9VBenHBgW','BKzeugq','zw50CMLLCW','zgvZy3jPChrPB24','Dgneufe','y2XLyxi','zKHPB0e','z2v0t3jdCMvHDgvdBgLLBNq','qvLAzuC','tNPyuha','u3nWCeO','D3rrrem','z2v0vg9VBfnJAgvTyq','C2vYDMvYtMfTzq','tvvyvMu','A2fxD2e','Dg9tDhjPBMC','zMzor1m','DgfIBgu','Ahr0Chm6lY8','y29Kzq','u0vHtxy','z2v0qxzHAwXHyMXLvg9VBhm','rMfPBgvKihrVigDLDcb0B29SCYbMCM9TihnLCNzLCIa','zvDWr2O','EvLbsu8','C3vJy2vZCW','C2vHCMnO','vfrStfq','wMP1wuu','CgfYC2vqyxjHBwv0zxjZ','quToAvm','qNHTwe0','vg9VBcbJywXSig11C3qGAgf2zsbUyw1LigfUzcbHCMD1BwvUDhm','rgLZy29UBMvJDgvKigzYB20GtunqihnLCNzLCJOG','CvfcuLm','sNLbB0O','zxjYB3i','cK1ducbdBgLLBNqGvg9VBdOGqwXSB3DZihLVDsb0BYbPBNrLCMfJDcb3AxrOie1VzgvSienVBNrLEhqGuhjVDg9JB2WGke1ducKGC2vYDMvYCYb0BYbHy2nLC3mGzxH0zxjUywWGDg9VBhmGyw5KihjLC291CMnLCY4kcLvZywDLoGPBDg9VBcbPzd0IBwnWlwnSAwvUDcjDcLTNzxqTyxzHAwXHyMXLlxnLCNzLCNmGl10kw2DLDc1HDMfPBgfIBguTDg9VBhmGl10kcLTHzgqTC2vYDMvYC10kw3mGBMfTzt0IC2vYDMvYlw5HBwuIihvYBd0IAhr0CdOVl3nLCNzLCI11CMWIic9DcLSVywrKlxnLCNzLCNnDcGPBCMvTB3zLlxnLCNzLCL0kC2vYDMvYlw5HBwukwY9Yzw1VDMuTC2vYDMvYxqOkw2DLDc10B29SlxnJAgvTyv0kC2vYDMvYlw5HBwuVDg9VBc1Uyw1LcLSVz2v0lxrVB2WTC2nOzw1HxqOkw21LC3nHz2uTDg8TBwnWxqP7cIaGiNrVB2XFy2fSBci6ihSkicaGicjUyw1LiJOGiNnLCNzLCI1Uyw1Ll3rVB2WTBMfTzsiScIaGicaIyxjNDw1LBNrZiJOGEYaICgfYyw0XiJOGiNzHBhvLmsiSicjWyxjHBtiIoIaIDMfSDwuYiIb9cIaGFqP9cLSVBwvZC2fNzs10BY1Ty3bDcLSVDg9VBf0kcKv4yw1WBgvZoGOXlIbmAxn0igf2ywLSywjSzsbnq1aGC2vYDMvYCZOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBz2v0lwf2ywLSywjSzs1Zzxj2zxjZic9DcLSVDg9VBf0kcJiUieXPC3qGyxzHAwXHyMXLihrVB2XZigzYB20GywXSihnLCNzLCNm6cLT0B29SigLKpsjTy3aTy2XPzw50iL0kw2DLDc1HDMfPBgfIBguTDg9VBhmGl10kwY90B29SxqOkmY4GqwrKigeGBMv3ie1ducbZzxj2zxi6cLT0B29SigLKpsjTy3aTy2XPzw50iL0kw2fKzc1Zzxj2zxjZxqPBCYbUyw1LpsjZExn0zw0TDg9VBhmIihvYBd0IAhr0CdOVl2XVy2fSAg9ZDdOZmdaXiIaVxqPBl2fKzc1Zzxj2zxjZxqPBl3rVB2XDcGO0lIbszw1VDMuGyw4GtunqihnLCNzLCJOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBCMvTB3zLlxnLCNzLCL0kC3LZDgvTlxrVB2XZcLSVCMvTB3zLlxnLCNzLCL0kwY90B29SxqOkns4Gr2v0ihrOzsbZy2HLBweGzM9YigeGC3bLy2LMAwmGDg9VBdOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBz2v0lxrVB2WTC2nOzw1HxqPZExn0zw0TDg9VBhmVCNvUq29TBwfUzaPBl2DLDc10B29SlxnJAgvTyv0kwY90B29SxqOknI4Gq2fSBcbHBIbnq1aGDg9VBdOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBBwvZC2fNzs10BY1Ty3bDcNSkicaIDg9VBf9JywXSiJOGEWOGicaGiM5HBwuIoIaIC3LZDgvTlxrVB2XZl3j1BKnVBw1HBMqIlaOGicaGiMfYz3vTzw50CYi6ihSGiMnVBw1HBMqIoIaIBhmGlwXHiIb9cIaGFqP9cLSVBwvZC2fNzs10BY1Ty3bDcLSVDg9VBf0kicaGia','rMzgBu0','Bw5vB2q','tfjbAwq','quPMvgy','AgfZ','u2H1DhrPBMCGzg93BIbnq1aGy2XPzw50ihrVB2W','De1pAxG','Aw5MBW','zKX5BMi','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','D0XiAvu','AMPJDxq','zLfVuM8','y2T5uvK','tevssva','yxjNCW','CvHdEwu','C2L6zq','D3jICMu','u2vYDMvYig5HBwuGyw5KifvstcbHCMuGCMvXDwLYzwq','CMvZDwX0CW','AgHivu8','Dg9VBf9JywXS','m2T2A2v3tG','y3DK','yNDcDvm','v1jbrwW','rwrsD3q','ywn0Aw9U','mtiZnJmZmhPtDer1ta','Cxfzsfm','ihnHDMvKie1ducbZzxj2zxjZ','Dg9VBfnJAgvTyxm','Bg94AweTBwnWlwnSAwvUDa','zgLZy29UBMvJDa','yxr0CMLIDxrLCW','BMDkDLC','C2v0','CMvZDwX0','z2v0lwf2ywLSywjSzs10B29SCW','A2jeuNC','vgroCui','DxjS','qLbfrgm','rxjYB3iGzgLZy29UBMvJDgLUzYbMCM9Tie1ducbZzxj2zxiG','rMfPBgvKihrVignYzwf0zsbnq1aGC2vYDMvYigrPCMvJDg9YEtO','C3bSAxq','vMDOueC','y2f0y2G','tu1sB00','y29TBwfUza','uwPpDfO','z3LztfK','uwDdC0e','D2fYBG','Au5Quee','z2v0','BwvZC2fNzq','wNbQzeK','vhnkruG','B0jzt2y','zejuD0O','tM8GzgvZy3jPChrPB24','DuDxBvy','r2v0DgLUzYbHDMfPBgfIBguGtunqihnLCNzLCNm','CvPkAMm','sw52ywXPzcb0B29SieLeigzVCM1HDdOG','qvvWEuC','DhjPBq','zfPLyui','AKv1wfy','v3HcBMi','ie1ducbZzxj2zxjZihrVigzPBgu','rhfgruG','rgHKrue','y29UDgvUDa','n05vChvJDa','AM9PBG','vw5RBM93BIbnq1aGy2XPzw50ignVBw1HBMq6ia','wLD0swi','Afb4rNK','y29TBwfUzhm','jYbKB2vZig5VDcbLEgLZDa','AePQr3u','CNbevKK','uhHtu2S','ugniBKO','t3jTAeC','y2rOzMy','rLvez0W','vvrPC2O','uhr5Bgm','u2vUzgLUzYbTzxnZywDLihrVie1ducbZzxj2zxi','ms4WlJa','CgfYC2u','ChvZAa','rMfPBgvKihrVignVBM5Ly3qGDg8GC2vYDMvYoIa','DwDdC1O','vhbqBLq','EMTpCeC','svfHvfO','BwXSCeC','CMvHzezPBgu','ywLYtgS','ywrKlxnLCNzLCNm','C2f2zvnLCNzLCNm','reDhEwq','rvD3Evq','EwXRt2y','wMvABvi','Dw1hrhe','Bg9Nz2vY','Ae1oAKu','yNfns3a','uLHeCvu','sxnLrLe','ywvvywu','t0LQAu4','C3rHCNrZv2L0Aa','lMXVEgLHlxn0yxrL','ugXurvG','qwrKAw5Nia','y0PKr0O','Dg9VBeLK','Dw9Wq00','tLfbr3O','C2vYDMvYrgLYzwn0B3j5','C3rYAw5NAwz5','DhLWzq','D0jeDgO','uejus1y','CMvTB3zLlxnLCNzLCG','z3rMBw4','EwLIs0y','yMLUza','DhjHy2u','zgvSzxrL','vu9JyNi','Bg9N','vLLxqKG','r0jUDKy','wM1tDey','y2fSBfrVB2W','rMfPBgvKihrVigLUAxrPywXPEMuGtunqihnLCNzLCIbKAxjLy3rVCNK6','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','Ahr0Ca','CuLWs1K','AhjXueu','yxjNDw1LBNrZ','D0nnuw8','s2Tns0y','rxjYB3iGzxHLy3v0Aw5Nie1ducbJBgLLBNqGy29TBwfUzca','C2vYDMvYCW','ugnlEM8','ywrKu2vYDMvYCW','q3ffweu'];a0_0x305a=function(){return _0x342936;};return a0_0x305a();}import{Client}from'@modelcontextprotocol/sdk/client/index.js';import{StdioClientTransport}from'@modelcontextprotocol/sdk/client/stdio.js';import{StreamableHTTPClientTransport}from'@modelcontextprotocol/sdk/client/streamableHttp.js';import{BaseTool}from'./baseTool.js';import{TagParser}from'../utilities/tagParser.js';import a0_0x21b2f7 from'path';import a0_0x31de0c from'fs/promises';export class MCPClientTool extends BaseTool{constructor(_0x5b1968,_0x154fd0){const _0x48b6e1=a0_0x1c48,_0x4089d5={};_0x4089d5['bXAlm']=_0x48b6e1(0x199),_0x4089d5[_0x48b6e1(0x13b)]=_0x48b6e1(0x181),_0x4089d5['QYKgH']=_0x48b6e1(0xc7);const _0x3122b8=_0x4089d5;super(_0x5b1968,_0x154fd0),this[_0x48b6e1(0x1a2)]=new Map(),this[_0x48b6e1(0xb0)]=new Map(),this['toolSchemas']=new Map(),this[_0x48b6e1(0x188)]=a0_0x21b2f7[_0x48b6e1(0x157)](process[_0x48b6e1(0x122)](),_0x3122b8[_0x48b6e1(0x13b)],_0x3122b8['QYKgH']),this[_0x48b6e1(0xc6)]()[_0x48b6e1(0x13a)](_0x1f480c=>{const _0x28a0fa=_0x48b6e1;this[_0x28a0fa(0x179)]['error'](_0x3122b8[_0x28a0fa(0x1ac)],_0x1f480c);});}async[a0_0x145233(0xc6)](){const _0x394ac5=a0_0x145233,_0x453e04={};_0x453e04[_0x394ac5(0x114)]=function(_0x15d8df,_0x23056d){return _0x15d8df!==_0x23056d;},_0x453e04['VDfok']='ENOENT',_0x453e04[_0x394ac5(0x1ce)]=_0x394ac5(0xb9),_0x453e04[_0x394ac5(0x163)]=_0x394ac5(0xbb),_0x453e04[_0x394ac5(0x196)]='utf-8',_0x453e04[_0x394ac5(0xb1)]=function(_0x44da02,_0xd70861){return _0x44da02!==_0xd70861;},_0x453e04[_0x394ac5(0x12e)]=function(_0x3f20bc,_0x109c25){return _0x3f20bc===_0x109c25;},_0x453e04[_0x394ac5(0x11c)]=_0x394ac5(0x149),_0x453e04['yYAIO']=_0x394ac5(0x137);const _0x56f298=_0x453e04;try{const _0xa93374={};_0xa93374['recursive']=!![],await a0_0x31de0c['mkdir'](this[_0x394ac5(0x188)],_0xa93374);try{const _0x1882ac=a0_0x21b2f7[_0x394ac5(0x157)](this[_0x394ac5(0x188)],_0x56f298[_0x394ac5(0x163)]),_0x5539e0=await a0_0x31de0c[_0x394ac5(0x170)](_0x1882ac,_0x56f298[_0x394ac5(0x196)]),_0x1be55d=JSON['parse'](_0x5539e0);for(const [_0x21fcdf,_0x350728]of Object[_0x394ac5(0xe5)](_0x1be55d)){this[_0x394ac5(0x1a2)]['set'](_0x21fcdf,_0x350728);}this[_0x394ac5(0x179)]['info'](_0x394ac5(0xc3)+this[_0x394ac5(0x1a2)][_0x394ac5(0x11b)]+_0x394ac5(0x129));}catch(_0x3aff41){_0x56f298[_0x394ac5(0xb1)](_0x3aff41['code'],_0x56f298[_0x394ac5(0xd6)])&&(_0x56f298[_0x394ac5(0x12e)](_0x56f298['wrbre'],_0x394ac5(0x16e))?_0xfb9f5b=_0x167848[_0x394ac5(0x168)](_0x255b43):this[_0x394ac5(0x179)][_0x394ac5(0x140)](_0x56f298[_0x394ac5(0x1ce)],_0x3aff41));}}catch(_0x4729bc){_0x394ac5(0x1af)!==_0x394ac5(0x1af)?_0x56f298['wLHiU'](_0x2b3479[_0x394ac5(0xf7)],_0x56f298[_0x394ac5(0xd6)])&&this['logger'][_0x394ac5(0x140)](_0x56f298[_0x394ac5(0x1ce)],_0x3ac625):this['logger'][_0x394ac5(0x108)](_0x56f298[_0x394ac5(0xfc)],_0x4729bc);}}[a0_0x145233(0x1c7)](){const _0x212e62=a0_0x145233;return _0x212e62(0x109);}[a0_0x145233(0x101)](_0x53c5e6){const _0x42bdb0=a0_0x145233,_0x14540f={};_0x14540f['EdRwt']=_0x42bdb0(0x19b),_0x14540f[_0x42bdb0(0xd2)]=_0x42bdb0(0xc5),_0x14540f[_0x42bdb0(0x16c)]=_0x42bdb0(0xf6),_0x14540f['ZoItp']=_0x42bdb0(0xb5),_0x14540f[_0x42bdb0(0x1b1)]=_0x42bdb0(0x137),_0x14540f[_0x42bdb0(0x159)]=_0x42bdb0(0xce),_0x14540f[_0x42bdb0(0x1ab)]=_0x42bdb0(0xc9),_0x14540f[_0x42bdb0(0x145)]=_0x42bdb0(0x131),_0x14540f[_0x42bdb0(0x10b)]=function(_0x369c0f,_0x5a1832){return _0x369c0f>_0x5a1832;},_0x14540f['cJdGJ']=_0x42bdb0(0x172),_0x14540f[_0x42bdb0(0x18f)]=function(_0xf4481b,_0x4d0367){return _0xf4481b===_0x4d0367;},_0x14540f[_0x42bdb0(0x19c)]='Vnijp',_0x14540f[_0x42bdb0(0x1c3)]=function(_0xff3861,_0x1602bf){return _0xff3861&&_0x1602bf;},_0x14540f[_0x42bdb0(0x1b5)]=function(_0x51a72b,_0x4e4736){return _0x51a72b>_0x4e4736;},_0x14540f[_0x42bdb0(0x106)]=_0x42bdb0(0x18d),_0x14540f[_0x42bdb0(0x1d5)]=function(_0x457d7c,_0x4293dd){return _0x457d7c!==_0x4293dd;},_0x14540f[_0x42bdb0(0x1ba)]=_0x42bdb0(0x1a9),_0x14540f['DGGyd']=_0x42bdb0(0x1c1),_0x14540f[_0x42bdb0(0xcc)]='message-to-mcp',_0x14540f[_0x42bdb0(0x102)]=_0x42bdb0(0xbc),_0x14540f['bwBuS']=_0x42bdb0(0x1d2),_0x14540f['WRAEl']=_0x42bdb0(0x16f),_0x14540f[_0x42bdb0(0x146)]='Error\x20parsing\x20MCP\x20client\x20parameters:';const _0x3bfe48=_0x14540f;this[_0x42bdb0(0x179)][_0x42bdb0(0x111)](_0x3bfe48[_0x42bdb0(0x159)]);const _0x46a4c0={};_0x46a4c0[_0x42bdb0(0x15b)]=[];const _0xdfa876=_0x46a4c0;try{const _0xeeeb7f=TagParser[_0x42bdb0(0xdd)](_0x53c5e6,_0x3bfe48['Oviip']);if(_0xeeeb7f[_0x42bdb0(0x1b3)]>0x0){const _0x2cac58={};_0x2cac58[_0x42bdb0(0x126)]=_0x3bfe48[_0x42bdb0(0x1ab)],_0xdfa876[_0x42bdb0(0x15b)]['push'](_0x2cac58);}const _0xbb0a76=TagParser[_0x42bdb0(0xdd)](_0x53c5e6,_0x3bfe48[_0x42bdb0(0x145)]);if(_0x3bfe48[_0x42bdb0(0x10b)](_0xbb0a76[_0x42bdb0(0x1b3)],0x0)){const _0x49069c={};_0x49069c[_0x42bdb0(0x126)]=_0x3bfe48[_0x42bdb0(0x145)],_0xdfa876['commands']['push'](_0x49069c);}const _0x6bbff5=TagParser[_0x42bdb0(0xdd)](_0x53c5e6,_0x3bfe48[_0x42bdb0(0x184)]);for(const _0x40da18 of _0x6bbff5){const _0x859c7a=TagParser[_0x42bdb0(0xdd)](_0x40da18[_0x42bdb0(0x155)],'s'),_0x4e37e2=[];for(const _0x9ef69 of _0x859c7a){if(_0x3bfe48[_0x42bdb0(0x18f)](_0x3bfe48['qIpKY'],_0x3bfe48[_0x42bdb0(0x19c)])){const _0x129e63=_0x9ef69['attributes'][_0x42bdb0(0xdb)],_0x3bdeb4=_0x9ef69[_0x42bdb0(0x12d)][_0x42bdb0(0x134)];if(_0x3bfe48[_0x42bdb0(0x1c3)](_0x129e63,_0x3bdeb4)){const _0x241522={};_0x241522[_0x42bdb0(0xdb)]=_0x129e63,_0x241522['url']=_0x3bdeb4,_0x4e37e2[_0x42bdb0(0x169)](_0x241522);}}else{this['logger'][_0x42bdb0(0x108)](_0x42bdb0(0x1a1)+_0x1bebb0['action']+':',_0x5204d6);const _0x4f5c74={};_0x4f5c74['action']=_0x2ae395[_0x42bdb0(0x126)],_0x4f5c74[_0x42bdb0(0xfd)]=![],_0x4f5c74[_0x42bdb0(0x108)]=_0x211ef3['message'],_0x7a102[_0x42bdb0(0x169)](_0x4f5c74);}}if(_0x3bfe48[_0x42bdb0(0x1b5)](_0x4e37e2[_0x42bdb0(0x1b3)],0x0)){const _0x2907d3={};_0x2907d3[_0x42bdb0(0x126)]=_0x3bfe48['cJdGJ'],_0x2907d3[_0x42bdb0(0x1a2)]=_0x4e37e2,_0xdfa876[_0x42bdb0(0x15b)][_0x42bdb0(0x169)](_0x2907d3);}}const _0x36fde5=TagParser[_0x42bdb0(0xdd)](_0x53c5e6,_0x3bfe48[_0x42bdb0(0x106)]);for(const _0x23e44d of _0x36fde5){if(_0x3bfe48[_0x42bdb0(0x1d5)](_0x3bfe48[_0x42bdb0(0x1ba)],_0x3bfe48[_0x42bdb0(0x1ba)])){if(!_0x16777c['name']||!_0x41e5b1[_0x42bdb0(0x134)])throw new _0x2bb1e9(_0x42bdb0(0x11d));let _0x5dfec2=_0x3bfe48[_0x42bdb0(0x125)];_0x220738[_0x42bdb0(0x134)][_0x42bdb0(0x180)](_0x3bfe48[_0x42bdb0(0xd2)])||_0x46db90[_0x42bdb0(0x134)][_0x42bdb0(0x180)](_0x3bfe48[_0x42bdb0(0x16c)])?_0x5dfec2=_0x3bfe48[_0x42bdb0(0x125)]:_0x5dfec2=_0x3bfe48[_0x42bdb0(0x1ae)];const _0x4c603f={};_0x4c603f[_0x42bdb0(0x134)]=_0x3638b7[_0x42bdb0(0x134)],_0x4c603f['type']=_0x5dfec2,this[_0x42bdb0(0x1a2)][_0x42bdb0(0x12f)](_0x1d095a[_0x42bdb0(0xdb)],_0x4c603f),_0x2215b3[_0x42bdb0(0x169)](_0x461881[_0x42bdb0(0xdb)]);}else{const _0x2de85f=_0x23e44d[_0x42bdb0(0x155)][_0x42bdb0(0x14e)]();if(_0x2de85f){const _0x474d47={};_0x474d47[_0x42bdb0(0x126)]=_0x3bfe48[_0x42bdb0(0x106)],_0x474d47['serverName']=_0x2de85f,_0xdfa876[_0x42bdb0(0x15b)]['push'](_0x474d47);}}}const _0x46a7c9=TagParser[_0x42bdb0(0xdd)](_0x53c5e6,_0x3bfe48[_0x42bdb0(0x174)]);for(const _0x529a61 of _0x46a7c9){const _0x3d4b39=_0x529a61[_0x42bdb0(0x155)][_0x42bdb0(0x14e)]();if(_0x3d4b39){const _0x1a4f37={};_0x1a4f37[_0x42bdb0(0x126)]=_0x3bfe48[_0x42bdb0(0x174)],_0x1a4f37[_0x42bdb0(0x185)]=_0x3d4b39,_0xdfa876['commands'][_0x42bdb0(0x169)](_0x1a4f37);}}const _0x30bf9f=TagParser[_0x42bdb0(0xdd)](_0x53c5e6,_0x3bfe48[_0x42bdb0(0xcc)]);for(const _0xca675d of _0x30bf9f){const _0xdf2ad8=_0xca675d[_0x42bdb0(0x155)][_0x42bdb0(0x14e)]();if(_0xdf2ad8){if(_0x3bfe48[_0x42bdb0(0x18f)](_0x3bfe48[_0x42bdb0(0x102)],_0x42bdb0(0xbc))){let _0x50a509;try{_0x3bfe48[_0x42bdb0(0x18f)](_0x3bfe48[_0x42bdb0(0x123)],_0x3bfe48[_0x42bdb0(0x123)])?_0x50a509=JSON[_0x42bdb0(0x168)](_0xdf2ad8):_0x4e5c67=_0x42bdb0(0xb5);}catch(_0x4c1ff9){if(_0x3bfe48[_0x42bdb0(0x1d5)]('wiovA',_0x3bfe48[_0x42bdb0(0x124)])){this[_0x42bdb0(0x179)][_0x42bdb0(0x108)]('Failed\x20to\x20parse\x20MCP\x20message\x20JSON:',_0x4c1ff9);continue;}else throw new _0x1467c6(_0x42bdb0(0xd3)+_0x314528['type']);}const _0x3af7ad={};_0x3af7ad[_0x42bdb0(0x126)]=_0x3bfe48[_0x42bdb0(0xcc)],_0x3af7ad[_0x42bdb0(0x143)]=_0x50a509,_0xdfa876[_0x42bdb0(0x15b)]['push'](_0x3af7ad);}else this[_0x42bdb0(0x179)]['error'](_0x3bfe48['VXYtn'],_0x5d69cc);}}return _0xdfa876;}catch(_0xebda63){this['logger'][_0x42bdb0(0x108)](_0x3bfe48['oBYOf'],_0xebda63);const _0x1a5993={};return _0x1a5993[_0x42bdb0(0x15b)]=[],_0x1a5993;}}async[a0_0x145233(0x19a)](_0x5c1897,_0x597504){const _0x4a5444=a0_0x145233,_0x43a94b={};_0x43a94b[_0x4a5444(0xeb)]=_0x4a5444(0x104),_0x43a94b['TShxo']=_0x4a5444(0xc1),_0x43a94b[_0x4a5444(0x141)]=function(_0x6f943b,_0x457efc){return _0x6f943b===_0x457efc;},_0x43a94b[_0x4a5444(0x1d1)]=function(_0x328480,_0x4335d3){return _0x328480!==_0x4335d3;},_0x43a94b[_0x4a5444(0xd1)]=_0x4a5444(0x1bc),_0x43a94b['RXDqU']='get-available-servers',_0x43a94b[_0x4a5444(0x19f)]='get-available-tools',_0x43a94b['PBTKV']='add-servers',_0x43a94b[_0x4a5444(0xec)]=_0x4a5444(0x18d),_0x43a94b[_0x4a5444(0x151)]=_0x4a5444(0x1c1),_0x43a94b[_0x4a5444(0x1c4)]=_0x4a5444(0xda),_0x43a94b[_0x4a5444(0x1a3)]=_0x4a5444(0xbe);const _0x5bb254=_0x43a94b;this[_0x4a5444(0x179)][_0x4a5444(0x111)](_0x5bb254['TShxo'],_0x5c1897);const _0x3ce1d9=[];if(!_0x5c1897['commands']||_0x5bb254[_0x4a5444(0x141)](_0x5c1897[_0x4a5444(0x15b)][_0x4a5444(0x1b3)],0x0)){if(_0x5bb254[_0x4a5444(0x1d1)](_0x4a5444(0xb2),_0x4a5444(0x15d)))throw new Error(_0x5bb254[_0x4a5444(0xd1)]);else throw new _0x244d80(_0x5bb254[_0x4a5444(0xeb)]);}for(const _0x7d5661 of _0x5c1897[_0x4a5444(0x15b)]){try{let _0x5dc16a;switch(_0x7d5661['action']){case _0x5bb254[_0x4a5444(0x17c)]:_0x5dc16a=await this['getAvailableServers']();break;case _0x5bb254[_0x4a5444(0x19f)]:_0x5dc16a=await this[_0x4a5444(0xf9)]();break;case _0x5bb254[_0x4a5444(0x18c)]:_0x5dc16a=await this[_0x4a5444(0x1a4)](_0x7d5661[_0x4a5444(0x1a2)]);break;case _0x5bb254[_0x4a5444(0xec)]:_0x5dc16a=await this[_0x4a5444(0xcd)](_0x7d5661[_0x4a5444(0xf0)]);break;case _0x5bb254[_0x4a5444(0x151)]:_0x5dc16a=await this[_0x4a5444(0xef)](_0x7d5661[_0x4a5444(0x185)]);break;case _0x5bb254['ObKwC']:_0x5dc16a=await this[_0x4a5444(0xcb)](_0x7d5661[_0x4a5444(0x143)]);break;default:throw new Error(_0x4a5444(0x158)+_0x7d5661['action']);}_0x3ce1d9[_0x4a5444(0x169)](_0x5dc16a);}catch(_0x42f02c){if(_0x5bb254[_0x4a5444(0x1d1)](_0x4a5444(0xbe),_0x5bb254[_0x4a5444(0x1a3)])){const _0x30ab7c=_0x38980f?function(){const _0x3f466d=_0x4a5444;if(_0x156812){const _0x570d7a=_0xb7aee3[_0x3f466d(0x1cb)](_0x254265,arguments);return _0x37390f=null,_0x570d7a;}}:function(){};return _0x555de5=![],_0x30ab7c;}else{this[_0x4a5444(0x179)][_0x4a5444(0x108)]('Error\x20executing\x20MCP\x20client\x20command\x20'+_0x7d5661[_0x4a5444(0x126)]+':',_0x42f02c);const _0x3b7fbc={};_0x3b7fbc['action']=_0x7d5661[_0x4a5444(0x126)],_0x3b7fbc[_0x4a5444(0xfd)]=![],_0x3b7fbc[_0x4a5444(0x108)]=_0x42f02c[_0x4a5444(0x143)],_0x3ce1d9[_0x4a5444(0x169)](_0x3b7fbc);}}}const _0x16812c={};return _0x16812c[_0x4a5444(0x11e)]=_0x3ce1d9,_0x16812c;}async['getAvailableServers'](){const _0x2b8616=a0_0x145233,_0x3b680f={};_0x3b680f[_0x2b8616(0x128)]=_0x2b8616(0x14a),_0x3b680f[_0x2b8616(0xb8)]=_0x2b8616(0x19b),_0x3b680f[_0x2b8616(0xfb)]=_0x2b8616(0xc9);const _0x266eda=_0x3b680f;this['logger']['info'](_0x266eda[_0x2b8616(0x128)]);const _0x50d11b=[];for(const [_0x5e496c,_0x5ce2d2]of this['servers'][_0x2b8616(0xe5)]()){const _0x3d9f2e={};_0x3d9f2e[_0x2b8616(0xdb)]=_0x5e496c,_0x3d9f2e[_0x2b8616(0x134)]=_0x5ce2d2[_0x2b8616(0x134)],_0x3d9f2e[_0x2b8616(0x18a)]=_0x5ce2d2[_0x2b8616(0x18a)]||_0x266eda['xTGuK'],_0x50d11b[_0x2b8616(0x169)](_0x3d9f2e);}const _0x566d4d={};return _0x566d4d['action']=_0x266eda[_0x2b8616(0xfb)],_0x566d4d['servers']=_0x50d11b,_0x566d4d[_0x2b8616(0xfd)]=!![],_0x566d4d;}async[a0_0x145233(0xf9)](){const _0x2230bc=a0_0x145233,_0x4de55f={};_0x4de55f[_0x2230bc(0x17d)]=_0x2230bc(0x1be),_0x4de55f[_0x2230bc(0x1b0)]=_0x2230bc(0x148),_0x4de55f[_0x2230bc(0xf8)]=_0x2230bc(0x131);const _0x1cb269=_0x4de55f;this['logger'][_0x2230bc(0x111)]('Getting\x20available\x20tools\x20from\x20MCP\x20servers');const _0x30d56d=[],_0x50ed73=[];for(const [_0x5510a3,_0x167556]of this['servers'][_0x2230bc(0xe5)]()){try{const _0x56748b=await this[_0x2230bc(0xea)](_0x5510a3);if(!_0x56748b){const _0x47a6e0={};_0x47a6e0['name']=_0x5510a3,_0x47a6e0[_0x2230bc(0x108)]=_0x1cb269[_0x2230bc(0x17d)],_0x50ed73[_0x2230bc(0x169)](_0x47a6e0);continue;}const _0x1277cc=await _0x56748b[_0x2230bc(0xb7)]();for(const _0x102ba6 of _0x1277cc){const _0x22a5e2={};_0x22a5e2[_0x2230bc(0xdb)]=_0x5510a3+'/'+_0x102ba6[_0x2230bc(0xdb)],_0x22a5e2[_0x2230bc(0xe6)]=_0x102ba6[_0x2230bc(0xe6)]||_0x1cb269['BVvdm'],_0x22a5e2[_0x2230bc(0xe0)]=_0x5510a3,_0x30d56d['push'](_0x22a5e2),this['toolSchemas'][_0x2230bc(0x12f)](_0x5510a3+'/'+_0x102ba6[_0x2230bc(0xdb)],_0x102ba6);}}catch(_0x59e89a){this[_0x2230bc(0x179)][_0x2230bc(0x108)](_0x2230bc(0xfa)+_0x5510a3+':',_0x59e89a);const _0x3c3a46={};_0x3c3a46[_0x2230bc(0xdb)]=_0x5510a3,_0x3c3a46[_0x2230bc(0x108)]=_0x59e89a[_0x2230bc(0x143)],_0x50ed73['push'](_0x3c3a46);}}const _0x577d5c={};return _0x577d5c[_0x2230bc(0x126)]=_0x1cb269[_0x2230bc(0xf8)],_0x577d5c[_0x2230bc(0xd8)]=_0x30d56d,_0x577d5c[_0x2230bc(0x1c9)]=_0x50ed73,_0x577d5c[_0x2230bc(0xfd)]=!![],_0x577d5c;}async[a0_0x145233(0x1a4)](_0x5a4527){const _0x48362d=a0_0x145233,_0x23a3ac={};_0x23a3ac[_0x48362d(0x16b)]=function(_0x5a9015,_0x156e12){return _0x5a9015===_0x156e12;},_0x23a3ac[_0x48362d(0x161)]='BWBre',_0x23a3ac['VMppr']=_0x48362d(0x11d),_0x23a3ac[_0x48362d(0xed)]=_0x48362d(0xc5),_0x23a3ac[_0x48362d(0xd5)]=_0x48362d(0xf6),_0x23a3ac[_0x48362d(0x1d4)]=function(_0x1ec7f9,_0x256cf0){return _0x1ec7f9!==_0x256cf0;},_0x23a3ac[_0x48362d(0x110)]=_0x48362d(0x187),_0x23a3ac[_0x48362d(0x14b)]=_0x48362d(0x1cf),_0x23a3ac[_0x48362d(0x10d)]=_0x48362d(0xb5),_0x23a3ac[_0x48362d(0x175)]=_0x48362d(0x172),_0x23a3ac[_0x48362d(0xf2)]=function(_0x290c12,_0x2c731a){return _0x290c12>_0x2c731a;};const _0x2d4a1d=_0x23a3ac;this[_0x48362d(0x179)][_0x48362d(0x111)](_0x48362d(0x183)+_0x5a4527[_0x48362d(0x1b3)]+'\x20MCP\x20servers');const _0x252023=[],_0x283d66=[];for(const _0x2b4f33 of _0x5a4527){if(_0x2d4a1d[_0x48362d(0x16b)](_0x2d4a1d[_0x48362d(0x161)],_0x2d4a1d['OrmhG']))try{if(!_0x2b4f33['name']||!_0x2b4f33['url'])throw new Error(_0x2d4a1d[_0x48362d(0xbd)]);let _0x535734=_0x48362d(0x19b);if(_0x2b4f33[_0x48362d(0x134)][_0x48362d(0x180)](_0x2d4a1d['SsppJ'])||_0x2b4f33[_0x48362d(0x134)][_0x48362d(0x180)](_0x2d4a1d[_0x48362d(0xd5)]))_0x535734='http';else{if(_0x2d4a1d[_0x48362d(0x1d4)](_0x2d4a1d['tMOix'],_0x2d4a1d[_0x48362d(0x14b)]))_0x535734=_0x2d4a1d[_0x48362d(0x10d)];else{if(_0x9345d0){const _0x2f8932=_0x3c272d[_0x48362d(0x1cb)](_0x1b3f61,arguments);return _0x58695a=null,_0x2f8932;}}}this[_0x48362d(0x1a2)][_0x48362d(0x12f)](_0x2b4f33['name'],{'url':_0x2b4f33[_0x48362d(0x134)],'type':_0x535734}),_0x252023['push'](_0x2b4f33[_0x48362d(0xdb)]);}catch(_0x3858db){this[_0x48362d(0x179)][_0x48362d(0x108)](_0x48362d(0x1bb)+_0x2b4f33[_0x48362d(0xdb)]+':',_0x3858db);const _0x1c0fbe={};_0x1c0fbe[_0x48362d(0xdb)]=_0x2b4f33[_0x48362d(0xdb)],_0x1c0fbe[_0x48362d(0x108)]=_0x3858db[_0x48362d(0x143)],_0x283d66[_0x48362d(0x169)](_0x1c0fbe);}else return _0x48362d(0x109);}return await this[_0x48362d(0x173)](),{'action':_0x2d4a1d[_0x48362d(0x175)],'addedServers':_0x252023,'failedServers':_0x283d66,'success':_0x2d4a1d[_0x48362d(0xf2)](_0x252023[_0x48362d(0x1b3)],0x0)};}async['removeServer'](_0x1aa5eb){const _0x36646e=a0_0x145233,_0x16ebda={'hhHUO':function(_0x309739,_0xeab54){return _0x309739(_0xeab54);},'rpDVI':function(_0x3ab4d4,_0x49381f){return _0x3ab4d4+_0x49381f;},'fQoRo':function(_0x3de480,_0x5808f0){return _0x3de480+_0x5808f0;},'ZeZmR':_0x36646e(0xd9),'Ptylc':'remove-server','LERIP':function(_0x27c14d,_0xc25c01){return _0x27c14d===_0xc25c01;},'aeUae':'URBiy','UTisj':function(_0x3cad9c,_0x533aa9){return _0x3cad9c!==_0x533aa9;},'TsRNG':_0x36646e(0x171)};this[_0x36646e(0x179)][_0x36646e(0x111)]('Removing\x20MCP\x20server:\x20'+_0x1aa5eb);if(!this[_0x36646e(0x1a2)]['has'](_0x1aa5eb)){const _0x1772d5={};return _0x1772d5[_0x36646e(0x126)]=_0x16ebda[_0x36646e(0x165)],_0x1772d5['serverName']=_0x1aa5eb,_0x1772d5[_0x36646e(0xfd)]=![],_0x1772d5[_0x36646e(0x108)]=_0x36646e(0xbf)+_0x1aa5eb+'\x27\x20does\x20not\x20exist',_0x1772d5;}if(this[_0x36646e(0xb0)][_0x36646e(0x10e)](_0x1aa5eb)){if(_0x16ebda[_0x36646e(0x118)]('URBiy',_0x16ebda[_0x36646e(0x17e)])){try{if(_0x16ebda[_0x36646e(0x164)]('airLk',_0x16ebda['TsRNG'])){const _0x152ee7={};_0x152ee7['name']=_0x7493f3,_0x152ee7['url']=_0x226641,_0x1a6086['push'](_0x152ee7);}else{const _0x4ab614=this[_0x36646e(0xb0)][_0x36646e(0x142)](_0x1aa5eb);await _0x4ab614[_0x36646e(0x12c)]();}}catch(_0x4a8172){this[_0x36646e(0x179)][_0x36646e(0x140)]('Error\x20disconnecting\x20from\x20server\x20'+_0x1aa5eb+':',_0x4a8172);}this['clients'][_0x36646e(0x192)](_0x1aa5eb);}else{let _0x5342f9;try{_0x5342f9=GrOAyw[_0x36646e(0x11f)](_0xc7f56d,GrOAyw[_0x36646e(0x15e)](GrOAyw[_0x36646e(0x116)](GrOAyw[_0x36646e(0x177)],_0x36646e(0x113)),');'))();}catch(_0x257b81){_0x5342f9=_0x8e4c7;}return _0x5342f9;}}this['servers'][_0x36646e(0x192)](_0x1aa5eb),await this['saveServers']();const _0x1941d1={};return _0x1941d1[_0x36646e(0x126)]=_0x16ebda[_0x36646e(0x165)],_0x1941d1['serverName']=_0x1aa5eb,_0x1941d1[_0x36646e(0xfd)]=!![],_0x1941d1;}async[a0_0x145233(0xef)](_0x5ce557){const _0x4221e2=a0_0x145233,_0x23a6f5={};_0x23a6f5[_0x4221e2(0x176)]='get-available-servers',_0x23a6f5['tcDPQ']=function(_0x51ec28,_0x2b321e){return _0x51ec28&&_0x2b321e;},_0x23a6f5[_0x4221e2(0x133)]=function(_0x52a912,_0x44ee50){return _0x52a912===_0x44ee50;},_0x23a6f5[_0x4221e2(0xb4)]=_0x4221e2(0x11a),_0x23a6f5[_0x4221e2(0x15a)]=function(_0x3cc383,_0x39f558){return _0x3cc383===_0x39f558;},_0x23a6f5[_0x4221e2(0x154)]=function(_0x55bf2d,_0x2a8a13){return _0x55bf2d!==_0x2a8a13;},_0x23a6f5[_0x4221e2(0x14f)]='SVCVv',_0x23a6f5[_0x4221e2(0x195)]='get-tool-schema';const _0x29fd6a=_0x23a6f5;this[_0x4221e2(0x179)][_0x4221e2(0x111)](_0x4221e2(0x1c5)+_0x5ce557);const [_0x226b79,_0xe05e49]=_0x5ce557[_0x4221e2(0x138)]('/');if(!_0x226b79||!_0xe05e49){if(_0x29fd6a[_0x4221e2(0x133)](_0x29fd6a[_0x4221e2(0xb4)],'qXCye'))throw new Error(_0x4221e2(0x14c)+_0x5ce557+_0x4221e2(0xd4));else throw new _0x438e09(_0x4221e2(0x1ad)+_0x2f6e57+'\x27\x20not\x20found\x20on\x20server\x20\x27'+_0x2d4427+'\x27');}if(!this[_0x4221e2(0x1a2)][_0x4221e2(0x10e)](_0x226b79)){if(_0x29fd6a['hPxFy'](_0x4221e2(0xe9),_0x4221e2(0x1d6))){const _0x55ed17={};_0x55ed17['action']=_0x29fd6a[_0x4221e2(0x176)],_0x1c8d25[_0x4221e2(0x15b)][_0x4221e2(0x169)](_0x55ed17);}else throw new Error('Server\x20\x27'+_0x226b79+_0x4221e2(0x15c));}if(this[_0x4221e2(0x12a)][_0x4221e2(0x10e)](_0x5ce557)){if(_0x29fd6a[_0x4221e2(0x154)](_0x29fd6a['dZeaB'],'SVCVv')){const _0x337542=_0x33d2e5['attributes'][_0x4221e2(0xdb)],_0x1e47f9=_0xc3f55c[_0x4221e2(0x12d)][_0x4221e2(0x134)];if(_0x29fd6a[_0x4221e2(0xe7)](_0x337542,_0x1e47f9)){const _0x27234c={};_0x27234c[_0x4221e2(0xdb)]=_0x337542,_0x27234c['url']=_0x1e47f9,_0xbf4c59[_0x4221e2(0x169)](_0x27234c);}}else return{'action':_0x29fd6a[_0x4221e2(0x195)],'toolId':_0x5ce557,'schema':this[_0x4221e2(0x12a)][_0x4221e2(0x142)](_0x5ce557),'success':!![]};}const _0x38e445=await this[_0x4221e2(0xea)](_0x226b79);if(!_0x38e445)throw new Error(_0x4221e2(0x16a)+_0x226b79);const _0x505e40=await _0x38e445['listTools'](),_0x4ff9da=_0x505e40[_0x4221e2(0xb3)](_0x3b37d6=>_0x3b37d6[_0x4221e2(0xdb)]===_0xe05e49);if(!_0x4ff9da)throw new Error(_0x4221e2(0x1ad)+_0xe05e49+_0x4221e2(0xc4)+_0x226b79+'\x27');this['toolSchemas'][_0x4221e2(0x12f)](_0x5ce557,_0x4ff9da);const _0x246dc5={};return _0x246dc5[_0x4221e2(0x126)]=_0x29fd6a['VYWBH'],_0x246dc5[_0x4221e2(0x185)]=_0x5ce557,_0x246dc5[_0x4221e2(0x1a7)]=_0x4ff9da,_0x246dc5[_0x4221e2(0xfd)]=!![],_0x246dc5;}async[a0_0x145233(0xcb)](_0x189fa6){const _0xfb1184=a0_0x145233,_0x5440f7={};_0x5440f7[_0xfb1184(0x10c)]=_0xfb1184(0x166),_0x5440f7['wtQDC']=function(_0x4ce2ad,_0x2c35d4){return _0x4ce2ad||_0x2c35d4;},_0x5440f7[_0xfb1184(0x15f)]=function(_0x1f8d0d,_0x4f7d84){return _0x1f8d0d||_0x4f7d84;},_0x5440f7[_0xfb1184(0x18b)]=function(_0x24f409,_0xfc1646){return _0x24f409===_0xfc1646;},_0x5440f7[_0xfb1184(0x1c8)]=_0xfb1184(0x182),_0x5440f7[_0xfb1184(0x112)]=function(_0x2a14bc,_0x1d42e7){return _0x2a14bc===_0x1d42e7;},_0x5440f7[_0xfb1184(0x107)]='YHddl',_0x5440f7['UcHYq']=_0xfb1184(0xda);const _0x3a7e14=_0x5440f7;this['logger']['info'](_0x3a7e14[_0xfb1184(0x10c)]);if(!_0x189fa6||!_0x189fa6['tool_call'])throw new Error('Invalid\x20MCP\x20message\x20format.\x20Expected\x20{\x20tool_call:\x20{\x20name,\x20arguments\x20}\x20}');const {name:_0x2f9ddc,arguments:_0x4d3cf2}=_0x189fa6[_0xfb1184(0x120)];if(_0x3a7e14[_0xfb1184(0xee)](!_0x2f9ddc,!_0x4d3cf2))throw new Error('Tool\x20call\x20must\x20have\x20name\x20and\x20arguments');const [_0x34b0a9,_0x5484e5]=_0x2f9ddc[_0xfb1184(0x138)]('/');if(_0x3a7e14['PxSSk'](!_0x34b0a9,!_0x5484e5)){if(_0x3a7e14['wBDtj'](_0x3a7e14[_0xfb1184(0x1c8)],'hstAD'))this[_0xfb1184(0x1a2)][_0xfb1184(0x12f)](_0x5eccdc,_0x13b188);else throw new Error(_0xfb1184(0xcf)+_0x2f9ddc+'.\x20Expected\x20format:\x20serverName/toolName');}if(!this[_0xfb1184(0x1a2)][_0xfb1184(0x10e)](_0x34b0a9)){if(_0x3a7e14['fLynb'](_0x3a7e14[_0xfb1184(0x107)],_0xfb1184(0x13f)))_0x596796[_0x505d63]=_0x22c23f;else throw new Error(_0xfb1184(0xbf)+_0x34b0a9+_0xfb1184(0x15c));}const _0x389f05=await this[_0xfb1184(0xea)](_0x34b0a9);if(!_0x389f05)throw new Error(_0xfb1184(0x16a)+_0x34b0a9);const _0x1a81c9={};_0x1a81c9[_0xfb1184(0xdb)]=_0x5484e5,_0x1a81c9[_0xfb1184(0x19e)]=_0x4d3cf2;const _0x273763=await _0x389f05[_0xfb1184(0x198)](_0x1a81c9),_0x3bfe17={};_0x3bfe17['name']=_0x2f9ddc,_0x3bfe17['arguments']=_0x4d3cf2;const _0xba242f={};return _0xba242f[_0xfb1184(0x126)]=_0x3a7e14['UcHYq'],_0xba242f[_0xfb1184(0xe3)]=_0x3bfe17,_0xba242f[_0xfb1184(0x130)]=_0x273763,_0xba242f['success']=!![],_0xba242f;}async[a0_0x145233(0xea)](_0x541512){const _0x3e1a5e=a0_0x145233,_0x45df28={};_0x45df28['nPNxT']=_0x3e1a5e(0x1c1),_0x45df28[_0x3e1a5e(0x17b)]='No\x20description',_0x45df28[_0x3e1a5e(0x1a6)]=_0x3e1a5e(0x17a),_0x45df28[_0x3e1a5e(0x16d)]=_0x3e1a5e(0x13e),_0x45df28['UOcbr']=function(_0x337b73,_0x4e6e6f){return _0x337b73===_0x4e6e6f;},_0x45df28[_0x3e1a5e(0x1c6)]=_0x3e1a5e(0x103),_0x45df28[_0x3e1a5e(0xf1)]=_0x3e1a5e(0x115),_0x45df28[_0x3e1a5e(0xe1)]=_0x3e1a5e(0x12b),_0x45df28[_0x3e1a5e(0x1bf)]=_0x3e1a5e(0x167),_0x45df28[_0x3e1a5e(0x1b9)]=_0x3e1a5e(0x19b),_0x45df28[_0x3e1a5e(0x132)]=function(_0x503967,_0x45f412){return _0x503967===_0x45f412;},_0x45df28[_0x3e1a5e(0x135)]=_0x3e1a5e(0xb5),_0x45df28[_0x3e1a5e(0x1a5)]=function(_0x5622eb,_0x2265fc){return _0x5622eb!==_0x2265fc;},_0x45df28[_0x3e1a5e(0xdf)]=_0x3e1a5e(0x117),_0x45df28['jEuXV']=_0x3e1a5e(0x1a0);const _0x3d9306=_0x45df28;if(this['clients'][_0x3e1a5e(0x10e)](_0x541512)){if(_0x3d9306[_0x3e1a5e(0x1a6)]===_0x3d9306['zkOpG']){const _0x4d11e4=_0xb2c3af['content'][_0x3e1a5e(0x14e)]();if(_0x4d11e4){const _0xc101a5={};_0xc101a5['action']=_0x3d9306[_0x3e1a5e(0xc0)],_0xc101a5[_0x3e1a5e(0x185)]=_0x4d11e4,_0x256e26[_0x3e1a5e(0x15b)]['push'](_0xc101a5);}}else return this[_0x3e1a5e(0xb0)][_0x3e1a5e(0x142)](_0x541512);}const _0x10a993=this['servers']['get'](_0x541512);if(!_0x10a993){if(_0x3d9306[_0x3e1a5e(0x193)](_0x3d9306[_0x3e1a5e(0x1c6)],_0x3d9306[_0x3e1a5e(0xf1)])){const _0x480040=_0x49dde8[_0x3e1a5e(0x1cb)](_0x3fac7b,arguments);return _0x40089f=null,_0x480040;}else return this[_0x3e1a5e(0x179)][_0x3e1a5e(0x108)](_0x3e1a5e(0xbf)+_0x541512+_0x3e1a5e(0xb6)),null;}try{const _0x360729={};_0x360729['name']=_0x3d9306[_0x3e1a5e(0xe1)],_0x360729[_0x3e1a5e(0x1d0)]=_0x3d9306[_0x3e1a5e(0x1bf)];const _0x4c355a=new Client(_0x360729);let _0x339f46;if(_0x10a993['type']===_0x3d9306[_0x3e1a5e(0x1b9)])_0x339f46=new StreamableHTTPClientTransport(_0x10a993[_0x3e1a5e(0x134)]);else{if(_0x3d9306[_0x3e1a5e(0x132)](_0x10a993[_0x3e1a5e(0x18a)],_0x3d9306[_0x3e1a5e(0x135)])){if(_0x3d9306['CqEXE']('ckyQY',_0x3d9306[_0x3e1a5e(0xdf)])){const _0x4ada34={};_0x4ada34[_0x3e1a5e(0xdb)]=_0x5955a6+'/'+_0x21ad65[_0x3e1a5e(0xdb)],_0x4ada34['description']=_0x3a93ad[_0x3e1a5e(0xe6)]||_0x3d9306[_0x3e1a5e(0x17b)],_0x4ada34[_0x3e1a5e(0xe0)]=_0x3e4c79,_0x3a48a7[_0x3e1a5e(0x169)](_0x4ada34),this[_0x3e1a5e(0x12a)][_0x3e1a5e(0x12f)](_0x531da1+'/'+_0x5062d0[_0x3e1a5e(0xdb)],_0x44effe);}else{const _0x59cc2e=_0x10a993[_0x3e1a5e(0x134)][_0x3e1a5e(0x138)]('\x20'),_0xb87ab3=_0x59cc2e[0x0],_0x5a0227=_0x59cc2e['slice'](0x1),_0xe2be08={};_0xe2be08[_0x3e1a5e(0x13c)]=_0xb87ab3,_0xe2be08[_0x3e1a5e(0x119)]=_0x5a0227,_0x339f46=new StdioClientTransport(_0xe2be08);}}else throw new Error(_0x3e1a5e(0xd3)+_0x10a993[_0x3e1a5e(0x18a)]);}return await _0x4c355a['connect'](_0x339f46),this[_0x3e1a5e(0xb0)][_0x3e1a5e(0x12f)](_0x541512,_0x4c355a),_0x4c355a;}catch(_0x2fdba4){if(_0x3d9306[_0x3e1a5e(0x1a5)](_0x3d9306[_0x3e1a5e(0x150)],_0x3d9306['jEuXV']))throw new _0x440760(_0x3e1a5e(0x16a)+_0x4b930c);else return this[_0x3e1a5e(0x179)]['error']('Failed\x20to\x20create\x20MCP\x20client\x20for\x20server\x20\x27'+_0x541512+'\x27:',_0x2fdba4),null;}}async[a0_0x145233(0x173)](){const _0x59264c=a0_0x145233,_0x44f7c3={};_0x44f7c3[_0x59264c(0xc2)]=_0x59264c(0xbb),_0x44f7c3[_0x59264c(0x1c0)]='TIkCh',_0x44f7c3[_0x59264c(0x162)]=_0x59264c(0x144),_0x44f7c3['pxgxJ']=_0x59264c(0x1cd);const _0x157eb3=_0x44f7c3;try{const _0x6dfe4f=a0_0x21b2f7[_0x59264c(0x157)](this['serverDirectory'],_0x157eb3[_0x59264c(0xc2)]),_0xfdf25d={};for(const [_0x295757,_0x1b9dc5]of this[_0x59264c(0x1a2)]['entries']()){if(_0x157eb3[_0x59264c(0x1c0)]!==_0x157eb3[_0x59264c(0x162)])_0xfdf25d[_0x295757]=_0x1b9dc5;else throw new _0x19b42e('Server\x20\x27'+_0x2a3690+_0x59264c(0x15c));}await a0_0x31de0c[_0x59264c(0x1a8)](_0x6dfe4f,JSON[_0x59264c(0x189)](_0xfdf25d,null,0x2),_0x157eb3['pxgxJ']),this[_0x59264c(0x179)][_0x59264c(0x111)](_0x59264c(0x1c2)+this[_0x59264c(0x1a2)]['size']+_0x59264c(0x152));}catch(_0x1101d6){this[_0x59264c(0x179)][_0x59264c(0x108)]('Failed\x20to\x20save\x20MCP\x20servers\x20to\x20file:',_0x1101d6);}}async[a0_0x145233(0xdc)](){const _0x1b1b42=a0_0x145233,_0x569202={};_0x569202[_0x1b1b42(0x1b4)]=_0x1b1b42(0x1aa),_0x569202['oEZue']=function(_0x274b84,_0x184a16){return _0x274b84===_0x184a16;},_0x569202[_0x1b1b42(0x153)]='CXiVS',_0x569202[_0x1b1b42(0x178)]=function(_0x14ecbb,_0x3899e5){return _0x14ecbb===_0x3899e5;},_0x569202[_0x1b1b42(0x17f)]='yAqxa';const _0xdde256=_0x569202;this[_0x1b1b42(0x179)][_0x1b1b42(0x111)](_0x1b1b42(0x10f));for(const [_0xbf1bab,_0x5c0251]of this[_0x1b1b42(0xb0)][_0x1b1b42(0xe5)]()){if(_0xdde256[_0x1b1b42(0x1ca)](_0xdde256[_0x1b1b42(0x153)],_0xdde256['DqFEH']))try{if(_0xdde256[_0x1b1b42(0x178)](_0xdde256[_0x1b1b42(0x17f)],'yAqxa'))await _0x5c0251[_0x1b1b42(0x12c)](),this[_0x1b1b42(0x179)]['info'](_0x1b1b42(0x105)+_0xbf1bab);else throw new _0x8c6960('Server\x20\x27'+_0x420861+_0x1b1b42(0x15c));}catch(_0x4acd84){this['logger'][_0x1b1b42(0x140)](_0x1b1b42(0x136)+_0xbf1bab+':',_0x4acd84);}else return _0x15e606[_0x1b1b42(0xf3)]()['search'](bXIPme[_0x1b1b42(0x1b4)])[_0x1b1b42(0xf3)]()[_0x1b1b42(0xe2)](_0x3eb158)[_0x1b1b42(0xfe)](bXIPme[_0x1b1b42(0x1b4)]);}this[_0x1b1b42(0xb0)][_0x1b1b42(0xe8)]();}}