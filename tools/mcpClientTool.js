const a0_0x3cc405=a0_0x4aa5;function a0_0x4233(){const _0x25341f=['qw5Hq2K','BgLZDfrVB2XZ','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','CwfIEvy','rfnyy28','BMfdC1K','DgvTEfu','rK1mvhq','qvLgDhi','AgfZ','uevorfG','BwTKAxi','uMvTB3zPBMCGtunqihnLCNzLCJOG','ugfYC2LUzYbnq1aGy2XPzw50ihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','zMfPBgvKu2vYDMvYCW','yuPjDfe','Bg9N','A21zvNi','DhzNvvC','y29UBMvJDa','zfzMAxm','y29UC29Szq','u2H1DhrPBMCGzg93BIbnq1aGy2XPzw50ihrVB2W','CMvHzezPBgu','jYbKB2vZig5VDcbLEgLZDa','uNn2Ag0','rNv0sum','zunvuw8','z2XpAfa','Dg9VBeLK','y2fSBfrVB2W','mJiWmtqWCgT3vezN','Dg9VBf9JywXS','ELjTtg4','u3v5z0u','rLDfAw8','vejvuvy','uxrdqMO','vu9pvhO','s2vmyui','C2XzB3C','DhjHy2u','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','EufQCxi','rxHKEuO','ChjVDg90ExbL','uufsDhC','rvjbqwm','rxbfDM4','BMz4s2K','uw9Qvwu','Ahr0Chm6lY8','ndu4otyYnenrv0vhCa','DKrOvei','C2vHCMnO','zw50CMLLCW','wLbkuMK','CMv0DxjUicHMDw5JDgLVBIGPia','BeLzDeW','DhLWzq','zfHwsuC','vfvKwxO','y29UC3rYDwn0B3i','C2v0','serRsuC','A0LIy3C','tM8GtunqignSAwvUDcbJB21Tyw5KCYbZCgvJAwzPzwq','z2v0lwf2ywLSywjSzs1Zzxj2zxjZ','BNLgDMu','D3jnu2e','Bfbrv1y','zNHZwLq','EvLpDLi','z2v0lwf2ywLSywjSzs10B29SCW','C2f2zvnLCNzLCNm','C3bSAxq','Aw5MBW','cK1ducbdBgLLBNqGvg9VBdOGqwXSB3DZihLVDsb0BYbPBNrLCMfJDcb3AxrOie1VzgvSienVBNrLEhqGuhjVDg9JB2WGke1ducKGC2vYDMvYCYb0BYbHy2nLC3mGzxH0zxjUywWGDg9VBhmGyw5KihjLC291CMnLCY4kcLvZywDLoGPBDg9VBcbPzd0IBwnWlwnSAwvUDcjDcLTNzxqTyxzHAwXHyMXLlxnLCNzLCNmGl10kw2DLDc1HDMfPBgfIBguTDg9VBhmGl10kcLTHzgqTC2vYDMvYC10kw3mGBMfTzt0IC2vYDMvYlw5HBwuIihvYBd0IAhr0CdOVl3nLCNzLCI11CMWIic9DcLSVywrKlxnLCNzLCNnDcGPBCMvTB3zLlxnLCNzLCL0kC2vYDMvYlw5HBwukwY9Yzw1VDMuTC2vYDMvYxqOkw2DLDc10B29SlxnJAgvTyv0kC2vYDMvYlw5HBwuVDg9VBc1Uyw1LcLSVz2v0lxrVB2WTC2nOzw1HxqOkw21LC3nHz2uTDg8TBwnWxqP7cIaGiNrVB2XFy2fSBci6ihSkicaGicjUyw1LiJOGiNnLCNzLCI1Uyw1Ll3rVB2WTBMfTzsiScIaGicaIyxjNDw1LBNrZiJOGEYaICgfYyw0XiJOGiNzHBhvLmsiSicjWyxjHBtiIoIaIDMfSDwuYiIb9cIaGFqP9cLSVBwvZC2fNzs10BY1Ty3bDcLSVDg9VBf0kcKv4yw1WBgvZoGOXlIbmAxn0igf2ywLSywjSzsbnq1aGC2vYDMvYCZOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBz2v0lwf2ywLSywjSzs1Zzxj2zxjZic9DcLSVDg9VBf0kcJiUieXPC3qGyxzHAwXHyMXLihrVB2XZigzYB20GywXSihnLCNzLCNm6cLT0B29SigLKpsjTy3aTy2XPzw50iL0kw2DLDc1HDMfPBgfIBguTDg9VBhmGl10kwY90B29SxqOkmY4GqwrKigeGBMv3ie1ducbZzxj2zxi6cLT0B29SigLKpsjTy3aTy2XPzw50iL0kw2fKzc1Zzxj2zxjZxqPBCYbUyw1LpsjZExn0zw0TDg9VBhmIihvYBd0IAhr0CdOVl2XVy2fSAg9ZDdOZmdaXiIaVxqPBl2fKzc1Zzxj2zxjZxqPBl3rVB2XDcGO0lIbszw1VDMuGyw4GtunqihnLCNzLCJOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBCMvTB3zLlxnLCNzLCL0kC3LZDgvTlxrVB2XZcLSVCMvTB3zLlxnLCNzLCL0kwY90B29SxqOkns4Gr2v0ihrOzsbZy2HLBweGzM9YigeGC3bLy2LMAwmGDg9VBdOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBz2v0lxrVB2WTC2nOzw1HxqPZExn0zw0TDg9VBhmVCNvUq29TBwfUzaPBl2DLDc10B29SlxnJAgvTyv0kwY90B29SxqOknI4Gq2fSBcbHBIbnq1aGDg9VBdOkw3rVB2WGAwq9iM1JCc1JBgLLBNqIxqPBBwvZC2fNzs10BY1Ty3bDcNSkicaIDg9VBf9JywXSiJOGEWOGicaGiM5HBwuIoIaIC3LZDgvTlxrVB2XZl3j1BKnVBw1HBMqIlaOGicaGiMfYz3vTzw50CYi6ihSGiMnVBw1HBMqIoIaIBhmGlwXHiIb9cIaGFqP9cLSVBwvZC2fNzs10BY1Ty3bDcLSVDg9VBf0kicaGia','jYbUB3qGzM91BMqGB24GC2vYDMvYicC','zgLZy29UBMvJDa','sM1uD2e','BMHnzvy','DxjS','kcGOlISPkYKRksSK','rxjYB3iGzgLZy29UBMvJDgLUzYbMCM9Tie1ducbZzxj2zxiG','ogX6Cg1gwq','zgvSzxrL','C3rHCNrZv2L0Aa','q1nbrg0','lIbfEhbLy3rLzcbMB3jTyxq6ihnLCNzLCK5HBwuVDg9VBe5HBwu','rMfPBgvKihrVignYzwf0zsbnq1aGy2XPzw50igzVCIbZzxj2zxiGjW','rMPgsha','Chfgug0','C2XPy2u','qLrdtvu','Ahr0Ca','r2v0DgLUzYbHDMfPBgfIBguGtunqihnLCNzLCNm','CgfYC2u','rMfPBgvKihrVigXVywqGC2f2zwqGtunqihnLCNzLCNm6','ie1ducbZzxj2zxjZihrVigzPBgu','C2vYDMvYCY5QC29U','zLnXq20','zgvZy3jPChrPB24','t2nJBLe','te5jwfq','DvP1uhi','rMfPBgvKihrVigfKzcbZzxj2zxiG','C3fOCgO','AM9PBG','vLP2tg4','BuHADKW','zw5msxG','CgjLsM4','CMvZDwX0','z2v0qxzHAwXHyMXLu2vYDMvYCW','BwnWlxnLCNzLCNm','BMfTzq','DgfIBgu','ALLfr00','ndeZndKWwfvjvg1X','CxLgqwO','y250tgO','Aw5PDgLHBgL6zvnLCNzLCKrPCMvJDg9YEq','vg9VBcbJywXSig11C3qGAgf2zsbUyw1LigfUzcbHCMD1BwvUDhm','A2fLAKe','BwvZC2fNzs10BY1Ty3a','z0rvy00','sKz4Awe','ihnHDMvKie1ducbZzxj2zxjZ','EuHfvgO','EejKt3i','sw52ywXPzcbnq1aGBwvZC2fNzsbMB3jTyxqUiev4CgvJDgvKihSGDg9VBf9JywXSoIb7ig5HBwuSigfYz3vTzw50CYb9ih0','u2vYDMvYicC','AMjgB1y','rMfPBgvKihrVihbHCNnLie1ducbTzxnZywDLiePtt046','CMr5re4','yxjNDw1LBNrZ','yKTxsvq','mJy1ntCXoxvtDNDWzW','ExPrywK','r0jKCxq','qMzwEva','vwziB1C','s3jKswC','yxbWBhK','ntbgAeXqAw0','AwXyrfC','z2v0','EhnACfG','Bg9Nz2vY','zvPgzNq','EhzVrwO','BuPzywe','uM96DgW','r0jVq0S','C21quvq','DxrMltG','qxncuhq','Dg9VBfnJAgvTyxm','yLfQq2u','vg9VBcaN','BvDzrKC','uMTWzgu','D09bvM4','z2v0lxrVB2WTC2nOzw1H','CxvLCNK','wvDwy1m','weXUyM8','y29Kzq','y29UDgvUDa','q0LMBuW','zxHJzxb0Aw9U','CMvZDwX0CW','yxr0CMLIDxrLCW','yxjNCW','vK1mvwC','z2v0rgvZy3jPChrPB24','DuDHufa','mteXodu1otz2t1zsAeS','B3f5CuS','CxfTCLm','jYbUB3qGzM91BMq','tMPJvLm','tg9HzgvKia','Cuzmzxy','vhDhBKm','qwvrANG','rxjYB3iGzxHLy3v0Aw5Nie1ducbJBgLLBNqGy29TBwfUzca','A3HQuLi','vgrkt1u','ru5pru5u','AgTIChO','D21UD0e','rMfPBgvKihrVihnHDMuGtunqihnLCNzLCNmGDg8GzMLSztO','DuroCgq','zKnJuLO','BfLztLC','DMvYC2LVBG','Dg9VBenHBgW','zKnxrKS','ie1ducbZzxj2zxjZ','y0nkB2G','DxbgDvO','yKDHweO','C2vUze1LC3nHz2vuB01JCa','zxjYB3i','y2XLyxi','uhHZqLe','rgLZy29UBMvJDgvKigzYB20GtunqihnLCNzLCJOG','z2v0vg9VBfnJAgvTyq','sMDzzw8','q1fqweq','z1HgtMe','rwLfsge','yujZCgW','Bg94AweTBwnWlwnSAwvUDa','mZzpwhPyB04','z2v0qxzHAwXHyMXLvg9VBhm','ywn0Aw9U','rufVv3q','rwPKCfq','y3DK','y29TBwfUzhm','A3PkBNi','wLblC04','y2rxzNa','ChvZAa','BwnwzMe','ywrKlxnLCNzLCNm','sLnoqLO','C2H1DgrVD24','vwjmsg8','DhjPBq','odm2ntK4sNLxqxPT','tM8GzgvZy3jPChrPB24','rxjYB3iGzgLZy29UBMvJDgLUzYbMCM9TihnLCNzLCIa','C2vYDMvYCW','rMfPBgvKihrVignYzwf0zsbnq1aGC2vYDMvYigrPCMvJDg9YEtO','vw5RBM93BIbnq1aGy2XPzw50ignVBw1HBMq6ia','x19WCM90B19F','z2v0t3jdCMvHDgvdBgLLBNq','C2vYDMvYrgLYzwn0B3j5','ugTUte4','r2v0DgLUzYbHDMfPBgfIBguGDg9VBhmGzNjVBsbnq1aGC2vYDMvYCW','Axrks3O','rMfPBgvKihrVignVBM5Ly3qGDg8GC2vYDMvYoIa','BNbtBgq','Dezuy2e','Bu1Kz2G','AgfIAge','CMvTB3zLlxnLCNzLCG','C3rKAw8','AvjhtKq','zK5Rs2q','sevUB1y','sw52ywXPzcb0B29SieLeigzVCM1HDdOG','vuzzELi','EfD5uNu','D2fYBG','ywrKu2vYDMvYCW','s1LTCgG','ru5zDKi','suXqrxG','D0rYAey','C3rYAw5NAwz5','BgvUz3rO','sw52ywXPzcb0B29Sig5HBwuGzM9YBwf0oIa','Aunlsu4','wKPUt2K','ugPAv2e','qu5TvvC','CNz3v3O','zhDcEui','vw5ZDxbWB3j0zwqGC2vYDMvYihr5Cgu6ia','qMnVBxC','rxjYB3iGCgfYC2LUzYbnq1aGy2XPzw50ihbHCMfTzxrLCNm6','ufDSz0y','CMvJDxjZAxzL','yK5NCMu','Dg9tDhjPBMC','BwvZC2fNzq','mtjeDMjPAwO','teThqvm','uxjtyMe','ndy0mJu4rwHuvgrl','ENrNq1C','C2vYDMvY','C3vJy2vZCW','rwPUzuG','C2L6zq','zNrLz3q','yMLUza','C2vYDMvYtMfTzq','D0PvyLO','y29TBwfUza','C2nOzw1H','CMvTB3zLu2vYDMvY','yKvesfy','rej6tvi','y2XPzw50CW','Benpzvu','rxHLy3v0Aw5Nie1ducbJBgLLBNqGy29TBwfUzcb3AxrOihbHCMfTzxrLCNm6','u2vUzgLUzYbTzxnZywDLihrVie1ducbZzxj2zxi','BKrtExa','vgL0qK4','zernrvq'];a0_0x4233=function(){return _0x25341f;};return a0_0x4233();}(function(_0x187b54,_0x4ae58c){const _0xd7d11d=a0_0x4aa5,_0x51b1fe=_0x187b54();while(!![]){try{const _0x2ce19a=-parseInt(_0xd7d11d(0x206))/0x1+parseInt(_0xd7d11d(0x179))/0x2*(parseInt(_0xd7d11d(0x176))/0x3)+parseInt(_0xd7d11d(0x1c3))/0x4+-parseInt(_0xd7d11d(0x1ae))/0x5+-parseInt(_0xd7d11d(0x135))/0x6*(parseInt(_0xd7d11d(0x146))/0x7)+parseInt(_0xd7d11d(0x1e4))/0x8*(parseInt(_0xd7d11d(0x10f))/0x9)+-parseInt(_0xd7d11d(0x220))/0xa*(parseInt(_0xd7d11d(0x219))/0xb);if(_0x2ce19a===_0x4ae58c)break;else _0x51b1fe['push'](_0x51b1fe['shift']());}catch(_0x4aa7b6){_0x51b1fe['push'](_0x51b1fe['shift']());}}}(a0_0x4233,0xe4c3b));const a0_0x380740=(function(){let _0x143bd1=!![];return function(_0x19e61d,_0x3f04f2){const _0x4a3a27=_0x143bd1?function(){const _0x3b2abf=a0_0x4aa5;if(_0x3b2abf(0x186)!==_0x3b2abf(0x186))throw new _0x3edab2(_0x3b2abf(0xfd)+_0x5b5db7+_0x3b2abf(0x1dd)+_0x549e9f+'\x27');else{if(_0x3f04f2){const _0x538042=_0x3f04f2[_0x3b2abf(0x21f)](_0x19e61d,arguments);return _0x3f04f2=null,_0x538042;}}}:function(){};return _0x143bd1=![],_0x4a3a27;};}()),a0_0xc5e6fb=a0_0x380740(this,function(){const _0x442046=a0_0x4aa5,_0x55fc42={};_0x55fc42[_0x442046(0x100)]=_0x442046(0x1e2);const _0x1e57a7=_0x55fc42;return a0_0xc5e6fb[_0x442046(0x174)]()[_0x442046(0x1c5)](_0x1e57a7[_0x442046(0x100)])[_0x442046(0x174)]()[_0x442046(0x1cd)](a0_0xc5e6fb)['search'](_0x1e57a7[_0x442046(0x100)]);});a0_0xc5e6fb();const a0_0x32a734=(function(){const _0x124be7=a0_0x4aa5,_0x4e793c={};_0x4e793c[_0x124be7(0x15a)]=function(_0x346445,_0x4716b8){return _0x346445!==_0x4716b8;},_0x4e793c[_0x124be7(0x182)]=_0x124be7(0x187),_0x4e793c[_0x124be7(0x18c)]=_0x124be7(0x1d7),_0x4e793c[_0x124be7(0x196)]='ULtLM';const _0x1c2293=_0x4e793c;let _0x56a5ef=!![];return function(_0x353c43,_0x3e38cd){const _0x281ea8=_0x124be7,_0x10696f={'ZsJos':function(_0x58afc5,_0x200693){const _0x5b2585=a0_0x4aa5;return _0x1c2293[_0x5b2585(0x15a)](_0x58afc5,_0x200693);},'ILPEx':_0x1c2293[_0x281ea8(0x182)]};if(_0x1c2293['nDSyp']===_0x1c2293['FMLTt']){this['logger']['error'](_0x281ea8(0x170),_0x4fc6ae);const _0x18109e={};return _0x18109e[_0x281ea8(0x13b)]=[],_0x18109e;}else{const _0x1ec9f5=_0x56a5ef?function(){const _0x25ef7f=_0x281ea8;if(_0x10696f['ZsJos'](_0x10696f[_0x25ef7f(0x163)],_0x10696f[_0x25ef7f(0x163)]))this[_0x25ef7f(0x224)][_0x25ef7f(0x15f)](_0x25ef7f(0x148)+_0x5f2f04+':',_0x20d296);else{if(_0x3e38cd){const _0xe33df8=_0x3e38cd[_0x25ef7f(0x21f)](_0x353c43,arguments);return _0x3e38cd=null,_0xe33df8;}}}:function(){};return _0x56a5ef=![],_0x1ec9f5;}};}()),a0_0x228429=a0_0x32a734(this,function(){const _0x553cf6=a0_0x4aa5,_0x49e98b={'zRmLn':_0x553cf6(0x20a),'GBdqt':function(_0x485a75,_0x391d05){return _0x485a75===_0x391d05;},'CcbiQ':_0x553cf6(0x15d),'bQjCe':_0x553cf6(0x131),'QrSba':function(_0x23125f,_0xd783a9){return _0x23125f(_0xd783a9);},'rVYfc':function(_0x5494fc,_0x1ad5d4){return _0x5494fc+_0x1ad5d4;},'mJYaa':function(_0x5728c0,_0x238a96){return _0x5728c0+_0x238a96;},'hkbpz':'return\x20(function()\x20','oqyqK':'{}.constructor(\x22return\x20this\x22)(\x20)','CiOPU':function(_0x504dec){return _0x504dec();},'VZvLn':_0x553cf6(0x19f),'MpHWX':_0x553cf6(0x15f),'JFxia':_0x553cf6(0x1db),'UbLHo':_0x553cf6(0x12a),'TwGnC':_0x553cf6(0x108),'ERAAc':_0x553cf6(0x1b8)},_0x1d7cf6=function(){const _0x48b9bb=_0x553cf6;if(_0x49e98b[_0x48b9bb(0x21b)](_0x49e98b['CcbiQ'],_0x49e98b[_0x48b9bb(0xfc)]))throw new _0x5bfa37(_0x49e98b[_0x48b9bb(0x1b0)]);else{let _0x1ca117;try{_0x1ca117=_0x49e98b[_0x48b9bb(0x178)](Function,_0x49e98b['rVYfc'](_0x49e98b[_0x48b9bb(0x227)](_0x49e98b[_0x48b9bb(0x11c)],_0x49e98b[_0x48b9bb(0x110)]),');'))();}catch(_0x3be2d9){_0x1ca117=window;}return _0x1ca117;}},_0x46ae23=_0x49e98b['CiOPU'](_0x1d7cf6),_0x187b01=_0x46ae23[_0x553cf6(0x1a4)]=_0x46ae23[_0x553cf6(0x1a4)]||{},_0x1189d0=[_0x49e98b[_0x553cf6(0x1fc)],_0x49e98b['MpHWX'],_0x49e98b[_0x553cf6(0x20e)],_0x49e98b[_0x553cf6(0x144)],_0x49e98b[_0x553cf6(0x116)],_0x553cf6(0x204),_0x49e98b[_0x553cf6(0x1be)]];for(let _0x12fe7d=0x0;_0x12fe7d<_0x1189d0['length'];_0x12fe7d++){const _0x420ea5=a0_0x32a734['constructor'][_0x553cf6(0x1bc)][_0x553cf6(0x180)](a0_0x32a734),_0x51ab8b=_0x1189d0[_0x12fe7d],_0x2d8af=_0x187b01[_0x51ab8b]||_0x420ea5;_0x420ea5[_0x553cf6(0x14c)]=a0_0x32a734[_0x553cf6(0x180)](a0_0x32a734),_0x420ea5['toString']=_0x2d8af[_0x553cf6(0x174)]['bind'](_0x2d8af),_0x187b01[_0x51ab8b]=_0x420ea5;}});a0_0x228429();import{Client}from'@modelcontextprotocol/sdk/client/index.js';import{StdioClientTransport}from'@modelcontextprotocol/sdk/client/stdio.js';import{StreamableHTTPClientTransport}from'@modelcontextprotocol/sdk/client/streamableHttp.js';import{BaseTool}from'./baseTool.js';function a0_0x4aa5(_0x4f1331,_0x40ca95){const _0x48f38d=a0_0x4233();return a0_0x4aa5=function(_0x228429,_0x32a734){_0x228429=_0x228429-0xf9;let _0x5990bc=_0x48f38d[_0x228429];if(a0_0x4aa5['bYjuUu']===undefined){var _0x5f3b80=function(_0x4aa547){const _0xca847c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4f3e8a='',_0x44050a='',_0xa17c03=_0x4f3e8a+_0x5f3b80;for(let _0x46d851=0x0,_0x48d728,_0x37c6db,_0x5cb02c=0x0;_0x37c6db=_0x4aa547['charAt'](_0x5cb02c++);~_0x37c6db&&(_0x48d728=_0x46d851%0x4?_0x48d728*0x40+_0x37c6db:_0x37c6db,_0x46d851++%0x4)?_0x4f3e8a+=_0xa17c03['charCodeAt'](_0x5cb02c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x48d728>>(-0x2*_0x46d851&0x6)):_0x46d851:0x0){_0x37c6db=_0xca847c['indexOf'](_0x37c6db);}for(let _0x4f6f05=0x0,_0x3b1d73=_0x4f3e8a['length'];_0x4f6f05<_0x3b1d73;_0x4f6f05++){_0x44050a+='%'+('00'+_0x4f3e8a['charCodeAt'](_0x4f6f05)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x44050a);};a0_0x4aa5['mfaFIh']=_0x5f3b80,_0x4f1331=arguments,a0_0x4aa5['bYjuUu']=!![];}const _0xc5e6fb=_0x48f38d[0x0],_0x380740=_0x228429+_0xc5e6fb,_0x423332=_0x4f1331[_0x380740];if(!_0x423332){const _0x4743f8=function(_0x3a4638){this['KOzKDn']=_0x3a4638,this['JfQpvu']=[0x1,0x0,0x0],this['XVBeZJ']=function(){return'newState';},this['mWFgrr']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['jMToKF']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4743f8['prototype']['BdpZdA']=function(){const _0x7db3d1=new RegExp(this['mWFgrr']+this['jMToKF']),_0x12fadc=_0x7db3d1['test'](this['XVBeZJ']['toString']())?--this['JfQpvu'][0x1]:--this['JfQpvu'][0x0];return this['EKRzud'](_0x12fadc);},_0x4743f8['prototype']['EKRzud']=function(_0x42100c){if(!Boolean(~_0x42100c))return _0x42100c;return this['orJBRM'](this['KOzKDn']);},_0x4743f8['prototype']['orJBRM']=function(_0x181bbe){for(let _0x189214=0x0,_0x19039f=this['JfQpvu']['length'];_0x189214<_0x19039f;_0x189214++){this['JfQpvu']['push'](Math['round'](Math['random']())),_0x19039f=this['JfQpvu']['length'];}return _0x181bbe(this['JfQpvu'][0x0]);},new _0x4743f8(a0_0x4aa5)['BdpZdA'](),_0x5990bc=a0_0x4aa5['mfaFIh'](_0x5990bc),_0x4f1331[_0x380740]=_0x5990bc;}else _0x5990bc=_0x423332;return _0x5990bc;},a0_0x4aa5(_0x4f1331,_0x40ca95);}import{TagParser}from'../utilities/tagParser.js';import a0_0x3ac28e from'path';import a0_0x277a2e from'fs/promises';export class MCPClientTool extends BaseTool{constructor(_0x45ddeb,_0xe0239c){const _0x3cd748=a0_0x4aa5,_0x1c753a={};_0x1c753a[_0x3cd748(0x1c0)]=_0x3cd748(0x202);const _0x143d6f=_0x1c753a;super(_0x45ddeb,_0xe0239c),this['servers']=new Map(),this[_0x3cd748(0x188)]=new Map(),this[_0x3cd748(0xfb)]=new Map(),this[_0x3cd748(0x14e)]=a0_0x3ac28e['join'](process[_0x3cd748(0x13a)](),'.loxia-state',_0x143d6f[_0x3cd748(0x1c0)]),this[_0x3cd748(0x209)]()['catch'](_0x10edfb=>{const _0x1dd1c8=_0x3cd748;this[_0x1dd1c8(0x224)][_0x1dd1c8(0x12a)]('Failed\x20to\x20initialize\x20MCP\x20server\x20directory:',_0x10edfb);});}async['initializeServerDirectory'](){const _0x385157=a0_0x4aa5,_0x2aef2b={};_0x2aef2b[_0x385157(0x223)]='No\x20description',_0x2aef2b['xWyRu']=function(_0x5bd292,_0x2e21e2){return _0x5bd292!==_0x2e21e2;},_0x2aef2b['ChvDf']='ztgCW',_0x2aef2b[_0x385157(0x1a1)]=_0x385157(0x1f3),_0x2aef2b[_0x385157(0x218)]=_0x385157(0xf9),_0x2aef2b[_0x385157(0x21d)]=function(_0x14e6c0,_0x42b786){return _0x14e6c0!==_0x42b786;},_0x2aef2b[_0x385157(0x1c1)]=_0x385157(0x11b),_0x2aef2b['eCUQo']=_0x385157(0x1f1),_0x2aef2b[_0x385157(0x1cf)]='jDITx',_0x2aef2b[_0x385157(0x1d0)]=_0x385157(0x14a);const _0xe6a0b0=_0x2aef2b;try{const _0x9c482c={};_0x9c482c[_0x385157(0x172)]=!![],await a0_0x277a2e[_0x385157(0x19a)](this['serverDirectory'],_0x9c482c);try{if(_0xe6a0b0[_0x385157(0x15e)](_0xe6a0b0['ChvDf'],_0x385157(0x17a)))_0x614ebc=_0x5714a8;else{const _0x1c6203=a0_0x3ac28e[_0x385157(0x1fb)](this[_0x385157(0x14e)],_0xe6a0b0['tvgUW']),_0x5a259e=await a0_0x277a2e[_0x385157(0x1a6)](_0x1c6203,_0xe6a0b0['bKWIT']),_0x454ca3=JSON[_0x385157(0x1f0)](_0x5a259e);for(const [_0x1a3b5a,_0x269067]of Object['entries'](_0x454ca3)){this[_0x385157(0x149)][_0x385157(0x1ce)](_0x1a3b5a,_0x269067);}this[_0x385157(0x224)][_0x385157(0x1db)](_0x385157(0x114)+this[_0x385157(0x149)][_0x385157(0x17e)]+_0x385157(0x20f));}}catch(_0x571ec4){_0xe6a0b0['UfHoW'](_0x571ec4[_0x385157(0x105)],_0xe6a0b0[_0x385157(0x1c1)])&&this[_0x385157(0x224)]['warn'](_0xe6a0b0[_0x385157(0x1aa)],_0x571ec4);}}catch(_0x57c219){if(_0xe6a0b0[_0x385157(0x1cf)]!==_0x385157(0x20b))this[_0x385157(0x224)]['error'](_0xe6a0b0[_0x385157(0x1d0)],_0x57c219);else{const _0xb97bc2={};_0xb97bc2[_0x385157(0x203)]=_0x3706fc+'/'+_0x216ba4[_0x385157(0x203)],_0xb97bc2[_0x385157(0x1f5)]=_0x13d420[_0x385157(0x1f5)]||_0xe6a0b0[_0x385157(0x223)],_0xb97bc2[_0x385157(0x17b)]=_0x1aa466,_0x105992[_0x385157(0x13f)](_0xb97bc2),this[_0x385157(0xfb)][_0x385157(0x1ce)](_0x3f347b+'/'+_0x10fee7['name'],_0xdee547);}}}[a0_0x3cc405(0x10d)](){const _0x821d11=a0_0x3cc405;return _0x821d11(0x1dc);}['parseParameters'](_0x2b9699){const _0x3cd944=a0_0x3cc405,_0x30b713={'KrdIg':_0x3cd944(0x101),'RTQWf':_0x3cd944(0x1f1),'AYFtr':_0x3cd944(0x157),'FutIC':function(_0x5ed81b,_0x15bb5a){return _0x5ed81b(_0x15bb5a);},'EEHTt':function(_0x52ca8e,_0x31579b){return _0x52ca8e+_0x31579b;},'oloTz':_0x3cd944(0x1c8),'wrMSa':function(_0x4e2112,_0x5de1bf){return _0x4e2112>_0x5de1bf;},'dDMET':function(_0x3e3772,_0x38dcf8){return _0x3e3772!==_0x38dcf8;},'BTCMU':_0x3cd944(0x211),'VMLUg':_0x3cd944(0x1d8),'GBoCK':function(_0x3b475e,_0x3f2424){return _0x3b475e!==_0x3f2424;},'OWhWk':_0x3cd944(0x11d),'EjdpT':_0x3cd944(0x141),'ENYvB':function(_0x695902,_0x441d2d){return _0x695902===_0x441d2d;},'TBUQV':_0x3cd944(0x107),'STwOS':function(_0x26bb61,_0x1c803d){return _0x26bb61!==_0x1c803d;},'lCOeU':_0x3cd944(0x117),'ekwUF':_0x3cd944(0x13c),'uGaPP':function(_0x130c94,_0x281a12){return _0x130c94&&_0x281a12;},'qFLev':function(_0x57b098,_0x3b85f2){return _0x57b098===_0x3b85f2;},'rdyDN':_0x3cd944(0x1b5),'iHkVy':'smPQT','eZFft':function(_0x54391a,_0x32a725){return _0x54391a!==_0x32a725;},'yHETj':'PmTzj','naCsY':_0x3cd944(0x20c),'jYEGM':_0x3cd944(0x154),'PWlgF':_0x3cd944(0x1c4),'qqmrS':_0x3cd944(0x1ea),'AnaCi':function(_0x15823a,_0x18d727){return _0x15823a===_0x18d727;},'EjneH':'puFya','JSNBZ':_0x3cd944(0x215),'lYYNW':_0x3cd944(0x17f)};this[_0x3cd944(0x224)]['info'](_0x3cd944(0x19c));const _0x489722={};_0x489722[_0x3cd944(0x13b)]=[];const _0x52bb89=_0x489722;try{const _0x524f80=TagParser[_0x3cd944(0x102)](_0x2b9699,'get-available-servers');if(_0x30b713[_0x3cd944(0x1d4)](_0x524f80[_0x3cd944(0x166)],0x0)){if(_0x30b713[_0x3cd944(0x18e)](_0x30b713[_0x3cd944(0x1ed)],'pdzvz')){const _0x91e7e={};_0x91e7e[_0x3cd944(0x137)]=_0x3cd944(0x1d2),_0x52bb89[_0x3cd944(0x13b)]['push'](_0x91e7e);}else{const _0x53fccc=_0x2e57a8[_0x3cd944(0x106)][_0x3cd944(0x145)]();if(_0x53fccc){const _0x472b99={};_0x472b99['action']=_0x30b713['KrdIg'],_0x472b99[_0x3cd944(0x1ac)]=_0x53fccc,_0x5d2e2b['commands'][_0x3cd944(0x13f)](_0x472b99);}}}const _0x11ca38=TagParser[_0x3cd944(0x102)](_0x2b9699,_0x30b713[_0x3cd944(0x10c)]);if(_0x30b713[_0x3cd944(0x1d4)](_0x11ca38['length'],0x0)){if(_0x30b713[_0x3cd944(0x229)](_0x30b713['OWhWk'],'cnPxt')){const _0x1bce90={};_0x1bce90[_0x3cd944(0x137)]=_0x30b713[_0x3cd944(0x10c)],_0x52bb89[_0x3cd944(0x13b)][_0x3cd944(0x13f)](_0x1bce90);}else{const _0x1829a9=_0x148cb9?function(){if(_0x22af58){const _0xaad30a=_0xada69b['apply'](_0x39f09e,arguments);return _0xf9afe6=null,_0xaad30a;}}:function(){};return _0xc19e2f=![],_0x1829a9;}}const _0x12e045=TagParser['query'](_0x2b9699,_0x30b713[_0x3cd944(0x139)]);for(const _0x1e4304 of _0x12e045){if(_0x30b713[_0x3cd944(0x162)](_0x30b713[_0x3cd944(0x1b3)],_0x30b713[_0x3cd944(0x1b3)])){const _0x3e3244=TagParser[_0x3cd944(0x102)](_0x1e4304[_0x3cd944(0x106)],'s'),_0x2255a0=[];for(const _0xc51b10 of _0x3e3244){if(_0x30b713['STwOS'](_0x30b713[_0x3cd944(0x189)],_0x30b713['ekwUF'])){const _0x4b278e=_0xc51b10[_0x3cd944(0x10a)][_0x3cd944(0x203)],_0x34cf34=_0xc51b10['attributes'][_0x3cd944(0x1e1)];if(_0x30b713[_0x3cd944(0x10e)](_0x4b278e,_0x34cf34)){if(_0x30b713['qFLev'](_0x30b713[_0x3cd944(0x216)],_0x30b713[_0x3cd944(0x216)])){const _0x2d096={};_0x2d096[_0x3cd944(0x203)]=_0x4b278e,_0x2d096[_0x3cd944(0x1e1)]=_0x34cf34,_0x2255a0[_0x3cd944(0x13f)](_0x2d096);}else this[_0x3cd944(0x224)][_0x3cd944(0x15f)](_0x30b713['RTQWf'],_0x2dbde2);}}else{if(_0x8a23e5){const _0x43389d=_0x17d0aa[_0x3cd944(0x21f)](_0x320ea0,arguments);return _0x36b53b=null,_0x43389d;}}}if(_0x2255a0[_0x3cd944(0x166)]>0x0){const _0x4a1b5e={};_0x4a1b5e[_0x3cd944(0x137)]='add-servers',_0x4a1b5e[_0x3cd944(0x149)]=_0x2255a0,_0x52bb89[_0x3cd944(0x13b)][_0x3cd944(0x13f)](_0x4a1b5e);}}else throw new _0x5ead7a(_0x3cd944(0x152)+_0x4509c4);}const _0x15b245=TagParser[_0x3cd944(0x102)](_0x2b9699,_0x30b713[_0x3cd944(0x197)]);for(const _0x527612 of _0x15b245){const _0x21bc0a=_0x527612[_0x3cd944(0x106)][_0x3cd944(0x145)]();if(_0x21bc0a){const _0xeea44a={};_0xeea44a['action']=_0x30b713['AYFtr'],_0xeea44a[_0x3cd944(0x181)]=_0x21bc0a,_0x52bb89[_0x3cd944(0x13b)][_0x3cd944(0x13f)](_0xeea44a);}}const _0x5ee3bc=TagParser[_0x3cd944(0x102)](_0x2b9699,_0x30b713[_0x3cd944(0x21e)]);for(const _0x2a18cf of _0x5ee3bc){if(_0x30b713[_0x3cd944(0x115)](_0x30b713['iHkVy'],_0x3cd944(0x22a))){const _0x97f9a3=_0x2a18cf['content'][_0x3cd944(0x145)]();if(_0x97f9a3){if(_0x30b713[_0x3cd944(0x225)](_0x30b713[_0x3cd944(0x210)],_0x30b713[_0x3cd944(0x210)])){const _0x12d998={};return _0x12d998[_0x3cd944(0x137)]='remove-server',_0x12d998[_0x3cd944(0x181)]=_0x73726d,_0x12d998['success']=![],_0x12d998[_0x3cd944(0x12a)]=_0x3cd944(0x213)+_0x480e70+'\x27\x20does\x20not\x20exist',_0x12d998;}else{const _0x5ac2fa={};_0x5ac2fa[_0x3cd944(0x137)]=_0x30b713[_0x3cd944(0x21e)],_0x5ac2fa[_0x3cd944(0x1ac)]=_0x97f9a3,_0x52bb89[_0x3cd944(0x13b)][_0x3cd944(0x13f)](_0x5ac2fa);}}}else return this[_0x3cd944(0x224)][_0x3cd944(0x12a)]('Server\x20\x27'+_0x1e02f3+_0x3cd944(0x112)),null;}const _0x47dcd6=TagParser[_0x3cd944(0x102)](_0x2b9699,_0x30b713[_0x3cd944(0x194)]);for(const _0x1f0f21 of _0x47dcd6){if(_0x30b713['STwOS'](_0x30b713[_0x3cd944(0x205)],_0x30b713[_0x3cd944(0x171)])){const _0x579385=_0x1f0f21[_0x3cd944(0x106)][_0x3cd944(0x145)]();if(_0x579385){let _0x265810;try{if(_0x30b713[_0x3cd944(0x115)](_0x30b713['qqmrS'],_0x30b713[_0x3cd944(0x111)]))_0x265810=JSON[_0x3cd944(0x1f0)](_0x579385);else{const _0xad8ee5=_0x32ea81[_0x3cd944(0x106)]['trim']();if(_0xad8ee5){const _0x276789={};_0x276789[_0x3cd944(0x137)]=_0x30b713[_0x3cd944(0x197)],_0x276789[_0x3cd944(0x181)]=_0xad8ee5,_0x3f3f3e[_0x3cd944(0x13b)][_0x3cd944(0x13f)](_0x276789);}}}catch(_0x429d9a){if(_0x30b713[_0x3cd944(0x18f)]('puFya',_0x30b713[_0x3cd944(0x17d)])){this['logger']['error'](_0x30b713[_0x3cd944(0x142)],_0x429d9a);continue;}else{if(_0x1c8bac){const _0x55de79=_0x1246fe[_0x3cd944(0x21f)](_0x51075d,arguments);return _0x580aa6=null,_0x55de79;}}}const _0x4756b6={};_0x4756b6[_0x3cd944(0x137)]=_0x30b713[_0x3cd944(0x194)],_0x4756b6[_0x3cd944(0x175)]=_0x265810,_0x52bb89[_0x3cd944(0x13b)][_0x3cd944(0x13f)](_0x4756b6);}}else _0x513201=nTesYG[_0x3cd944(0x1a9)](_0x3e7e9c,nTesYG['EEHTt'](nTesYG['oloTz']+_0x3cd944(0x1b9),');'))();}return _0x52bb89;}catch(_0x2dc16d){if(_0x30b713[_0x3cd944(0x229)](_0x30b713[_0x3cd944(0x121)],_0x30b713[_0x3cd944(0x121)]))throw new _0xe9d593(_0x3cd944(0x1d1));else{this[_0x3cd944(0x224)][_0x3cd944(0x12a)](_0x3cd944(0x170),_0x2dc16d);const _0x195661={};return _0x195661[_0x3cd944(0x13b)]=[],_0x195661;}}}async[a0_0x3cc405(0x191)](_0x39737e,_0xd80a7b){const _0x26c087=a0_0x3cc405,_0x1de1cf={};_0x1de1cf[_0x26c087(0x21a)]=_0x26c087(0x1ee),_0x1de1cf[_0x26c087(0x1c7)]=_0x26c087(0x101),_0x1de1cf['SuygE']='Getting\x20available\x20MCP\x20servers',_0x1de1cf[_0x26c087(0x13e)]=_0x26c087(0x18a),_0x1de1cf[_0x26c087(0x113)]=function(_0xa36928,_0x369927){return _0xa36928===_0x369927;},_0x1de1cf[_0x26c087(0x16a)]=_0x26c087(0x207),_0x1de1cf['FWEio']=_0x26c087(0x1d1),_0x1de1cf[_0x26c087(0x138)]=function(_0x2b814a,_0x406580){return _0x2b814a===_0x406580;},_0x1de1cf['cCJoh']=_0x26c087(0x104),_0x1de1cf['yAjqr']=_0x26c087(0x1d8),_0x1de1cf['wWkuk']='add-servers',_0x1de1cf['iCKIN']=_0x26c087(0x157),_0x1de1cf['Rsvhm']=_0x26c087(0x20c),_0x1de1cf[_0x26c087(0x12f)]=function(_0x422541,_0x3fdaa9){return _0x422541!==_0x3fdaa9;},_0x1de1cf[_0x26c087(0x128)]=_0x26c087(0x140);const _0x2680fc=_0x1de1cf;this[_0x26c087(0x224)][_0x26c087(0x1db)](_0x2680fc[_0x26c087(0x13e)],_0x39737e);const _0x577433=[];if(!_0x39737e['commands']||_0x2680fc[_0x26c087(0x113)](_0x39737e[_0x26c087(0x13b)]['length'],0x0)){if(_0x2680fc[_0x26c087(0x113)](_0x2680fc[_0x26c087(0x16a)],_0x2680fc[_0x26c087(0x16a)]))throw new Error(_0x2680fc[_0x26c087(0x1b2)]);else _0x240264=_0x2680fc['yzQai'];}for(const _0x156982 of _0x39737e[_0x26c087(0x13b)]){try{if(_0x2680fc['EAoWt']('FbAxs',_0x2680fc[_0x26c087(0x126)])){const _0x449927={};_0x449927[_0x26c087(0x137)]=_0x2680fc['ZPJRi'],_0x449927[_0x26c087(0x1ac)]=_0x2141d0,_0x109cd4[_0x26c087(0x13b)][_0x26c087(0x13f)](_0x449927);}else{let _0x22cea5;switch(_0x156982[_0x26c087(0x137)]){case _0x26c087(0x1d2):_0x22cea5=await this['getAvailableServers']();break;case _0x2680fc[_0x26c087(0x1ba)]:_0x22cea5=await this[_0x26c087(0x136)]();break;case _0x2680fc['wWkuk']:_0x22cea5=await this[_0x26c087(0x160)](_0x156982['servers']);break;case _0x2680fc[_0x26c087(0x168)]:_0x22cea5=await this[_0x26c087(0x185)](_0x156982[_0x26c087(0x181)]);break;case _0x2680fc[_0x26c087(0x1c7)]:_0x22cea5=await this[_0x26c087(0x12e)](_0x156982['toolId']);break;case _0x2680fc[_0x26c087(0x1a8)]:_0x22cea5=await this['sendMessageToMcp'](_0x156982[_0x26c087(0x175)]);break;default:throw new Error(_0x26c087(0x14b)+_0x156982['action']);}_0x577433[_0x26c087(0x13f)](_0x22cea5);}}catch(_0x6636c8){if(_0x2680fc[_0x26c087(0x12f)](_0x26c087(0x193),_0x2680fc['bGaXJ'])){this[_0x26c087(0x224)]['error'](_0x26c087(0x118)+_0x156982[_0x26c087(0x137)]+':',_0x6636c8);const _0x2ad5a5={};_0x2ad5a5[_0x26c087(0x137)]=_0x156982[_0x26c087(0x137)],_0x2ad5a5['success']=![],_0x2ad5a5[_0x26c087(0x12a)]=_0x6636c8[_0x26c087(0x175)],_0x577433[_0x26c087(0x13f)](_0x2ad5a5);}else{this[_0x26c087(0x224)][_0x26c087(0x1db)](_0x2680fc[_0x26c087(0x1b1)]);const _0x50ed57=[];for(const [_0x539401,_0x5e0e4c]of this['servers'][_0x26c087(0x1c6)]()){const _0x565f6e={};_0x565f6e[_0x26c087(0x203)]=_0x539401,_0x565f6e[_0x26c087(0x1e1)]=_0x5e0e4c['url'],_0x565f6e[_0x26c087(0x1ca)]=_0x5e0e4c[_0x26c087(0x1ca)]||_0x26c087(0x1ee),_0x50ed57['push'](_0x565f6e);}const _0x20b91f={};return _0x20b91f['action']=_0x26c087(0x1d2),_0x20b91f['servers']=_0x50ed57,_0x20b91f['success']=!![],_0x20b91f;}}}const _0x497e29={};return _0x497e29[_0x26c087(0x109)]=_0x577433,_0x497e29;}async[a0_0x3cc405(0x201)](){const _0xee0e3c=a0_0x3cc405,_0x24cebe={};_0x24cebe['uDNpd']=_0xee0e3c(0x1ef),_0x24cebe[_0xee0e3c(0x1ab)]=_0xee0e3c(0x1ee),_0x24cebe['npSld']=_0xee0e3c(0x1d2);const _0x3ff9e6=_0x24cebe;this[_0xee0e3c(0x224)][_0xee0e3c(0x1db)](_0x3ff9e6[_0xee0e3c(0x11f)]);const _0x53a846=[];for(const [_0x1219b3,_0x2e7b83]of this[_0xee0e3c(0x149)][_0xee0e3c(0x1c6)]()){const _0x466b79={};_0x466b79['name']=_0x1219b3,_0x466b79['url']=_0x2e7b83[_0xee0e3c(0x1e1)],_0x466b79[_0xee0e3c(0x1ca)]=_0x2e7b83[_0xee0e3c(0x1ca)]||_0x3ff9e6[_0xee0e3c(0x1ab)],_0x53a846[_0xee0e3c(0x13f)](_0x466b79);}const _0x7db6={};return _0x7db6[_0xee0e3c(0x137)]=_0x3ff9e6[_0xee0e3c(0x153)],_0x7db6[_0xee0e3c(0x149)]=_0x53a846,_0x7db6['success']=!![],_0x7db6;}async[a0_0x3cc405(0x136)](){const _0x1ed615=a0_0x3cc405,_0x4d99b1={};_0x4d99b1[_0x1ed615(0x1df)]=_0x1ed615(0x158),_0x4d99b1[_0x1ed615(0x173)]=_0x1ed615(0x150),_0x4d99b1[_0x1ed615(0x1e7)]='dSBOh',_0x4d99b1[_0x1ed615(0x1d3)]='Failed\x20to\x20create\x20client',_0x4d99b1['GyWcf']=function(_0x35114f,_0x2b0c3d){return _0x35114f!==_0x2b0c3d;},_0x4d99b1[_0x1ed615(0x1eb)]=_0x1ed615(0x151),_0x4d99b1[_0x1ed615(0xfa)]=_0x1ed615(0x1d8);const _0xcbcd47=_0x4d99b1;this['logger']['info'](_0xcbcd47['bNgre']);const _0x41ddbe=[],_0x319869=[];for(const [_0x45cc7b,_0x5362af]of this[_0x1ed615(0x149)][_0x1ed615(0x1c6)]()){try{const _0x48b0fa=await this[_0x1ed615(0x14d)](_0x45cc7b);if(!_0x48b0fa){if(_0xcbcd47[_0x1ed615(0x1e7)]===_0x1ed615(0x1fe)){this[_0x1ed615(0x224)]['error'](_0x1ed615(0x118)+_0x3681a6[_0x1ed615(0x137)]+':',_0x4e4540);const _0x39b534={};_0x39b534['action']=_0x1b81d3[_0x1ed615(0x137)],_0x39b534[_0x1ed615(0x17c)]=![],_0x39b534[_0x1ed615(0x12a)]=_0x402fc2['message'],_0x360970[_0x1ed615(0x13f)](_0x39b534);}else{const _0x5291fe={};_0x5291fe['name']=_0x45cc7b,_0x5291fe[_0x1ed615(0x12a)]=_0xcbcd47[_0x1ed615(0x1d3)],_0x319869[_0x1ed615(0x13f)](_0x5291fe);continue;}}const _0x4209e8=await _0x48b0fa[_0x1ed615(0x190)]();for(const _0x19e8b3 of _0x4209e8){const _0x5c44a8={};_0x5c44a8['name']=_0x45cc7b+'/'+_0x19e8b3[_0x1ed615(0x203)],_0x5c44a8[_0x1ed615(0x1f5)]=_0x19e8b3[_0x1ed615(0x1f5)]||_0x1ed615(0x147),_0x5c44a8[_0x1ed615(0x17b)]=_0x45cc7b,_0x41ddbe['push'](_0x5c44a8),this[_0x1ed615(0xfb)][_0x1ed615(0x1ce)](_0x45cc7b+'/'+_0x19e8b3[_0x1ed615(0x203)],_0x19e8b3);}}catch(_0x7ddf7b){if(_0xcbcd47['GyWcf']('luinf',_0xcbcd47[_0x1ed615(0x1eb)])){this[_0x1ed615(0x224)][_0x1ed615(0x12a)]('Failed\x20to\x20get\x20tools\x20from\x20server\x20'+_0x45cc7b+':',_0x7ddf7b);const _0x18d147={};_0x18d147['name']=_0x45cc7b,_0x18d147[_0x1ed615(0x12a)]=_0x7ddf7b[_0x1ed615(0x175)],_0x319869[_0x1ed615(0x13f)](_0x18d147);}else _0x10febc=_0xcbcd47[_0x1ed615(0x1df)];}}const _0x4601f2={};return _0x4601f2[_0x1ed615(0x137)]=_0xcbcd47[_0x1ed615(0xfa)],_0x4601f2['tools']=_0x41ddbe,_0x4601f2[_0x1ed615(0x19d)]=_0x319869,_0x4601f2[_0x1ed615(0x17c)]=!![],_0x4601f2;}async[a0_0x3cc405(0x160)](_0x1a32c8){const _0x5a5f06=a0_0x3cc405,_0x1f9457={'QARtw':_0x5a5f06(0x1ee),'RMhta':function(_0xcd4128,_0x4710ad){return _0xcd4128(_0x4710ad);},'ExdyJ':function(_0x246260,_0x40dea3){return _0x246260+_0x40dea3;},'TdJOU':_0x5a5f06(0x1b9),'iRGND':function(_0x4ef9d3,_0x2a5b5c){return _0x4ef9d3===_0x2a5b5c;},'mHZvL':_0x5a5f06(0x13d),'kmYVr':function(_0x445026,_0x48f711){return _0x445026===_0x48f711;},'lIYtL':_0x5a5f06(0x1fa),'ZJnOi':'http://','PxsBQ':_0x5a5f06(0x1cb),'KYmph':_0x5a5f06(0x199),'aPhdL':function(_0x27d95e,_0x2bda99){return _0x27d95e!==_0x2bda99;},'aJItQ':_0x5a5f06(0x132),'cntLj':_0x5a5f06(0x1ff),'upFuZ':'add-servers','ANmUW':function(_0x556b76,_0x1aee01){return _0x556b76>_0x1aee01;}};this[_0x5a5f06(0x224)]['info']('Adding\x20'+_0x1a32c8[_0x5a5f06(0x166)]+_0x5a5f06(0x125));const _0x59f2e8=[],_0x95683a=[];for(const _0x462d3a of _0x1a32c8){if(_0x1f9457[_0x5a5f06(0x159)](_0x1f9457[_0x5a5f06(0x1fd)],_0x1f9457[_0x5a5f06(0x1fd)]))try{if(!_0x462d3a[_0x5a5f06(0x203)]||!_0x462d3a[_0x5a5f06(0x1e1)]){if(_0x1f9457[_0x5a5f06(0x1a0)](_0x1f9457[_0x5a5f06(0x1c9)],_0x1f9457[_0x5a5f06(0x1c9)]))throw new Error('Server\x20name\x20and\x20URL\x20are\x20required');else throw new _0x54f3de('Server\x20\x27'+_0x53f19d+_0x5a5f06(0x1a7));}let _0x2f23d3=_0x1f9457[_0x5a5f06(0x1bd)];if(_0x462d3a[_0x5a5f06(0x1e1)][_0x5a5f06(0x1e6)](_0x1f9457[_0x5a5f06(0x169)])||_0x462d3a[_0x5a5f06(0x1e1)]['startsWith'](_0x5a5f06(0x1c2)))_0x2f23d3=_0x1f9457[_0x5a5f06(0x1bd)];else{if(_0x1f9457[_0x5a5f06(0x12c)]===_0x1f9457[_0x5a5f06(0x161)]){const _0x1c05ae={};_0x1c05ae[_0x5a5f06(0x203)]=_0x44fc06,_0x1c05ae[_0x5a5f06(0x1e1)]=_0x103eaa['url'],_0x1c05ae[_0x5a5f06(0x1ca)]=_0x5dcd71[_0x5a5f06(0x1ca)]||_0x1f9457[_0x5a5f06(0x1bd)],_0x51b69c[_0x5a5f06(0x13f)](_0x1c05ae);}else _0x2f23d3=_0x5a5f06(0x158);}this[_0x5a5f06(0x149)][_0x5a5f06(0x1ce)](_0x462d3a[_0x5a5f06(0x203)],{'url':_0x462d3a[_0x5a5f06(0x1e1)],'type':_0x2f23d3}),_0x59f2e8[_0x5a5f06(0x13f)](_0x462d3a[_0x5a5f06(0x203)]);}catch(_0x175d77){if(_0x1f9457['aPhdL'](_0x1f9457[_0x5a5f06(0x19e)],_0x1f9457[_0x5a5f06(0x208)])){this[_0x5a5f06(0x224)][_0x5a5f06(0x12a)](_0x5a5f06(0x1f9)+_0x462d3a[_0x5a5f06(0x203)]+':',_0x175d77);const _0x62912f={};_0x62912f[_0x5a5f06(0x203)]=_0x462d3a[_0x5a5f06(0x203)],_0x62912f[_0x5a5f06(0x12a)]=_0x175d77['message'],_0x95683a[_0x5a5f06(0x13f)](_0x62912f);}else{let _0x489e1b;try{_0x489e1b=PhpYpL['RMhta'](_0x5ce876,PhpYpL['ExdyJ'](PhpYpL[_0x5a5f06(0x1bb)](_0x5a5f06(0x1c8),PhpYpL[_0x5a5f06(0x11a)]),');'))();}catch(_0x5bda07){_0x489e1b=_0x9cfb61;}return _0x489e1b;}}else{const _0x1ae1d2=_0xc4f20c[_0x5a5f06(0x1cd)][_0x5a5f06(0x1bc)]['bind'](_0x39ff8e),_0x723781=_0x5aaaa7[_0x499b99],_0x2ffc52=_0x2c6ee3[_0x723781]||_0x1ae1d2;_0x1ae1d2[_0x5a5f06(0x14c)]=_0x6c0c13[_0x5a5f06(0x180)](_0x239096),_0x1ae1d2[_0x5a5f06(0x174)]=_0x2ffc52[_0x5a5f06(0x174)][_0x5a5f06(0x180)](_0x2ffc52),_0x1d5558[_0x723781]=_0x1ae1d2;}}return await this[_0x5a5f06(0x1d9)](),{'action':_0x1f9457[_0x5a5f06(0x127)],'addedServers':_0x59f2e8,'failedServers':_0x95683a,'success':_0x1f9457[_0x5a5f06(0x16b)](_0x59f2e8['length'],0x0)};}async[a0_0x3cc405(0x185)](_0x2ab671){const _0x18929f=a0_0x3cc405,_0x495b58={};_0x495b58['yJzlY']=function(_0x1d245c,_0xd334b1){return _0x1d245c===_0xd334b1;},_0x495b58['LNIXT']='hoOFj';const _0x25ffcc=_0x495b58;this[_0x18929f(0x224)]['info'](_0x18929f(0x19b)+_0x2ab671);if(!this['servers'][_0x18929f(0x198)](_0x2ab671)){if(_0x25ffcc['yJzlY'](_0x18929f(0x15b),_0x25ffcc[_0x18929f(0x1f7)])){const _0x360b00={};_0x360b00['action']=_0x18929f(0x157),_0x360b00['serverName']=_0x834b44,_0x248f96[_0x18929f(0x13b)][_0x18929f(0x13f)](_0x360b00);}else{const _0x111b4c={};return _0x111b4c['action']=_0x18929f(0x157),_0x111b4c[_0x18929f(0x181)]=_0x2ab671,_0x111b4c[_0x18929f(0x17c)]=![],_0x111b4c[_0x18929f(0x12a)]=_0x18929f(0x213)+_0x2ab671+_0x18929f(0x1a7),_0x111b4c;}}if(this['clients']['has'](_0x2ab671)){try{const _0x4c02be=this[_0x18929f(0x188)][_0x18929f(0x222)](_0x2ab671);await _0x4c02be[_0x18929f(0x1de)]();}catch(_0x474236){this['logger'][_0x18929f(0x15f)]('Error\x20disconnecting\x20from\x20server\x20'+_0x2ab671+':',_0x474236);}this['clients'][_0x18929f(0x1e5)](_0x2ab671);}this[_0x18929f(0x149)][_0x18929f(0x1e5)](_0x2ab671),await this[_0x18929f(0x1d9)]();const _0x290dd5={};return _0x290dd5[_0x18929f(0x137)]=_0x18929f(0x157),_0x290dd5[_0x18929f(0x181)]=_0x2ab671,_0x290dd5['success']=!![],_0x290dd5;}async[a0_0x3cc405(0x12e)](_0x2041c3){const _0x38c2be=a0_0x3cc405,_0x37b04d={};_0x37b04d['KeLaB']=_0x38c2be(0x212),_0x37b04d['fxsZT']=_0x38c2be(0x101),_0x37b04d[_0x38c2be(0x192)]='ipUDn',_0x37b04d[_0x38c2be(0x120)]=_0x38c2be(0x1cc),_0x37b04d[_0x38c2be(0x16c)]=function(_0x1d889a,_0x108502){return _0x1d889a===_0x108502;},_0x37b04d['BfVyP']=_0x38c2be(0x195);const _0x4f8da6=_0x37b04d;this[_0x38c2be(0x224)][_0x38c2be(0x1db)]('Getting\x20schema\x20for\x20tool:\x20'+_0x2041c3);const [_0x3c3270,_0x53b3df]=_0x2041c3[_0x38c2be(0x1da)]('/');if(!_0x3c3270||!_0x53b3df){if(_0x4f8da6[_0x38c2be(0x192)]===_0x4f8da6[_0x38c2be(0x120)])throw new _0x52219f(_0x4f8da6[_0x38c2be(0x1b6)]);else throw new Error(_0x38c2be(0x15c)+_0x2041c3+_0x38c2be(0x1e8));}if(!this[_0x38c2be(0x149)][_0x38c2be(0x198)](_0x3c3270))throw new Error(_0x38c2be(0x213)+_0x3c3270+'\x27\x20does\x20not\x20exist');if(this[_0x38c2be(0xfb)][_0x38c2be(0x198)](_0x2041c3))return _0x4f8da6[_0x38c2be(0x16c)](_0x38c2be(0x195),_0x4f8da6[_0x38c2be(0x21c)])?{'action':_0x4f8da6[_0x38c2be(0x1d6)],'toolId':_0x2041c3,'schema':this['toolSchemas']['get'](_0x2041c3),'success':!![]}:{'action':_0x4f8da6[_0x38c2be(0x1d6)],'toolId':_0x4497fb,'schema':this[_0x38c2be(0xfb)][_0x38c2be(0x222)](_0x60aa5c),'success':!![]};const _0x26932a=await this['getOrCreateClient'](_0x3c3270);if(!_0x26932a)throw new Error(_0x38c2be(0x152)+_0x3c3270);const _0x41cc20=await _0x26932a[_0x38c2be(0x190)](),_0x2bf543=_0x41cc20['find'](_0x2c8b6d=>_0x2c8b6d[_0x38c2be(0x203)]===_0x53b3df);if(!_0x2bf543)throw new Error(_0x38c2be(0xfd)+_0x53b3df+_0x38c2be(0x1dd)+_0x3c3270+'\x27');this[_0x38c2be(0xfb)][_0x38c2be(0x1ce)](_0x2041c3,_0x2bf543);const _0x33f18e={};return _0x33f18e[_0x38c2be(0x137)]=_0x4f8da6[_0x38c2be(0x1d6)],_0x33f18e[_0x38c2be(0x1ac)]=_0x2041c3,_0x33f18e[_0x38c2be(0x184)]=_0x2bf543,_0x33f18e[_0x38c2be(0x17c)]=!![],_0x33f18e;}async[a0_0x3cc405(0x129)](_0x368011){const _0xfbe5d4=a0_0x3cc405,_0xa0bdf3={};_0xa0bdf3['uZuPr']=_0xfbe5d4(0x14a),_0xa0bdf3[_0xfbe5d4(0xff)]=_0xfbe5d4(0x18b),_0xa0bdf3['mMdgh']=function(_0xa1bb31,_0x19af90){return _0xa1bb31===_0x19af90;},_0xa0bdf3[_0xfbe5d4(0x1b7)]=_0xfbe5d4(0x1d5),_0xa0bdf3[_0xfbe5d4(0x1f4)]=_0xfbe5d4(0x212),_0xa0bdf3[_0xfbe5d4(0x119)]=function(_0x25e4c1,_0x85c2f){return _0x25e4c1||_0x85c2f;},_0xa0bdf3[_0xfbe5d4(0x226)]=function(_0x2e9389,_0x2f2aed){return _0x2e9389||_0x2f2aed;},_0xa0bdf3['CQPXD']=_0xfbe5d4(0x16f),_0xa0bdf3[_0xfbe5d4(0x103)]=_0xfbe5d4(0x20c);const _0x34c151=_0xa0bdf3;this[_0xfbe5d4(0x224)][_0xfbe5d4(0x1db)](_0x34c151['Rkpde']);if(!_0x368011||!_0x368011[_0xfbe5d4(0x1af)]){if(_0x34c151[_0xfbe5d4(0x155)](_0x34c151[_0xfbe5d4(0x1b7)],_0x34c151[_0xfbe5d4(0x1b7)]))throw new Error(_0x34c151[_0xfbe5d4(0x1f4)]);else this['logger'][_0xfbe5d4(0x12a)](_0x34c151[_0xfbe5d4(0x1f8)],_0x265fa9);}const {name:_0x588e0c,arguments:_0x2fbb66}=_0x368011['tool_call'];if(_0x34c151[_0xfbe5d4(0x119)](!_0x588e0c,!_0x2fbb66))throw new Error('Tool\x20call\x20must\x20have\x20name\x20and\x20arguments');const [_0x3f08b0,_0x3357ae]=_0x588e0c['split']('/');if(_0x34c151[_0xfbe5d4(0x226)](!_0x3f08b0,!_0x3357ae)){if(_0x34c151[_0xfbe5d4(0x130)]===_0xfbe5d4(0x16f))throw new Error(_0xfbe5d4(0x167)+_0x588e0c+_0xfbe5d4(0x1e8));else{const _0x558b24=_0x417ada[_0xfbe5d4(0x21f)](_0x2e3026,arguments);return _0x3e04fd=null,_0x558b24;}}if(!this['servers']['has'](_0x3f08b0))throw new Error(_0xfbe5d4(0x213)+_0x3f08b0+_0xfbe5d4(0x1a7));const _0x199a7e=await this[_0xfbe5d4(0x14d)](_0x3f08b0);if(!_0x199a7e)throw new Error(_0xfbe5d4(0x152)+_0x3f08b0);const _0x315e5a={};_0x315e5a['name']=_0x3357ae,_0x315e5a[_0xfbe5d4(0x217)]=_0x2fbb66;const _0x47bec0=await _0x199a7e[_0xfbe5d4(0x1ad)](_0x315e5a),_0x144fa2={};_0x144fa2[_0xfbe5d4(0x203)]=_0x588e0c,_0x144fa2['arguments']=_0x2fbb66;const _0x2590e1={};return _0x2590e1[_0xfbe5d4(0x137)]=_0x34c151['YWVcS'],_0x2590e1[_0xfbe5d4(0x123)]=_0x144fa2,_0x2590e1[_0xfbe5d4(0x200)]=_0x47bec0,_0x2590e1[_0xfbe5d4(0x17c)]=!![],_0x2590e1;}async[a0_0x3cc405(0x14d)](_0x4007e4){const _0x6a93b2=a0_0x3cc405,_0x263293={};_0x263293['HIAtn']=function(_0x29872c,_0x504ef5){return _0x29872c!==_0x504ef5;},_0x263293[_0x6a93b2(0x221)]=_0x6a93b2(0x134),_0x263293[_0x6a93b2(0x214)]='1.0.0',_0x263293[_0x6a93b2(0x124)]=function(_0x38d640,_0x1841d5){return _0x38d640===_0x1841d5;},_0x263293[_0x6a93b2(0x1a3)]=_0x6a93b2(0x1ee),_0x263293[_0x6a93b2(0xfe)]=function(_0xd1f8f9,_0x3a080e){return _0xd1f8f9===_0x3a080e;},_0x263293[_0x6a93b2(0x177)]=_0x6a93b2(0x158),_0x263293['dwByB']=function(_0x1077ba,_0x1aa7e0){return _0x1077ba!==_0x1aa7e0;},_0x263293[_0x6a93b2(0x1f6)]=_0x6a93b2(0x156);const _0x13ce32=_0x263293;if(this[_0x6a93b2(0x188)][_0x6a93b2(0x198)](_0x4007e4))return this['clients'][_0x6a93b2(0x222)](_0x4007e4);const _0x240ee9=this[_0x6a93b2(0x149)][_0x6a93b2(0x222)](_0x4007e4);if(!_0x240ee9){if(_0x13ce32['HIAtn'](_0x6a93b2(0x1b4),_0x6a93b2(0x1b4)))throw new _0x1152ab('Failed\x20to\x20connect\x20to\x20server:\x20'+_0xa95b0f);else return this[_0x6a93b2(0x224)][_0x6a93b2(0x12a)](_0x6a93b2(0x213)+_0x4007e4+_0x6a93b2(0x112)),null;}try{const _0x28bafa={};_0x28bafa[_0x6a93b2(0x203)]=_0x13ce32[_0x6a93b2(0x221)],_0x28bafa[_0x6a93b2(0x122)]=_0x13ce32[_0x6a93b2(0x214)];const _0x51afe1=new Client(_0x28bafa);let _0x3e7594;if(_0x13ce32['fCWFK'](_0x240ee9['type'],_0x13ce32['dVfis']))_0x3e7594=new StreamableHTTPClientTransport(_0x240ee9['url']);else{if(_0x13ce32[_0x6a93b2(0xfe)](_0x240ee9['type'],_0x13ce32[_0x6a93b2(0x177)])){const _0x1c08f0=_0x240ee9['url'][_0x6a93b2(0x1da)]('\x20'),_0x1668e2=_0x1c08f0[0x0],_0x109283=_0x1c08f0[_0x6a93b2(0x1ec)](0x1),_0x463c5c={};_0x463c5c[_0x6a93b2(0x183)]=_0x1668e2,_0x463c5c[_0x6a93b2(0x10b)]=_0x109283,_0x3e7594=new StdioClientTransport(_0x463c5c);}else throw new Error(_0x6a93b2(0x16e)+_0x240ee9[_0x6a93b2(0x1ca)]);}return await _0x51afe1[_0x6a93b2(0x1a2)](_0x3e7594),this[_0x6a93b2(0x188)]['set'](_0x4007e4,_0x51afe1),_0x51afe1;}catch(_0x4e4929){if(_0x13ce32[_0x6a93b2(0x16d)](_0x13ce32[_0x6a93b2(0x1f6)],_0x6a93b2(0x156)))this[_0x6a93b2(0x149)][_0x6a93b2(0x1ce)](_0x5306dc,_0x5dcb2d);else return this[_0x6a93b2(0x224)][_0x6a93b2(0x12a)](_0x6a93b2(0x1e9)+_0x4007e4+'\x27:',_0x4e4929),null;}}async[a0_0x3cc405(0x1d9)](){const _0xbe8712=a0_0x3cc405,_0x57c351={};_0x57c351[_0xbe8712(0x228)]=function(_0x64325b,_0xaeef22){return _0x64325b===_0xaeef22;},_0x57c351[_0xbe8712(0x18d)]=_0xbe8712(0x14f),_0x57c351['gDUcM']=_0xbe8712(0x1f3),_0x57c351[_0xbe8712(0x164)]=function(_0xa29e9a,_0x617d25){return _0xa29e9a===_0x617d25;},_0x57c351[_0xbe8712(0x1e0)]=_0xbe8712(0xf9),_0x57c351[_0xbe8712(0x1bf)]=_0xbe8712(0x11e);const _0x37b26a=_0x57c351;try{if(_0x37b26a[_0xbe8712(0x228)](_0x37b26a[_0xbe8712(0x18d)],_0x37b26a['TitBN'])){const _0x1abc65=a0_0x3ac28e['join'](this[_0xbe8712(0x14e)],_0x37b26a[_0xbe8712(0x20d)]),_0x5c11e9={};for(const [_0x419edc,_0x1b1e09]of this[_0xbe8712(0x149)][_0xbe8712(0x1c6)]()){_0x37b26a[_0xbe8712(0x164)](_0xbe8712(0x133),_0xbe8712(0x133))?_0x5c11e9[_0x419edc]=_0x1b1e09:this[_0xbe8712(0x224)][_0xbe8712(0x15f)]('Error\x20disconnecting\x20from\x20MCP\x20server\x20'+_0x3f84be+':',_0x34c9a1);}await a0_0x277a2e['writeFile'](_0x1abc65,JSON[_0xbe8712(0x165)](_0x5c11e9,null,0x2),_0x37b26a['nhMeV']),this[_0xbe8712(0x224)]['info']('Saved\x20'+this[_0xbe8712(0x149)]['size']+_0xbe8712(0x1f2));}else throw new _0x370e3c(_0xbe8712(0x16e)+_0x5d3a9b[_0xbe8712(0x1ca)]);}catch(_0x1e94db){this[_0xbe8712(0x224)][_0xbe8712(0x12a)](_0x37b26a['EpEvn'],_0x1e94db);}}async[a0_0x3cc405(0x143)](){const _0x18bd85=a0_0x3cc405;this[_0x18bd85(0x224)][_0x18bd85(0x1db)](_0x18bd85(0x1a5));for(const [_0x438278,_0x5f3030]of this['clients'][_0x18bd85(0x1c6)]()){try{await _0x5f3030['disconnect'](),this[_0x18bd85(0x224)][_0x18bd85(0x1db)](_0x18bd85(0x12d)+_0x438278);}catch(_0x2c5b1b){this[_0x18bd85(0x224)][_0x18bd85(0x15f)](_0x18bd85(0x1e3)+_0x438278+':',_0x2c5b1b);}}this['clients'][_0x18bd85(0x12b)]();}}