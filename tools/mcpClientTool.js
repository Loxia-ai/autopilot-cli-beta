const a0_0x189ed7=a0_0x3b68;(function(_0x4b1df0,_0x3dadb0){const _0x543f2c=a0_0x3b68,_0x25d87c=_0x4b1df0();while(!![]){try{const _0x529a5d=-parseInt(_0x543f2c(0x1c6))/0x1+-parseInt(_0x543f2c(0x249))/0x2*(parseInt(_0x543f2c(0x1f8))/0x3)+-parseInt(_0x543f2c(0x193))/0x4*(-parseInt(_0x543f2c(0x1a4))/0x5)+-parseInt(_0x543f2c(0x219))/0x6*(-parseInt(_0x543f2c(0x212))/0x7)+parseInt(_0x543f2c(0x1d7))/0x8+-parseInt(_0x543f2c(0x1ee))/0x9+-parseInt(_0x543f2c(0x251))/0xa*(-parseInt(_0x543f2c(0x261))/0xb);if(_0x529a5d===_0x3dadb0)break;else _0x25d87c['push'](_0x25d87c['shift']());}catch(_0x346d0b){_0x25d87c['push'](_0x25d87c['shift']());}}}(a0_0x1913,0xdf015));function a0_0x1913(){const _0x5c349b=['A1PXt1a','y0Xbsfa','C3bSAxq','BwnWlxnLCNzLCNm','CMvTB3zLlxnLCNzLCG','BwTKAxi','sw52ywXPzcb0B29Sig5HBwuGzM9YBwf0oIa','z094BK8','r0Dhu3K','qKzbrfO','Dg9VBfnJAgvTyxm','wuXNwLC','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','mZK2nZaZChfbtgzc','vLvsBum','terywKi','qwDnzxG','z2v0lwf2ywLSywjSzs1Zzxj2zxjZ','C2L6zq','C2vYDMvYCY5QC29U','z2v0vg9VBfnJAgvTyq','y29UC29Szq','sevfwfa','D3zRCvu','CvvbAhG','z2v0','C3rHCNrZv2L0Aa','wM5yD0O','C2v0','BfnJCLy','mZq3odi5nKn3s2TgCq','BgLZDfrVB2XZ','ie1ducbZzxj2zxjZihrVigzPBgu','uw1wruO','vMXMChe','y2fSBfrVB2W','zMzltgG','Bg94AweTBwnWlwnSAwvUDa','s2H3zMG','EwnRyu4','u2vYDMvYig5HBwuGyw5KifvstcbHCMuGCMvXDwLYzwq','zMLUza','rMfPBgvKihrVihbHCNnLie1ducbTzxnZywDLiePtt046','sg9JBfi','txLgrhu','AMrNEu4','zgTytfy','CKvuzvG','zu93Cva','zxHJzxb0Aw9U','vLjPrKy','C3rKq2K','ywDkEw0','ntyWotm2n01SCfLwva','C2flBey','rMfPBgvKihrVigfKzcbZzxj2zxiG','DxjS','BwvZC2fNzs10BY1Ty3a','vxHNEe8','CMvHzezPBgu','rgvQv1u','tKLrExu','uKTszum','nJqYt3n4uezW','AKHKvMy','rMfPBgvKihrVigLUAxrPywXPEMuGtunqihnLCNzLCIbKAxjLy3rVCNK6','kcGOlISPkYKRksSK','ywrKlxnLCNzLCNm','yMLUza','qKnhEhq','qMnzuLq','uuzYwKu','yKr4tw0','yxbWBhK','rgj5DMO','CMvZDwX0CW','txjAyuS','BxDmCu0','C0vpt1K','v0jqq2W','txrTBu0','z25xA0O','D3jPDgvgAwXL','venYq2e','D2fYBG','AhLJB2S','rND6CuW','rMfPBgvKihrVignYzwf0zsbJBgLLBNq','uvLmzui','mJi4ouLdvfjqBG','y29Kzq','DfLcsKC','B0Hmt3q','rxnbshG','BMfTzq','vuPewgO','mZCWmMDqs0juuG','DhjHy2u','CMvZDwX0','zgLZy29UBMvJDa','vg9VBcaN','rNLZEMW','tM8GtunqignSAwvUDcbJB21Tyw5KCYbZCgvJAwzPzwq','zgvZy3jPChrPB24','wKnyzNy','Ahr0Chm6lY8','t29NAK0','vhzOCha','y29TBwfUzhm','vw5ZDxbWB3j0zwqGC2vYDMvYihr5Cgu6ia','Dg9VBhm','B1HetLG','yLDXrM4','Bg9Nz2vY','Aw5PDgLHBgL6zvnLCNzLCKrPCMvJDg9YEq','AhHAAMm','DxrMltG','C2vYDMvYtMfTzq','zxDvqLa','jYbKB2vZig5VDcbLEgLZDa','AhHpwu4','C3rYAw5NAwz5','CwjIBNy','ywrKu2vYDMvYCW','CgfYC2u','C3vJy2vZCW','vw5RBM93BIbnq1aGy2XPzw50ignVBw1HBMq6ia','jYbUB3qGzM91BMq','vMPMDvu','BKPcBuO','rMfPBgvKihrVignVBM5Ly3qGDg8GC2vYDMvYoIa','rK9ZB1i','ChjVDg90ExbL','reLmBLK','u0P3Bhm','CMvTB3zLu2vYDMvY','zwnlsxi','ue9Ssxq','CMv0DxjUicHMDw5JDgLVBIGPia','ms4WlJa','C2vYDMvYCW','wgLKuuC','y2f0y2G','zw50CMLLCW','oduYneXMzvfSCW','vfryB1a','u09wvhu','zMfHwMy','z2DRrgC','EKLnDwS','ie1ducbZzxj2zxjZ','ugfYC2LUzYbnq1aGy2XPzw50ihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','otyWmte5mhn5rhfYza','rgvmrgq','zvfHzvm','q2nLruu','zMfPBgvKu2vYDMvYCW','EfvKruC','CxvLCNK','DhLWzq','CgfYC2vqyxjHBwv0zxjZ','rMfPBgvKihrVignYzwf0zsbnq1aGC2vYDMvYigrPCMvJDg9YEtO','yKDzDvi','z2v0t3jdCMvHDgvdBgLLBNq','D1rIsfC','vMzzAvG','C2H1DgrVD24','C2vHCMnO','mJjgzvjyzei','Dg9tDhjPBMC','y29UC3rYDwn0B3i','yxjNDw1LBNrZ','tLPMs2m','sNLlyKq','AM9PBG','sKzKCgq','tfDSEe8','C2vYDMvYrgLYzwn0B3j5','B2nmCge','u2H1DhrPBMCGzg93BIbnq1aGy2XPzw50ihrVB2W','EvnRA0e','qujuwg8','AgfZ','rxHLy3v0Aw5Nie1ducbJBgLLBNqGy29TBwfUzcb3AxrOihbHCMfTzxrLCNm6','Dg9VBf9JywXS','DeT6Axe','ihnHDMvKie1ducbZzxj2zxjZ','C2nOzw1H','Eu1bC3C','svHyqNG','z2v0lwf2ywLSywjSzs10B29SCW','Ahr0CdOVlW','yxHbtem','B29czgq','wNnnq1i','yLLVBwi','rMfPBgvKihrVigXVywqGC2f2zwqGtunqihnLCNzLCNm6','z2v0qxzHAwXHyMXLvg9VBhm','vxHPuem','r2v0DgLUzYbHDMfPBgfIBguGDg9VBhmGzNjVBsbnq1aGC2vYDMvYCW','rxD5ufK','quTUDum','BeD2EK4','rurlte0','qvvMteG','u2vYDMvYicC','wg9YqvG','Bg9N','t1D2zK8','C3rKAw8','tLHHuK8','uwfPEhu','CMnJDvm','uNzvDLG','Dg9VBenHBgW','ENrKzLu','CwP5s0e','yxr0CMLIDxrLCW','whHIBM0','BKTuqKG','r3vTt1K','rxjYB3iGCgfYC2LUzYbnq1aGy2XPzw50ihbHCMfTzxrLCNm6','C2XPy2u','r2v0DgLUzYbHDMfPBgfIBguGtunqihnLCNzLCNm','AvjLz3O','DM1VA3K','De9MuLa','z2v0lxrVB2WTC2nOzw1H','ChvZAa','z1ftuu0','z2v0qxzHAwXHyMXLu2vYDMvYCW','sgPbBhO','t2LyuwG','zhLKq1y','qvjTBgO','lIbfEhbLy3rLzcbMB3jTyxq6ihnLCNzLCK5HBwuVDg9VBe5HBwu','q0TNDNu','vNrNy2O','wuj6D1O','s2P3tfy','y29TBwfUza','A3rXqKq','rxjYB3iGzgLZy29UBMvJDgLUzYbMCM9Tie1ducbZzxj2zxiG','swTLzNC','rxjYB3iGzgLZy29UBMvJDgLUzYbMCM9TihnLCNzLCIa','uMvTB3zPBMCGtunqihnLCNzLCJOG','BxPWww0','zLLJBu4','tKPvBgO','DML5Cg0','DKzWuhy','uxb1sNu','rMfPBgvKihrVihnHDMuGtunqihnLCNzLCNmGDg8GzMLSztO','u2f2zwqG','lMXVEgLHlxn0yxrL','Ahr0Ca','mte1ndCXnLDxDgnArW','qvzjve8','CMvJDxjZAxzL','CwrXwhe','EufYBhe','u2rvr3y','y2XLyxi','zgvSzxrL','rMfPBgvKihrVignYzwf0zsbnq1aGy2XPzw50igzVCIbZzxj2zxiGjW','uhHJqKS','zxjYB3i','ywn0Aw9U','DhjPBq','rMfPBgvKihrVigDLDcb0B29SCYbMCM9TihnLCNzLCIa','suP6wxi','BwvZC2fNzq','sw52ywXPzcb0B29SieLeigzVCM1HDdOG','nu1nsLfmua','Aw5MBW','vxrdBNu','vuPYCxe','vMD6DgS','ru5pru5u','y2XPzw50CW','BgvUz3rO','x19WCM90B19F','z2v0rgvZy3jPChrPB24','A2H6vwO','DNnUqKi','tM8GzgvZy3jPChrPB24','vM9vBvq','Dg9VBeLK','rMrwEw0','vfDAs28','D1jXtNm','C2vUze1LC3nHz2vuB01JCa','yxjNCW','y29UDgvUDa'];a0_0x1913=function(){return _0x5c349b;};return a0_0x1913();}const a0_0xbeec77=(function(){const _0x198197=a0_0x3b68,_0x364a3a={};_0x364a3a[_0x198197(0x161)]=_0x198197(0x208);const _0x586947=_0x364a3a;let _0x3a0bf2=!![];return function(_0x1041b4,_0x428744){const _0x111daf=_0x198197;if(_0x586947[_0x111daf(0x161)]===_0x111daf(0x16b))this['servers'][_0x111daf(0x1d5)](_0x50e2e2,_0x3ee25d);else{const _0x5c6442=_0x3a0bf2?function(){const _0x477042=_0x111daf;if(_0x428744){const _0x33925d=_0x428744[_0x477042(0x202)](_0x1041b4,arguments);return _0x428744=null,_0x33925d;}}:function(){};return _0x3a0bf2=![],_0x5c6442;}};}()),a0_0x39bcef=a0_0xbeec77(this,function(){const _0x307512=a0_0x3b68,_0x5748dc={};_0x5748dc[_0x307512(0x239)]=_0x307512(0x1fb);const _0x48727e=_0x5748dc;return a0_0x39bcef[_0x307512(0x262)]()['search'](_0x48727e[_0x307512(0x239)])[_0x307512(0x262)]()['constructor'](a0_0x39bcef)[_0x307512(0x260)](_0x307512(0x1fb));});a0_0x39bcef();const a0_0x59df41=(function(){const _0x443631=a0_0x3b68,_0x530481={};_0x530481[_0x443631(0x153)]='http',_0x530481[_0x443631(0x1ed)]=_0x443631(0x164),_0x530481[_0x443631(0x241)]=function(_0x22d9d7,_0x45f814){return _0x22d9d7!==_0x45f814;},_0x530481[_0x443631(0x174)]=_0x443631(0x214),_0x530481[_0x443631(0x1da)]=_0x443631(0x224),_0x530481[_0x443631(0x206)]=_0x443631(0x16d);const _0x5b5596=_0x530481;let _0x1b2cb5=!![];return function(_0x55007f,_0x470ff0){const _0x52631=_0x443631,_0x5457c6={'Qaixu':_0x5b5596[_0x52631(0x153)],'xzPRn':_0x52631(0x152),'DpARz':_0x52631(0x222),'PxcBK':_0x5b5596[_0x52631(0x1ed)],'ABTXo':function(_0x4a3631,_0x5dba41){return _0x5b5596['ecKIr'](_0x4a3631,_0x5dba41);},'MDLoU':_0x5b5596[_0x52631(0x174)],'sIWFZ':_0x5b5596[_0x52631(0x1da)],'DWbvk':_0x5b5596[_0x52631(0x206)]},_0x2fd855=_0x1b2cb5?function(){const _0x320e1f=_0x52631,_0x56745c={};_0x56745c[_0x320e1f(0x140)]=_0x5457c6[_0x320e1f(0x166)],_0x56745c[_0x320e1f(0x1ef)]=_0x5457c6['xzPRn'],_0x56745c[_0x320e1f(0x163)]=_0x5457c6['DpARz'],_0x56745c[_0x320e1f(0x1a6)]=_0x5457c6[_0x320e1f(0x19c)];const _0x40e7df=_0x56745c;if(_0x5457c6[_0x320e1f(0x148)](_0x5457c6['MDLoU'],_0x5457c6['sIWFZ'])){if(_0x470ff0){if(_0x5457c6['ABTXo'](_0x5457c6['DWbvk'],_0x320e1f(0x1a1))){const _0x57e329=_0x470ff0[_0x320e1f(0x202)](_0x55007f,arguments);return _0x470ff0=null,_0x57e329;}else throw new _0x202bdb(_0x320e1f(0x1bf)+_0x3fcfb7+'.\x20Expected\x20format:\x20serverName/toolName');}}else{if(!_0x7c047e['name']||!_0x334715[_0x320e1f(0x1f1)])throw new _0x275819(_0x320e1f(0x1e1));let _0x1ccb3d=_0x40e7df[_0x320e1f(0x140)];_0x52102a['url'][_0x320e1f(0x1d3)](_0x40e7df[_0x320e1f(0x1ef)])||_0x56f0f9['url']['startsWith'](_0x40e7df[_0x320e1f(0x163)])?_0x1ccb3d=_0x40e7df[_0x320e1f(0x140)]:_0x1ccb3d=_0x40e7df['UtCnu'];const _0xb455fd={};_0xb455fd['url']=_0x408fc9[_0x320e1f(0x1f1)],_0xb455fd['type']=_0x1ccb3d,this['servers'][_0x320e1f(0x1d5)](_0x85dc0b[_0x320e1f(0x217)],_0xb455fd),_0xff7e32['push'](_0x5181a3['name']);}}:function(){};return _0x1b2cb5=![],_0x2fd855;};}()),a0_0x493ffc=a0_0x59df41(this,function(){const _0x2efef1=a0_0x3b68,_0x2b6473={'vomKL':_0x2efef1(0x151),'cLAHP':'Ztziu','eOwqP':function(_0x22ffd7,_0x9ef754){return _0x22ffd7(_0x9ef754);},'VRiFF':function(_0x326158,_0x3d43db){return _0x326158+_0x3d43db;},'DILnY':_0x2efef1(0x243),'JFdpd':_0x2efef1(0x1c5),'EwyPY':function(_0x2aed52){return _0x2aed52();},'NXaRO':_0x2efef1(0x162),'ZnXwJ':'warn','GZuZs':_0x2efef1(0x1a5),'WlTBr':_0x2efef1(0x19d),'Vgztk':_0x2efef1(0x1ea),'SJwls':'table','YzdLX':_0x2efef1(0x21a),'lGvzN':function(_0x3ffbbe,_0x20c669){return _0x3ffbbe<_0x20c669;},'AKnuC':function(_0xcd6633,_0x47c73f){return _0xcd6633!==_0x47c73f;},'QFrZE':_0x2efef1(0x201)};let _0x478dbc;try{if(_0x2b6473[_0x2efef1(0x1ba)]===_0x2b6473['cLAHP']){const _0x4b8e86=_0x2b6473[_0x2efef1(0x1e9)](Function,_0x2b6473[_0x2efef1(0x1eb)](_0x2b6473['VRiFF'](_0x2b6473[_0x2efef1(0x23e)],_0x2b6473[_0x2efef1(0x142)]),');'));_0x478dbc=_0x2b6473[_0x2efef1(0x15b)](_0x4b8e86);}else throw new _0xeb3fed(_0x2efef1(0x226)+_0x531049[_0x2efef1(0x258)]);}catch(_0x8daed7){_0x478dbc=window;}const _0x333785=_0x478dbc[_0x2efef1(0x1ce)]=_0x478dbc['console']||{},_0x16c92b=[_0x2b6473[_0x2efef1(0x165)],_0x2b6473[_0x2efef1(0x1d4)],_0x2b6473['GZuZs'],_0x2b6473['WlTBr'],_0x2b6473[_0x2efef1(0x1a8)],_0x2b6473[_0x2efef1(0x23f)],_0x2b6473['YzdLX']];for(let _0x534f19=0x0;_0x2b6473[_0x2efef1(0x15d)](_0x534f19,_0x16c92b['length']);_0x534f19++){if(_0x2b6473[_0x2efef1(0x15c)](_0x2b6473[_0x2efef1(0x200)],_0x2b6473[_0x2efef1(0x200)])){const _0x421606={};_0x421606[_0x2efef1(0x19e)]=_0x2b6473['vomKL'],_0x42e326[_0x2efef1(0x225)][_0x2efef1(0x177)](_0x421606);}else{const _0x6f3bb2=a0_0x59df41[_0x2efef1(0x263)][_0x2efef1(0x23d)][_0x2efef1(0x1fd)](a0_0x59df41),_0x2da0be=_0x16c92b[_0x534f19],_0x1c0735=_0x333785[_0x2da0be]||_0x6f3bb2;_0x6f3bb2[_0x2efef1(0x1ac)]=a0_0x59df41[_0x2efef1(0x1fd)](a0_0x59df41),_0x6f3bb2[_0x2efef1(0x262)]=_0x1c0735[_0x2efef1(0x262)][_0x2efef1(0x1fd)](_0x1c0735),_0x333785[_0x2da0be]=_0x6f3bb2;}}});a0_0x493ffc();import{Client}from'@modelcontextprotocol/sdk/client/index.js';import{StdioClientTransport}from'@modelcontextprotocol/sdk/client/stdio.js';import{StreamableHTTPClientTransport}from'@modelcontextprotocol/sdk/client/streamableHttp.js';import{BaseTool}from'./baseTool.js';import{TagParser}from'../utilities/tagParser.js';import a0_0x472682 from'path';import a0_0x4ecc26 from'fs/promises';function a0_0x3b68(_0x4926a9,_0x3c2651){const _0x45a952=a0_0x1913();return a0_0x3b68=function(_0x493ffc,_0x59df41){_0x493ffc=_0x493ffc-0x13e;let _0xc35239=_0x45a952[_0x493ffc];if(a0_0x3b68['JRoqMc']===undefined){var _0x431927=function(_0x3b68e9){const _0x1f59cb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x33bcd='',_0x6767f9='',_0x5146bf=_0x33bcd+_0x431927;for(let _0x306824=0x0,_0x30b94c,_0x112e31,_0x417c40=0x0;_0x112e31=_0x3b68e9['charAt'](_0x417c40++);~_0x112e31&&(_0x30b94c=_0x306824%0x4?_0x30b94c*0x40+_0x112e31:_0x112e31,_0x306824++%0x4)?_0x33bcd+=_0x5146bf['charCodeAt'](_0x417c40+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x30b94c>>(-0x2*_0x306824&0x6)):_0x306824:0x0){_0x112e31=_0x1f59cb['indexOf'](_0x112e31);}for(let _0x4d11a5=0x0,_0x36465e=_0x33bcd['length'];_0x4d11a5<_0x36465e;_0x4d11a5++){_0x6767f9+='%'+('00'+_0x33bcd['charCodeAt'](_0x4d11a5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x6767f9);};a0_0x3b68['RWGWjr']=_0x431927,_0x4926a9=arguments,a0_0x3b68['JRoqMc']=!![];}const _0x39bcef=_0x45a952[0x0],_0xbeec77=_0x493ffc+_0x39bcef,_0x1913bb=_0x4926a9[_0xbeec77];if(!_0x1913bb){const _0x36fe33=function(_0x45354b){this['NggXMd']=_0x45354b,this['JZjhYl']=[0x1,0x0,0x0],this['dBeJdO']=function(){return'newState';},this['OVrdie']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tFwAmV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x36fe33['prototype']['tecpEa']=function(){const _0x18be63=new RegExp(this['OVrdie']+this['tFwAmV']),_0x12ae19=_0x18be63['test'](this['dBeJdO']['toString']())?--this['JZjhYl'][0x1]:--this['JZjhYl'][0x0];return this['ShSJrT'](_0x12ae19);},_0x36fe33['prototype']['ShSJrT']=function(_0x24ce56){if(!Boolean(~_0x24ce56))return _0x24ce56;return this['IHdBjP'](this['NggXMd']);},_0x36fe33['prototype']['IHdBjP']=function(_0x502081){for(let _0x94dbce=0x0,_0x127f0b=this['JZjhYl']['length'];_0x94dbce<_0x127f0b;_0x94dbce++){this['JZjhYl']['push'](Math['round'](Math['random']())),_0x127f0b=this['JZjhYl']['length'];}return _0x502081(this['JZjhYl'][0x0]);},new _0x36fe33(a0_0x3b68)['tecpEa'](),_0xc35239=a0_0x3b68['RWGWjr'](_0xc35239),_0x4926a9[_0xbeec77]=_0xc35239;}else _0xc35239=_0x1913bb;return _0xc35239;},a0_0x3b68(_0x4926a9,_0x3c2651);}export class MCPClientTool extends BaseTool{constructor(_0x420fe3,_0x296b5b){const _0x561acb=a0_0x3b68,_0xe4343e={};_0xe4343e['zIMuk']=function(_0x5c3468,_0x15c681){return _0x5c3468===_0x15c681;},_0xe4343e[_0x561acb(0x173)]=_0x561acb(0x1b9),_0xe4343e[_0x561acb(0x167)]=_0x561acb(0x1fa),_0xe4343e[_0x561acb(0x1c0)]=_0x561acb(0x191),_0xe4343e[_0x561acb(0x216)]=_0x561acb(0x1bc);const _0x3f6b4e=_0xe4343e;super(_0x420fe3,_0x296b5b),this[_0x561acb(0x245)]=new Map(),this[_0x561acb(0x1aa)]=new Map(),this[_0x561acb(0x1c3)]=new Map(),this[_0x561acb(0x144)]=a0_0x472682[_0x561acb(0x141)](process['cwd'](),_0x3f6b4e[_0x561acb(0x1c0)],_0x3f6b4e[_0x561acb(0x216)]),this[_0x561acb(0x22b)]()[_0x561acb(0x247)](_0x2d65ba=>{const _0x391bab=_0x561acb;if(_0x3f6b4e[_0x391bab(0x24e)](_0x3f6b4e[_0x391bab(0x173)],_0x3f6b4e[_0x391bab(0x173)]))this[_0x391bab(0x22a)][_0x391bab(0x19d)](_0x3f6b4e[_0x391bab(0x167)],_0x2d65ba);else throw new _0x2dae2c(_0x391bab(0x23b)+_0x3c8f18);});}async[a0_0x189ed7(0x22b)](){const _0x2c169f=a0_0x189ed7,_0x3534c0={};_0x3534c0[_0x2c169f(0x211)]=function(_0xec2014,_0x141a2c){return _0xec2014===_0x141a2c;},_0x3534c0['Vtgcj']=_0x2c169f(0x13f),_0x3534c0['FdVym']=_0x2c169f(0x22d),_0x3534c0['YLgZW']=function(_0x45c8ea,_0x1717b1){return _0x45c8ea!==_0x1717b1;},_0x3534c0[_0x2c169f(0x197)]=_0x2c169f(0x1a9),_0x3534c0[_0x2c169f(0x18b)]=_0x2c169f(0x157),_0x3534c0[_0x2c169f(0x254)]=_0x2c169f(0x25a);const _0x5e2244=_0x3534c0;try{const _0x270772={};_0x270772[_0x2c169f(0x195)]=!![],await a0_0x4ecc26[_0x2c169f(0x1be)](this[_0x2c169f(0x144)],_0x270772);try{if(_0x5e2244[_0x2c169f(0x211)](_0x5e2244[_0x2c169f(0x180)],_0x5e2244[_0x2c169f(0x180)])){const _0x374fa9=a0_0x472682[_0x2c169f(0x141)](this[_0x2c169f(0x144)],'servers.json'),_0x3d7ba9=await a0_0x4ecc26[_0x2c169f(0x1f4)](_0x374fa9,_0x5e2244[_0x2c169f(0x1b3)]),_0x55e5b2=JSON[_0x2c169f(0x235)](_0x3d7ba9);for(const [_0x47b104,_0x2d15cc]of Object[_0x2c169f(0x248)](_0x55e5b2)){this[_0x2c169f(0x245)]['set'](_0x47b104,_0x2d15cc);}this[_0x2c169f(0x22a)][_0x2c169f(0x1a5)]('Loaded\x20'+this[_0x2c169f(0x245)][_0x2c169f(0x1cb)]+_0x2c169f(0x14d));}else{const _0x1d7e48=_0x5233ed?function(){const _0x565e62=_0x2c169f;if(_0x58ec6b){const _0x3feb30=_0x215971[_0x565e62(0x202)](_0x526fbf,arguments);return _0x5362f7=null,_0x3feb30;}}:function(){};return _0x4a2920=![],_0x1d7e48;}}catch(_0x10301d){_0x5e2244[_0x2c169f(0x1c4)](_0x10301d[_0x2c169f(0x213)],_0x5e2244[_0x2c169f(0x197)])&&this[_0x2c169f(0x22a)][_0x2c169f(0x20d)](_0x5e2244[_0x2c169f(0x18b)],_0x10301d);}}catch(_0x3fc34a){this['logger']['error'](_0x5e2244[_0x2c169f(0x254)],_0x3fc34a);}}[a0_0x189ed7(0x1ad)](){return'\x0aMCP\x20Client\x20Tool:\x20Allows\x20you\x20to\x20interact\x20with\x20Model\x20Context\x20Protocol\x20(MCP)\x20servers\x20to\x20access\x20external\x20tools\x20and\x20resources.\x0a\x0aUsage:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[get-available-servers\x20/]\x0a[get-available-tools\x20/]\x0a\x0a[add-servers]\x0a[s\x20name=\x22server-name\x22\x20url=\x22http://server-url\x22\x20/]\x0a[/add-servers]\x0a\x0a[remove-server]\x0aserver-name\x0a[/remove-server]\x0a\x0a[get-tool-schema]\x0aserver-name/tool-name\x0a[/get-tool-schema]\x0a\x0a[message-to-mcp]\x0a{\x0a\x20\x20\x22tool_call\x22:\x20{\x0a\x20\x20\x20\x20\x22name\x22:\x20\x22server-name/tool-name\x22,\x0a\x20\x20\x20\x20\x22arguments\x22:\x20{\x20\x22param1\x22:\x20\x22value1\x22,\x20\x22param2\x22:\x20\x22value2\x22\x20}\x0a\x20\x20}\x0a}\x0a[/message-to-mcp]\x0a[/tool]\x0a\x0aExamples:\x0a1.\x20List\x20available\x20MCP\x20servers:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[get-available-servers\x20/]\x0a[/tool]\x0a\x0a2.\x20List\x20available\x20tools\x20from\x20all\x20servers:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[get-available-tools\x20/]\x0a[/tool]\x0a\x0a3.\x20Add\x20a\x20new\x20MCP\x20server:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[add-servers]\x0a[s\x20name=\x22system-tools\x22\x20url=\x22http://localhost:3001\x22\x20/]\x0a[/add-servers]\x0a[/tool]\x0a\x0a4.\x20Remove\x20an\x20MCP\x20server:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[remove-server]\x0asystem-tools\x0a[/remove-server]\x0a[/tool]\x0a\x0a5.\x20Get\x20the\x20schema\x20for\x20a\x20specific\x20tool:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[get-tool-schema]\x0asystem-tools/runCommand\x0a[/get-tool-schema]\x0a[/tool]\x0a\x0a6.\x20Call\x20an\x20MCP\x20tool:\x0a[tool\x20id=\x22mcp-client\x22]\x0a[message-to-mcp]\x0a{\x0a\x20\x20\x22tool_call\x22:\x20{\x0a\x20\x20\x20\x20\x22name\x22:\x20\x22system-tools/runCommand\x22,\x0a\x20\x20\x20\x20\x22arguments\x22:\x20{\x20\x22command\x22:\x20\x22ls\x20-la\x22\x20}\x0a\x20\x20}\x0a}\x0a[/message-to-mcp]\x0a[/tool]\x0a\x20\x20\x20\x20';}[a0_0x189ed7(0x259)](_0x421fe9){const _0x1af167=a0_0x189ed7,_0x4f321d={};_0x4f321d[_0x1af167(0x18d)]=_0x1af167(0x192),_0x4f321d[_0x1af167(0x25b)]=_0x1af167(0x176),_0x4f321d[_0x1af167(0x1e7)]=_0x1af167(0x1ca),_0x4f321d[_0x1af167(0x1d1)]=function(_0x317f15,_0x1aaa52){return _0x317f15>_0x1aaa52;},_0x4f321d[_0x1af167(0x1e5)]=function(_0x3483f9,_0x59ee77){return _0x3483f9===_0x59ee77;},_0x4f321d[_0x1af167(0x194)]='eqzUC',_0x4f321d[_0x1af167(0x1d6)]='keRdF',_0x4f321d[_0x1af167(0x143)]=_0x1af167(0x151),_0x4f321d[_0x1af167(0x1ae)]=_0x1af167(0x1fc),_0x4f321d['rETeX']=_0x1af167(0x1df),_0x4f321d['ZaoOu']=function(_0xaf4aff,_0x370afa){return _0xaf4aff&&_0x370afa;},_0x4f321d[_0x1af167(0x1a7)]=_0x1af167(0x1bd),_0x4f321d['EDKLM']=function(_0x4cef22,_0x32eceb){return _0x4cef22!==_0x32eceb;},_0x4f321d['UExtf']=_0x1af167(0x15f),_0x4f321d[_0x1af167(0x1f6)]=function(_0x266741,_0x4c1cfc){return _0x266741===_0x4c1cfc;},_0x4f321d[_0x1af167(0x1d0)]=_0x1af167(0x1f7),_0x4f321d[_0x1af167(0x168)]=_0x1af167(0x1e3),_0x4f321d[_0x1af167(0x16f)]=_0x1af167(0x170);const _0x1d0549=_0x4f321d;this[_0x1af167(0x22a)]['info'](_0x1af167(0x250));const _0x5b8232={};_0x5b8232[_0x1af167(0x225)]=[];const _0x1b405a=_0x5b8232;try{const _0x4cd65b=TagParser['query'](_0x421fe9,_0x1d0549[_0x1af167(0x1e7)]);if(_0x1d0549[_0x1af167(0x1d1)](_0x4cd65b[_0x1af167(0x1ab)],0x0)){if(_0x1d0549[_0x1af167(0x1e5)](_0x1d0549['AVITO'],_0x1d0549[_0x1af167(0x1d6)])){this[_0x1af167(0x22a)][_0x1af167(0x1a5)](_0x1af167(0x172));const _0x1ab4bc=[];for(const [_0x18d194,_0x12398e]of this[_0x1af167(0x245)][_0x1af167(0x248)]()){const _0x473ae2={};_0x473ae2[_0x1af167(0x217)]=_0x18d194,_0x473ae2['url']=_0x12398e[_0x1af167(0x1f1)],_0x473ae2[_0x1af167(0x258)]=_0x12398e[_0x1af167(0x258)]||_0x1d0549['vFpPv'],_0x1ab4bc['push'](_0x473ae2);}const _0x3771ee={};return _0x3771ee['action']='get-available-servers',_0x3771ee['servers']=_0x1ab4bc,_0x3771ee[_0x1af167(0x236)]=!![],_0x3771ee;}else{const _0x110111={};_0x110111[_0x1af167(0x19e)]=_0x1af167(0x1ca),_0x1b405a[_0x1af167(0x225)][_0x1af167(0x177)](_0x110111);}}const _0x464df4=TagParser[_0x1af167(0x257)](_0x421fe9,_0x1d0549[_0x1af167(0x143)]);if(_0x464df4[_0x1af167(0x1ab)]>0x0){const _0xce7f5d={};_0xce7f5d[_0x1af167(0x19e)]=_0x1d0549[_0x1af167(0x143)],_0x1b405a[_0x1af167(0x225)][_0x1af167(0x177)](_0xce7f5d);}const _0x49e532=TagParser[_0x1af167(0x257)](_0x421fe9,_0x1d0549['khzUj']);for(const _0x1c1bb1 of _0x49e532){if(_0x1d0549['MyFDu'](_0x1d0549[_0x1af167(0x1e8)],_0x1af167(0x207)))return{'action':_0x1d0549[_0x1af167(0x25b)],'toolId':_0x367bf3,'schema':this['toolSchemas'][_0x1af167(0x1d2)](_0x37e23a),'success':!![]};else{const _0x3bb806=TagParser[_0x1af167(0x257)](_0x1c1bb1[_0x1af167(0x1b8)],'s'),_0x27d679=[];for(const _0x53b133 of _0x3bb806){const _0x4b801d=_0x53b133['attributes'][_0x1af167(0x217)],_0x378fc8=_0x53b133[_0x1af167(0x16c)][_0x1af167(0x1f1)];if(_0x1d0549['ZaoOu'](_0x4b801d,_0x378fc8)){const _0x370049={};_0x370049[_0x1af167(0x217)]=_0x4b801d,_0x370049[_0x1af167(0x1f1)]=_0x378fc8,_0x27d679[_0x1af167(0x177)](_0x370049);}}if(_0x1d0549[_0x1af167(0x1d1)](_0x27d679[_0x1af167(0x1ab)],0x0)){const _0x5ba0b6={};_0x5ba0b6[_0x1af167(0x19e)]=_0x1d0549[_0x1af167(0x1ae)],_0x5ba0b6[_0x1af167(0x245)]=_0x27d679,_0x1b405a['commands'][_0x1af167(0x177)](_0x5ba0b6);}}}const _0x34c1b2=TagParser[_0x1af167(0x257)](_0x421fe9,_0x1d0549[_0x1af167(0x1a7)]);for(const _0x1dee39 of _0x34c1b2){if(_0x1d0549[_0x1af167(0x15e)](_0x1d0549['UExtf'],'AUfLH'))_0x179b10=_0x1d0549[_0x1af167(0x18d)];else{const _0x157905=_0x1dee39[_0x1af167(0x1b8)][_0x1af167(0x19f)]();if(_0x157905){const _0x3b629b={};_0x3b629b[_0x1af167(0x19e)]=_0x1d0549['UJrqq'],_0x3b629b[_0x1af167(0x22e)]=_0x157905,_0x1b405a[_0x1af167(0x225)][_0x1af167(0x177)](_0x3b629b);}}}const _0x33ec5d=TagParser[_0x1af167(0x257)](_0x421fe9,_0x1d0549[_0x1af167(0x25b)]);for(const _0x4e51bc of _0x33ec5d){const _0x3309a1=_0x4e51bc[_0x1af167(0x1b8)]['trim']();if(_0x3309a1){const _0x163b33={};_0x163b33[_0x1af167(0x19e)]=_0x1af167(0x176),_0x163b33['toolId']=_0x3309a1,_0x1b405a[_0x1af167(0x225)][_0x1af167(0x177)](_0x163b33);}}const _0x4882fe=TagParser[_0x1af167(0x257)](_0x421fe9,'message-to-mcp');for(const _0x3ae7a8 of _0x4882fe){const _0x4b5ee0=_0x3ae7a8[_0x1af167(0x1b8)][_0x1af167(0x19f)]();if(_0x4b5ee0){let _0x5a19b6;try{if(_0x1d0549['NIQyu'](_0x1d0549['wvkqU'],_0x1d0549[_0x1af167(0x1d0)]))_0x5a19b6=JSON['parse'](_0x4b5ee0);else throw new _0x85ff1d(_0x1af167(0x1a3)+_0x2efcfb+_0x1af167(0x17e));}catch(_0x28c2e7){this[_0x1af167(0x22a)][_0x1af167(0x19d)](_0x1d0549[_0x1af167(0x168)],_0x28c2e7);continue;}const _0x44c83a={};_0x44c83a[_0x1af167(0x19e)]=_0x1af167(0x1f2),_0x44c83a[_0x1af167(0x1a2)]=_0x5a19b6,_0x1b405a[_0x1af167(0x225)][_0x1af167(0x177)](_0x44c83a);}}return _0x1b405a;}catch(_0x59c9f1){this[_0x1af167(0x22a)][_0x1af167(0x19d)](_0x1d0549[_0x1af167(0x16f)],_0x59c9f1);const _0x304fe0={};return _0x304fe0[_0x1af167(0x225)]=[],_0x304fe0;}}async['executeWithParameters'](_0x3198bb,_0x243cdb){const _0x228e4b=a0_0x189ed7,_0x306b7d={};_0x306b7d[_0x228e4b(0x196)]=_0x228e4b(0x21f),_0x306b7d['ggkDg']='get-available-servers',_0x306b7d[_0x228e4b(0x1ec)]='get-available-tools',_0x306b7d[_0x228e4b(0x24a)]=_0x228e4b(0x1fc);const _0x934b8b=_0x306b7d;this['logger']['info'](_0x228e4b(0x14a),_0x3198bb);const _0x32eed4=[];if(!_0x3198bb[_0x228e4b(0x225)]||_0x3198bb[_0x228e4b(0x225)][_0x228e4b(0x1ab)]===0x0)throw new Error(_0x934b8b[_0x228e4b(0x196)]);for(const _0x28e74d of _0x3198bb['commands']){try{let _0x59c7d5;switch(_0x28e74d[_0x228e4b(0x19e)]){case _0x934b8b[_0x228e4b(0x24d)]:_0x59c7d5=await this[_0x228e4b(0x179)]();break;case _0x934b8b[_0x228e4b(0x1ec)]:_0x59c7d5=await this[_0x228e4b(0x158)]();break;case _0x934b8b[_0x228e4b(0x24a)]:_0x59c7d5=await this[_0x228e4b(0x234)](_0x28e74d['servers']);break;case _0x228e4b(0x1bd):_0x59c7d5=await this[_0x228e4b(0x240)](_0x28e74d[_0x228e4b(0x22e)]);break;case _0x228e4b(0x176):_0x59c7d5=await this[_0x228e4b(0x1cd)](_0x28e74d[_0x228e4b(0x1b2)]);break;case _0x228e4b(0x1f2):_0x59c7d5=await this[_0x228e4b(0x1b6)](_0x28e74d[_0x228e4b(0x1a2)]);break;default:throw new Error(_0x228e4b(0x237)+_0x28e74d['action']);}_0x32eed4[_0x228e4b(0x177)](_0x59c7d5);}catch(_0x558fc1){this[_0x228e4b(0x22a)]['error']('Error\x20executing\x20MCP\x20client\x20command\x20'+_0x28e74d[_0x228e4b(0x19e)]+':',_0x558fc1);const _0x1c0c25={};_0x1c0c25[_0x228e4b(0x19e)]=_0x28e74d[_0x228e4b(0x19e)],_0x1c0c25[_0x228e4b(0x236)]=![],_0x1c0c25[_0x228e4b(0x19d)]=_0x558fc1[_0x228e4b(0x1a2)],_0x32eed4[_0x228e4b(0x177)](_0x1c0c25);}}const _0x56946a={};return _0x56946a[_0x228e4b(0x204)]=_0x32eed4,_0x56946a;}async[a0_0x189ed7(0x179)](){const _0x4801d6=a0_0x189ed7,_0x2e5180={};_0x2e5180[_0x4801d6(0x182)]='Getting\x20available\x20MCP\x20servers',_0x2e5180[_0x4801d6(0x1c1)]='http',_0x2e5180[_0x4801d6(0x14c)]='get-available-servers';const _0x4610e2=_0x2e5180;this[_0x4801d6(0x22a)][_0x4801d6(0x1a5)](_0x4610e2['KjwLV']);const _0x399827=[];for(const [_0x57829c,_0x1748d4]of this['servers']['entries']()){const _0x35a2bd={};_0x35a2bd[_0x4801d6(0x217)]=_0x57829c,_0x35a2bd[_0x4801d6(0x1f1)]=_0x1748d4[_0x4801d6(0x1f1)],_0x35a2bd[_0x4801d6(0x258)]=_0x1748d4[_0x4801d6(0x258)]||_0x4610e2[_0x4801d6(0x1c1)],_0x399827['push'](_0x35a2bd);}const _0x21ca95={};return _0x21ca95['action']=_0x4610e2[_0x4801d6(0x14c)],_0x21ca95['servers']=_0x399827,_0x21ca95['success']=!![],_0x21ca95;}async[a0_0x189ed7(0x158)](){const _0x1eb99f=a0_0x189ed7,_0xab44c6={};_0xab44c6[_0x1eb99f(0x231)]=_0x1eb99f(0x25a),_0xab44c6[_0x1eb99f(0x147)]=function(_0x19cbc8,_0xf00ed3){return _0x19cbc8!==_0xf00ed3;},_0xab44c6[_0x1eb99f(0x24b)]=_0x1eb99f(0x178),_0xab44c6[_0x1eb99f(0x175)]=_0x1eb99f(0x1b0),_0xab44c6[_0x1eb99f(0x186)]=_0x1eb99f(0x151);const _0x342f70=_0xab44c6;this[_0x1eb99f(0x22a)][_0x1eb99f(0x1a5)](_0x1eb99f(0x15a));const _0x432106=[],_0x55af29=[];for(const [_0x550b5d,_0x10541c]of this[_0x1eb99f(0x245)][_0x1eb99f(0x248)]()){try{if(_0x342f70[_0x1eb99f(0x147)](_0x342f70[_0x1eb99f(0x24b)],_0x342f70[_0x1eb99f(0x24b)]))this['logger'][_0x1eb99f(0x19d)](_0x342f70[_0x1eb99f(0x231)],_0x2c23e2);else{const _0x213049=await this[_0x1eb99f(0x25c)](_0x550b5d);if(!_0x213049){const _0x1e912b={};_0x1e912b[_0x1eb99f(0x217)]=_0x550b5d,_0x1e912b[_0x1eb99f(0x19d)]=_0x1eb99f(0x210),_0x55af29[_0x1eb99f(0x177)](_0x1e912b);continue;}const _0xb6df24=await _0x213049[_0x1eb99f(0x1d8)]();for(const _0x4d3c0d of _0xb6df24){const _0x4262a7={};_0x4262a7[_0x1eb99f(0x217)]=_0x550b5d+'/'+_0x4d3c0d[_0x1eb99f(0x217)],_0x4262a7[_0x1eb99f(0x220)]=_0x4d3c0d[_0x1eb99f(0x220)]||_0x342f70[_0x1eb99f(0x175)],_0x4262a7['server']=_0x550b5d,_0x432106[_0x1eb99f(0x177)](_0x4262a7),this[_0x1eb99f(0x1c3)]['set'](_0x550b5d+'/'+_0x4d3c0d[_0x1eb99f(0x217)],_0x4d3c0d);}}}catch(_0x2f23d9){this['logger'][_0x1eb99f(0x19d)](_0x1eb99f(0x1a0)+_0x550b5d+':',_0x2f23d9);const _0x3a82fe={};_0x3a82fe[_0x1eb99f(0x217)]=_0x550b5d,_0x3a82fe[_0x1eb99f(0x19d)]=_0x2f23d9[_0x1eb99f(0x1a2)],_0x55af29[_0x1eb99f(0x177)](_0x3a82fe);}}const _0x5d4ca6={};return _0x5d4ca6[_0x1eb99f(0x19e)]=_0x342f70[_0x1eb99f(0x186)],_0x5d4ca6[_0x1eb99f(0x227)]=_0x432106,_0x5d4ca6[_0x1eb99f(0x255)]=_0x55af29,_0x5d4ca6[_0x1eb99f(0x236)]=!![],_0x5d4ca6;}async[a0_0x189ed7(0x234)](_0x1f7f94){const _0x2eff1f=a0_0x189ed7,_0xfdf70c={};_0xfdf70c[_0x2eff1f(0x16a)]=_0x2eff1f(0x1fa),_0xfdf70c[_0x2eff1f(0x228)]=_0x2eff1f(0x1ca),_0xfdf70c['LDXZB']=function(_0x152dbd,_0x5e8735){return _0x152dbd===_0x5e8735;},_0xfdf70c[_0x2eff1f(0x17f)]='AbbVF',_0xfdf70c['Yretz']=_0x2eff1f(0x20e),_0xfdf70c[_0x2eff1f(0x22f)]=_0x2eff1f(0x229),_0xfdf70c[_0x2eff1f(0x1c7)]='Server\x20name\x20and\x20URL\x20are\x20required',_0xfdf70c[_0x2eff1f(0x253)]=_0x2eff1f(0x152),_0xfdf70c[_0x2eff1f(0x218)]='https://',_0xfdf70c[_0x2eff1f(0x20a)]=_0x2eff1f(0x20c),_0xfdf70c['qfyvq']='http',_0xfdf70c[_0x2eff1f(0x18a)]=_0x2eff1f(0x164),_0xfdf70c[_0x2eff1f(0x1dd)]='add-servers',_0xfdf70c[_0x2eff1f(0x223)]=function(_0x4c31ec,_0x52142e){return _0x4c31ec>_0x52142e;};const _0x321c81=_0xfdf70c;this[_0x2eff1f(0x22a)][_0x2eff1f(0x1a5)]('Adding\x20'+_0x1f7f94[_0x2eff1f(0x1ab)]+_0x2eff1f(0x24f));const _0x3de070=[],_0x530116=[];for(const _0x10cd92 of _0x1f7f94){if(_0x321c81[_0x2eff1f(0x1c8)]('AbbVF',_0x321c81[_0x2eff1f(0x17f)]))try{if(_0x321c81['LDXZB'](_0x321c81['Yretz'],_0x321c81[_0x2eff1f(0x22f)]))this[_0x2eff1f(0x22a)][_0x2eff1f(0x19d)](_0x321c81[_0x2eff1f(0x16a)],_0x5b0a16);else{if(!_0x10cd92[_0x2eff1f(0x217)]||!_0x10cd92['url'])throw new Error(_0x321c81['VURmC']);let _0x64fa52=_0x2eff1f(0x192);if(_0x10cd92[_0x2eff1f(0x1f1)][_0x2eff1f(0x1d3)](_0x321c81['eQaeS'])||_0x10cd92[_0x2eff1f(0x1f1)][_0x2eff1f(0x1d3)](_0x321c81['UJDXj'])){if(_0x321c81[_0x2eff1f(0x20a)]===_0x2eff1f(0x233)){const _0x120a70={};_0x120a70[_0x2eff1f(0x19e)]=_0x321c81['oXDNX'],_0x2e153f[_0x2eff1f(0x225)]['push'](_0x120a70);}else _0x64fa52=_0x321c81['qfyvq'];}else _0x64fa52=_0x321c81[_0x2eff1f(0x18a)];this['servers'][_0x2eff1f(0x1d5)](_0x10cd92[_0x2eff1f(0x217)],{'url':_0x10cd92[_0x2eff1f(0x1f1)],'type':_0x64fa52}),_0x3de070[_0x2eff1f(0x177)](_0x10cd92['name']);}}catch(_0x9acd88){this[_0x2eff1f(0x22a)][_0x2eff1f(0x19d)](_0x2eff1f(0x1f0)+_0x10cd92[_0x2eff1f(0x217)]+':',_0x9acd88);const _0x24bf6c={};_0x24bf6c[_0x2eff1f(0x217)]=_0x10cd92[_0x2eff1f(0x217)],_0x24bf6c[_0x2eff1f(0x19d)]=_0x9acd88[_0x2eff1f(0x1a2)],_0x530116[_0x2eff1f(0x177)](_0x24bf6c);}else{const _0x2af477=_0x18be63?function(){const _0x390185=_0x2eff1f;if(_0x45e599){const _0x404294=_0x54bb70[_0x390185(0x202)](_0x1483b8,arguments);return _0x2ca035=null,_0x404294;}}:function(){};return _0x127f0b=![],_0x2af477;}}return await this['saveServers'](),{'action':_0x321c81['ffKLh'],'addedServers':_0x3de070,'failedServers':_0x530116,'success':_0x321c81['OogjM'](_0x3de070[_0x2eff1f(0x1ab)],0x0)};}async[a0_0x189ed7(0x240)](_0x26c34f){const _0x58fabd=a0_0x189ed7,_0x1dbe79={};_0x1dbe79[_0x58fabd(0x159)]=_0x58fabd(0x1bd);const _0x17f149=_0x1dbe79;this[_0x58fabd(0x22a)][_0x58fabd(0x1a5)](_0x58fabd(0x188)+_0x26c34f);if(!this[_0x58fabd(0x245)]['has'](_0x26c34f)){const _0x4fdb35={};return _0x4fdb35[_0x58fabd(0x19e)]=_0x17f149['UxiPC'],_0x4fdb35[_0x58fabd(0x22e)]=_0x26c34f,_0x4fdb35[_0x58fabd(0x236)]=![],_0x4fdb35['error']='Server\x20\x27'+_0x26c34f+_0x58fabd(0x230),_0x4fdb35;}if(this[_0x58fabd(0x1aa)][_0x58fabd(0x149)](_0x26c34f)){try{const _0x5b0285=this[_0x58fabd(0x1aa)][_0x58fabd(0x1d2)](_0x26c34f);await _0x5b0285[_0x58fabd(0x21c)]();}catch(_0x42dc0b){this[_0x58fabd(0x22a)][_0x58fabd(0x20d)](_0x58fabd(0x187)+_0x26c34f+':',_0x42dc0b);}this['clients'][_0x58fabd(0x19a)](_0x26c34f);}this[_0x58fabd(0x245)][_0x58fabd(0x19a)](_0x26c34f),await this['saveServers']();const _0x30ad4b={};return _0x30ad4b[_0x58fabd(0x19e)]=_0x17f149[_0x58fabd(0x159)],_0x30ad4b[_0x58fabd(0x22e)]=_0x26c34f,_0x30ad4b['success']=!![],_0x30ad4b;}async['getToolSchema'](_0xc536b1){const _0x4e76df=a0_0x189ed7,_0x10c513={};_0x10c513[_0x4e76df(0x198)]=function(_0x34b216,_0x313759){return _0x34b216&&_0x313759;},_0x10c513['QrJiv']=function(_0x323d0e,_0x3d6dec){return _0x323d0e>_0x3d6dec;},_0x10c513[_0x4e76df(0x17a)]=function(_0x2e961a,_0x41e903){return _0x2e961a||_0x41e903;},_0x10c513['mzpYm']=function(_0x69db3e,_0x41bf7d){return _0x69db3e!==_0x41bf7d;},_0x10c513[_0x4e76df(0x150)]=_0x4e76df(0x25e),_0x10c513['nJBmJ']='EclvL',_0x10c513[_0x4e76df(0x16e)]=_0x4e76df(0x176),_0x10c513[_0x4e76df(0x252)]=function(_0x4e309f,_0x23086d){return _0x4e309f===_0x23086d;},_0x10c513[_0x4e76df(0x221)]=_0x4e76df(0x184);const _0x211fed=_0x10c513;this['logger'][_0x4e76df(0x1a5)]('Getting\x20schema\x20for\x20tool:\x20'+_0xc536b1);const [_0x1b3ccb,_0x3791f6]=_0xc536b1[_0x4e76df(0x1bb)]('/');if(_0x211fed['HjAlz'](!_0x1b3ccb,!_0x3791f6)){if(_0x211fed[_0x4e76df(0x189)](_0x211fed[_0x4e76df(0x150)],_0x211fed[_0x4e76df(0x23a)]))throw new Error(_0x4e76df(0x1a3)+_0xc536b1+'.\x20Expected\x20format:\x20serverName/toolName');else throw new _0x2c78fd(_0x4e76df(0x1e1));}if(!this[_0x4e76df(0x245)]['has'](_0x1b3ccb))throw new Error(_0x4e76df(0x160)+_0x1b3ccb+_0x4e76df(0x230));if(this[_0x4e76df(0x1c3)][_0x4e76df(0x149)](_0xc536b1))return{'action':_0x211fed[_0x4e76df(0x16e)],'toolId':_0xc536b1,'schema':this[_0x4e76df(0x1c3)][_0x4e76df(0x1d2)](_0xc536b1),'success':!![]};const _0x6c65c8=await this[_0x4e76df(0x25c)](_0x1b3ccb);if(!_0x6c65c8)throw new Error('Failed\x20to\x20connect\x20to\x20server:\x20'+_0x1b3ccb);const _0x6a520=await _0x6c65c8['listTools'](),_0x55c0ca=_0x6a520[_0x4e76df(0x1e2)](_0x23a6a3=>_0x23a6a3['name']===_0x3791f6);if(!_0x55c0ca){if(_0x211fed[_0x4e76df(0x252)](_0x211fed[_0x4e76df(0x221)],_0x4e76df(0x184)))throw new Error(_0x4e76df(0x21d)+_0x3791f6+'\x27\x20not\x20found\x20on\x20server\x20\x27'+_0x1b3ccb+'\x27');else{const _0x9e7f6b=_0x3886d4[_0x4e76df(0x257)](_0x17c5e8[_0x4e76df(0x1b8)],'s'),_0x4df64f=[];for(const _0x25d3f9 of _0x9e7f6b){const _0x24dc46=_0x25d3f9[_0x4e76df(0x16c)][_0x4e76df(0x217)],_0x7bb430=_0x25d3f9[_0x4e76df(0x16c)]['url'];if(_0x211fed[_0x4e76df(0x198)](_0x24dc46,_0x7bb430)){const _0x53864e={};_0x53864e['name']=_0x24dc46,_0x53864e[_0x4e76df(0x1f1)]=_0x7bb430,_0x4df64f[_0x4e76df(0x177)](_0x53864e);}}if(_0x211fed['QrJiv'](_0x4df64f[_0x4e76df(0x1ab)],0x0)){const _0x1fc463={};_0x1fc463['action']=_0x4e76df(0x1fc),_0x1fc463[_0x4e76df(0x245)]=_0x4df64f,_0x10d89e[_0x4e76df(0x225)]['push'](_0x1fc463);}}}this[_0x4e76df(0x1c3)][_0x4e76df(0x1d5)](_0xc536b1,_0x55c0ca);const _0x1e6be2={};return _0x1e6be2[_0x4e76df(0x19e)]=_0x211fed[_0x4e76df(0x16e)],_0x1e6be2[_0x4e76df(0x1b2)]=_0xc536b1,_0x1e6be2[_0x4e76df(0x14e)]=_0x55c0ca,_0x1e6be2[_0x4e76df(0x236)]=!![],_0x1e6be2;}async[a0_0x189ed7(0x1b6)](_0x575b2c){const _0x25a284=a0_0x189ed7,_0x399120={};_0x399120['FwzqL']='Sending\x20message\x20to\x20MCP\x20server',_0x399120[_0x25a284(0x1c9)]='Invalid\x20MCP\x20message\x20format.\x20Expected\x20{\x20tool_call:\x20{\x20name,\x20arguments\x20}\x20}',_0x399120['yckaN']='Tool\x20call\x20must\x20have\x20name\x20and\x20arguments',_0x399120['FOsoR']=function(_0x45e236,_0x5443a6){return _0x45e236||_0x5443a6;},_0x399120[_0x25a284(0x1b1)]=_0x25a284(0x1f2);const _0x55aa58=_0x399120;this['logger']['info'](_0x55aa58[_0x25a284(0x20f)]);if(!_0x575b2c||!_0x575b2c[_0x25a284(0x14b)])throw new Error(_0x55aa58['AgMex']);const {name:_0x59b856,arguments:_0x157095}=_0x575b2c[_0x25a284(0x14b)];if(!_0x59b856||!_0x157095)throw new Error(_0x55aa58[_0x25a284(0x1e0)]);const [_0x2f55d6,_0x5cd52b]=_0x59b856[_0x25a284(0x1bb)]('/');if(_0x55aa58[_0x25a284(0x23c)](!_0x2f55d6,!_0x5cd52b)){if(_0x25a284(0x17b)!==_0x25a284(0x25d))throw new Error(_0x25a284(0x1bf)+_0x59b856+_0x25a284(0x17e));else this[_0x25a284(0x22a)]['warn'](_0x25a284(0x185)+_0x4ab1a1+':',_0x59fbf5);}if(!this[_0x25a284(0x245)]['has'](_0x2f55d6))throw new Error('Server\x20\x27'+_0x2f55d6+_0x25a284(0x230));const _0x4a0fa4=await this[_0x25a284(0x25c)](_0x2f55d6);if(!_0x4a0fa4)throw new Error(_0x25a284(0x23b)+_0x2f55d6);const _0x5c1d7f={};_0x5c1d7f[_0x25a284(0x217)]=_0x5cd52b,_0x5c1d7f[_0x25a284(0x13e)]=_0x157095;const _0x114dad=await _0x4a0fa4[_0x25a284(0x1dc)](_0x5c1d7f),_0x534bc1={};_0x534bc1[_0x25a284(0x217)]=_0x59b856,_0x534bc1[_0x25a284(0x13e)]=_0x157095;const _0x4511ae={};return _0x4511ae['action']=_0x55aa58[_0x25a284(0x1b1)],_0x4511ae[_0x25a284(0x169)]=_0x534bc1,_0x4511ae[_0x25a284(0x21b)]=_0x114dad,_0x4511ae[_0x25a284(0x236)]=!![],_0x4511ae;}async[a0_0x189ed7(0x25c)](_0x2c2e06){const _0x1483a6=a0_0x189ed7,_0x1769c4={};_0x1769c4[_0x1483a6(0x18c)]=_0x1483a6(0x1fb),_0x1769c4['MrZaK']=function(_0x2ff4c8,_0x3aec27){return _0x2ff4c8!==_0x3aec27;},_0x1769c4[_0x1483a6(0x203)]=_0x1483a6(0x215),_0x1769c4[_0x1483a6(0x14f)]=_0x1483a6(0x1af),_0x1769c4[_0x1483a6(0x17c)]=_0x1483a6(0x1de),_0x1769c4['BCGxt']=_0x1483a6(0x244),_0x1769c4['DejWU']=function(_0x14047e,_0x14fa78){return _0x14047e===_0x14fa78;},_0x1769c4[_0x1483a6(0x22c)]='http',_0x1769c4[_0x1483a6(0x1f9)]=_0x1483a6(0x1e4),_0x1769c4[_0x1483a6(0x209)]=function(_0x39190b,_0x3fdb39){return _0x39190b===_0x3fdb39;},_0x1769c4[_0x1483a6(0x18e)]=_0x1483a6(0x164),_0x1769c4['POlIt']=_0x1483a6(0x1b4),_0x1769c4[_0x1483a6(0x1cf)]='YqOuH';const _0x14fc40=_0x1769c4;if(this[_0x1483a6(0x1aa)][_0x1483a6(0x149)](_0x2c2e06)){if(_0x14fc40['MrZaK'](_0x1483a6(0x1e6),_0x14fc40[_0x1483a6(0x203)]))return this[_0x1483a6(0x1aa)]['get'](_0x2c2e06);else{const _0x553c50=_0x2caaa3[_0x1483a6(0x202)](_0x2a15e9,arguments);return _0x27c052=null,_0x553c50;}}const _0x3e203d=this[_0x1483a6(0x245)][_0x1483a6(0x1d2)](_0x2c2e06);if(!_0x3e203d){if(_0x14fc40['yMAsw']===_0x14fc40['yMAsw'])return this['logger'][_0x1483a6(0x19d)]('Server\x20\x27'+_0x2c2e06+_0x1483a6(0x238)),null;else _0x22ab4f=_0x5aad13;}try{const _0x77da74={};_0x77da74[_0x1483a6(0x217)]=_0x14fc40['dydCV'],_0x77da74['version']=_0x14fc40[_0x1483a6(0x1fe)];const _0x228fd3=new Client(_0x77da74);let _0x44181d;if(_0x14fc40[_0x1483a6(0x1f5)](_0x3e203d[_0x1483a6(0x258)],_0x14fc40[_0x1483a6(0x22c)])){if(_0x14fc40[_0x1483a6(0x205)](_0x1483a6(0x1e4),_0x14fc40[_0x1483a6(0x1f9)]))return _0x27d227[_0x1483a6(0x262)]()[_0x1483a6(0x260)](RCoKOm[_0x1483a6(0x18c)])['toString']()[_0x1483a6(0x263)](_0x1de626)['search'](_0x1483a6(0x1fb));else _0x44181d=new StreamableHTTPClientTransport(_0x3e203d[_0x1483a6(0x1f1)]);}else{if(_0x14fc40[_0x1483a6(0x209)](_0x3e203d[_0x1483a6(0x258)],_0x14fc40[_0x1483a6(0x18e)])){const _0x478431=_0x3e203d[_0x1483a6(0x1f1)][_0x1483a6(0x1bb)]('\x20'),_0x5bf5b1=_0x478431[0x0],_0x3d21b4=_0x478431[_0x1483a6(0x171)](0x1),_0x2c0be6={};_0x2c0be6[_0x1483a6(0x183)]=_0x5bf5b1,_0x2c0be6[_0x1483a6(0x1b7)]=_0x3d21b4,_0x44181d=new StdioClientTransport(_0x2c0be6);}else{if(_0x14fc40[_0x1483a6(0x242)]===_0x14fc40[_0x1483a6(0x1cf)]){const _0x3c9091={};_0x3c9091[_0x1483a6(0x217)]=_0x2b671d,_0x3c9091[_0x1483a6(0x1f1)]=_0x1e3a41['url'],_0x3c9091[_0x1483a6(0x258)]=_0x138fb8['type']||'http',_0x3372a6['push'](_0x3c9091);}else throw new Error(_0x1483a6(0x226)+_0x3e203d['type']);}}return await _0x228fd3['connect'](_0x44181d),this[_0x1483a6(0x1aa)][_0x1483a6(0x1d5)](_0x2c2e06,_0x228fd3),_0x228fd3;}catch(_0x4ff809){return this['logger'][_0x1483a6(0x19d)](_0x1483a6(0x19b)+_0x2c2e06+'\x27:',_0x4ff809),null;}}async['saveServers'](){const _0x4c3d5d=a0_0x189ed7,_0x30ad58={};_0x30ad58[_0x4c3d5d(0x17d)]=_0x4c3d5d(0x164),_0x30ad58['ZsMCR']=_0x4c3d5d(0x18f),_0x30ad58['UxgxO']=function(_0xab39b,_0x3870f2){return _0xab39b!==_0x3870f2;},_0x30ad58[_0x4c3d5d(0x156)]='VxXVB',_0x30ad58[_0x4c3d5d(0x1c2)]=_0x4c3d5d(0x1cc),_0x30ad58[_0x4c3d5d(0x181)]=_0x4c3d5d(0x22d),_0x30ad58[_0x4c3d5d(0x1b5)]=function(_0x27d746,_0x4f5c16){return _0x27d746!==_0x4f5c16;},_0x30ad58[_0x4c3d5d(0x1ff)]=_0x4c3d5d(0x154),_0x30ad58[_0x4c3d5d(0x21e)]='ulAvL';const _0x3b42b4=_0x30ad58;try{if(_0x3b42b4[_0x4c3d5d(0x1f3)](_0x3b42b4[_0x4c3d5d(0x156)],_0x3b42b4[_0x4c3d5d(0x156)]))_0x3fa111=_0x3b42b4[_0x4c3d5d(0x17d)];else{const _0x27f8df=a0_0x472682[_0x4c3d5d(0x141)](this['serverDirectory'],_0x3b42b4[_0x4c3d5d(0x1c2)]),_0x221b91={};for(const [_0x5d692a,_0xcabefe]of this['servers']['entries']()){_0x221b91[_0x5d692a]=_0xcabefe;}await a0_0x4ecc26[_0x4c3d5d(0x20b)](_0x27f8df,JSON[_0x4c3d5d(0x232)](_0x221b91,null,0x2),_0x3b42b4[_0x4c3d5d(0x181)]),this[_0x4c3d5d(0x22a)][_0x4c3d5d(0x1a5)](_0x4c3d5d(0x190)+this[_0x4c3d5d(0x245)][_0x4c3d5d(0x1cb)]+_0x4c3d5d(0x1d9));}}catch(_0x4ae847){_0x3b42b4[_0x4c3d5d(0x1b5)](_0x3b42b4[_0x4c3d5d(0x1ff)],_0x3b42b4[_0x4c3d5d(0x21e)])?this['logger'][_0x4c3d5d(0x19d)](_0x3b42b4[_0x4c3d5d(0x155)],_0x4ae847):this[_0x4c3d5d(0x22a)]['error'](_0x3b42b4['ZsMCR'],_0x2d5a6a);}}async[a0_0x189ed7(0x25f)](){const _0x5abb85=a0_0x189ed7,_0x57841e={};_0x57841e['faaZf']=_0x5abb85(0x146),_0x57841e[_0x5abb85(0x145)]=_0x5abb85(0x256),_0x57841e[_0x5abb85(0x1db)]=_0x5abb85(0x246);const _0x19610e=_0x57841e;this['logger'][_0x5abb85(0x1a5)](_0x19610e[_0x5abb85(0x24c)]);for(const [_0x33786d,_0x3d8573]of this[_0x5abb85(0x1aa)][_0x5abb85(0x248)]()){try{if(_0x19610e[_0x5abb85(0x145)]!==_0x19610e[_0x5abb85(0x1db)])await _0x3d8573['disconnect'](),this[_0x5abb85(0x22a)][_0x5abb85(0x1a5)]('Disconnected\x20from\x20MCP\x20server:\x20'+_0x33786d);else return this['clients'][_0x5abb85(0x1d2)](_0x4af6ab);}catch(_0x2c4c1a){this[_0x5abb85(0x22a)][_0x5abb85(0x20d)](_0x5abb85(0x185)+_0x33786d+':',_0x2c4c1a);}}this['clients'][_0x5abb85(0x199)]();}}