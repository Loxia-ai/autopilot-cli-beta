function a0_0x5879(_0x3818ca,_0x53787c){const _0x273830=a0_0x315e();return a0_0x5879=function(_0x8608db,_0x321a61){_0x8608db=_0x8608db-0x1b6;let _0x203021=_0x273830[_0x8608db];if(a0_0x5879['hoqmGf']===undefined){var _0x317dbb=function(_0x587956){const _0x51cb7a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3e4297='',_0x1ddf3a='',_0x58efb6=_0x3e4297+_0x317dbb;for(let _0x1dfef4=0x0,_0x4b5309,_0x29a8b0,_0x27dd35=0x0;_0x29a8b0=_0x587956['charAt'](_0x27dd35++);~_0x29a8b0&&(_0x4b5309=_0x1dfef4%0x4?_0x4b5309*0x40+_0x29a8b0:_0x29a8b0,_0x1dfef4++%0x4)?_0x3e4297+=_0x58efb6['charCodeAt'](_0x27dd35+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4b5309>>(-0x2*_0x1dfef4&0x6)):_0x1dfef4:0x0){_0x29a8b0=_0x51cb7a['indexOf'](_0x29a8b0);}for(let _0x4cbfbf=0x0,_0x3be6f8=_0x3e4297['length'];_0x4cbfbf<_0x3be6f8;_0x4cbfbf++){_0x1ddf3a+='%'+('00'+_0x3e4297['charCodeAt'](_0x4cbfbf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1ddf3a);};a0_0x5879['kvbUGH']=_0x317dbb,_0x3818ca=arguments,a0_0x5879['hoqmGf']=!![];}const _0x821563=_0x273830[0x0],_0x4a1bb7=_0x8608db+_0x821563,_0x315ef0=_0x3818ca[_0x4a1bb7];if(!_0x315ef0){const _0xf869cb=function(_0x34f387){this['EWTtBl']=_0x34f387,this['OnBpHn']=[0x1,0x0,0x0],this['EOjmcA']=function(){return'newState';},this['FmyTyI']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['gljGLg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xf869cb['prototype']['HKjOVU']=function(){const _0x32af0d=new RegExp(this['FmyTyI']+this['gljGLg']),_0x55acbf=_0x32af0d['test'](this['EOjmcA']['toString']())?--this['OnBpHn'][0x1]:--this['OnBpHn'][0x0];return this['cegTnm'](_0x55acbf);},_0xf869cb['prototype']['cegTnm']=function(_0x4a1c8a){if(!Boolean(~_0x4a1c8a))return _0x4a1c8a;return this['lalrgU'](this['EWTtBl']);},_0xf869cb['prototype']['lalrgU']=function(_0xbb150b){for(let _0x3599fc=0x0,_0x11eb35=this['OnBpHn']['length'];_0x3599fc<_0x11eb35;_0x3599fc++){this['OnBpHn']['push'](Math['round'](Math['random']())),_0x11eb35=this['OnBpHn']['length'];}return _0xbb150b(this['OnBpHn'][0x0]);},new _0xf869cb(a0_0x5879)['HKjOVU'](),_0x203021=a0_0x5879['kvbUGH'](_0x203021),_0x3818ca[_0x4a1bb7]=_0x203021;}else _0x203021=_0x315ef0;return _0x203021;},a0_0x5879(_0x3818ca,_0x53787c);}const a0_0x2b708d=a0_0x5879;(function(_0x1b4537,_0x50306b){const _0x39072a=a0_0x5879,_0x10be09=_0x1b4537();while(!![]){try{const _0x128b22=-parseInt(_0x39072a(0x249))/0x1+parseInt(_0x39072a(0x230))/0x2+parseInt(_0x39072a(0x207))/0x3+parseInt(_0x39072a(0x1d4))/0x4*(parseInt(_0x39072a(0x1f1))/0x5)+parseInt(_0x39072a(0x21e))/0x6+parseInt(_0x39072a(0x1f3))/0x7*(parseInt(_0x39072a(0x212))/0x8)+-parseInt(_0x39072a(0x24a))/0x9;if(_0x128b22===_0x50306b)break;else _0x10be09['push'](_0x10be09['shift']());}catch(_0x2530d5){_0x10be09['push'](_0x10be09['shift']());}}}(a0_0x315e,0x6d800));const a0_0x4a1bb7=(function(){const _0x35da12=a0_0x5879,_0x300369={};_0x300369[_0x35da12(0x1ef)]=_0x35da12(0x206),_0x300369[_0x35da12(0x25a)]=_0x35da12(0x216),_0x300369['UwTBR']=_0x35da12(0x208),_0x300369['Wkkqr']=function(_0x34fb67,_0x4b04bd){return _0x34fb67!==_0x4b04bd;};const _0x4a5cd5=_0x300369;let _0xe1b87a=!![];return function(_0xc03caf,_0x332c39){const _0x456e0e=_0x35da12;if(_0x4a5cd5[_0x456e0e(0x1c2)](_0x456e0e(0x1f8),'hBSNP')){const _0x5b6f7e=_0xe1b87a?function(){const _0x5160a5=_0x456e0e;if(_0x332c39){if(_0x4a5cd5[_0x5160a5(0x1ef)]===_0x4a5cd5[_0x5160a5(0x25a)]){const _0xb68a71=_0x44dd47[_0x5160a5(0x241)](_0x2e4f63,arguments);return _0x48417b=null,_0xb68a71;}else{const _0xa0ccd4=_0x332c39['apply'](_0xc03caf,arguments);return _0x332c39=null,_0xa0ccd4;}}}:function(){};return _0xe1b87a=![],_0x5b6f7e;}else{const _0x244951={};return _0x244951[_0x456e0e(0x1c8)]=_0x197e79,_0x244951[_0x456e0e(0x22b)]=![],_0x244951[_0x456e0e(0x247)]=_0x4a5cd5[_0x456e0e(0x25b)],_0x244951;}};}()),a0_0x821563=a0_0x4a1bb7(this,function(){const _0x34f91c=a0_0x5879,_0x5500eb={};_0x5500eb[_0x34f91c(0x1f5)]=_0x34f91c(0x20e);const _0x4d6722=_0x5500eb;return a0_0x821563['toString']()[_0x34f91c(0x259)](_0x34f91c(0x20e))['toString']()[_0x34f91c(0x1dd)](a0_0x821563)[_0x34f91c(0x259)](_0x4d6722[_0x34f91c(0x1f5)]);});a0_0x821563();const a0_0x321a61=(function(){const _0x5824b8=a0_0x5879,_0x3ae6a4={};_0x3ae6a4['LQQqi']=function(_0x2182a8,_0xd25f16){return _0x2182a8===_0xd25f16;},_0x3ae6a4[_0x5824b8(0x254)]=_0x5824b8(0x236),_0x3ae6a4[_0x5824b8(0x238)]=_0x5824b8(0x1f9),_0x3ae6a4[_0x5824b8(0x223)]=_0x5824b8(0x22e),_0x3ae6a4['OQvxs']=_0x5824b8(0x1c6),_0x3ae6a4['oUYzo']=_0x5824b8(0x25c),_0x3ae6a4[_0x5824b8(0x248)]=_0x5824b8(0x1de);const _0x4ecee6=_0x3ae6a4;let _0x2c1db7=!![];return function(_0x1a2e32,_0x4ae7db){const _0x69e9b4=_0x5824b8,_0x51e900={};_0x51e900[_0x69e9b4(0x224)]=_0x69e9b4(0x1f9);const _0x27d032=_0x51e900;if(_0x4ecee6['LQQqi'](_0x4ecee6['oUYzo'],_0x4ecee6[_0x69e9b4(0x248)]))_0x4ecee6[_0x69e9b4(0x225)](_0x2dc811[_0x69e9b4(0x247)],_0x4ecee6[_0x69e9b4(0x254)])&&(_0x33db69[_0x69e9b4(0x247)]=_0x4ecee6['yFCyl'],this[_0x69e9b4(0x1e3)][_0x69e9b4(0x21d)](_0x4a9ce2,_0xf1f2a5));else{const _0x32ef2a=_0x2c1db7?function(){const _0x3f3a8e=_0x69e9b4;if(_0x4ae7db){if(_0x4ecee6[_0x3f3a8e(0x225)](_0x4ecee6['TcIZd'],_0x4ecee6[_0x3f3a8e(0x22c)]))_0x46bd01[_0x3f3a8e(0x247)]=_0x27d032['VMuSR'],this[_0x3f3a8e(0x1e3)][_0x3f3a8e(0x21d)](_0x2ce585,_0x4f78bd);else{const _0x1a4160=_0x4ae7db['apply'](_0x1a2e32,arguments);return _0x4ae7db=null,_0x1a4160;}}}:function(){};return _0x2c1db7=![],_0x32ef2a;}};}()),a0_0x8608db=a0_0x321a61(this,function(){const _0x5d1651=a0_0x5879,_0x5c2b92={'tQhgn':function(_0x4c1cb5,_0x26814b){return _0x4c1cb5(_0x26814b);},'ofZMG':function(_0x987c60,_0x3eeef5){return _0x987c60+_0x3eeef5;},'OFwEu':_0x5d1651(0x22a),'nJcRW':_0x5d1651(0x239),'ALUkV':function(_0x52b208){return _0x52b208();},'QmXaU':_0x5d1651(0x1e8),'oVsxg':'warn','FeGNJ':'info','OwJtL':_0x5d1651(0x1fa),'SitPj':_0x5d1651(0x235),'hPEwf':_0x5d1651(0x227),'bxnBq':_0x5d1651(0x1ec)};let _0x524c6f;try{const _0x4b3d0f=_0x5c2b92['tQhgn'](Function,_0x5c2b92['ofZMG'](_0x5c2b92[_0x5d1651(0x1ee)]+_0x5c2b92[_0x5d1651(0x1c5)],');'));_0x524c6f=_0x5c2b92[_0x5d1651(0x220)](_0x4b3d0f);}catch(_0x2c834d){_0x524c6f=window;}const _0x1cd375=_0x524c6f[_0x5d1651(0x1e0)]=_0x524c6f[_0x5d1651(0x1e0)]||{},_0x10cf09=[_0x5c2b92[_0x5d1651(0x242)],_0x5c2b92[_0x5d1651(0x210)],_0x5c2b92['FeGNJ'],_0x5c2b92[_0x5d1651(0x1b9)],_0x5c2b92[_0x5d1651(0x20a)],_0x5c2b92[_0x5d1651(0x1f4)],_0x5c2b92['bxnBq']];for(let _0x329f03=0x0;_0x329f03<_0x10cf09['length'];_0x329f03++){const _0x483b2b=a0_0x321a61[_0x5d1651(0x1dd)][_0x5d1651(0x21c)]['bind'](a0_0x321a61),_0x55602d=_0x10cf09[_0x329f03],_0x3c6332=_0x1cd375[_0x55602d]||_0x483b2b;_0x483b2b['__proto__']=a0_0x321a61[_0x5d1651(0x1c4)](a0_0x321a61),_0x483b2b[_0x5d1651(0x23f)]=_0x3c6332[_0x5d1651(0x23f)][_0x5d1651(0x1c4)](_0x3c6332),_0x1cd375[_0x55602d]=_0x483b2b;}});a0_0x8608db();function a0_0x315e(){const _0xefdd27=['CMfUzg9T','AM9Iswq','CMvZB2X2zwrpDxrWDxrqyxrO','u2H1DhrPBMCGzg93BIbPBwfNzsb0B29S','z1jxzNu','yMfZzty0','r2vUzxjHDgLVBIbQB2iGBM90igzVDw5K','zxHLy3v0zvDPDgHqyxjHBwv0zxjZ','DuHSrM0','t1bftKfjx0fqsv9lrvK','q3r5uNy','rMfPBgvKihrVigDLBMvYyxrLigLTywDLoIa','yxbNCeG','ng95rgXYzW','mtaYnhGXmdi0','zgLYBMfTzq','yxbPs2v5','tM8GAw1Hz2uGz2vUzxjHDgLVBIbJB21Tyw5KCYbZCgvJAwzPzwq','r1DLt3i','qxfOBgS','y29TBwfUzhm','B3v0Chv0lxbHDgG','y29UC3rYDwn0B3i','Dfbdvhe','zNjVBq','y29UC29Szq','s21PEe4','tunvExi','CgvUzgLUz0DLBMvYyxrPB25Z','BgvUz3rO','BNHJvK0','q2v1BuG','z05Hwha','Bg9N','uxDRsxq','C3vJy2vZCW','AfLVB0u','DhjHy2u','z2v0r2vUzxjHDgLVBLn0yxr1CW','t0z3rxu','v0zkD3K','cKLTywDLieDLBMvYyxrPB24Gvg9VBdOGqwXSB3DZihLVDsb0BYbNzw5LCMf0zsbPBwfNzxmGDxnPBMCGquKGBw9KzwXZlGOkvxnHz2u6cLT0B29SigLKpsjPBwfNzs1Nzw4IxqPBz2vUzxjHDguGB3v0Chv0lxbHDgG9iNjLBgf0AxzLl3bHDgGVDg8VC2f2zs9PBwfNzs5WBMCIxqPezxrHAwXLzcbKzxnJCMLWDgLVBIbVzIb0AguGAw1Hz2uGEw91ihDHBNqGDg8Gz2vUzxjHDgukwY9Nzw5LCMf0zv0kwY90B29SxqOkrxHHBxbSzxm6cJeUieDLBMvYyxrLigeGC2LTCgXLigLTywDLoGPBDg9VBcbPzd0IAw1Hz2uTz2vUiL0kw2DLBMvYyxrLig91Dhb1Dc1WyxrOpsjPBwfNzxmVBw91BNrHAw5ZlNbUzYjDcKeGyMvHDxrPzNvSig1VDw50ywLUigXHBMrZy2fWzsb3AxrOihnUB3CTy2fWCgvKihbLywTZlcbHignSzwfYigjSDwuGC2T5lcbHBMqGysbMB3jLC3qGyxqGDgHLigjHC2uGB2yGDgHLig1VDw50ywLUCY4kwY9Nzw5LCMf0zv0kwY90B29SxqOkmI4Gr2vUzxjHDguGysbKzxrHAwXLzcbPBwfNzsb3AxrOihnWzwnPzMLJihn0EwXLoGPBDg9VBcbPzd0IAw1Hz2uTz2vUiL0kw2DLBMvYyxrLig91Dhb1Dc1WyxrOpsjPBwfNzxmVCM9IB3qUCg5NiL0kqsbMDxr1CMLZDgLJihjVyM90igLUigeGy3LIzxjWDw5RignPDhKGyxqGBMLNAhqUifrOzsbYB2jVDcbOyxmGz2XVD2LUzYbIBhvLigv5zxmGyw5KigLZihn0yw5KAw5NihvUzgvYigeGBMvVBIbZAwDUlIbtDhLSztOGzgLNAxrHBcbHCNqSigrLDgfPBgvKlcbOAwDOignVBNrYyxn0lGPBl2DLBMvYyxrLxqPBl3rVB2XDcGOZlIbhzw5LCMf0zsbHBIbHyNn0CMfJDcbHCNqGCgLLy2u6cLT0B29SigLKpsjPBwfNzs1Nzw4IxqPBz2vUzxjHDguGB3v0Chv0lxbHDgG9iMLTywDLCY9HyNn0CMfJDc5WBMCIxqPbyNn0CMfJDcbNzw9TzxrYAwmGC2HHCgvZigLUigjYAwDODcbJB2XVCNmSihDPDgGGysbMB2n1CYbVBIbJAxjJBgvZigfUzcb0CMLHBMDSzxmUifn0EwXLoIbTAw5PBwfSAxn0lcbJBgvHBIbSAw5LCYWGDMLICMfUDcbJB2XVCNmUcLSVz2vUzxjHDgvDcLSVDg9VBf0kcK5VDgvZoGOTieLTywDLigDLBMvYyxrPB24GBwf5ihrHA2uGC29Tzsb0Aw1LihrVignVBxbSzxrLcI0GvgHLig91Dhb1DcbWyxrOihnOB3vSzcbIzsbYzwXHDgL2zsb0BYb0AguGChjVAMvJDcbKAxjLy3rVCNKklsbqCM92AwrLigrLDgfPBgvKigrLC2nYAxb0Aw9UCYbMB3iGyMv0DgvYihjLC3vSDhmklsbzB3uGD2LSBcbYzwnLAxzLigeGBM90AwzPy2f0Aw9UihDOzw4GDgHLigLTywDLigDLBMvYyxrPB24GAxmGy29TCgXLDgukicaGia','mJC3ota1mhbKswLhAq','zgfSBc1Lltm','mtaZmZmZm1LOweffwq','AfbfD2y','t1vZwfq','y29TCgXLDgvK','r0jzzNu','D3jUDwO','y2fUy2vSBgvK','zxjYB3i','C2H1DgrVD24','CxvLCNK','ugfYC2LUzYbPBwfNzsbNzw5LCMf0Aw9UihbHCMfTzxrLCNmGD2L0AcbuywDqyxjZzxi','EeffEKe','DwHfug0','q01qwuC','B2n2zgy','u3viwLi','zw50CMLLCW','v3LZyKO','u2vUzgLUzYbPBwfNzsbNzw5LCMf0Aw9UihjLCxvLC3qGDg8Gt3bLBKfjihDPDgGGBw9KzwW6ia','y0jqyxC','oteZmdK4vfHevgH3','BM90x2zVDw5K','ChvZAa','u2L0ugO','veHlwMO','zw52','q2fUBM90ignHBMnLBcbQB2iGD2L0AcbZDgf0Dxm6ia','kcGOlISPkYKRksSK','Cgf0Aa','B1zZEgC','Bg9Nz2vY','ndb1ugfxuwW','wvf2uha','rxjYB3iGCgfYC2LUzYbPBwfNzsbNzw5LCMf0Aw9UihbHCMfTzxrLCNm6','qxHdueO','ENPhCuu','z2v0','CMvZB2X2zq','AgfZ','s0vYugi','D2fYBG','ChjVDg90ExbL','C2v0','ndK2odCWmLr3DLvktW','DhjPBq','quXvA1y','uuLoyve','ChjVz3jLC3m','vgnjwMq','vK11u1i','tffrCwK','uKretM0','DgfIBgu','sfnmEKK','zxbhAui','CMv0DxjUicHMDw5JDgLVBIGPia','zxHPC3rZ','t1f2Ehm','z2vUzxjHDgu','C1zqt2q','AuzYsu0','mtqXmZyXmM1stNzytW','yJy0x2PZB24','v1zZrNq','B3bLBMfP','AwDbr3C','zxHJzxb0Aw9U','CgvUzgLUzW','zgHLtva','EuzdEwW','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','wwz4EMW','y29UzMLN','uLfIs0y','DurlCuu','A3vzCgG','Dg9tDhjPBMC','y29UDgvUDa','yxbWBhK','uw1yyvu','zNDzAwO','ufPTqvy','C3vIC3rYAw5N','B096u00','C3rHDhvZ','svfLtvy','mte2nJbjrgvdBvO','mJqWntCXotHAseHgB2u','r0rLCu4','rxHLy3v0Aw5NigLTywDLigDLBMvYyxrPB24Gy29TBwfUzcb3AxrOihbHCMfTzxrLCNm6','D3bPDu8','C2L6zq','DuTfCuq','ChjVBxb0','Aw1Hz2vhzw4','B3v0Chv0ugf0Aa','rxjYB3iGzxHLy3v0Aw5NigLTywDLigDLBMvYyxrPB24Gy29TBwfUzca','ExDlr00','wKTsD1i','EvDWvgu','vK9HCxC','thrTAw0','C2vHCMnO','r0fLqLO','vxDuqLi','uNLTzxi','zLbZvgW','BwvZC2fNzq','sujhu0K','s1veEfe','EKrAvLO','ywn0Aw9U','Aw5MBW','BM93','t3DkDeW','sfjJyKi','y2fUy2vSr2vUzxjHDgLVBG','AxnbyNnVBhv0zq','z2vUzxjHDgvjBwfNzq','yxr0CMLIDxrLCW','Aw1Hz2vZ','x19WCM90B19F','r2vUzxjHDgLUzYbPBwfNzsb3AxrOihbYB21WDdOG','v2TRCxi','C2vYDMLJzxm','yMLUza','BKPJuLC','vML5DwO'];a0_0x315e=function(){return _0xefdd27;};return a0_0x315e();}import a0_0x207d36 from'path';import{promises as a0_0x2d088f}from'fs';import{OpenAI}from'openai';import{TagParser}from'../utilities/tagParser.js';import{BaseTool}from'./baseTool.js';export class ImageTool extends BaseTool{constructor(_0x10c3a4,_0x3f6e2a){const _0x47a249=a0_0x5879;super(_0x10c3a4,_0x3f6e2a),this[_0x47a249(0x233)]=new OpenAI({'apiKey':this[_0x47a249(0x23b)][_0x47a249(0x1c3)]?.[_0x47a249(0x233)]?.[_0x47a249(0x1d7)]||process[_0x47a249(0x20c)][_0x47a249(0x1d0)]}),this[_0x47a249(0x1e3)]=new Map();}['getDescription'](){const _0x3c5480=a0_0x5879;return _0x3c5480(0x1f0);}['parseParameters'](_0x4abfcb){const _0x545fe6=a0_0x5879,_0x3fa584={};_0x3fa584[_0x545fe6(0x1e6)]=_0x545fe6(0x20e),_0x3fa584['Ltmim']=_0x545fe6(0x1fd),_0x3fa584[_0x545fe6(0x1ff)]=function(_0x35aa3c,_0x22374b){return _0x35aa3c===_0x22374b;},_0x3fa584[_0x545fe6(0x243)]=_0x545fe6(0x22d),_0x3fa584[_0x545fe6(0x1d1)]='output-path',_0x3fa584['fsfRn']=_0x545fe6(0x214);const _0x39bd0c=_0x3fa584;this[_0x545fe6(0x211)][_0x545fe6(0x1b7)](_0x39bd0c[_0x545fe6(0x258)]);const _0x1660d3={};_0x1660d3[_0x545fe6(0x1db)]=[];const _0x47c6eb=_0x1660d3;try{if(_0x39bd0c[_0x545fe6(0x1ff)](_0x545fe6(0x232),'WVsFt')){const _0x13e4ba=TagParser[_0x545fe6(0x1fc)](_0x4abfcb,_0x39bd0c[_0x545fe6(0x243)]);for(const _0x581f9d of _0x13e4ba){const _0x145844=_0x581f9d['attributes'][_0x39bd0c[_0x545fe6(0x1d1)]];_0x145844&&_0x47c6eb['commands'][_0x545fe6(0x209)]({'action':_0x39bd0c['fwYij'],'path':_0x145844,'prompt':_0x581f9d[_0x545fe6(0x240)][_0x545fe6(0x21f)]()});}return _0x47c6eb;}else return _0x476853[_0x545fe6(0x23f)]()[_0x545fe6(0x259)](PiutKU['CeumH'])[_0x545fe6(0x23f)]()[_0x545fe6(0x1dd)](_0x2a7026)['search'](PiutKU[_0x545fe6(0x1e6)]);}catch(_0x1e059){this[_0x545fe6(0x211)][_0x545fe6(0x1fa)](_0x39bd0c['fsfRn'],_0x1e059);const _0x14381e={};return _0x14381e['commands']=[],_0x14381e;}}async[a0_0x2b708d(0x1ce)](_0x33bbad,_0x5d3fb4){const _0xd08638=a0_0x2b708d,_0x5647df={'KUDxQ':function(_0x140100,_0x2fe263){return _0x140100+_0x2fe263;},'yWpTe':_0xd08638(0x22a),'KmixN':_0xd08638(0x239),'epGiB':function(_0x1e1498){return _0x1e1498();},'zDZVZ':_0xd08638(0x1e8),'MCUyr':_0xd08638(0x21b),'OECaC':'info','wpiuO':'error','gNaXp':_0xd08638(0x1ec),'iFrIM':function(_0x56f930,_0x332904){return _0x56f930<_0x332904;},'RQbKF':_0xd08638(0x22d),'uHlFm':_0xd08638(0x24c),'apgpH':function(_0x2a5744,_0x421897){return _0x2a5744!==_0x421897;},'SuHZR':_0xd08638(0x23a),'hYooE':_0xd08638(0x1d8),'WysbJ':_0xd08638(0x24f),'igAGw':'BnpdE'};this[_0xd08638(0x211)][_0xd08638(0x1b7)](_0x5647df[_0xd08638(0x1cf)],_0x33bbad);const _0x4695b0=[];if(!_0x33bbad[_0xd08638(0x1db)]||_0x33bbad[_0xd08638(0x1db)]['length']===0x0){if(_0x5647df[_0xd08638(0x1d3)](_0x5647df['SuHZR'],_0x5647df[_0xd08638(0x202)])){let _0x4a9855;try{const _0x299ee8=_0x19872c(KiXrgG[_0xd08638(0x260)](KiXrgG[_0xd08638(0x256)]+KiXrgG[_0xd08638(0x1e1)],');'));_0x4a9855=KiXrgG[_0xd08638(0x229)](_0x299ee8);}catch(_0xc17e29){_0x4a9855=_0x3e6ce5;}const _0x324adc=_0x4a9855[_0xd08638(0x1e0)]=_0x4a9855[_0xd08638(0x1e0)]||{},_0x4c0318=[KiXrgG[_0xd08638(0x261)],KiXrgG[_0xd08638(0x1e2)],KiXrgG['OECaC'],KiXrgG[_0xd08638(0x24d)],_0xd08638(0x235),'table',KiXrgG[_0xd08638(0x1e7)]];for(let _0x1aaaeb=0x0;KiXrgG[_0xd08638(0x22f)](_0x1aaaeb,_0x4c0318[_0xd08638(0x1e4)]);_0x1aaaeb++){const _0x156d53=_0x5de514['constructor'][_0xd08638(0x21c)][_0xd08638(0x1c4)](_0x3862b1),_0x382a80=_0x4c0318[_0x1aaaeb],_0x5748ff=_0x324adc[_0x382a80]||_0x156d53;_0x156d53['__proto__']=_0x29cad7[_0xd08638(0x1c4)](_0x57b84f),_0x156d53['toString']=_0x5748ff[_0xd08638(0x23f)][_0xd08638(0x1c4)](_0x5748ff),_0x324adc[_0x382a80]=_0x156d53;}}else throw new Error(_0x5647df[_0xd08638(0x1eb)]);}for(const _0x38b397 of _0x33bbad[_0xd08638(0x1db)]){try{if(_0x5647df[_0xd08638(0x204)]===_0x5647df[_0xd08638(0x234)]){const _0x1fb1d9=_0x1c6e53[_0xd08638(0x1fc)](_0xc50865,_0x5647df['RQbKF']);for(const _0x52f054 of _0x1fb1d9){const _0x240cf3=_0x52f054[_0xd08638(0x1be)][_0xd08638(0x1dc)];_0x240cf3&&_0x12262b['commands']['push']({'action':_0x5647df[_0xd08638(0x23c)],'path':_0x240cf3,'prompt':_0x52f054['content'][_0xd08638(0x21f)]()});}return _0x2f09e7;}else switch(_0x38b397[_0xd08638(0x1b6)]){case _0xd08638(0x22d):const _0x13407c=await this[_0xd08638(0x1bd)](_0x38b397[_0xd08638(0x250)],_0x38b397[_0xd08638(0x20f)],_0x5d3fb4);_0x4695b0['push'](_0x13407c);break;default:throw new Error('Unknown\x20image\x20generation\x20command:\x20'+_0x38b397['action']);}}catch(_0x352f84){this[_0xd08638(0x211)][_0xd08638(0x1fa)](_0xd08638(0x253)+_0x38b397[_0xd08638(0x1b6)]+':',_0x352f84);const _0x5bccaf={};_0x5bccaf[_0xd08638(0x1b6)]=_0x38b397[_0xd08638(0x1b6)],_0x5bccaf['success']=![],_0x5bccaf[_0xd08638(0x1fa)]=_0x352f84[_0xd08638(0x25e)],_0x4695b0[_0xd08638(0x209)](_0x5bccaf);}}const _0x1efbba={};return _0x1efbba['results']=_0x4695b0,_0x1efbba;}async[a0_0x2b708d(0x1bd)](_0x391090,_0x2b0381,_0x469e42){const _0x4d7646=a0_0x2b708d,_0x5a8aab={};_0x5a8aab['VOaqw']=_0x4d7646(0x22d),_0x5a8aab[_0x4d7646(0x1e9)]='cancel',_0x5a8aab[_0x4d7646(0x244)]=_0x4d7646(0x1cd),_0x5a8aab['AUQSf']=function(_0x4c70e0,_0x3caef0){return _0x4c70e0===_0x3caef0;},_0x5a8aab[_0x4d7646(0x201)]='pending',_0x5a8aab[_0x4d7646(0x226)]=_0x4d7646(0x1f9),_0x5a8aab[_0x4d7646(0x25d)]=function(_0x3f8584,_0x3543aa){return _0x3f8584+_0x3543aa;},_0x5a8aab[_0x4d7646(0x1d9)]=function(_0x525b63,_0x33f999){return _0x525b63!==_0x33f999;},_0x5a8aab[_0x4d7646(0x255)]=_0x4d7646(0x228),_0x5a8aab[_0x4d7646(0x1f7)]=_0x4d7646(0x1d5),_0x5a8aab['IBGSI']=_0x4d7646(0x231),_0x5a8aab[_0x4d7646(0x1fe)]=_0x4d7646(0x1cc),_0x5a8aab['dheMP']=_0x4d7646(0x1f6),_0x5a8aab[_0x4d7646(0x1cb)]=_0x4d7646(0x1e5);const _0x3c9bac=_0x5a8aab;this[_0x4d7646(0x211)]['info'](_0x4d7646(0x1c1)+_0x391090);const _0xe45d2b=a0_0x207d36[_0x4d7646(0x1bc)](_0x2b0381)?_0x2b0381:a0_0x207d36[_0x4d7646(0x218)](_0x469e42,_0x2b0381),_0x54a5f6=a0_0x207d36[_0x4d7646(0x1d6)](_0xe45d2b),_0x43eb60={};_0x43eb60['recursive']=!![],await a0_0x2d088f['mkdir'](_0x54a5f6,_0x43eb60);const _0x5c6e38=_0x3c9bac[_0x4d7646(0x25d)](Date[_0x4d7646(0x1b8)]()[_0x4d7646(0x23f)](0x24),Math[_0x4d7646(0x1c7)]()[_0x4d7646(0x23f)](0x24)[_0x4d7646(0x245)](0x2,0x9));try{if(_0x3c9bac[_0x4d7646(0x1d9)](_0x4d7646(0x228),_0x3c9bac[_0x4d7646(0x255)]))_0xa1c6ab[_0x4d7646(0x1db)][_0x4d7646(0x209)]({'action':_0x3c9bac[_0x4d7646(0x257)],'path':_0x111b37,'prompt':_0x293c4f['content']['trim']()});else{const _0x37700c=this[_0x4d7646(0x23b)]['tools']?.[_0x4d7646(0x251)]?.['model']||_0x4d7646(0x1f2);this[_0x4d7646(0x211)][_0x4d7646(0x1b7)](_0x4d7646(0x205)+_0x37700c);const _0x347012=await this[_0x4d7646(0x233)][_0x4d7646(0x1bf)]['generate']({'model':_0x37700c,'prompt':_0x391090,'n':0x1,'size':this['config']['tools']?.[_0x4d7646(0x251)]?.[_0x4d7646(0x24e)]||_0x3c9bac['GBYfu'],'response_format':_0x3c9bac[_0x4d7646(0x25f)]}),_0x2c4b27=_0x347012['data'][0x0][_0x4d7646(0x231)],_0x6dc30c=Buffer[_0x4d7646(0x1df)](_0x2c4b27,_0x3c9bac[_0x4d7646(0x1fe)]);await a0_0x2d088f['writeFile'](_0xe45d2b,_0x6dc30c),this[_0x4d7646(0x211)][_0x4d7646(0x1b7)]('Image\x20saved\x20to:\x20'+_0xe45d2b);const _0x5d1775={};return _0x5d1775[_0x4d7646(0x1b6)]=_0x3c9bac['VOaqw'],_0x5d1775['jobId']=_0x5c6e38,_0x5d1775[_0x4d7646(0x250)]=_0x391090,_0x5d1775['outputPath']=_0x2b0381,_0x5d1775[_0x4d7646(0x1c9)]=_0xe45d2b,_0x5d1775['success']=!![],_0x5d1775[_0x4d7646(0x247)]=_0x3c9bac[_0x4d7646(0x237)],_0x5d1775;}}catch(_0xe12542){if(_0x3c9bac[_0x4d7646(0x1d9)](_0x3c9bac[_0x4d7646(0x1cb)],_0x3c9bac[_0x4d7646(0x1cb)])){if(!this[_0x4d7646(0x1e3)][_0x4d7646(0x219)](_0x51e9b1)){const _0x6aa426={};return _0x6aa426['action']=_0x3c9bac[_0x4d7646(0x1e9)],_0x6aa426[_0x4d7646(0x1c8)]=_0x4f6f8f,_0x6aa426[_0x4d7646(0x1ea)]=![],_0x6aa426['error']=_0x3c9bac[_0x4d7646(0x244)],_0x6aa426;}const _0xf307cf=this[_0x4d7646(0x1e3)][_0x4d7646(0x217)](_0x4a3c3b);if(_0x3c9bac['AUQSf'](_0xf307cf[_0x4d7646(0x247)],_0x3c9bac['ocvdf'])){_0xf307cf[_0x4d7646(0x247)]=_0x3c9bac[_0x4d7646(0x226)],this[_0x4d7646(0x1e3)][_0x4d7646(0x21d)](_0x3e2e1a,_0xf307cf);const _0x5c8914={};return _0x5c8914[_0x4d7646(0x1b6)]=_0x3c9bac['QwkIt'],_0x5c8914[_0x4d7646(0x1c8)]=_0x2ec856,_0x5c8914['success']=!![],_0x5c8914;}const _0x3cb089={};return _0x3cb089[_0x4d7646(0x1b6)]=_0x3c9bac[_0x4d7646(0x1e9)],_0x3cb089[_0x4d7646(0x1c8)]=_0xe06a7,_0x3cb089[_0x4d7646(0x1ea)]=![],_0x3cb089[_0x4d7646(0x1fa)]=_0x4d7646(0x20d)+_0xf307cf[_0x4d7646(0x247)],_0x3cb089;}else throw new Error(_0x4d7646(0x1d2)+_0xe12542[_0x4d7646(0x25e)]);}}async[a0_0x2b708d(0x1ed)](_0x49a696){const _0xf8f79c=a0_0x2b708d,_0x5bc76a={};_0x5bc76a['AxCPJ']=function(_0x4e0c21,_0x57ac24){return _0x4e0c21===_0x57ac24;},_0x5bc76a[_0xf8f79c(0x24b)]='WRvLh',_0x5bc76a[_0xf8f79c(0x1da)]=_0xf8f79c(0x208);const _0x41efe2=_0x5bc76a;if(!this[_0xf8f79c(0x1e3)][_0xf8f79c(0x219)](_0x49a696)){if(_0x41efe2[_0xf8f79c(0x215)](_0x41efe2[_0xf8f79c(0x24b)],_0x41efe2[_0xf8f79c(0x24b)])){const _0x1ff460={};return _0x1ff460[_0xf8f79c(0x1c8)]=_0x49a696,_0x1ff460[_0xf8f79c(0x22b)]=![],_0x1ff460[_0xf8f79c(0x247)]=_0x41efe2[_0xf8f79c(0x1da)],_0x1ff460;}else{if(_0x1c1473){const _0x36f034=_0x1d5438['apply'](_0x31e07b,arguments);return _0x35f6e0=null,_0x36f034;}}}const _0x420d95=this[_0xf8f79c(0x1e3)][_0xf8f79c(0x217)](_0x49a696),_0xf417f3={};return _0xf417f3[_0xf8f79c(0x1c8)]=_0x49a696,_0xf417f3[_0xf8f79c(0x22b)]=!![],_0xf417f3[_0xf8f79c(0x247)]=_0x420d95[_0xf8f79c(0x247)],_0xf417f3[_0xf8f79c(0x222)]=_0x420d95[_0xf8f79c(0x222)],_0xf417f3[_0xf8f79c(0x250)]=_0x420d95[_0xf8f79c(0x250)],_0xf417f3[_0xf8f79c(0x252)]=_0x420d95[_0xf8f79c(0x252)],_0xf417f3;}async[a0_0x2b708d(0x1bb)](_0x2f495f){const _0x37c99b=a0_0x2b708d,_0x34659d={};_0x34659d[_0x37c99b(0x221)]='cancel',_0x34659d[_0x37c99b(0x213)]=function(_0x55a933,_0x558666){return _0x55a933===_0x558666;},_0x34659d[_0x37c99b(0x200)]='pending',_0x34659d[_0x37c99b(0x20b)]=_0x37c99b(0x1f9);const _0x14ce86=_0x34659d;if(!this[_0x37c99b(0x1e3)][_0x37c99b(0x219)](_0x2f495f)){const _0x3510dd={};return _0x3510dd[_0x37c99b(0x1b6)]=_0x14ce86[_0x37c99b(0x221)],_0x3510dd[_0x37c99b(0x1c8)]=_0x2f495f,_0x3510dd[_0x37c99b(0x1ea)]=![],_0x3510dd[_0x37c99b(0x1fa)]='Generation\x20job\x20not\x20found',_0x3510dd;}const _0x351416=this['pendingGenerations'][_0x37c99b(0x217)](_0x2f495f);if(_0x14ce86[_0x37c99b(0x213)](_0x351416[_0x37c99b(0x247)],_0x14ce86[_0x37c99b(0x200)])){_0x351416[_0x37c99b(0x247)]=_0x14ce86[_0x37c99b(0x20b)],this[_0x37c99b(0x1e3)][_0x37c99b(0x21d)](_0x2f495f,_0x351416);const _0xc94b14={};return _0xc94b14[_0x37c99b(0x1b6)]=_0x14ce86['QINaQ'],_0xc94b14[_0x37c99b(0x1c8)]=_0x2f495f,_0xc94b14[_0x37c99b(0x1ea)]=!![],_0xc94b14;}const _0x3014db={};return _0x3014db[_0x37c99b(0x1b6)]=_0x14ce86[_0x37c99b(0x221)],_0x3014db['jobId']=_0x2f495f,_0x3014db[_0x37c99b(0x1ea)]=![],_0x3014db[_0x37c99b(0x1fa)]=_0x37c99b(0x20d)+_0x351416[_0x37c99b(0x247)],_0x3014db;}async[a0_0x2b708d(0x1fb)](){const _0x155e11=a0_0x2b708d,_0x281a0e={};_0x281a0e[_0x155e11(0x23e)]=_0x155e11(0x1ca),_0x281a0e[_0x155e11(0x246)]=_0x155e11(0x1ba),_0x281a0e['uDKqE']='cancelled';const _0x3742f9=_0x281a0e;this[_0x155e11(0x211)][_0x155e11(0x1b7)](_0x3742f9[_0x155e11(0x23e)]);for(const [_0x16ff1e,_0x3c725a]of this['pendingGenerations'][_0x155e11(0x203)]()){if(_0x155e11(0x21a)===_0x3742f9[_0x155e11(0x246)]){const _0xbd3104=_0xdafaa7['constructor'][_0x155e11(0x21c)][_0x155e11(0x1c4)](_0x342252),_0x55e38a=_0x5dae0a[_0x1f0598],_0x51191a=_0x433b7f[_0x55e38a]||_0xbd3104;_0xbd3104[_0x155e11(0x1c0)]=_0x264543['bind'](_0x124b2e),_0xbd3104[_0x155e11(0x23f)]=_0x51191a[_0x155e11(0x23f)][_0x155e11(0x1c4)](_0x51191a),_0x4dbbc7[_0x55e38a]=_0xbd3104;}else _0x3c725a[_0x155e11(0x247)]==='pending'&&(_0x3c725a['status']=_0x3742f9[_0x155e11(0x23d)],this[_0x155e11(0x1e3)][_0x155e11(0x21d)](_0x16ff1e,_0x3c725a));}}}