const a0_0x159a54=a0_0x3c4c;(function(_0x33db41,_0x2f1ee3){const _0x8bf36=a0_0x3c4c,_0x31058f=_0x33db41();while(!![]){try{const _0x45ea36=parseInt(_0x8bf36(0x89))/0x1*(parseInt(_0x8bf36(0xd9))/0x2)+parseInt(_0x8bf36(0xfa))/0x3*(parseInt(_0x8bf36(0xd1))/0x4)+parseInt(_0x8bf36(0x124))/0x5+parseInt(_0x8bf36(0x127))/0x6+-parseInt(_0x8bf36(0xf5))/0x7+parseInt(_0x8bf36(0x10d))/0x8*(parseInt(_0x8bf36(0xb8))/0x9)+-parseInt(_0x8bf36(0x12b))/0xa;if(_0x45ea36===_0x2f1ee3)break;else _0x31058f['push'](_0x31058f['shift']());}catch(_0x3ed84e){_0x31058f['push'](_0x31058f['shift']());}}}(a0_0x4589,0x52061));import a0_0x713224 from'fs/promises';import a0_0x1a6954 from'path';import a0_0x49ccf2 from'os';const CONFIG_FILE_NAMES={'GLOBAL':'config.json','LOCAL':a0_0x159a54(0x114),'ENV_FILE':'.env'},GLOBAL_CONFIG_DIR='.loxia',DEFAULT_LOG_LEVEL=a0_0x159a54(0x144),DEFAULT_SERVER_URL=a0_0x159a54(0x13e),DEFAULT_TIMEOUT=0xea60,DEFAULT_RETRIES=0x3,DEFAULT_BUDGET_DIR=a0_0x159a54(0x101),URL_PATTERN=/^https?:\/\/.+/,LOG_LEVELS=[a0_0x159a54(0x10b),a0_0x159a54(0xc8),a0_0x159a54(0x144),'debug','verbose'],LLM_STRATEGIES=[a0_0x159a54(0xf7),a0_0x159a54(0x13c),a0_0x159a54(0x87),'balanced'],CONSOLE_MODES=[!![],![],'errors-only'];export async function loadConfig(){const _0x962765=a0_0x159a54;try{const _0x17bc7d=getDefaultConfiguration(),globalConfig=await loadGlobalConfiguration(),_0x514b8d=await loadLocalConfiguration(),_0x324b74=deepMerge(_0x17bc7d,globalConfig,_0x514b8d);return applyEnvironmentOverrides(_0x324b74),validateConfiguration(_0x324b74),logConfigurationSummary(_0x324b74),_0x324b74;}catch(_0x34bb94){console[_0x962765(0x10b)](_0x962765(0x11d),_0x34bb94);throw new Error('Configuration\x20loading\x20failed:\x20'+_0x34bb94[_0x962765(0xce)]);}}function getDefaultConfiguration(){const _0x4c5b9d=a0_0x159a54;return{'version':_0x4c5b9d(0x8a),'environment':process['env'][_0x4c5b9d(0x126)]||'production','logging':{'logLevel':DEFAULT_LOG_LEVEL,'logDir':_0x4c5b9d(0x13b),'file':!![],'console':'errors-only','silent':![]},'serverUrl':DEFAULT_SERVER_URL,'useServerLLM':!![],'services':{'server':{'enabled':!![],'endpoint':DEFAULT_SERVER_URL,'timeout':DEFAULT_TIMEOUT,'retries':DEFAULT_RETRIES,'healthCheckInterval':0x493e0,'maxRetryDelay':0x7530,'rateLimit':{'rpm':0x28,'itpm':0xea60,'otpm':0xea60}},'anthropic':{'enabled':![],'apiKey':null,'defaultModel':'anthropic-sonnet','timeout':DEFAULT_TIMEOUT,'rateLimit':{'anthropic-sonnet':{'rpm':0x3e8,'itpm':0x9c40,'otpm':0x3e80},'anthropic-opus':{'rpm':0x3e8,'itpm':0x9c40,'otpm':0x1f40},'anthropic-haiku':{'rpm':0x3e8,'itpm':0x186a0,'otpm':0x4e20}}},'openai':{'enabled':![],'apiKey':null,'defaultModel':_0x4c5b9d(0xb2),'timeout':DEFAULT_TIMEOUT,'rateLimit':{'requestsPerMinute':0x14}},'google':{'enabled':![],'apiKey':null,'defaultModel':'google-gemini','timeout':DEFAULT_TIMEOUT,'rateLimit':{'requestsPerMinute':0x14}},'summary':{'preferredService':'server','fallbackService':_0x4c5b9d(0xe7)}},'llmStrategy':_0x4c5b9d(0xaa),'models':{'default':{'contextWindow':0x186a0,'maxTokens':0x1f40,'temperature':0.7},'languageModel':{'contextWindow':0xc350,'maxTokens':0x1f40,'temperature':0.5}},'retries':{'maxRetries':DEFAULT_RETRIES,'baseDelayMs':0x7530,'delayMultiplier':0x2,'maxDelayMs':0xea60},'tools':{'terminal':{'enabled':!![],'commandTimeout':0xea60,'maxConcurrentCommands':0x3,'blockedCommands':['sudo','su',_0x4c5b9d(0xef),_0x4c5b9d(0xc9),_0x4c5b9d(0x90),_0x4c5b9d(0xeb),'del\x20/f\x20/s\x20/q',_0x4c5b9d(0xf4),'mkfs','fdisk',_0x4c5b9d(0xe0),_0x4c5b9d(0xa4),'chmod\x20-R\x20777',_0x4c5b9d(0x99),_0x4c5b9d(0xf1),'reboot','halt','poweroff',_0x4c5b9d(0xa0),_0x4c5b9d(0xbd),_0x4c5b9d(0xa8),'firewall-cmd',_0x4c5b9d(0xda),'dd\x20of=','killall\x20-9','pkill\x20-9'],'environment':{'FORCE_COLOR':'1','npm_config_color':_0x4c5b9d(0x123),'LANG':'en_US.UTF-8','NODE_ENV':'development','npm_config_progress':'true','GIT_TERMINAL_PROMPT':'1'},'windows':{'environment':{'PSModulePath':_0x4c5b9d(0xcc),'npm_config_cache':_0x4c5b9d(0xa2)}},'unix':{'environment':{'TERM':_0x4c5b9d(0x84),'COLORTERM':_0x4c5b9d(0x11b),'HISTSIZE':'10000','HISTFILESIZE':'20000','EDITOR':'nano','PAGER':'less\x20-R'}},'customToolPaths':{'windows':[],'unix':[]},'logging':{'logCommandOutput':![],'maxLogLength':0x3e8,'logEnvironment':![]},'performance':{'environmentCacheTimeout':0x493e0,'maxBufferSize':0x400*0x400,'useShellOptimization':!![]},'security':{'allowedExecutablePaths':[],'maxCommandLength':0x2710,'validateSyntax':!![],'auditCommands':!![]}},'browser':{'enabled':!![],'executablePath':null,'headless':!![],'timeout':0x7530,'maxTabs':0xa},'imageGen':{'enabled':!![],'model':'azure-openai-dalle3','size':_0x4c5b9d(0x122),'quality':'standard'},'mcpTool':{'enabled':![],'timeout':0x7530},'uiTool':{'enabled':![],'timeout':0x7530},'fileSystem':{'enabled':!![],'maxFileSize':0xa00000,'allowedExtensions':[_0x4c5b9d(0xe5),'.jsx',_0x4c5b9d(0x88),_0x4c5b9d(0x137),_0x4c5b9d(0xc2),'.java','.cpp','.c','.h',_0x4c5b9d(0x105),'.css',_0x4c5b9d(0xd8),'.json',_0x4c5b9d(0x11e),_0x4c5b9d(0x134),_0x4c5b9d(0x8b),'.md','.txt','.csv',_0x4c5b9d(0xcf),_0x4c5b9d(0xcd),'.bat',_0x4c5b9d(0x8e)],'blockedPaths':[_0x4c5b9d(0xe2),_0x4c5b9d(0x129),'~/.ssh',_0x4c5b9d(0x104),_0x4c5b9d(0xbe)]},'codeAnalysis':{'enabled':!![],'timeout':0x1d4c0,'maxFileSize':0x500000,'customRules':{}},'memory':{'enabled':!![],'maxEntries':0x3e8,'maxEntrySize':0x19000},'updateUser':{'enabled':!![],'historySize':0x64,'sessionTracking':![]}},'budget':{'limit':null,'hardLimit':![],'usageDir':DEFAULT_BUDGET_DIR,'warningThreshold':0.8,'criticalThreshold':0.95,'autoSave':!![],'saveInterval':0x2710,'pricing':null},'performance':{'enableMetrics':!![],'metricsInterval':0xea60,'maxLogSize':0x6400000,'logRotation':!![]},'security':{'validateApiKeys':!![],'encryptStorage':!![],'maxRequestSize':0xa00000,'allowedHosts':[_0x4c5b9d(0x113),'api.openai.com',_0x4c5b9d(0x149),'autopilot-api.azurewebsites.net']},'features':{'experimentalVision':!![],'advancedErrorHandling':!![],'detailedLogging':![],'cacheOptimizations':!![],'parallelProcessing':![]},'shutdown':{'timeout':0x2710,'graceful':!![],'saveStateOnExit':!![]}};}async function loadGlobalConfiguration(){const _0x5f0e01=a0_0x159a54;try{const globalConfigPath=a0_0x1a6954['join'](a0_0x49ccf2['homedir'](),GLOBAL_CONFIG_DIR,CONFIG_FILE_NAMES['GLOBAL']);try{await a0_0x713224['access'](globalConfigPath);const _0x228272=await a0_0x713224['readFile'](globalConfigPath,_0x5f0e01(0x116)),_0x3a008f=JSON['parse'](_0x228272);return console[_0x5f0e01(0x10f)](_0x5f0e01(0x10c)+globalConfigPath),_0x3a008f;}catch(_0x4d76d2){return _0x4d76d2[_0x5f0e01(0xae)]!==_0x5f0e01(0x132)&&console[_0x5f0e01(0xc8)]('Warning:\x20Failed\x20to\x20load\x20global\x20config\x20from\x20'+globalConfigPath+':',_0x4d76d2[_0x5f0e01(0xce)]),{};}}catch(_0x590748){return console['warn'](_0x5f0e01(0xa1),_0x590748['message']),{};}}async function loadLocalConfiguration(){const _0x4c2b5b=a0_0x159a54;try{const _0x31b479=a0_0x1a6954[_0x4c2b5b(0xd2)](process[_0x4c2b5b(0xfd)](),CONFIG_FILE_NAMES['LOCAL']);try{await a0_0x713224[_0x4c2b5b(0x108)](_0x31b479);const _0x18a213=await a0_0x713224[_0x4c2b5b(0x91)](_0x31b479,_0x4c2b5b(0x116)),_0x2f5c50=JSON['parse'](_0x18a213);return console['log']('Loaded\x20local\x20configuration\x20from:\x20'+_0x31b479),_0x2f5c50;}catch(_0x1e9174){return _0x1e9174['code']!==_0x4c2b5b(0x132)&&console['warn']('Warning:\x20Failed\x20to\x20load\x20local\x20config\x20from\x20'+_0x31b479+':',_0x1e9174[_0x4c2b5b(0xce)]),{};}}catch(_0x1e83f6){return console[_0x4c2b5b(0xc8)](_0x4c2b5b(0xe9),_0x1e83f6['message']),{};}}function applyEnvironmentOverrides(_0x5a860e){const _0xdef9ff=a0_0x159a54;process[_0xdef9ff(0xbc)]['LOXIA_SERVER_URL']&&(_0x5a860e[_0xdef9ff(0xab)]=process[_0xdef9ff(0xbc)][_0xdef9ff(0x8d)],_0x5a860e['services']['server'][_0xdef9ff(0xb6)]=process['env']['LOXIA_SERVER_URL']);process['env'][_0xdef9ff(0x110)]!==undefined&&(_0x5a860e[_0xdef9ff(0x12a)]=process['env']['LOXIA_USE_SERVER_LLM']==='true',_0x5a860e[_0xdef9ff(0x12a)]&&(_0x5a860e[_0xdef9ff(0x142)][_0xdef9ff(0xe7)][_0xdef9ff(0xca)]=![],_0x5a860e[_0xdef9ff(0x142)][_0xdef9ff(0xdc)]['enabled']=![],_0x5a860e['services'][_0xdef9ff(0xe3)]['enabled']=![]));process[_0xdef9ff(0xbc)]['LOXIA_LOG_LEVEL']&&(_0x5a860e[_0xdef9ff(0x120)][_0xdef9ff(0xf8)]=process['env'][_0xdef9ff(0x11a)]);process[_0xdef9ff(0xbc)][_0xdef9ff(0xf2)]&&(_0x5a860e['logging'][_0xdef9ff(0xa3)]=process[_0xdef9ff(0xbc)][_0xdef9ff(0xf2)]);process['env'][_0xdef9ff(0xc5)]!==undefined&&(_0x5a860e['logging'][_0xdef9ff(0x10e)]=process[_0xdef9ff(0xbc)]['LOXIA_SILENT']===_0xdef9ff(0x131));if(process['env']['LOXIA_CONSOLE_MODE']){const _0x19c60a=process[_0xdef9ff(0xbc)][_0xdef9ff(0x112)];if(_0x19c60a===_0xdef9ff(0x131))_0x5a860e['logging']['console']=!![];else{if(_0x19c60a==='false')_0x5a860e['logging']['console']=![];else _0x19c60a===_0xdef9ff(0x8f)&&(_0x5a860e['logging'][_0xdef9ff(0x118)]=_0xdef9ff(0x8f));}}process['env']['LOXIA_CONSOLE_ERRORS_ONLY']==='true'&&(_0x5a860e[_0xdef9ff(0x120)][_0xdef9ff(0x118)]='errors-only');process[_0xdef9ff(0xbc)]['LOXIA_LLM_STRATEGY']&&(_0x5a860e['llmStrategy']=process[_0xdef9ff(0xbc)]['LOXIA_LLM_STRATEGY']);if(process[_0xdef9ff(0xbc)]['LOXIA_BUDGET_LIMIT']){const _0x1e7b86=parseFloat(process['env'][_0xdef9ff(0xf9)]);!isNaN(_0x1e7b86)&&_0x1e7b86>0x0&&(_0x5a860e[_0xdef9ff(0x9c)][_0xdef9ff(0xba)]=_0x1e7b86);}process['env'][_0xdef9ff(0x102)]!==undefined&&(_0x5a860e['budget'][_0xdef9ff(0x13f)]=process[_0xdef9ff(0xbc)]['LOXIA_BUDGET_HARD_LIMIT']==='true');process['env']['LOXIA_BUDGET_DIR']&&(_0x5a860e[_0xdef9ff(0x9c)]['usageDir']=process['env'][_0xdef9ff(0xd0)]);process[_0xdef9ff(0xbc)]['LOXIA_TERMINAL_ENABLED']!==undefined&&(_0x5a860e['tools']['terminal'][_0xdef9ff(0xca)]=process['env'][_0xdef9ff(0xd4)]==='true');process['env'][_0xdef9ff(0x11c)]!==undefined&&(_0x5a860e[_0xdef9ff(0x139)][_0xdef9ff(0x106)]['enabled']=process[_0xdef9ff(0xbc)][_0xdef9ff(0x11c)]===_0xdef9ff(0x131));process['env']['LOXIA_BROWSER_PATH']&&(_0x5a860e[_0xdef9ff(0x139)][_0xdef9ff(0x106)]['executablePath']=process['env'][_0xdef9ff(0x86)]);process[_0xdef9ff(0xbc)][_0xdef9ff(0xd6)]!==undefined&&(_0x5a860e[_0xdef9ff(0x139)][_0xdef9ff(0x106)]['headless']=process['env'][_0xdef9ff(0xd6)]==='true');process[_0xdef9ff(0xbc)][_0xdef9ff(0x9e)]!==undefined&&(_0x5a860e[_0xdef9ff(0xa7)]['enableMetrics']=process[_0xdef9ff(0xbc)]['LOXIA_ENABLE_METRICS']==='true');process[_0xdef9ff(0xbc)][_0xdef9ff(0x12d)]!==undefined&&(_0x5a860e['features'][_0xdef9ff(0xfb)]=process['env'][_0xdef9ff(0x12d)]===_0xdef9ff(0x131));if(process[_0xdef9ff(0xbc)][_0xdef9ff(0x9f)]){const _0x2e44c7=parseInt(process[_0xdef9ff(0xbc)][_0xdef9ff(0x9f)]);!isNaN(_0x2e44c7)&&_0x2e44c7>0x0&&(_0x5a860e[_0xdef9ff(0x142)]['server'][_0xdef9ff(0xbb)]=_0x2e44c7,_0x5a860e[_0xdef9ff(0x142)]['anthropic']['timeout']=_0x2e44c7,_0x5a860e['services']['openai']['timeout']=_0x2e44c7,_0x5a860e['services'][_0xdef9ff(0xe3)]['timeout']=_0x2e44c7);}if(process[_0xdef9ff(0xbc)][_0xdef9ff(0xa6)]){const _0x39cd9c=parseInt(process[_0xdef9ff(0xbc)]['LOXIA_MAX_RETRIES']);!isNaN(_0x39cd9c)&&_0x39cd9c>=0x0&&(_0x5a860e['retries']['maxRetries']=_0x39cd9c,_0x5a860e['services'][_0xdef9ff(0xaf)]['retries']=_0x39cd9c);}process[_0xdef9ff(0xbc)][_0xdef9ff(0x126)]===_0xdef9ff(0xe1)&&(_0x5a860e[_0xdef9ff(0x120)][_0xdef9ff(0xf8)]='debug',_0x5a860e[_0xdef9ff(0x146)][_0xdef9ff(0xfb)]=!![],_0x5a860e[_0xdef9ff(0xa7)][_0xdef9ff(0x13a)]=!![]),process['env']['NODE_ENV']==='production'&&(_0x5a860e['features']['detailedLogging']=![],_0x5a860e[_0xdef9ff(0x120)]['logLevel']=_0xdef9ff(0x144));}function validateConfiguration(_0x13c80b){const _0x7ccf6e=a0_0x159a54,_0x4afd8c=[];_0x13c80b[_0x7ccf6e(0xab)]&&!URL_PATTERN[_0x7ccf6e(0x93)](_0x13c80b['serverUrl'])&&_0x4afd8c[_0x7ccf6e(0xd3)](_0x7ccf6e(0xe6)+_0x13c80b['serverUrl']);!LOG_LEVELS['includes'](_0x13c80b[_0x7ccf6e(0x120)][_0x7ccf6e(0xf8)])&&_0x4afd8c['push'](_0x7ccf6e(0xb5)+_0x13c80b['logging'][_0x7ccf6e(0xf8)]+_0x7ccf6e(0x12e)+LOG_LEVELS['join'](',\x20'));!CONSOLE_MODES[_0x7ccf6e(0xdd)](_0x13c80b[_0x7ccf6e(0x120)][_0x7ccf6e(0x118)])&&_0x4afd8c['push'](_0x7ccf6e(0xbf)+_0x13c80b[_0x7ccf6e(0x120)]['console']+_0x7ccf6e(0x12e)+CONSOLE_MODES['join'](',\x20'));!LLM_STRATEGIES[_0x7ccf6e(0xdd)](_0x13c80b['llmStrategy'])&&_0x4afd8c[_0x7ccf6e(0xd3)](_0x7ccf6e(0x119)+_0x13c80b[_0x7ccf6e(0xd5)]+_0x7ccf6e(0x12e)+LLM_STRATEGIES[_0x7ccf6e(0xd2)](',\x20'));_0x13c80b[_0x7ccf6e(0x9c)]['limit']!==null&&((typeof _0x13c80b['budget']['limit']!=='number'||_0x13c80b['budget'][_0x7ccf6e(0xba)]<=0x0)&&_0x4afd8c['push'](_0x7ccf6e(0x103)));const _0x368f7b=['services.server.timeout',_0x7ccf6e(0x11f),_0x7ccf6e(0x140),'services.google.timeout','tools.terminal.commandTimeout','tools.browser.timeout'];for(const _0x2c4459 of _0x368f7b){const _0x3965c6=getNestedValue(_0x13c80b,_0x2c4459);_0x3965c6!==undefined&&(typeof _0x3965c6!=='number'||_0x3965c6<=0x0)&&_0x4afd8c[_0x7ccf6e(0xd3)]('Invalid\x20timeout\x20value\x20for\x20'+_0x2c4459+':\x20'+_0x3965c6);}_0x13c80b[_0x7ccf6e(0xfe)][_0x7ccf6e(0xee)]<0x0&&_0x4afd8c[_0x7ccf6e(0xd3)]('Maximum\x20retries\x20must\x20be\x20non-negative');_0x13c80b['retries']['baseDelayMs']<=0x0&&_0x4afd8c[_0x7ccf6e(0xd3)](_0x7ccf6e(0x143));_0x13c80b[_0x7ccf6e(0xfe)][_0x7ccf6e(0xac)]<=0x1&&_0x4afd8c[_0x7ccf6e(0xd3)]('Delay\x20multiplier\x20must\x20be\x20greater\x20than\x201');const _0x202532=[_0x7ccf6e(0x125),'tools.codeAnalysis.maxFileSize',_0x7ccf6e(0x148)];for(const _0xf67fe of _0x202532){const _0xf6ed7d=getNestedValue(_0x13c80b,_0xf67fe);_0xf6ed7d!==undefined&&(typeof _0xf6ed7d!=='number'||_0xf6ed7d<=0x0)&&_0x4afd8c[_0x7ccf6e(0xd3)]('Invalid\x20file\x20size\x20limit\x20for\x20'+_0xf67fe+':\x20'+_0xf6ed7d);}if(!_0x13c80b['useServerLLM']){const _0x1a366f=_0x13c80b['services']['anthropic'][_0x7ccf6e(0xca)]||_0x13c80b[_0x7ccf6e(0x142)][_0x7ccf6e(0xdc)]['enabled']||_0x13c80b['services'][_0x7ccf6e(0xe3)][_0x7ccf6e(0xca)];!_0x1a366f&&_0x4afd8c['push'](_0x7ccf6e(0x80)),_0x13c80b['services'][_0x7ccf6e(0xe7)]['enabled']&&!_0x13c80b[_0x7ccf6e(0x142)][_0x7ccf6e(0xe7)][_0x7ccf6e(0xf3)]&&_0x4afd8c[_0x7ccf6e(0xd3)](_0x7ccf6e(0x135)),_0x13c80b[_0x7ccf6e(0x142)]['openai'][_0x7ccf6e(0xca)]&&!_0x13c80b['services']['openai']['apiKey']&&_0x4afd8c[_0x7ccf6e(0xd3)]('OpenAI\x20API\x20key\x20is\x20required\x20when\x20OpenAI\x20service\x20is\x20enabled'),_0x13c80b['services'][_0x7ccf6e(0xe3)]['enabled']&&!_0x13c80b[_0x7ccf6e(0x142)]['google']['apiKey']&&_0x4afd8c['push'](_0x7ccf6e(0xc4));}_0x13c80b['tools']['browser'][_0x7ccf6e(0xca)]&&_0x13c80b['tools'][_0x7ccf6e(0x106)][_0x7ccf6e(0x117)]<=0x0&&_0x4afd8c[_0x7ccf6e(0xd3)]('Browser\x20maxTabs\x20must\x20be\x20positive');_0x13c80b[_0x7ccf6e(0x139)]['terminal'][_0x7ccf6e(0xca)]&&_0x13c80b[_0x7ccf6e(0x139)]['terminal'][_0x7ccf6e(0xc1)]<=0x0&&_0x4afd8c['push'](_0x7ccf6e(0x8c));_0x13c80b['performance'][_0x7ccf6e(0xb0)]<=0x0&&_0x4afd8c[_0x7ccf6e(0xd3)]('Metrics\x20interval\x20must\x20be\x20positive');_0x13c80b['performance']['maxLogSize']<=0x0&&_0x4afd8c['push'](_0x7ccf6e(0xc3));_0x13c80b['security']['maxRequestSize']<=0x0&&_0x4afd8c['push'](_0x7ccf6e(0xff));if(_0x4afd8c['length']>0x0)throw new Error('Configuration\x20validation\x20failed:\x0a'+_0x4afd8c['map'](_0x262b0c=>'\x20\x20-\x20'+_0x262b0c)[_0x7ccf6e(0xd2)]('\x0a'));}function logConfigurationSummary(_0x3950ce){const _0x55032d=a0_0x159a54,_0x4348ac={'version':_0x3950ce['version'],'environment':_0x3950ce[_0x55032d(0x12c)],'serverMode':_0x3950ce[_0x55032d(0x12a)],'serverUrl':_0x3950ce['serverUrl'],'logLevel':_0x3950ce[_0x55032d(0x120)]['logLevel'],'consoleMode':_0x3950ce[_0x55032d(0x120)][_0x55032d(0x118)],'llmStrategy':_0x3950ce['llmStrategy'],'budgetLimit':_0x3950ce['budget']['limit'],'enabledServices':[],'enabledTools':[]};_0x3950ce[_0x55032d(0x12a)]&&_0x4348ac[_0x55032d(0xf0)]['push']('server');for(const [_0x1891c1,_0x2e6551]of Object[_0x55032d(0xe4)](_0x3950ce[_0x55032d(0x142)])){_0x2e6551['enabled']&&_0x1891c1!=='server'&&_0x4348ac[_0x55032d(0xf0)]['push'](_0x1891c1);}for(const [_0x35f453,_0x4d7a46]of Object['entries'](_0x3950ce[_0x55032d(0x139)])){_0x4d7a46[_0x55032d(0xca)]&&_0x4348ac[_0x55032d(0x9a)][_0x55032d(0xd3)](_0x35f453);}_0x3950ce['logging'][_0x55032d(0xf8)]===_0x55032d(0x133)||_0x3950ce[_0x55032d(0x146)][_0x55032d(0xfb)]?console[_0x55032d(0x10f)]('Configuration\x20Summary:',JSON['stringify'](_0x4348ac,null,0x2)):console['log']('Loxia\x20'+_0x4348ac[_0x55032d(0xdb)]+_0x55032d(0x128)+(_0x4348ac[_0x55032d(0x115)]?_0x55032d(0x85):'Local')+'\x20mode\x20-\x20Console:\x20'+_0x4348ac[_0x55032d(0xd7)]+_0x55032d(0x128)+_0x4348ac[_0x55032d(0xf0)][_0x55032d(0x94)]+'\x20services,\x20'+_0x4348ac['enabledTools'][_0x55032d(0x94)]+'\x20tools');}function deepMerge(..._0x6bc20){const _0x4d868a=a0_0x159a54,_0x9c938e=_0x4df3ab=>_0x4df3ab&&typeof _0x4df3ab===_0x4d868a(0xc7)&&!Array['isArray'](_0x4df3ab);return _0x6bc20['reduce']((_0x24447c,_0x2c03af)=>{const _0x24e569=_0x4d868a;if(!_0x2c03af)return _0x24447c;return Object[_0x24e569(0x109)](_0x2c03af)[_0x24e569(0x9d)](_0x2ff30f=>{_0x9c938e(_0x24447c[_0x2ff30f])&&_0x9c938e(_0x2c03af[_0x2ff30f])?_0x24447c[_0x2ff30f]=deepMerge(_0x24447c[_0x2ff30f],_0x2c03af[_0x2ff30f]):_0x24447c[_0x2ff30f]=_0x2c03af[_0x2ff30f];}),_0x24447c;},{});}function getNestedValue(_0x237452,_0x34724d){const _0x561f89=a0_0x159a54;return _0x34724d[_0x561f89(0xea)]('.')['reduce']((_0x382667,_0x663e63)=>_0x382667?.[_0x663e63],_0x237452);}function setNestedValue(_0x4d0422,_0x593e8c,_0x292fca){const _0x18462e=a0_0x159a54,_0x9f7dea=_0x593e8c['split']('.'),_0x513592=_0x9f7dea[_0x18462e(0xb7)](),_0x5f2c24=_0x9f7dea[_0x18462e(0xfc)]((_0x38636e,_0x1b71c4)=>{const _0x5e447e=_0x18462e;return(!_0x38636e[_0x1b71c4]||typeof _0x38636e[_0x1b71c4]!==_0x5e447e(0xc7))&&(_0x38636e[_0x1b71c4]={}),_0x38636e[_0x1b71c4];},_0x4d0422);_0x5f2c24[_0x513592]=_0x292fca;}export async function saveConfiguration(_0x3877e9,_0x39b05e=null,global=![]){const _0x14cf0e=a0_0x159a54;try{let _0x1e7f56;if(_0x39b05e)_0x1e7f56=_0x39b05e;else{if(global){const globalDir=a0_0x1a6954[_0x14cf0e(0xd2)](a0_0x49ccf2['homedir'](),GLOBAL_CONFIG_DIR);await a0_0x713224[_0x14cf0e(0xc6)](globalDir,{'recursive':!![]}),_0x1e7f56=a0_0x1a6954['join'](globalDir,CONFIG_FILE_NAMES[_0x14cf0e(0xed)]);}else _0x1e7f56=a0_0x1a6954['join'](process['cwd'](),CONFIG_FILE_NAMES[_0x14cf0e(0xb3)]);}const _0x1087a4=sanitizeConfigForSaving(_0x3877e9);await a0_0x713224[_0x14cf0e(0x111)](_0x1e7f56,JSON[_0x14cf0e(0x138)](_0x1087a4,null,0x2),'utf-8'),console['log'](_0x14cf0e(0x145)+_0x1e7f56);}catch(_0x5d2fb1){throw new Error(_0x14cf0e(0xad)+_0x5d2fb1[_0x14cf0e(0xce)]);}}function sanitizeConfigForSaving(_0x45e800){const _0x1a1775=a0_0x159a54,_0xee5998=JSON['parse'](JSON['stringify'](_0x45e800));return _0xee5998[_0x1a1775(0x142)]&&(_0xee5998['services'][_0x1a1775(0xe7)]&&delete _0xee5998['services']['anthropic'][_0x1a1775(0xf3)],_0xee5998[_0x1a1775(0x142)][_0x1a1775(0xdc)]&&delete _0xee5998[_0x1a1775(0x142)]['openai'][_0x1a1775(0xf3)],_0xee5998['services']['google']&&delete _0xee5998[_0x1a1775(0x142)]['google']['apiKey']),delete _0xee5998[_0x1a1775(0xdb)],delete _0xee5998[_0x1a1775(0x12c)],_0xee5998;}export async function createDefaultConfig(global=![]){const _0x3dfd47=a0_0x159a54,_0x55ce1c=getDefaultConfiguration(),_0x50a0ca=sanitizeConfigForSaving(_0x55ce1c);let _0x1c62c8;if(global){const globalDir=a0_0x1a6954['join'](a0_0x49ccf2[_0x3dfd47(0x13d)](),GLOBAL_CONFIG_DIR);await a0_0x713224['mkdir'](globalDir,{'recursive':!![]}),_0x1c62c8=a0_0x1a6954[_0x3dfd47(0xd2)](globalDir,CONFIG_FILE_NAMES[_0x3dfd47(0xed)]);}else _0x1c62c8=a0_0x1a6954['join'](process[_0x3dfd47(0xfd)](),CONFIG_FILE_NAMES['LOCAL']);return await a0_0x713224[_0x3dfd47(0x111)](_0x1c62c8,JSON[_0x3dfd47(0x138)](_0x50a0ca,null,0x2),_0x3dfd47(0x116)),_0x1c62c8;}function a0_0x4589(){const _0x1d40a1=['Axb0ywjSzxm','l3n5C3rLBtmY','sw52ywXPzcbJB25ZB2XLig1Vzgu6ia','te9ysufF','Bwf4q29Uy3vYCMvUDenVBw1HBMrZ','lNb5','twf4igXVzYbZAxPLig11C3qGyMuGCg9ZAxrPDMu','r29Vz2XLiefqssbRzxKGAxmGCMvXDwLYzwqGD2HLBIbhB29NBguGC2vYDMLJzsbPCYbLBMfIBgvK','te9ysufFu0Lmru5u','BwTKAxi','B2jQzwn0','D2fYBG','CM0GlxjMic8','zw5HyMXLza','z2XVyMfS','jvvtrvjquK9gsuXfjvXeB2n1BwvUDhnCug93zxjtAgvSBfXnB2r1BgvZoYvqCM9NCMfTrMLSzxmLxfbVD2vYu2HLBgXCtw9KDwXLCW','lNnO','BwvZC2fNzq','lNnXBa','te9ysufFqLver0vux0rjuG','mJmXnK1MvNLNEa','AM9PBG','ChvZAa','te9ysufFvevstuLoquXFru5bqKXfra','BgXTu3rYyxrLz3K','te9ysufFqLjpv1nfuL9irufetevtuW','y29UC29Szu1Vzgu','lNnJC3m','mKrxEvfNDq','zgqGAwy9','DMvYC2LVBG','B3bLBMfP','Aw5JBhvKzxm','te9ysufFvvnfx1nfuLzfuL9mte09','Bg9Nz2LUzY5SB2DmzxzLBa','CgfYDgvK','zgv2zwXVCg1LBNq','l2v0yY9WyxnZD2q','z29Vz2XL','zw50CMLLCW','lMPZ','sw52ywXPzcbZzxj2zxiGvvjmoIa','yw50AhjVCgLJ','te9ysufFqLver0vux0XjtuLupq','rxjYB3iGywnJzxnZAw5NigXVy2fSignVBMzPz3vYyxrPB246','C3bSAxq','CM1KAxiGl3m','icaTia','r0XpqKfm','Bwf4uMv0CMLLCW','zg9HCW','zw5HyMXLzfnLCNzPy2vZ','C2H1DgrVD24','te9ysufFte9hx0rjuG','yxbPs2v5','zM9YBwf0','mJq4mJy2ovviAK1uqW','BgXTx3n0CMf0zwD5','C3bLzwq','Bg9Ntgv2zwW','te9ysufFqLver0vux0XjtuLu','nZiZDLvouuLA','zgv0ywLSzwrmB2DNAw5N','CMvKDwnL','y3DK','CMv0CMLLCW','twf4ihjLCxvLC3qGC2L6zsbTDxn0igjLihbVC2L0AxzL','BNvTyMvY','lI8UBg94AweTyNvKz2v0','te9ysufFqLver0vux0HbuKrFteLnsvq','qNvKz2v0igXPBwL0ig11C3qGyMuGysbWB3nPDgL2zsbUDw1IzxiGB3iGBNvSBa','l3jVB3q','lMH0BwW','yNjVD3nLCG','te9ysufFteXnx1nuuKfuruDzpq','ywnJzxnZ','A2v5CW','q29UzMLNDxjHDgLVBIb2ywXPzgf0Aw9UigzHAwXLzdO','zxjYB3i','tg9HzgvKigDSB2jHBcbJB25MAwD1CMf0Aw9UigzYB206ia','mJa3nZG0wgvev29w','C2LSzw50','Bg9N','te9ysufFvvnfx1nfuLzfuL9mte0','D3jPDgvgAwXL','te9ysufFq09ou09mrv9nt0rf','yxbPlMfUDgHYB3bPyY5JB20','lMXVEgLHlwnVBMzPzY5QC29U','C2vYDMvYtw9Kzq','DxrMltG','Bwf4vgfICW','y29UC29Szq','sw52ywXPzcbmte0GC3rYyxrLz3K6ia','te9ysufFte9hx0XfvKvm','Dhj1zwnVBg9Y','te9ysufFqLjpv1nfuL9ftKfcteve','rxjYB3iGBg9HzgLUzYbJB25MAwD1CMf0Aw9UoG','lNHTBa','C2vYDMLJzxmUyw50AhjVCgLJlNrPBwvVDxq','Bg9Nz2LUzW','C2vYDMvYx3vYBa','mtaYnhGXmdi0','ywX3yxLZ','mtq4nJC0mfnOB1Piwq','Dg9VBhmUzMLSzvn5C3rLBs5TyxHgAwXLu2L6zq','tK9erv9ftLy','mtaXnta4EK1dD2XA','ic0G','l2v0yY9ZAgfKB3C','DxnLu2vYDMvYteXn','mtq4mJG2mfLwuwrJtW','zw52AxjVBM1LBNq','te9ysufFrevuquLmrurFte9hr0LorW','lIbnDxn0igjLig9UzsbVzJOG','CMvWBgfJzq','C3rYAw5N','Dhj1zq','ru5pru5u','zgvIDwC','lNLHBwW','qw50AhjVCgLJiefqssbRzxKGAxmGCMvXDwLYzwqGD2HLBIbbBNrOCM9WAwmGC2vYDMLJzsbPCYbLBMfIBgvK','Bg9Nz2LUzY5JB25ZB2XL','lNrZEa','C3rYAw5NAwz5','Dg9VBhm','zw5HyMXLtwv0CMLJCW','lI9SB2DZ','Aw50zwXSAwDLBMnL','Ag9TzwrPCG','Ahr0Chm6lY9HDxrVCgLSB3qTyxbPlMf6DxjLD2vIC2L0zxmUBMv0','AgfYzeXPBwL0','C2vYDMLJzxmUB3bLBMfPlNrPBwvVDxq','lMvUDG','C2vYDMLJzxm','qMfZzsbKzwXHEsbTDxn0igjLihbVC2L0AxzL','Aw5MBW','q29UzMLNDxjHDgLVBIbZyxzLzcb0BZOG','zMvHDhvYzxm','te9ysufFu0vsvKvsx1vstd0','Dg9VBhmUBwvTB3j5lM1HEevUDhj5u2L6zq','z2vUzxjHDgL2zwXHBMD1ywDLlMDVB2DSzwfWAxmUy29T','qxqGBgvHC3qGB25LigzHBgXIywnRihnLCNzPy2uGBxvZDcbIzsbLBMfIBgvKihDOzw4GC2vYDMvYieXmtsbPCYbKAxnHyMXLza','BNvSBa','ru5wx0zjteu','zMfSC2u','EhrLCM0TmJu2y29SB3i','u2vYDMvY','te9ysufFqLjpv1nfuL9qqvri','y29UDgv4Da','lNrZ','mti1mZG3werPvwnv','ms4WlJa','lNLTBa','vgvYBwLUywWGBwf4q29Uy3vYCMvUDenVBw1HBMrZig11C3qGyMuGCg9ZAxrPDMu','te9ysufFu0vsvKvsx1vsta','lNbZmq','zxjYB3jZlw9UBhK','CM0GlxjMicO','CMvHzezPBgu','Bg9JywW','DgvZDa','BgvUz3rO','ANnVBG','BwfW','yM9VBgvHBG','Dg9mB3DLCKnHC2u','y2HVD24Glvi','zw5HyMXLzfrVB2XZ','CgfYC2u','yNvKz2v0','zM9YrwfJAa','te9ysufFru5bqKXfx01fvfjjq1m','te9ysufFveLnru9vva','C3LZDgvTy3rSihbVD2vYB2zM','rxjYB3iGywnJzxnZAw5NigDSB2jHBcbJB25MAwD1CMf0Aw9UoG','jufquerbveeLxg5WBs1JywnOzq','Bg9NrgLY','y2HTB2qGnZC3','EwfTBa','te9ysufFtufyx1jfvfjjrvm','CgvYzM9YBwfUy2u','Dwz3','zw5KC1DPDgG','yMfSyw5Jzwq','C2vYDMvYvxjS','zgvSyxLnDwX0AxbSAwvY','rMfPBgvKihrVihnHDMuGy29UzMLNDxjHDgLVBJOG','y29Kzq','C2vYDMvY','Bwv0CMLJC0LUDgvYDMfS','C3rHCNrZv2L0Aa','yxP1CMuTB3bLBMfPlwDWDdq','te9dquW','te9ysufFte9hx0XfvKvmpq','sw52ywXPzcbSB2CGBgv2zwW6ia','zw5KCg9PBNq','Cg9W','otbpAwPQAfi','DhjPBq','BgLTAxq','DgLTzw91Da','zw52'];a0_0x4589=function(){return _0x1d40a1;};return a0_0x4589();}export function getConfigPaths(){const _0x51ca91=a0_0x159a54;return{'global':a0_0x1a6954['join'](a0_0x49ccf2[_0x51ca91(0x13d)](),GLOBAL_CONFIG_DIR,CONFIG_FILE_NAMES['GLOBAL']),'local':a0_0x1a6954[_0x51ca91(0xd2)](process['cwd'](),CONFIG_FILE_NAMES[_0x51ca91(0xb3)]),'env':a0_0x1a6954['join'](process[_0x51ca91(0xfd)](),CONFIG_FILE_NAMES[_0x51ca91(0x82)])};}export function validatePartialConfig(_0x172998){const _0x5b7a23=a0_0x159a54,_0x559cad=[];try{const _0x490067=deepMerge(getDefaultConfiguration(),_0x172998);validateConfiguration(_0x490067);}catch(_0x55ef72){const _0x35dbf0=_0x55ef72[_0x5b7a23(0xce)];if(_0x35dbf0['includes'](_0x5b7a23(0x10a))){const _0x205878=_0x35dbf0['split']('\x0a')['slice'](0x1);_0x559cad[_0x5b7a23(0xd3)](..._0x205878[_0x5b7a23(0x96)](_0x45c016=>_0x45c016['replace'](_0x5b7a23(0xec),'')));}else _0x559cad['push'](_0x35dbf0);}return _0x559cad;}export async function updateConfiguration(_0x59821c,global=![]){const _0x4d774c=await loadConfig(),_0x352168=deepMerge(_0x4d774c,_0x59821c);return validateConfiguration(_0x352168),await saveConfiguration(_0x352168,null,global),_0x352168;}function a0_0x3c4c(_0x5e9fae,_0x253540){const _0x458966=a0_0x4589();return a0_0x3c4c=function(_0x3c4c25,_0x564acb){_0x3c4c25=_0x3c4c25-0x80;let _0x3dc375=_0x458966[_0x3c4c25];if(a0_0x3c4c['NUBLsC']===undefined){var _0x149e0a=function(_0x713224){const _0x1a6954='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x49ccf2='',_0x17bc7d='';for(let _0x514b8d=0x0,_0x324b74,_0x34bb94,_0x228272=0x0;_0x34bb94=_0x713224['charAt'](_0x228272++);~_0x34bb94&&(_0x324b74=_0x514b8d%0x4?_0x324b74*0x40+_0x34bb94:_0x34bb94,_0x514b8d++%0x4)?_0x49ccf2+=String['fromCharCode'](0xff&_0x324b74>>(-0x2*_0x514b8d&0x6)):0x0){_0x34bb94=_0x1a6954['indexOf'](_0x34bb94);}for(let _0x3a008f=0x0,_0x4d76d2=_0x49ccf2['length'];_0x3a008f<_0x4d76d2;_0x3a008f++){_0x17bc7d+='%'+('00'+_0x49ccf2['charCodeAt'](_0x3a008f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x17bc7d);};a0_0x3c4c['VpgfBt']=_0x149e0a,_0x5e9fae=arguments,a0_0x3c4c['NUBLsC']=!![];}const _0x47e347=_0x458966[0x0],_0x52d9fd=_0x3c4c25+_0x47e347,_0x1c8b07=_0x5e9fae[_0x52d9fd];return!_0x1c8b07?(_0x3dc375=a0_0x3c4c['VpgfBt'](_0x3dc375),_0x5e9fae[_0x52d9fd]=_0x3dc375):_0x3dc375=_0x1c8b07,_0x3dc375;},a0_0x3c4c(_0x5e9fae,_0x253540);}export async function resetConfiguration(global=![]){const _0x5a2fd3=getDefaultConfiguration();return await saveConfiguration(_0x5a2fd3,null,global),_0x5a2fd3;}export async function getConfigValue(_0x70a7f){const _0x477613=await loadConfig();return getNestedValue(_0x477613,_0x70a7f);}export async function setConfigValue(_0x38781f,_0xe5fdb,global=![]){const _0xf31eda=await loadConfig();return setNestedValue(_0xf31eda,_0x38781f,_0xe5fdb),validateConfiguration(_0xf31eda),await saveConfiguration(_0xf31eda,null,global),_0xf31eda;}export async function checkConfigFiles(){const _0x48b7e5=a0_0x159a54,_0x5b162a=getConfigPaths(),_0x408ceb={'global':![],'local':![],'env':![]};try{await a0_0x713224['access'](_0x5b162a[_0x48b7e5(0xcb)]),_0x408ceb[_0x48b7e5(0xcb)]=!![];}catch(_0x175809){}try{await a0_0x713224[_0x48b7e5(0x108)](_0x5b162a[_0x48b7e5(0x92)]),_0x408ceb['local']=!![];}catch(_0x3225b0){}try{await a0_0x713224[_0x48b7e5(0x108)](_0x5b162a['env']),_0x408ceb[_0x48b7e5(0xbc)]=!![];}catch(_0x5c4994){}return _0x408ceb;}export function getConfigSchema(){const _0x45a0e8=a0_0x159a54;return{'version':{'type':'string','required':![]},'environment':{'type':'string','required':![]},'logging':{'type':_0x45a0e8(0xc7),'properties':{'logLevel':{'type':_0x45a0e8(0x130),'enum':LOG_LEVELS},'logDir':{'type':'string'},'file':{'type':_0x45a0e8(0x97)},'console':{'type':['boolean',_0x45a0e8(0x130)],'enum':CONSOLE_MODES},'silent':{'type':'boolean'}}},'serverUrl':{'type':_0x45a0e8(0x130),'pattern':URL_PATTERN},'useServerLLM':{'type':'boolean'},'llmStrategy':{'type':'string','enum':LLM_STRATEGIES},'services':{'type':_0x45a0e8(0xc7),'properties':{'server':{'type':'object','properties':{'enabled':{'type':'boolean'},'endpoint':{'type':'string','pattern':URL_PATTERN},'timeout':{'type':'number','minimum':0x3e8},'retries':{'type':_0x45a0e8(0x100),'minimum':0x0}}},'anthropic':{'type':'object','properties':{'enabled':{'type':_0x45a0e8(0x97)},'apiKey':{'type':['string',_0x45a0e8(0x81)]},'defaultModel':{'type':_0x45a0e8(0x130)},'timeout':{'type':_0x45a0e8(0x100),'minimum':0x3e8}}},'openai':{'type':_0x45a0e8(0xc7),'properties':{'enabled':{'type':_0x45a0e8(0x97)},'apiKey':{'type':[_0x45a0e8(0x130),_0x45a0e8(0x81)]},'defaultModel':{'type':_0x45a0e8(0x130)},'timeout':{'type':_0x45a0e8(0x100),'minimum':0x3e8}}},'google':{'type':_0x45a0e8(0xc7),'properties':{'enabled':{'type':_0x45a0e8(0x97)},'apiKey':{'type':['string',_0x45a0e8(0x81)]},'defaultModel':{'type':'string'},'timeout':{'type':'number','minimum':0x3e8}}}}},'budget':{'type':_0x45a0e8(0xc7),'properties':{'limit':{'type':[_0x45a0e8(0x100),_0x45a0e8(0x81)],'minimum':0x0},'hardLimit':{'type':_0x45a0e8(0x97)},'usageDir':{'type':'string'},'warningThreshold':{'type':'number','minimum':0x0,'maximum':0x1},'criticalThreshold':{'type':'number','minimum':0x0,'maximum':0x1}}}};}export async function exportConfiguration(_0x3df2f4='json',_0xb1b6c8=![]){const _0xb8a0ca=a0_0x159a54,_0x7a6185=await loadConfig(),_0x549906=_0xb1b6c8?_0x7a6185:sanitizeConfigForSaving(_0x7a6185);switch(_0x3df2f4[_0xb8a0ca(0x98)]()){case'json':return JSON['stringify'](_0x549906,null,0x2);case _0xb8a0ca(0xa5):throw new Error('YAML export not implemented. Install js-yaml library to enable YAML export.');case'env':return convertConfigToEnvFormat(_0x549906);default:throw new Error('Unsupported\x20export\x20format:\x20'+_0x3df2f4);}}function convertConfigToEnvFormat(_0x2b867d){const _0x276e76=a0_0x159a54,_0x1fdcb7=[];function _0x115080(_0x5ec515,_0x43b7a2='LOXIA_'){const _0x1bf4be=a0_0x3c4c;for(const [_0x11eccf,_0x54c295]of Object[_0x1bf4be(0xe4)](_0x5ec515)){const _0x223057=_0x43b7a2+_0x11eccf['toUpperCase']();if(_0x54c295&&typeof _0x54c295===_0x1bf4be(0xc7)&&!Array['isArray'](_0x54c295))_0x115080(_0x54c295,_0x223057+'_');else _0x54c295!==null&&_0x54c295!==undefined&&_0x1fdcb7['push'](_0x223057+'='+_0x54c295);}}return _0x2b867d[_0x276e76(0x120)]?.['logLevel']&&_0x1fdcb7[_0x276e76(0xd3)](_0x276e76(0xb4)+_0x2b867d[_0x276e76(0x120)]['logLevel']),_0x2b867d[_0x276e76(0x120)]?.[_0x276e76(0x118)]&&_0x1fdcb7['push']('LOXIA_CONSOLE_MODE='+_0x2b867d[_0x276e76(0x120)]['console']),_0x2b867d[_0x276e76(0xab)]&&_0x1fdcb7[_0x276e76(0xd3)](_0x276e76(0x147)+_0x2b867d['serverUrl']),_0x2b867d[_0x276e76(0x12a)]!==undefined&&_0x1fdcb7['push'](_0x276e76(0xde)+_0x2b867d['useServerLLM']),_0x2b867d[_0x276e76(0xd5)]&&_0x1fdcb7['push'](_0x276e76(0x107)+_0x2b867d[_0x276e76(0xd5)]),_0x2b867d[_0x276e76(0x9c)]?.['limit']&&_0x1fdcb7['push'](_0x276e76(0xe8)+_0x2b867d[_0x276e76(0x9c)]['limit']),_0x1fdcb7['join']('\x0a');}export async function importConfiguration(_0x18e81d,_0x5b380f=a0_0x159a54(0x95),_0x27ffd7=!![]){const _0x2f5cb3=a0_0x159a54;let _0x55824d;const _0x2e4dfc=!_0x18e81d[_0x2f5cb3(0xdd)]('\x0a')&&(_0x18e81d['endsWith']('.json')||_0x18e81d[_0x2f5cb3(0xa9)]('.yaml')||_0x18e81d[_0x2f5cb3(0xa9)](_0x2f5cb3(0x141)));_0x2e4dfc?_0x55824d=await a0_0x713224['readFile'](_0x18e81d,'utf-8'):_0x55824d=_0x18e81d;let _0x5e2ea1;switch(_0x5b380f['toLowerCase']()){case _0x2f5cb3(0x95):_0x5e2ea1=JSON[_0x2f5cb3(0x9b)](_0x55824d);break;case'yaml':throw new Error('YAML import not implemented. Install js-yaml library to enable YAML import.');case _0x2f5cb3(0xbc):_0x5e2ea1=parseEnvFormat(_0x55824d);break;default:throw new Error('Unsupported\x20import\x20format:\x20'+_0x5b380f);}if(_0x27ffd7){const _0x181174=await loadConfig();_0x5e2ea1=deepMerge(_0x181174,_0x5e2ea1);}return validateConfiguration(_0x5e2ea1),_0x5e2ea1;}function parseEnvFormat(_0xef53){const _0x4dc1b0=a0_0x159a54,_0x2e7d55={},_0x4ba361=_0xef53[_0x4dc1b0(0xea)]('\x0a')['filter'](_0x2c3d02=>_0x2c3d02[_0x4dc1b0(0xb9)]()&&!_0x2c3d02[_0x4dc1b0(0xb1)]('#'));for(const _0x298275 of _0x4ba361){const [_0x5c6f0c,..._0x50e0a0]=_0x298275[_0x4dc1b0(0xea)]('='),_0x2298cc=_0x50e0a0[_0x4dc1b0(0xd2)]('=');if(_0x5c6f0c['startsWith'](_0x4dc1b0(0xc0))){const _0x543b24=_0x5c6f0c[_0x4dc1b0(0x12f)](_0x4dc1b0(0xc0),'')[_0x4dc1b0(0x98)]();switch(_0x543b24){case'log_level':setNestedValue(_0x2e7d55,_0x4dc1b0(0xdf),_0x2298cc);break;case'console_mode':setNestedValue(_0x2e7d55,_0x4dc1b0(0x136),_0x2298cc===_0x4dc1b0(0x131)?!![]:_0x2298cc===_0x4dc1b0(0x83)?![]:_0x2298cc);break;case _0x4dc1b0(0x121):_0x2e7d55['serverUrl']=_0x2298cc;break;case'use_server_llm':_0x2e7d55[_0x4dc1b0(0x12a)]=_0x2298cc==='true';break;case _0x4dc1b0(0xf6):_0x2e7d55['llmStrategy']=_0x2298cc;break;case'budget_limit':setNestedValue(_0x2e7d55,'budget.limit',parseFloat(_0x2298cc));break;default:const _0x2714e1=_0x543b24['replace'](/_/g,'.');setNestedValue(_0x2e7d55,_0x2714e1,_0x2298cc);break;}}}return _0x2e7d55;}export function getConfigDifferences(_0x3ca190,_0x46fcef){const _0x1059f5={};function _0x486ceb(_0x1ae770,_0x36413d,_0xe048bf=''){const _0x143442=a0_0x3c4c,_0x18ec9d=new Set([...Object[_0x143442(0x109)](_0x1ae770||{}),...Object['keys'](_0x36413d||{})]);for(const _0x483c37 of _0x18ec9d){const _0x1dfccf=_0xe048bf?_0xe048bf+'.'+_0x483c37:_0x483c37,_0xd4f623=_0x1ae770?.[_0x483c37],_0x56e810=_0x36413d?.[_0x483c37];_0xd4f623!==_0x56e810&&(typeof _0xd4f623==='object'&&typeof _0x56e810===_0x143442(0xc7)&&_0xd4f623!==null&&_0x56e810!==null?_0x486ceb(_0xd4f623,_0x56e810,_0x1dfccf):_0x1059f5[_0x1dfccf]={'old':_0xd4f623,'new':_0x56e810});}}return _0x486ceb(_0x3ca190,_0x46fcef),_0x1059f5;}export default{'loadConfig':loadConfig,'getConfigPaths':getConfigPaths};