const a0_0x550b34=a0_0x8903;function a0_0x8903(_0x5cc952,_0x3c0807){const _0x4af396=a0_0x34d9();return a0_0x8903=function(_0x32f8cc,_0x31cc20){_0x32f8cc=_0x32f8cc-0x17a;let _0x303211=_0x4af396[_0x32f8cc];if(a0_0x8903['iJOJzO']===undefined){var _0x307aeb=function(_0x89033){const _0x5e6f02='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9c6aa6='',_0x23bf38='',_0x293737=_0x9c6aa6+_0x307aeb;for(let _0x354d3b=0x0,_0x3a7ca6,_0x4cee40,_0x4a17fb=0x0;_0x4cee40=_0x89033['charAt'](_0x4a17fb++);~_0x4cee40&&(_0x3a7ca6=_0x354d3b%0x4?_0x3a7ca6*0x40+_0x4cee40:_0x4cee40,_0x354d3b++%0x4)?_0x9c6aa6+=_0x293737['charCodeAt'](_0x4a17fb+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3a7ca6>>(-0x2*_0x354d3b&0x6)):_0x354d3b:0x0){_0x4cee40=_0x5e6f02['indexOf'](_0x4cee40);}for(let _0x4be849=0x0,_0x506e0b=_0x9c6aa6['length'];_0x4be849<_0x506e0b;_0x4be849++){_0x23bf38+='%'+('00'+_0x9c6aa6['charCodeAt'](_0x4be849)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x23bf38);};a0_0x8903['IktFSz']=_0x307aeb,_0x5cc952=arguments,a0_0x8903['iJOJzO']=!![];}const _0x1e4118=_0x4af396[0x0],_0x5426bb=_0x32f8cc+_0x1e4118,_0x34d995=_0x5cc952[_0x5426bb];if(!_0x34d995){const _0x38c8fb=function(_0x414575){this['GQexoR']=_0x414575,this['FkcrYP']=[0x1,0x0,0x0],this['LebUIU']=function(){return'newState';},this['OWEMNx']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['lQJvhm']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x38c8fb['prototype']['rwRttu']=function(){const _0x342964=new RegExp(this['OWEMNx']+this['lQJvhm']),_0x7cc046=_0x342964['test'](this['LebUIU']['toString']())?--this['FkcrYP'][0x1]:--this['FkcrYP'][0x0];return this['oBETWv'](_0x7cc046);},_0x38c8fb['prototype']['oBETWv']=function(_0x26b27a){if(!Boolean(~_0x26b27a))return _0x26b27a;return this['Wkutti'](this['GQexoR']);},_0x38c8fb['prototype']['Wkutti']=function(_0x44132a){for(let _0x55e6c4=0x0,_0x23f326=this['FkcrYP']['length'];_0x55e6c4<_0x23f326;_0x55e6c4++){this['FkcrYP']['push'](Math['round'](Math['random']())),_0x23f326=this['FkcrYP']['length'];}return _0x44132a(this['FkcrYP'][0x0]);},new _0x38c8fb(a0_0x8903)['rwRttu'](),_0x303211=a0_0x8903['IktFSz'](_0x303211),_0x5cc952[_0x5426bb]=_0x303211;}else _0x303211=_0x34d995;return _0x303211;},a0_0x8903(_0x5cc952,_0x3c0807);}function a0_0x34d9(){const _0x54adf2=['mJu1nJi4ndvvvw1LAKG','CfLSt3i','C29Tzq','y2rRCg8','A3rJvw8','BfvnvKi','zwrdtuW','rvHuru5erurFuKfurv9msu1jvf9eruXbwq','q3veCNu','y29UDMvYC2f0Aw9Uu2vYDMLJzxm','Bw9KzwWGBM90igzVDw5K','wvrzwhy','DgHYB3r0Bgu','D05SDgq','zxHJzxb0Aw9U','ntC4odGZru5vAvny','z09IDM8','CMv0DxjUicHMDw5JDgLVBIGPia','wxvmvwS','zgvSyxLnDwX0AxbSAwvY','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','q1rWtuu','twXuveq','q0Hfq0TFsu5urvjwquW','CMv0CMLLCW','C2vYDMLJzvn0yxr1CW','yNDRDeK','uwHqCwe','ntiWotGZz0TWsLz4','zgvIDwC','Aw5JBhvKzxm','CMvXDwvZDcbSAw1PDa','yMfZzurLBgf5txm','zxjYB3i','ndi5','z3rsBuK','vu5lyKG','whPQzu4','oIbszwfKEsb0BYbZzw5KicHUBYbKzwXHEsbUzwvKzwqP','uwjwA3O','C1jNDM4','Dg9mB3DLCKnHC2u','mtaZnJHdsLfUEgm','uMf0zsbSAw1PDcbLCNjVCIbKzxrLy3rLzcWGD2fPDgLUzYbHBMqGCMv0CNLPBMCUlI4','C3bSAxq','q25SywW','C2vHCMnO','EgHRqKm','y0rSwfi','Au5tzM4','wwLVsKW','tgHRAeG','r2TXr0u','B3bLBMfP','Bg9N','AwDit28','C3DJzK0','kcGOlISPkYKRksSK','yxbWBhK','CMf0zuXPBwL0sgL0CW','s3zzAKC','mLDTqNzYAq','BwvZC2fNzq','AwfiBwm','BxmUlI4','Aw52ywXPzcbHCgKGA2v5','vw5RBM93BIbLCNjVCG','Aw1pC0G','oIbsyxrLigXPBwL0igHPDhmGCMvZzxqGkhn1y2nLC3nMDwWGCMvXDwvZDcK','BxmGkhvUDgLSia','DgfIBgu','y29UDgvUDcbWB2XPy3K','DMzVCLy','C2v0','AgfUzgXLuMf0zuXPBwL0sgL0','AgfZ','z2v0qwXSu3rHDhvZ','nhWXFdn8nxWYFda','B3bLBMfPlwDWDdq','Dw5HDxrOB3jPEMvK','z2v0uMf0zuXPBwL0Aw5Nu3rHDhvZ','DvLOuhK','z2v0tgfZDeLUChv0vg9Rzw5dB3vUDa','vu5zuMq','quvstK8','nduYotGZoeHeBg1oAq','yLbbDgW','uvHct0O','CwPLDKe','y29UC3rYDwn0B3i','DKfguhm','x2DLDfnLCNzPy2vnB2rLBeLK','mJG2ndmYmffLCfn6EG','z29Vz2XLlwDLBwLUAq','Dg9Vig1HBNKGCMvXDwvZDhm','wxvMrLO','uMf0zsbSAw1PDgLUzYbZDgf0zsbJBgvHCMvK','ufPYwwu','Dg9tDhjPBMC','Cg93','ig5VDcbMB3vUzcbMB3iGy29UDMvYC2f0Aw9Uia','rePpvMe','DhjHy2u','z29Vz2XL','B2juzvu','z2v0u3rHDhvZ','Bg9Nz2vY','yMLUza','Bwf4uMv0CMLLCW','zgDpsNK','r0zxCfy','x2LZuMf0zuXPBwL0rxjYB3i','wvHKAhq','BxmGyMvMB3jLihnLBMrPBMCGkhvUDgLSia','yLv2sxy','ELnoCfK','uMf0zsbSAw1PDcbOAxqGiW','C2vYDMLJzuLUC3rHBMnLCW','reT1CvK','ChbRt1K','qwXSihjLDhj5igf0DgvTChrZigzHAwXLzdOG','nNWWFdr8mNWXFdv8mW','Bwf4','AM5tzeK','Dg9ju09tDhjPBMC','su5jveLbtf9sqvrfx0XjtuLux0rftefz','C2v0rgvSyxK','s2HPsva','BgvUz3rO','C21lDhe','ChjVDg90ExbL','z2v0','rMnWu0W','yw50AhjVCgLJ','se9XyM8','D2fPDeLMtMvLzgvK','yw50AhjVCgLJlxnVBM5LDa','suH1Agq','CMvJB3jKvxnHz2u','uefXqwm','AgfJB0O','CMvZzxrsyxrLtgLTAxriAxrZ','vgftDvO','svj5Exi','y29UzMLN','yxv0AgvUDgLJyxrPB24GzMfPBgvK','D2XeBLK','Eevhz3K','D1LPAwC','D2fYBG','sNbtvMK','ExDRuhC','u2vYDMLJzsa','vgjuqxm','ChbhuwS','whr5q1i','x2LZtM9UuMv0CNLHyMXLrxjYB3i','yNvKz2v0u2vYDMLJzq','A2v5CW','zKXcuxi','BM93','s1H6CuG','C2vUze1LC3nHz2u','q29UDMvYC2f0Aw9Uia','shnYD3m','t29xthm','BxmGzgvSyxK','tvzYBLG','Aw5MBW','zgvSzxrL','uMv0CNLPBMCGywz0zxiG','CxvVDgeGzxHJzwvKzwq','ode2ndq2mhrgrhPtwG','ohzlC1HLyW','nJaXnK5ttxf6wq','BffXAeW','sfnntu8','n2vJvNjquG','Cuz6zg0','BMv4DefSBg93zwruAw1L','igzVCIa','B2LXu2i','y2XLyxi','CMf0zuXPBwL0u2vYDMLJzq','y29UC29Szq'];a0_0x34d9=function(){return _0x54adf2;};return a0_0x34d9();}(function(_0x3541b2,_0x57e07e){const _0x20c5f2=a0_0x8903,_0x4077d9=_0x3541b2();while(!![]){try{const _0x5a4daf=parseInt(_0x20c5f2(0x1df))/0x1*(parseInt(_0x20c5f2(0x200))/0x2)+-parseInt(_0x20c5f2(0x1d2))/0x3*(-parseInt(_0x20c5f2(0x1b7))/0x4)+-parseInt(_0x20c5f2(0x21f))/0x5+-parseInt(_0x20c5f2(0x218))/0x6*(-parseInt(_0x20c5f2(0x1bb))/0x7)+-parseInt(_0x20c5f2(0x1b8))/0x8*(-parseInt(_0x20c5f2(0x1ed))/0x9)+parseInt(_0x20c5f2(0x1b6))/0xa+-parseInt(_0x20c5f2(0x1c3))/0xb;if(_0x5a4daf===_0x57e07e)break;else _0x4077d9['push'](_0x4077d9['shift']());}catch(_0x5e8a3c){_0x4077d9['push'](_0x4077d9['shift']());}}}(a0_0x34d9,0x6d57d));const a0_0x5426bb=(function(){const _0x202512=a0_0x8903,_0x25f646={};_0x25f646[_0x202512(0x1de)]=function(_0x7f519f,_0x49d2cd){return _0x7f519f!==_0x49d2cd;},_0x25f646['bpxmO']=_0x202512(0x1bf);const _0x44e6eb=_0x25f646;let _0x34c5b5=!![];return function(_0x59428a,_0xb16549){const _0x1d0190=_0x34c5b5?function(){const _0x572f3f=a0_0x8903;if(_0x44e6eb[_0x572f3f(0x1de)](_0x44e6eb['bpxmO'],_0x572f3f(0x21b))){if(_0xb16549){const _0x10c956=_0xb16549[_0x572f3f(0x1fd)](_0x59428a,arguments);return _0xb16549=null,_0x10c956;}}else{const _0x1360a5=_0x471afa['apply'](_0x27a999,arguments);return _0xbfc170=null,_0x1360a5;}}:function(){};return _0x34c5b5=![],_0x1d0190;};}()),a0_0x1e4118=a0_0x5426bb(this,function(){const _0x2a7483=a0_0x8903,_0x5bb6dd={};_0x5bb6dd['pYlOr']=_0x2a7483(0x1fc);const _0x2ba4b5=_0x5bb6dd;return a0_0x1e4118[_0x2a7483(0x225)]()[_0x2a7483(0x1f1)](_0x2ba4b5[_0x2a7483(0x1c4)])[_0x2a7483(0x225)]()['constructor'](a0_0x1e4118)[_0x2a7483(0x1f1)](_0x2ba4b5[_0x2a7483(0x1c4)]);});a0_0x1e4118();const a0_0x31cc20=(function(){const _0x198bd4=a0_0x8903,_0x43cd9b={};_0x43cd9b[_0x198bd4(0x21d)]=function(_0x53fb83,_0x34cfe1){return _0x53fb83===_0x34cfe1;},_0x43cd9b[_0x198bd4(0x216)]=function(_0x4821b3,_0x27e006){return _0x4821b3!==_0x27e006;};const _0x55c548=_0x43cd9b;let _0x2fde8e=!![];return function(_0x489317,_0x4cb7b4){const _0x3290dd=_0x2fde8e?function(){const _0x55e0e1=a0_0x8903,_0x19ccc6={'Ziwmu':function(_0x3d09fa,_0x1fb423){return _0x3d09fa+_0x1fb423;},'YTYXv':function(_0x53c7ad,_0x547866){const _0x3111ec=a0_0x8903;return _0x55c548[_0x3111ec(0x21d)](_0x53c7ad,_0x547866);}};if(_0x55c548[_0x55e0e1(0x216)](_0x55e0e1(0x17a),_0x55e0e1(0x1f5))){if(_0x4cb7b4){const _0x5eaf65=_0x4cb7b4[_0x55e0e1(0x1fd)](_0x489317,arguments);return _0x4cb7b4=null,_0x5eaf65;}}else{const _0x37da80=this[_0x55e0e1(0x1fe)][_0x55e0e1(0x18d)](_0x44cda9)||0x0,_0x4574e7=_0x19ccc6['Ziwmu'](_0x37da80,0x1);this[_0x55e0e1(0x1fe)][_0x55e0e1(0x20c)](_0x414857,_0x4574e7);let _0x5d4643;_0x19ccc6[_0x55e0e1(0x1ce)](_0x4574e7,0x1)?_0x5d4643=this['INITIAL_RATE_LIMIT_DELAY']:_0x5d4643=this[_0x55e0e1(0x1ca)],this[_0x55e0e1(0x188)](_0x493baf,_0x5d4643),this[_0x55e0e1(0x22d)][_0x55e0e1(0x19f)](_0x55e0e1(0x17e)+_0x4574e7+_0x55e0e1(0x1be)+_0xba3626+',\x20applying\x20'+_0x5d4643+_0x55e0e1(0x1b0));}}:function(){};return _0x2fde8e=![],_0x3290dd;};}()),a0_0x32f8cc=a0_0x31cc20(this,function(){const _0x1f7f74=a0_0x8903,_0x18a4f7={'JpSVi':_0x1f7f74(0x223),'HSMMO':function(_0x5b3ef3,_0x2de61c){return _0x5b3ef3===_0x2de61c;},'ceqpM':_0x1f7f74(0x1ff),'IHXqX':function(_0xe4e796,_0x492167){return _0xe4e796===_0x492167;},'GkqGE':'UJkSu','DKuqY':_0x1f7f74(0x21a),'fLBQr':function(_0x23af61,_0x25efb7){return _0x23af61(_0x25efb7);},'YuLUk':function(_0x2cf3c8,_0x2e968d){return _0x2cf3c8+_0x2e968d;},'edCML':_0x1f7f74(0x1d7),'apaDO':function(_0xef841a,_0x1a19d6){return _0xef841a===_0x1a19d6;},'XtyCR':_0x1f7f74(0x1a3),'WxZvd':function(_0x25d9f3){return _0x25d9f3();},'TmQgO':_0x1f7f74(0x19f),'YufFZ':_0x1f7f74(0x1e4),'KXzqH':_0x1f7f74(0x1d1),'bUvIv':_0x1f7f74(0x209),'dgOJy':_0x1f7f74(0x19d),'ppkOY':_0x1f7f74(0x1bc)},_0x39a1ac=function(){const _0x5428d7=_0x1f7f74,_0x4a4203={};_0x4a4203[_0x5428d7(0x1ae)]=_0x18a4f7[_0x5428d7(0x1a0)];const _0xd96b89=_0x4a4203;if(_0x18a4f7[_0x5428d7(0x1ba)]('KvYjG',_0x18a4f7['ceqpM'])){let _0x473a91;try{if(_0x18a4f7['IHXqX'](_0x18a4f7[_0x5428d7(0x1f7)],_0x18a4f7[_0x5428d7(0x180)])){const _0x56b0bb=_0x4a1ecf['constructor'][_0x5428d7(0x18c)]['bind'](_0x2ffe39),_0x10246a=_0x2146b8[_0x42a272],_0x1dc63c=_0x245017[_0x10246a]||_0x56b0bb;_0x56b0bb['__proto__']=_0x3d0690[_0x5428d7(0x22e)](_0x13e0e2),_0x56b0bb[_0x5428d7(0x225)]=_0x1dc63c[_0x5428d7(0x225)][_0x5428d7(0x22e)](_0x1dc63c),_0x16137b[_0x10246a]=_0x56b0bb;}else _0x473a91=_0x18a4f7[_0x5428d7(0x1a9)](Function,_0x18a4f7[_0x5428d7(0x1d5)](_0x18a4f7['YuLUk'](_0x5428d7(0x1d4),_0x18a4f7[_0x5428d7(0x1c9)]),');'))();}catch(_0x83c89f){_0x18a4f7['apaDO'](_0x18a4f7[_0x5428d7(0x1a5)],'TbTAs')?_0x473a91=window:(this[_0x5428d7(0x1bd)]['clear'](),this[_0x5428d7(0x1fe)]['clear'](),this[_0x5428d7(0x22d)][_0x5428d7(0x1b2)](_0xd96b89[_0x5428d7(0x1ae)]));}return _0x473a91;}else{const _0x3f6636=_0x7d2642?function(){if(_0x5de052){const _0x5c849d=_0x227dfb['apply'](_0x192877,arguments);return _0x5e31e4=null,_0x5c849d;}}:function(){};return _0x17cf91=![],_0x3f6636;}},_0x1d2026=_0x18a4f7['WxZvd'](_0x39a1ac),_0x591e99=_0x1d2026[_0x1f7f74(0x1c2)]=_0x1d2026['console']||{},_0x2fc1b6=[_0x1f7f74(0x1f9),_0x18a4f7['TmQgO'],_0x1f7f74(0x1b2),_0x18a4f7[_0x1f7f74(0x222)],_0x18a4f7[_0x1f7f74(0x1ab)],_0x18a4f7[_0x1f7f74(0x17c)],_0x1f7f74(0x229)];for(let _0x48b838=0x0;_0x48b838<_0x2fc1b6[_0x1f7f74(0x18a)];_0x48b838++){if(_0x18a4f7[_0x1f7f74(0x1ba)](_0x18a4f7[_0x1f7f74(0x230)],_0x18a4f7[_0x1f7f74(0x181)])){if(_0x2fed52){const _0x58c31d=_0x3e7d03[_0x1f7f74(0x1fd)](_0x3a8ebb,arguments);return _0x4d5e95=null,_0x58c31d;}}else{const _0x453a1f=a0_0x31cc20[_0x1f7f74(0x21c)][_0x1f7f74(0x18c)][_0x1f7f74(0x22e)](a0_0x31cc20),_0x12fae4=_0x2fc1b6[_0x48b838],_0x2e8d84=_0x591e99[_0x12fae4]||_0x453a1f;_0x453a1f['__proto__']=a0_0x31cc20['bind'](a0_0x31cc20),_0x453a1f['toString']=_0x2e8d84['toString'][_0x1f7f74(0x22e)](_0x2e8d84),_0x591e99[_0x12fae4]=_0x453a1f;}}});a0_0x32f8cc();export class RateLimitService{constructor(_0x2aebb4){const _0x2e4910=a0_0x8903,_0x52dd18={};_0x52dd18['XXWuF']='4|3|2|5|0|1';const _0x4f7a5f=_0x52dd18,_0x4e7422=_0x4f7a5f['XXWuF']['split']('|');let _0xf55617=0x0;while(!![]){switch(_0x4e7422[_0xf55617++]){case'0':this['EXTENDED_RATE_LIMIT_DELAY']=0xea60;continue;case'1':this[_0x2e4910(0x1da)]=0x3e8;continue;case'2':this[_0x2e4910(0x1fe)]=new Map();continue;case'3':this[_0x2e4910(0x1bd)]=new Map();continue;case'4':this['logger']=_0x2aebb4;continue;case'5':this['INITIAL_RATE_LIMIT_DELAY']=0x7530;continue;}break;}}['setDelay'](_0x330751,_0x1d3498){const _0x20d39f=a0_0x8903,_0x26a88c={};_0x26a88c['jnSdI']=function(_0x1d7389,_0xd857dd){return _0x1d7389>_0xd857dd;},_0x26a88c[_0x20d39f(0x19c)]=_0x20d39f(0x20b),_0x26a88c[_0x20d39f(0x198)]=_0x20d39f(0x1a4);const _0x3feb0e=_0x26a88c,_0x49cdc1=Date['now']()+_0x1d3498,_0x1df049=this[_0x20d39f(0x1bd)]['get'](_0x330751)||0x0;if(_0x3feb0e[_0x20d39f(0x185)](_0x49cdc1,_0x1df049)){if(_0x3feb0e[_0x20d39f(0x19c)]===_0x3feb0e[_0x20d39f(0x198)]){const _0x4e084f=_0x342964?function(){const _0x433cab=_0x20d39f;if(_0x2f66f7){const _0x33750e=_0x4875d7[_0x433cab(0x1fd)](_0x18874c,arguments);return _0x47440b=null,_0x33750e;}}:function(){};return _0x23f326=![],_0x4e084f;}else this[_0x20d39f(0x1bd)][_0x20d39f(0x20c)](_0x330751,_0x49cdc1),this[_0x20d39f(0x22d)][_0x20d39f(0x1b2)]('Rate\x20limit\x20delay\x20set\x20for\x20'+_0x330751+':\x20'+_0x1d3498+_0x20d39f(0x208)+new Date(_0x49cdc1)[_0x20d39f(0x186)]()+')');}}[a0_0x550b34(0x20d)](_0x3eec73){const _0x275055=a0_0x550b34,_0xa70b18={};_0xa70b18['Nenfs']=_0x275055(0x210),_0xa70b18[_0x275055(0x228)]=function(_0x1ec3e5,_0x16c1c3){return _0x1ec3e5+_0x16c1c3;},_0xa70b18[_0x275055(0x1fa)]=function(_0x20444a,_0x457b78){return _0x20444a===_0x457b78;},_0xa70b18[_0x275055(0x1a1)]=function(_0x446ba3,_0x5a4976){return _0x446ba3===_0x5a4976;},_0xa70b18[_0x275055(0x199)]='ajASE';const _0x4506b=_0xa70b18,_0xc5a646=this['rateLimitHits'][_0x275055(0x18d)](_0x3eec73)||0x0,_0x3f50c1=_0x4506b['DJOVa'](_0xc5a646,0x1);this[_0x275055(0x1fe)][_0x275055(0x20c)](_0x3eec73,_0x3f50c1);let _0x434258;if(_0x4506b[_0x275055(0x1fa)](_0x3f50c1,0x1)){if(_0x4506b[_0x275055(0x1a1)](_0x4506b[_0x275055(0x199)],_0x4506b[_0x275055(0x199)]))_0x434258=this[_0x275055(0x187)];else{const _0xc5af92=_0x4506b['Nenfs'][_0x275055(0x1ef)]('|');let _0x7de1b=0x0;while(!![]){switch(_0xc5af92[_0x7de1b++]){case'0':this[_0x275055(0x1da)]=0x3e8;continue;case'1':this[_0x275055(0x1bd)]=new _0xfca7e();continue;case'2':this[_0x275055(0x1ca)]=0xea60;continue;case'3':this[_0x275055(0x1fe)]=new _0x201ad6();continue;case'4':this[_0x275055(0x22d)]=_0x304dc2;continue;case'5':this[_0x275055(0x187)]=0x7530;continue;}break;}}}else _0x434258=this[_0x275055(0x1ca)];this[_0x275055(0x188)](_0x3eec73,_0x434258),this[_0x275055(0x22d)]['warn']('Rate\x20limit\x20hit\x20#'+_0x3f50c1+_0x275055(0x1be)+_0x3eec73+',\x20applying\x20'+_0x434258+_0x275055(0x1b0));}async[a0_0x550b34(0x191)](_0x426ca1){const _0x52f7b9=a0_0x550b34,_0x4c485c={};_0x4c485c[_0x52f7b9(0x206)]=function(_0x82be1,_0x2d155c){return _0x82be1>=_0x2d155c;},_0x4c485c[_0x52f7b9(0x189)]=function(_0x5cf3b8,_0x1cd514){return _0x5cf3b8-_0x1cd514;},_0x4c485c[_0x52f7b9(0x19e)]=function(_0x594bd0,_0x1be293){return _0x594bd0+_0x1be293;};const _0x29f503=_0x4c485c,_0x309400=this[_0x52f7b9(0x1bd)][_0x52f7b9(0x18d)](_0x426ca1)||0x0,_0x3f7987=Date[_0x52f7b9(0x1aa)]();if(_0x29f503[_0x52f7b9(0x206)](_0x3f7987,_0x309400)){this[_0x52f7b9(0x22d)]['debug'](_0x426ca1+_0x52f7b9(0x1e9));return;}const _0x40eb0c=_0x29f503[_0x52f7b9(0x189)](_0x309400,_0x3f7987),_0x231525=_0x29f503[_0x52f7b9(0x19e)](_0x40eb0c,this['CHECK_INTERVAL']);this['logger'][_0x52f7b9(0x1b2)](_0x426ca1+':\x20Waiting\x20'+_0x231525+_0x52f7b9(0x17b)+new Date(_0x29f503['wYiig'](_0x309400,this[_0x52f7b9(0x1da)]))[_0x52f7b9(0x186)]()+')'),await new Promise(_0x649ae=>setTimeout(_0x649ae,_0x231525));}[a0_0x550b34(0x197)](_0x557536){const _0x43da5c=a0_0x550b34;this[_0x43da5c(0x1fe)][_0x43da5c(0x20e)](_0x557536)&&(this['rateLimitHits'][_0x43da5c(0x1b3)](_0x557536),this[_0x43da5c(0x22d)][_0x43da5c(0x1e0)](_0x557536+':\x20Rate\x20limit\x20hits\x20reset\x20(successful\x20request)'));}[a0_0x550b34(0x22c)](_0x3cfc93){const _0x131287=a0_0x550b34,_0x397eb4={};_0x397eb4[_0x131287(0x1dd)]=function(_0x1b60fb,_0x3bfe92){return _0x1b60fb>_0x3bfe92;},_0x397eb4[_0x131287(0x1f6)]=function(_0x1b650a,_0x378f65){return _0x1b650a>=_0x378f65;};const _0x1052fa=_0x397eb4,_0x274c78=this[_0x131287(0x1bd)][_0x131287(0x18d)](_0x3cfc93)||0x0,_0xd2afb9=this[_0x131287(0x1fe)][_0x131287(0x18d)](_0x3cfc93)||0x0,_0x41b55f=Date[_0x131287(0x1aa)]();return{'serviceModel':_0x3cfc93,'nextAllowedTime':_0x274c78,'nextAllowedDate':_0x1052fa[_0x131287(0x1dd)](_0x274c78,0x0)?new Date(_0x274c78)['toISOString']():null,'remainingDelayMs':Math[_0x131287(0x184)](0x0,_0x274c78-_0x41b55f),'canSendNow':_0x1052fa[_0x131287(0x1f6)](_0x41b55f,_0x274c78),'consecutiveRateLimitHits':_0xd2afb9};}[a0_0x550b34(0x20f)](){const _0x5e3b38=a0_0x550b34,_0x1b26a4=new Set([...this[_0x5e3b38(0x1bd)][_0x5e3b38(0x1a8)](),...this[_0x5e3b38(0x1fe)][_0x5e3b38(0x1a8)]()]),_0x551f7b={};for(const _0x5d0a29 of _0x1b26a4){_0x551f7b[_0x5d0a29]=this[_0x5e3b38(0x22c)](_0x5d0a29);}return _0x551f7b;}['clear'](){const _0x5f5d5e=a0_0x550b34;this[_0x5f5d5e(0x1bd)][_0x5f5d5e(0x1c0)](),this[_0x5f5d5e(0x1fe)][_0x5f5d5e(0x1c0)](),this[_0x5f5d5e(0x22d)][_0x5f5d5e(0x1b2)](_0x5f5d5e(0x223));}}export class EnhancedLLMService{constructor(_0xf14bef,_0x233314){const _0x513035=a0_0x550b34,_0x325229={};_0x325229['KvqbA']=_0x513035(0x183);const _0x5e72a1=_0x325229,_0x301e3d=_0x5e72a1['KvqbA'][_0x513035(0x1ef)]('|');let _0xbe2948=0x0;while(!![]){switch(_0x301e3d[_0xbe2948++]){case'0':this[_0x513035(0x22d)]=_0x233314;continue;case'1':this[_0x513035(0x17f)]=new Map();continue;case'2':this[_0x513035(0x1a7)]=new BudgetService(_0xf14bef,_0x233314);continue;case'3':this[_0x513035(0x1dc)]=new Map();continue;case'4':this[_0x513035(0x1c1)]=new RateLimitService(_0x233314);continue;case'5':this[_0x513035(0x1cc)]=new Map();continue;case'6':this[_0x513035(0x19a)]=_0xf14bef;continue;}break;}}async[a0_0x550b34(0x1ac)](_0x46134b,_0x27cfba,_0x2c92b2){const _0xa9e57=a0_0x550b34,_0x3c617c={'iNSfn':function(_0x16f304,_0x49c547){return _0x16f304>_0x49c547;},'wNltd':function(_0x1ebe15,_0x23898b){return _0x1ebe15>=_0x23898b;},'vzbVL':function(_0x540224,_0x2f197a){return _0x540224(_0x2f197a);},'cDlXR':function(_0x524f8d,_0x1a9ae0){return _0x524f8d+_0x1a9ae0;},'dDiwO':_0xa9e57(0x1d4),'CuDru':'{}.constructor(\x22return\x20this\x22)(\x20)','EJXXb':_0xa9e57(0x211),'HOqbo':function(_0x31a614,_0x1e5863){return _0x31a614===_0x1e5863;},'nNjpH':'gZHIu','zSNpY':_0xa9e57(0x1eb),'gObvo':function(_0x12c171,_0x199a47){return _0x12c171!==_0x199a47;},'QbVkz':'NJUpP','AERNO':function(_0x4f0aff,_0x5b162d){return _0x4f0aff<=_0x5b162d;},'swcfM':_0xa9e57(0x1b9),'hacoJ':function(_0x24aa7c,_0x2b6484){return _0x24aa7c===_0x2b6484;},'lUMVB':'degraded','smKtq':'available','GxnRg':function(_0x45775f,_0x115592){return _0x45775f+_0x115592;},'Cnlal':function(_0x552dc9,_0x9bf4ae){return _0x552dc9+_0x9bf4ae;},'CTpME':'bgghq','zJULR':_0xa9e57(0x1ee),'GFWpV':function(_0x5ee94e,_0x352818){return _0x5ee94e*_0x352818;},'XzjeN':_0xa9e57(0x205)},_0x19a1a2=this['conversationServices']['get'](_0x46134b);if(!_0x19a1a2){if(_0x3c617c[_0xa9e57(0x190)](_0x3c617c['nNjpH'],_0x3c617c[_0xa9e57(0x17d)])){const _0x5cf780=this[_0xa9e57(0x1bd)][_0xa9e57(0x18d)](_0x1b9989)||0x0,_0x12dd6f=this[_0xa9e57(0x1fe)][_0xa9e57(0x18d)](_0x4e27ae)||0x0,_0x1860da=_0x1c0e34[_0xa9e57(0x1aa)]();return{'serviceModel':_0x269e28,'nextAllowedTime':_0x5cf780,'nextAllowedDate':_0x3c617c[_0xa9e57(0x1f4)](_0x5cf780,0x0)?new _0xa5f318(_0x5cf780)[_0xa9e57(0x186)]():null,'remainingDelayMs':_0x7d2476['max'](0x0,_0x5cf780-_0x1860da),'canSendNow':_0x3c617c[_0xa9e57(0x1d0)](_0x1860da,_0x5cf780),'consecutiveRateLimitHits':_0x12dd6f};}else throw new Error(_0xa9e57(0x1ad)+_0x46134b+'\x20is\x20not\x20registered\x20with\x20any\x20service');}const _0x42e7e2=this[_0xa9e57(0x17f)][_0xa9e57(0x18d)](_0x19a1a2);if(!_0x42e7e2){if(_0x3c617c['gObvo'](_0xa9e57(0x1e6),_0x3c617c[_0xa9e57(0x1ea)]))throw new Error(_0xa9e57(0x1a2)+_0x19a1a2+_0xa9e57(0x227)+_0x46134b);else this[_0xa9e57(0x1fe)]['has'](_0xf7bf13)&&(this[_0xa9e57(0x1fe)]['delete'](_0x1734c0),this[_0xa9e57(0x22d)][_0xa9e57(0x1e0)](_0x29f89a+_0xa9e57(0x207)));}const _0x3b938f=this[_0xa9e57(0x21e)](_0x19a1a2);await this['rateLimitService'][_0xa9e57(0x191)](_0x3b938f);const _0x248c72=this[_0xa9e57(0x19a)][_0xa9e57(0x1db)]?.[_0xa9e57(0x22f)]||0x3;let _0x5ba530=0x0,_0x174178=null;while(_0x3c617c[_0xa9e57(0x217)](_0x5ba530,_0x248c72)){if(_0x3c617c[_0xa9e57(0x1d3)](_0xa9e57(0x1b9),_0x3c617c[_0xa9e57(0x1fb)])){this[_0xa9e57(0x22d)][_0xa9e57(0x1e0)](_0x31521a+_0xa9e57(0x1e9));return;}else try{if(_0x3c617c[_0xa9e57(0x196)](_0xa9e57(0x1c7),_0xa9e57(0x224)))_0x5db29d=qCuaHQ['vzbVL'](_0x52134c,qCuaHQ[_0xa9e57(0x1f3)](qCuaHQ['dDiwO']+qCuaHQ[_0xa9e57(0x1cb)],');'))();else{const _0x2cb246=await _0x42e7e2[_0xa9e57(0x1ac)](_0x46134b,_0x27cfba,_0x2c92b2);return this[_0xa9e57(0x1c1)]['resetRateLimitHits'](_0x3b938f),await this[_0xa9e57(0x1a7)][_0xa9e57(0x194)](_0x19a1a2,_0x42e7e2[_0xa9e57(0x215)](),_0x42e7e2['getLastOutputTokenCount']()),this[_0xa9e57(0x1dc)][_0xa9e57(0x18d)](_0x19a1a2)===_0x3c617c[_0xa9e57(0x1c8)]&&this[_0xa9e57(0x1dc)][_0xa9e57(0x20c)](_0x19a1a2,_0x3c617c[_0xa9e57(0x18b)]),_0x2cb246;}}catch(_0xf12b47){_0x174178=_0xf12b47,this['logger']['error']('Request\x20failed\x20(attempt\x20'+_0x3c617c['GxnRg'](_0x5ba530,0x1)+'/'+_0x3c617c[_0xa9e57(0x1f0)](_0x248c72,0x1)+'):',_0xf12b47);if(this[_0xa9e57(0x232)](_0xf12b47)){if(_0x3c617c[_0xa9e57(0x1d3)]('BQXUS',_0x3c617c[_0xa9e57(0x1d8)])){this[_0xa9e57(0x1c1)][_0xa9e57(0x20d)](_0x3b938f);if(_0x5ba530<_0x248c72){this[_0xa9e57(0x22d)]['info'](_0x3c617c['zJULR']),await this[_0xa9e57(0x1c1)][_0xa9e57(0x191)](_0x3b938f);continue;}}else{const _0x47109d={};_0x47109d[_0xa9e57(0x18f)]=_0xa9e57(0x192),_0x47109d[_0xa9e57(0x1f8)]=_0x3c617c['EJXXb'],_0x47109d['google']=_0xa9e57(0x220);const _0x2cf166=_0x47109d;return _0x2cf166[_0x10c040]||_0x197d7d;}}if(this['_isNonRetryableError'](_0xf12b47))throw _0xf12b47;if(_0x5ba530>=_0x248c72)break;this[_0xa9e57(0x1dc)][_0xa9e57(0x20c)](_0x19a1a2,_0x3c617c[_0xa9e57(0x1c8)]);const _0x15009e=this[_0xa9e57(0x19a)][_0xa9e57(0x1db)]?.[_0xa9e57(0x1e3)]||0x3e8,_0x5b2acf=this[_0xa9e57(0x19a)][_0xa9e57(0x1db)]?.[_0xa9e57(0x1d6)]||0x2,_0x5c173c=_0x3c617c[_0xa9e57(0x231)](_0x15009e,Math[_0xa9e57(0x226)](_0x5b2acf,_0x5ba530));this[_0xa9e57(0x22d)][_0xa9e57(0x1b2)](_0xa9e57(0x1b4)+_0x5c173c+_0xa9e57(0x203)),await new Promise(_0x339d7e=>setTimeout(_0x339d7e,_0x5c173c)),_0x5ba530++;}}throw new Error(_0xa9e57(0x182)+(_0x174178?.[_0xa9e57(0x201)]||_0x3c617c[_0xa9e57(0x1e8)]));}[a0_0x550b34(0x232)](_0x39ce4b){const _0x2dba76=a0_0x550b34,_0x35e547={};_0x35e547[_0x2dba76(0x18e)]='rate\x20limit',_0x35e547[_0x2dba76(0x22b)]=_0x2dba76(0x221),_0x35e547[_0x2dba76(0x219)]=_0x2dba76(0x1b5),_0x35e547[_0x2dba76(0x195)]=_0x2dba76(0x1e5),_0x35e547[_0x2dba76(0x214)]=_0x2dba76(0x1cf);const _0xed2e2d=_0x35e547,_0x2dc839=[_0xed2e2d[_0x2dba76(0x18e)],_0xed2e2d[_0x2dba76(0x22b)],_0xed2e2d[_0x2dba76(0x219)],_0x2dba76(0x1e2),_0xed2e2d[_0x2dba76(0x195)],_0xed2e2d[_0x2dba76(0x214)]],_0x2afad8=_0x39ce4b[_0x2dba76(0x201)]?.[_0x2dba76(0x1ec)]()||'';return _0x2dc839[_0x2dba76(0x1c5)](_0x1b51e6=>_0x2afad8[_0x2dba76(0x1e1)](_0x1b51e6));}[a0_0x550b34(0x1a6)](_0x25f444){const _0x1171d0=a0_0x550b34,_0x5245db={};_0x5245db[_0x1171d0(0x1d9)]=_0x1171d0(0x204),_0x5245db['MVrnX']=_0x1171d0(0x19b),_0x5245db[_0x1171d0(0x193)]=_0x1171d0(0x212),_0x5245db[_0x1171d0(0x1af)]=_0x1171d0(0x1cd),_0x5245db[_0x1171d0(0x1c6)]='invalid\x20request\x20format';const _0x3548d8=_0x5245db,_0x2926ae=[_0x3548d8[_0x1171d0(0x1d9)],_0x3548d8[_0x1171d0(0x1b1)],_0x3548d8['IHuhd'],_0x3548d8['OoWLs'],_0x3548d8[_0x1171d0(0x1c6)],_0x1171d0(0x20a)],_0x5cc0c8=_0x25f444[_0x1171d0(0x201)]?.[_0x1171d0(0x1ec)]()||'';return _0x2926ae['some'](_0x53324f=>_0x5cc0c8[_0x1171d0(0x1e1)](_0x53324f));}[a0_0x550b34(0x21e)](_0x24e52c){const _0x11f556=a0_0x550b34,_0xcdd624={};_0xcdd624[_0x11f556(0x1f2)]='anthropic-sonnet',_0xcdd624[_0x11f556(0x202)]=_0x11f556(0x211),_0xcdd624[_0x11f556(0x1e7)]='google-gemini';const _0x39f826=_0xcdd624,_0x265f51={};_0x265f51[_0x11f556(0x18f)]=_0x39f826[_0x11f556(0x1f2)],_0x265f51[_0x11f556(0x1f8)]=_0x39f826[_0x11f556(0x202)],_0x265f51[_0x11f556(0x22a)]=_0x39f826[_0x11f556(0x1e7)];const _0x1ccb5c=_0x265f51;return _0x1ccb5c[_0x24e52c]||_0x24e52c;}[a0_0x550b34(0x213)](){const _0x265a01=a0_0x550b34;return this[_0x265a01(0x1c1)][_0x265a01(0x20f)]();}}