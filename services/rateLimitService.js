function a0_0x1413(_0x1a77c2,_0xfd4215){const _0x540f54=a0_0x9ea6();return a0_0x1413=function(_0x457e40,_0x2ec484){_0x457e40=_0x457e40-0xcb;let _0x26766e=_0x540f54[_0x457e40];if(a0_0x1413['RcZUCK']===undefined){var _0x4508f4=function(_0x141347){const _0x4c127c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ac726='',_0x2a07d9='',_0x154617=_0x5ac726+_0x4508f4;for(let _0x1c5368=0x0,_0x5bb09c,_0x188c3e,_0x8b3451=0x0;_0x188c3e=_0x141347['charAt'](_0x8b3451++);~_0x188c3e&&(_0x5bb09c=_0x1c5368%0x4?_0x5bb09c*0x40+_0x188c3e:_0x188c3e,_0x1c5368++%0x4)?_0x5ac726+=_0x154617['charCodeAt'](_0x8b3451+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5bb09c>>(-0x2*_0x1c5368&0x6)):_0x1c5368:0x0){_0x188c3e=_0x4c127c['indexOf'](_0x188c3e);}for(let _0x404457=0x0,_0x456592=_0x5ac726['length'];_0x404457<_0x456592;_0x404457++){_0x2a07d9+='%'+('00'+_0x5ac726['charCodeAt'](_0x404457)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2a07d9);};a0_0x1413['EoZSPs']=_0x4508f4,_0x1a77c2=arguments,a0_0x1413['RcZUCK']=!![];}const _0x14bd60=_0x540f54[0x0],_0x356c1e=_0x457e40+_0x14bd60,_0x9ea625=_0x1a77c2[_0x356c1e];if(!_0x9ea625){const _0x2ac6e3=function(_0x1c1901){this['CoOfHF']=_0x1c1901,this['UWYDfW']=[0x1,0x0,0x0],this['DPgujY']=function(){return'newState';},this['CnwAZL']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['wZIerN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2ac6e3['prototype']['mlqAtk']=function(){const _0x5abc3e=new RegExp(this['CnwAZL']+this['wZIerN']),_0x27ab73=_0x5abc3e['test'](this['DPgujY']['toString']())?--this['UWYDfW'][0x1]:--this['UWYDfW'][0x0];return this['QXqrBi'](_0x27ab73);},_0x2ac6e3['prototype']['QXqrBi']=function(_0x224f38){if(!Boolean(~_0x224f38))return _0x224f38;return this['xKOjlm'](this['CoOfHF']);},_0x2ac6e3['prototype']['xKOjlm']=function(_0xfefdc9){for(let _0x5069ef=0x0,_0x23fe81=this['UWYDfW']['length'];_0x5069ef<_0x23fe81;_0x5069ef++){this['UWYDfW']['push'](Math['round'](Math['random']())),_0x23fe81=this['UWYDfW']['length'];}return _0xfefdc9(this['UWYDfW'][0x0]);},new _0x2ac6e3(a0_0x1413)['mlqAtk'](),_0x26766e=a0_0x1413['EoZSPs'](_0x26766e),_0x1a77c2[_0x356c1e]=_0x26766e;}else _0x26766e=_0x9ea625;return _0x26766e;},a0_0x1413(_0x1a77c2,_0xfd4215);}const a0_0x31b7b2=a0_0x1413;(function(_0x31e31f,_0x58703b){const _0x1b50fc=a0_0x1413,_0xc20eb4=_0x31e31f();while(!![]){try{const _0x213058=-parseInt(_0x1b50fc(0xd6))/0x1+-parseInt(_0x1b50fc(0x164))/0x2*(parseInt(_0x1b50fc(0x10b))/0x3)+-parseInt(_0x1b50fc(0x128))/0x4+-parseInt(_0x1b50fc(0x113))/0x5+-parseInt(_0x1b50fc(0x136))/0x6+-parseInt(_0x1b50fc(0xd9))/0x7*(parseInt(_0x1b50fc(0x143))/0x8)+parseInt(_0x1b50fc(0xee))/0x9*(parseInt(_0x1b50fc(0x167))/0xa);if(_0x213058===_0x58703b)break;else _0xc20eb4['push'](_0xc20eb4['shift']());}catch(_0x418899){_0xc20eb4['push'](_0xc20eb4['shift']());}}}(a0_0x9ea6,0x6b7e6));function a0_0x9ea6(){const _0x1fd2be=['D1vzB2K','CMvZzxrsyxrLtgLTAxriAxrZ','y29UC29Szq','EufpyNm','Avz2Dvu','Bg9N','C2vHCMnO','zu16A0q','uKDwzeW','CgvVDM4','ChjVDg90ExbL','BxmGkhvUDgLSia','r2HdtgG','yMLUza','oIbszwfKEsb0BYbZzw5KicHUBYbKzwXHEsbUzwvKzwqP','s0rfDMm','x19WCM90B19F','uMf0zsbSAw1PDcbKzwXHEsbZzxqGzM9Yia','rffkBLa','vuHrtg8','Aw52ywXPzcbYzxf1zxn0igzVCM1HDa','BerrAu8','r21UAe8','BxmGyMvMB3jLihnLBMrPBMCGkhvUDgLSia','BgvUz3rO','y29UzMLN','CeLxCMS','y2rWEeG','BKDcELK','qujbBuS','mtm5ndi0shHNCxPS','B3bLBMfP','wxL6qNq','mtbHs3zPvNq','AuvfuLG','rejRDMy','zgvIDwC','u2vYDMLJzsa','uMvXDwvZDcbMywLSzwqGkgf0DgvTChqG','Dg9ju09tDhjPBMC','oIbxywL0Aw5Nia','C2vYDMLJzvn0yxr1CW','D2fYBG','z29Vz2XLlwDLBwLUAq','tK5Mwgu','ELfVt2q','z3brq3a','BMv4DefSBg93zwruAw1L','yw50AhjVCgLJlxnVBM5LDa','C3bSAxq','t0DmwLy','mJu1ndLuA0rUEKy','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','rMjHufK','mZa0mZyYmvncEejAsG','y0zgrM4','vw5RBM93BIbLCNjVCG','uujQEee','CMf0zuXPBwL0sgL0CW','svbNsfG','ueTWwvG','t3juruy','y29UC3rYDwn0B3i','DK5TzxG','C2v0rgvSyxK','Aw5JBhvKzxm','uvLwEw4','CMvJB3jKvxnHz2u','Dg9mB3DLCKnHC2u','x2LZtM9UuMv0CNLHyMXLrxjYB3i','zxjYB3i','uxjyv28','x2LZuMf0zuXPBwL0rxjYB3i','r2nWAfG','y2XLyxi','mZq1ody5otfRtuj2z2K','CMvXDwvZDcbSAw1PDa','sfn3qKS','C2v0','zgvSzxrL','B3bLBMfPlwDWDdq','Bg9Nz2vY','z2v0u3rHDhvZ','qwfPrg0','vNLbz2u','sLP4yxC','igLZig5VDcbYzwDPC3rLCMvKihDPDgGGyw55ihnLCNzPy2u','CMv0DxjUicHMDw5JDgLVBIGPia','wK9HvK4','rvHuru5erurFuKfurv9msu1jvf9eruXbwq','twTyv0u','yNvKz2v0u2vYDMLJzq','CxvVDgeGzxHJzwvKzwq','C2vYDMLJzuLUC3rHBMnLCW','x2DLDfnLCNzPy2vnB2rLBeLK','yxv0AgvUDgLJyxrPB24GzMfPBgvK','B0TQvgK','BwvZC2fNzq','z3Pet1m','AxLnsMm','reDNug0','y2jgr0y','yMfZzurLBgf5txm','kcGOlISPkYKRksSK','mZnPAufZBNe','CwT2vha','vfbNzLu','y1njDwS','ndi5','wK1Nzfm','rgfNuwq','Bwf4','mZCZmJmWnvHHBgP0zW','ChjPr2e','y29UDgvUDcbWB2XPy3K','z2v0tgfZDe91Dhb1DfrVA2vUq291BNq','yxzHAwXHyMXL','BxmGzgvSyxK','uLviALm','BM93','CMv0CMLLCW','CMvwsNq','zeTxCw0','DgfIBgu','q3neA2W','uhHMB2O','A2v5CW','Aw5MBW','Dg9Vig1HBNKGCMvXDwvZDhm','Dg9tDhjPBMC','rLvmsvK','z2v0tgfZDeLUChv0vg9Rzw5dB3vUDa','qNrTDLy','mZaYmdGWmgjOyuThua','z1znAK0','q0Hfq0TFsu5urvjwquW','yxbWBhK','lcbHChbSEwLUzYa','EMfVsxq','Dw5HDxrOB3jPEMvK','mxW1Fdb8nNWZFdj8na','ig5VDcbMB3vUzcbMB3iGy29UDMvYC2f0Aw9Uia','D2fPDeLMtMvLzgvK','BxmUlI4','AgfUzgXLuMf0zuXPBwL0sgL0','CMf0zuXPBwL0u2vYDMLJzq','y29UDMvYC2f0Aw9Uu2vYDMLJzxm','nda0mZe2mhrwq0X1ta','uen1sgy','uMf0zsbSAw1PDcbOAxqGiW','Cg93','vxrcCwm','su5jveLbtf9sqvrfx0XjtuLux0rftefz','zgvNCMfKzwq','r1fSAvC','z2v0','y1HotuG','DgHYB3r0Bgu','rw9vzwe','qwXSihjLDhj5igf0DgvTChrZigzHAwXLzdOG','ofHuzeHrvq','q29UDMvYC2f0Aw9Uia','z2v0qwXSu3rHDhvZ'];a0_0x9ea6=function(){return _0x1fd2be;};return a0_0x9ea6();}const a0_0x356c1e=(function(){const _0xb567fc=a0_0x1413,_0x2be6ac={};_0x2be6ac[_0xb567fc(0x14f)]=_0xb567fc(0x149),_0x2be6ac[_0xb567fc(0x13d)]=_0xb567fc(0x141),_0x2be6ac['ZdGbX']=_0xb567fc(0x10a),_0x2be6ac[_0xb567fc(0x155)]=_0xb567fc(0x10d);const _0xdd3cb6=_0x2be6ac;let _0x4887ea=!![];return function(_0x2acc32,_0x40c87a){const _0x18c00a=_0xb567fc,_0x184865={};_0x184865[_0x18c00a(0x146)]=_0xdd3cb6['ZdGbX'];const _0x17d4e7=_0x184865;if(_0xdd3cb6['KDEvc']===_0xdd3cb6[_0x18c00a(0x155)]){const _0x2ecb5e=_0x4887ea?function(){const _0x427450=_0x18c00a;if(_0xdd3cb6[_0x427450(0x14f)]!==_0xdd3cb6[_0x427450(0x13d)]){if(_0x40c87a){const _0x5c209c=_0x40c87a[_0x427450(0x12b)](_0x2acc32,arguments);return _0x40c87a=null,_0x5c209c;}}else _0x1141a4[_0x102dbe]=this['getStatus'](_0x511585);}:function(){};return _0x4887ea=![],_0x2ecb5e;}else return _0x1fee86[_0x18c00a(0x124)]()['search'](_0x17d4e7[_0x18c00a(0x146)])['toString']()[_0x18c00a(0xe1)](_0x2acfbf)[_0x18c00a(0x14c)](_0x17d4e7[_0x18c00a(0x146)]);};}()),a0_0x14bd60=a0_0x356c1e(this,function(){const _0x5d73cd=a0_0x1413,_0x49c16d={};_0x49c16d[_0x5d73cd(0x114)]=_0x5d73cd(0x10a);const _0x326ef0=_0x49c16d;return a0_0x14bd60[_0x5d73cd(0x124)]()[_0x5d73cd(0x14c)](_0x326ef0[_0x5d73cd(0x114)])[_0x5d73cd(0x124)]()[_0x5d73cd(0xe1)](a0_0x14bd60)['search'](_0x326ef0['priGa']);});a0_0x14bd60();const a0_0x2ec484=(function(){const _0x5e2b5b=a0_0x1413,_0x9a9731={'OGLZV':function(_0x5a6e82,_0x4adbc2){return _0x5a6e82(_0x4adbc2);},'reVJt':function(_0x274653,_0xbdb279){return _0x274653+_0xbdb279;},'DGgPm':_0x5e2b5b(0xfa),'HSwBK':_0x5e2b5b(0xd7),'QrXWo':function(_0x2b6f2e,_0x2c0981){return _0x2b6f2e===_0x2c0981;},'GcphX':'huUVW'};let _0x21f546=!![];return function(_0x588287,_0x27594d){const _0x44faa7=_0x5e2b5b,_0xcea2aa={'ABAmK':function(_0x6d27c8,_0x31381d){const _0x1e89fd=a0_0x1413;return _0x9a9731[_0x1e89fd(0xd5)](_0x6d27c8,_0x31381d);},'cXNMH':function(_0x46a2d8,_0x12fc5d){const _0x393577=a0_0x1413;return _0x9a9731[_0x393577(0x11c)](_0x46a2d8,_0x12fc5d);},'AaiDm':_0x9a9731[_0x44faa7(0x107)],'cdpxH':_0x9a9731[_0x44faa7(0xf0)],'gzDOS':function(_0x5af068){return _0x5af068();}};if(_0x9a9731[_0x44faa7(0xea)](_0x44faa7(0x14e),_0x9a9731[_0x44faa7(0xec)])){const _0x5d7560=_0xcea2aa[_0x44faa7(0x163)](_0x5b79d1,_0xcea2aa[_0x44faa7(0x13f)](_0xcea2aa[_0x44faa7(0x13f)](_0xcea2aa[_0x44faa7(0xf6)],_0xcea2aa[_0x44faa7(0x161)]),');'));_0x245617=_0xcea2aa[_0x44faa7(0x105)](_0x5d7560);}else{const _0x490382=_0x21f546?function(){const _0x331e97=_0x44faa7;if(_0x27594d){const _0x86a043=_0x27594d[_0x331e97(0x12b)](_0x588287,arguments);return _0x27594d=null,_0x86a043;}}:function(){};return _0x21f546=![],_0x490382;}};}()),a0_0x457e40=a0_0x2ec484(this,function(){const _0x40bdd8=a0_0x1413,_0x5214dc={'lDQiO':function(_0x224be0,_0x592cb1){return _0x224be0+_0x592cb1;},'FbaPY':_0x40bdd8(0xfa),'UtBqc':_0x40bdd8(0xd7),'Nufux':function(_0x4c4fb0){return _0x4c4fb0();},'iVvuU':_0x40bdd8(0xcd),'RUHjS':_0x40bdd8(0x11e),'nGBzY':'trace','DQJnP':function(_0x552345,_0x12e36f){return _0x552345<_0x12e36f;}};let _0x5d5b9c;try{const _0x4cf7c1=Function(_0x5214dc[_0x40bdd8(0x15b)](_0x5214dc[_0x40bdd8(0x15b)](_0x5214dc[_0x40bdd8(0xd8)],_0x5214dc[_0x40bdd8(0x13a)]),');'));_0x5d5b9c=_0x5214dc['Nufux'](_0x4cf7c1);}catch(_0x284f34){_0x5d5b9c=window;}const _0x478ea3=_0x5d5b9c[_0x40bdd8(0x148)]=_0x5d5b9c[_0x40bdd8(0x148)]||{},_0x2a8a7a=[_0x40bdd8(0x14b),_0x5214dc[_0x40bdd8(0x14a)],'info',_0x40bdd8(0xe9),'exception',_0x5214dc[_0x40bdd8(0x119)],_0x5214dc[_0x40bdd8(0x162)]];for(let _0x54f0bd=0x0;_0x5214dc[_0x40bdd8(0x158)](_0x54f0bd,_0x2a8a7a[_0x40bdd8(0x15e)]);_0x54f0bd++){const _0x17d68b=a0_0x2ec484[_0x40bdd8(0xe1)][_0x40bdd8(0x150)][_0x40bdd8(0x153)](a0_0x2ec484),_0x2d2ecb=_0x2a8a7a[_0x54f0bd],_0x1e511c=_0x478ea3[_0x2d2ecb]||_0x17d68b;_0x17d68b[_0x40bdd8(0x156)]=a0_0x2ec484[_0x40bdd8(0x153)](a0_0x2ec484),_0x17d68b[_0x40bdd8(0x124)]=_0x1e511c[_0x40bdd8(0x124)]['bind'](_0x1e511c),_0x478ea3[_0x2d2ecb]=_0x17d68b;}});a0_0x457e40();export class RateLimitService{constructor(_0x1bf6f5){const _0x527b71=a0_0x1413;this[_0x527b71(0xf4)]=_0x1bf6f5,this[_0x527b71(0xd2)]=new Map(),this[_0x527b71(0xdd)]=new Map(),this['INITIAL_RATE_LIMIT_DELAY']=0x7530,this['EXTENDED_RATE_LIMIT_DELAY']=0xea60,this[_0x527b71(0x12a)]=0x3e8;}[a0_0x31b7b2(0xe3)](_0x2fa4c3,_0x1c8eaa){const _0x4a5ca3=a0_0x31b7b2,_0x1503f7={};_0x1503f7[_0x4a5ca3(0x15c)]=function(_0x18cb73,_0x2269f5){return _0x18cb73+_0x2269f5;},_0x1503f7[_0x4a5ca3(0xe0)]=function(_0x412d26,_0x510579){return _0x412d26>_0x510579;};const _0x2c8c89=_0x1503f7,_0x472763=_0x2c8c89[_0x4a5ca3(0x15c)](Date[_0x4a5ca3(0x11a)](),_0x1c8eaa),_0x14d166=this[_0x4a5ca3(0xd2)][_0x4a5ca3(0x13e)](_0x2fa4c3)||0x0;_0x2c8c89[_0x4a5ca3(0xe0)](_0x472763,_0x14d166)&&(this[_0x4a5ca3(0xd2)]['set'](_0x2fa4c3,_0x472763),this[_0x4a5ca3(0xf4)][_0x4a5ca3(0x122)](_0x4a5ca3(0x157)+_0x2fa4c3+':\x20'+_0x1c8eaa+_0x4a5ca3(0x151)+new Date(_0x472763)['toISOString']()+')'));}[a0_0x31b7b2(0x133)](_0x581982){const _0x1d48cc=a0_0x31b7b2,_0x12d716={};_0x12d716[_0x1d48cc(0x10c)]=function(_0x75b83d,_0x3fc868){return _0x75b83d+_0x3fc868;},_0x12d716[_0x1d48cc(0x11d)]=function(_0x10c9cc,_0x2e4b5b){return _0x10c9cc===_0x2e4b5b;};const _0x3c39b5=_0x12d716,_0x1767a7=this['rateLimitHits']['get'](_0x581982)||0x0,_0x916f35=_0x3c39b5['qkvTp'](_0x1767a7,0x1);this[_0x1d48cc(0xdd)]['set'](_0x581982,_0x916f35);let _0x1aa798;_0x3c39b5[_0x1d48cc(0x11d)](_0x916f35,0x1)?_0x1aa798=this[_0x1d48cc(0x13b)]:_0x1aa798=this[_0x1d48cc(0xfc)],this[_0x1d48cc(0xe3)](_0x581982,_0x1aa798),this['logger'][_0x1d48cc(0xcd)](_0x1d48cc(0x138)+_0x916f35+'\x20for\x20'+_0x581982+_0x1d48cc(0x12c)+_0x1aa798+_0x1d48cc(0x118));}async[a0_0x31b7b2(0x131)](_0x5d4a0c){const _0x5c20f1=a0_0x31b7b2,_0x5e112e={};_0x5e112e[_0x5c20f1(0xf8)]=function(_0x5c3cd9,_0x4b3926){return _0x5c3cd9+_0x4b3926;};const _0x474d0c=_0x5e112e,_0x45f644=this[_0x5c20f1(0xd2)]['get'](_0x5d4a0c)||0x0,_0x3b72ab=Date[_0x5c20f1(0x11a)]();if(_0x3b72ab>=_0x45f644){this[_0x5c20f1(0xf4)][_0x5c20f1(0x16a)](_0x5d4a0c+_0x5c20f1(0x154));return;}const _0x43e8ce=_0x45f644-_0x3b72ab,_0xb8520c=_0x474d0c['JZxaw'](_0x43e8ce,this['CHECK_INTERVAL']);this[_0x5c20f1(0xf4)][_0x5c20f1(0x122)](_0x5d4a0c+_0x5c20f1(0xcb)+_0xb8520c+_0x5c20f1(0x15d)+new Date(_0x474d0c[_0x5c20f1(0xf8)](_0x45f644,this['CHECK_INTERVAL']))[_0x5c20f1(0x16d)]()+')'),await new Promise(_0x39f500=>setTimeout(_0x39f500,_0xb8520c));}[a0_0x31b7b2(0x147)](_0x3002c0){const _0x1eee33=a0_0x31b7b2,_0x6692e2={};_0x6692e2[_0x1eee33(0x137)]=function(_0xedd004,_0x406d08){return _0xedd004!==_0x406d08;},_0x6692e2[_0x1eee33(0x159)]='IPgHX';const _0x1e108a=_0x6692e2;if(this[_0x1eee33(0xdd)]['has'](_0x3002c0)){if(_0x1e108a['PCuHf'](_0x1eee33(0xde),_0x1e108a[_0x1eee33(0x159)])){const _0x1689eb=_0x49eb78?function(){const _0x16a485=_0x1eee33;if(_0x2920ef){const _0x5f5db8=_0x34e6ce[_0x16a485(0x12b)](_0x3c2942,arguments);return _0x3e6159=null,_0x5f5db8;}}:function(){};return _0x9402f6=![],_0x1689eb;}else this[_0x1eee33(0xdd)][_0x1eee33(0xf2)](_0x3002c0),this[_0x1eee33(0xf4)]['debug'](_0x3002c0+':\x20Rate\x20limit\x20hits\x20reset\x20(successful\x20request)');}}[a0_0x31b7b2(0xf5)](_0x7ea426){const _0x449b60=a0_0x31b7b2,_0x128d51={};_0x128d51[_0x449b60(0xd0)]=function(_0x29963e,_0x582461){return _0x29963e>_0x582461;},_0x128d51['VyAge']=function(_0x59557e,_0x52e58b){return _0x59557e-_0x52e58b;},_0x128d51[_0x449b60(0xfd)]=function(_0xf6b6b8,_0x4c1131){return _0xf6b6b8>=_0x4c1131;};const _0x14dd19=_0x128d51,_0x1ec3e3=this[_0x449b60(0xd2)][_0x449b60(0x13e)](_0x7ea426)||0x0,_0x2e491f=this['rateLimitHits'][_0x449b60(0x13e)](_0x7ea426)||0x0,_0x3aee45=Date[_0x449b60(0x11a)]();return{'serviceModel':_0x7ea426,'nextAllowedTime':_0x1ec3e3,'nextAllowedDate':_0x14dd19[_0x449b60(0xd0)](_0x1ec3e3,0x0)?new Date(_0x1ec3e3)['toISOString']():null,'remainingDelayMs':Math[_0x449b60(0x112)](0x0,_0x14dd19[_0x449b60(0xf7)](_0x1ec3e3,_0x3aee45)),'canSendNow':_0x14dd19[_0x449b60(0xfd)](_0x3aee45,_0x1ec3e3),'consecutiveRateLimitHits':_0x2e491f};}[a0_0x31b7b2(0x145)](){const _0x18d7da=a0_0x31b7b2,_0x1d4c8a={};_0x1d4c8a[_0x18d7da(0xe5)]=function(_0x32afbf,_0x3e7a88){return _0x32afbf!==_0x3e7a88;},_0x1d4c8a['CsDkl']=_0x18d7da(0x125);const _0x5e10b4=_0x1d4c8a,_0x446ee2=new Set([...this[_0x18d7da(0xd2)][_0x18d7da(0x121)](),...this['rateLimitHits'][_0x18d7da(0x121)]()]),_0x3aebb6={};for(const _0x21b045 of _0x446ee2){if(_0x5e10b4[_0x18d7da(0xe5)]('Sjxei',_0x5e10b4[_0x18d7da(0x11f)]))_0x3aebb6[_0x21b045]=this[_0x18d7da(0xf5)](_0x21b045);else{const _0x11ea6=_0xa1d94c[_0x18d7da(0xe1)]['prototype'][_0x18d7da(0x153)](_0x1f0a33),_0x1241e1=_0x4dfdc4[_0x1c9898],_0x155619=_0x336b90[_0x1241e1]||_0x11ea6;_0x11ea6[_0x18d7da(0x156)]=_0x58952e[_0x18d7da(0x153)](_0x5acd7f),_0x11ea6[_0x18d7da(0x124)]=_0x155619['toString']['bind'](_0x155619),_0xdf8441[_0x1241e1]=_0x11ea6;}}return _0x3aebb6;}[a0_0x31b7b2(0xed)](){const _0x63a698=a0_0x31b7b2,_0x6c3df4={};_0x6c3df4[_0x63a698(0xda)]='Rate\x20limiting\x20state\x20cleared';const _0x353965=_0x6c3df4;this[_0x63a698(0xd2)][_0x63a698(0xed)](),this[_0x63a698(0xdd)][_0x63a698(0xed)](),this[_0x63a698(0xf4)][_0x63a698(0x122)](_0x353965['cFFFn']);}}export class EnhancedLLMService{constructor(_0x2f2c9b,_0x44119f){const _0x16adde=a0_0x31b7b2,_0x2fd55b={};_0x2fd55b[_0x16adde(0x106)]=_0x16adde(0x12f);const _0x578f83=_0x2fd55b,_0x4256c5=_0x578f83[_0x16adde(0x106)][_0x16adde(0xd4)]('|');let _0x488a7a=0x0;while(!![]){switch(_0x4256c5[_0x488a7a++]){case'0':this[_0x16adde(0x134)]=new RateLimitService(_0x44119f);continue;case'1':this[_0x16adde(0x15f)]=_0x2f2c9b;continue;case'2':this[_0x16adde(0x135)]=new Map();continue;case'3':this[_0x16adde(0x100)]=new Map();continue;case'4':this['serviceStatus']=new Map();continue;case'5':this[_0x16adde(0xf4)]=_0x44119f;continue;case'6':this[_0x16adde(0xfe)]=new BudgetService(_0x2f2c9b,_0x44119f);continue;}break;}}async['sendMessage'](_0x54a2ec,_0x36423b,_0xbe2ca7){const _0x3c43fa=a0_0x31b7b2,_0x70f9ac={};_0x70f9ac[_0x3c43fa(0x129)]=_0x3c43fa(0x13c),_0x70f9ac[_0x3c43fa(0x168)]=_0x3c43fa(0x117),_0x70f9ac[_0x3c43fa(0xfb)]=function(_0x7f3664,_0x6015f1){return _0x7f3664!==_0x6015f1;},_0x70f9ac['gpQCp']='hsDJR',_0x70f9ac[_0x3c43fa(0x110)]=function(_0x276bfc,_0x3b5744){return _0x276bfc+_0x3b5744;},_0x70f9ac[_0x3c43fa(0x120)]=function(_0x14fb11,_0x73da26){return _0x14fb11<_0x73da26;},_0x70f9ac[_0x3c43fa(0x127)]=function(_0x50a8ca,_0x54898f){return _0x50a8ca===_0x54898f;},_0x70f9ac[_0x3c43fa(0xe2)]=_0x3c43fa(0x111),_0x70f9ac[_0x3c43fa(0x166)]='Rate\x20limit\x20error\x20detected,\x20waiting\x20and\x20retrying...',_0x70f9ac[_0x3c43fa(0xdc)]=function(_0x5d8454,_0x1ed607){return _0x5d8454*_0x1ed607;};const _0x15faaa=_0x70f9ac,_0x334acc=this['conversationServices'][_0x3c43fa(0x13e)](_0x54a2ec);if(!_0x334acc)throw new Error(_0x3c43fa(0x144)+_0x54a2ec+_0x3c43fa(0xf9));const _0x31feb1=this[_0x3c43fa(0x100)][_0x3c43fa(0x13e)](_0x334acc);if(!_0x31feb1)throw new Error(_0x3c43fa(0x16b)+_0x334acc+_0x3c43fa(0x130)+_0x54a2ec);const _0x3ec561=this[_0x3c43fa(0x101)](_0x334acc);await this[_0x3c43fa(0x134)]['waitIfNeeded'](_0x3ec561);const _0x1927be=this[_0x3c43fa(0x15f)][_0x3c43fa(0x11b)]?.['maxRetries']||0x3;let _0x5a9849=0x0,_0x8ab84e=null;while(_0x5a9849<=_0x1927be){try{const _0x4f9147=await _0x31feb1['sendMessage'](_0x54a2ec,_0x36423b,_0xbe2ca7);return this[_0x3c43fa(0x134)][_0x3c43fa(0x147)](_0x3ec561),await this[_0x3c43fa(0xfe)][_0x3c43fa(0xe6)](_0x334acc,_0x31feb1[_0x3c43fa(0x126)](),_0x31feb1[_0x3c43fa(0x116)]()),this['serviceStatus']['get'](_0x334acc)===_0x15faaa['gVMjM']&&this[_0x3c43fa(0xcc)][_0x3c43fa(0xf1)](_0x334acc,_0x15faaa[_0x3c43fa(0x168)]),_0x4f9147;}catch(_0x2fd5f5){if(_0x15faaa[_0x3c43fa(0xfb)](_0x15faaa[_0x3c43fa(0xd1)],_0x15faaa['gpQCp']))this[_0x3c43fa(0xcc)][_0x3c43fa(0xf1)](_0x199e1d,_0x3c43fa(0x117));else{_0x8ab84e=_0x2fd5f5,this['logger'][_0x3c43fa(0xe9)](_0x3c43fa(0x16c)+_0x15faaa[_0x3c43fa(0x110)](_0x5a9849,0x1)+'/'+_0x15faaa['ZMgdS'](_0x1927be,0x1)+'):',_0x2fd5f5);if(this[_0x3c43fa(0xeb)](_0x2fd5f5)){this['rateLimitService']['handleRateLimitHit'](_0x3ec561);if(_0x15faaa[_0x3c43fa(0x120)](_0x5a9849,_0x1927be)){if(_0x15faaa[_0x3c43fa(0x127)](_0x3c43fa(0x111),_0x15faaa['vNmex'])){this[_0x3c43fa(0xf4)][_0x3c43fa(0x122)](_0x15faaa[_0x3c43fa(0x166)]),await this[_0x3c43fa(0x134)][_0x3c43fa(0x131)](_0x3ec561);continue;}else _0x5e6de0=_0x83f5d1;}}if(this['_isNonRetryableError'](_0x2fd5f5))throw _0x2fd5f5;if(_0x5a9849>=_0x1927be)break;this['serviceStatus'][_0x3c43fa(0xf1)](_0x334acc,_0x15faaa[_0x3c43fa(0x129)]);const _0x1ec193=this[_0x3c43fa(0x15f)][_0x3c43fa(0x11b)]?.[_0x3c43fa(0x109)]||0x3e8,_0x3194ff=this[_0x3c43fa(0x15f)][_0x3c43fa(0x11b)]?.['delayMultiplier']||0x2,_0x2314a5=_0x15faaa[_0x3c43fa(0xdc)](_0x1ec193,Math[_0x3c43fa(0x139)](_0x3194ff,_0x5a9849));this[_0x3c43fa(0xf4)][_0x3c43fa(0x122)]('Retrying\x20after\x20'+_0x2314a5+_0x3c43fa(0x132)),await new Promise(_0x1f48be=>setTimeout(_0x1f48be,_0x2314a5)),_0x5a9849++;}}}throw new Error(_0x3c43fa(0x142)+(_0x8ab84e?.[_0x3c43fa(0x104)]||_0x3c43fa(0xdb)));}['_isRateLimitError'](_0x894a11){const _0x464b4f=a0_0x31b7b2,_0x397c3d={};_0x397c3d['NNfXe']='rate\x20limit',_0x397c3d[_0x464b4f(0x160)]=_0x464b4f(0x123),_0x397c3d[_0x464b4f(0x10e)]=_0x464b4f(0xff),_0x397c3d[_0x464b4f(0x169)]=_0x464b4f(0x10f);const _0x44b76a=_0x397c3d,_0x314f37=[_0x44b76a[_0x464b4f(0xcf)],_0x44b76a['pIWrk'],_0x44b76a[_0x464b4f(0x10e)],_0x464b4f(0xef),_0x44b76a['DBkvf'],_0x464b4f(0x140)],_0x28b90a=_0x894a11[_0x464b4f(0x104)]?.[_0x464b4f(0xe7)]()||'';return _0x314f37['some'](_0x2801c5=>_0x28b90a[_0x464b4f(0xe4)](_0x2801c5));}[a0_0x31b7b2(0xe8)](_0x14943b){const _0x24e2cc=a0_0x31b7b2,_0x4abbcc={};_0x4abbcc[_0x24e2cc(0xdf)]='invalid\x20api\x20key',_0x4abbcc['zaoIt']=_0x24e2cc(0x12e),_0x4abbcc['cbFGF']=_0x24e2cc(0x15a),_0x4abbcc[_0x24e2cc(0x103)]=_0x24e2cc(0x115);const _0x32fa8f=_0x4abbcc,_0x41f53e=[_0x32fa8f[_0x24e2cc(0xdf)],_0x24e2cc(0x102),_0x32fa8f[_0x24e2cc(0x12d)],'model\x20not\x20found',_0x32fa8f[_0x24e2cc(0x108)],_0x32fa8f[_0x24e2cc(0x103)]],_0x2f82f0=_0x14943b[_0x24e2cc(0x104)]?.['toLowerCase']()||'';return _0x41f53e['some'](_0x26ac49=>_0x2f82f0['includes'](_0x26ac49));}['_getServiceModelId'](_0x14879e){const _0x47afa7=a0_0x31b7b2,_0x5ce6fa={};_0x5ce6fa[_0x47afa7(0x152)]=_0x47afa7(0xd3),_0x5ce6fa['eMzkD']=_0x47afa7(0xf3);const _0xf83bd4=_0x5ce6fa,_0x337656={};_0x337656['anthropic']=_0xf83bd4[_0x47afa7(0x152)],_0x337656[_0x47afa7(0x165)]=_0xf83bd4[_0x47afa7(0x14d)],_0x337656['google']=_0x47afa7(0xce);const _0xdaa2ef=_0x337656;return _0xdaa2ef[_0x14879e]||_0x14879e;}['getRateLimitingStatus'](){const _0x47b2ed=a0_0x31b7b2;return this[_0x47b2ed(0x134)][_0x47b2ed(0x145)]();}}