const a0_0x39064b=a0_0x4924;(function(_0x3e1fa8,_0x3f0283){const _0x10f7b7=a0_0x4924,_0x2d683c=_0x3e1fa8();while(!![]){try{const _0x5d6038=parseInt(_0x10f7b7(0x244))/0x1*(parseInt(_0x10f7b7(0x245))/0x2)+-parseInt(_0x10f7b7(0x21d))/0x3*(-parseInt(_0x10f7b7(0x1e1))/0x4)+parseInt(_0x10f7b7(0x24f))/0x5*(parseInt(_0x10f7b7(0x235))/0x6)+parseInt(_0x10f7b7(0x218))/0x7+parseInt(_0x10f7b7(0x22d))/0x8*(parseInt(_0x10f7b7(0x206))/0x9)+-parseInt(_0x10f7b7(0x1fa))/0xa+-parseInt(_0x10f7b7(0x220))/0xb*(parseInt(_0x10f7b7(0x1e8))/0xc);if(_0x5d6038===_0x3f0283)break;else _0x2d683c['push'](_0x2d683c['shift']());}catch(_0x15f0db){_0x2d683c['push'](_0x2d683c['shift']());}}}(a0_0x3b5c,0xe9b05));function a0_0x3b5c(){const _0x1b175c=['svnAqMS','nZjoCwLHv24','yxbPvMvYC2LVBG','vwHmAvK','mNWXFdn8nhWW','ic0G','yxbWBgLJyxrPB24VANnVBG','yxbPs2v5','AerMue4','rujYvvO','B3bLBMfPlwDWDdmUnq','q2TyCum','DMfbzfy','B3bLBMfPlwDWDdq','BuDUzM4','wxvYswC','Bwf4vg9Rzw5Z','Bw9KzwW','AgvHBhrOEq','nda5mte5mNbYufDjqq','Dw5OzwfSDgH5','zw1tEMq','yxbPlwTLEq','zxHJzxb0Aw9U','mZq1svDyzuDd','y2HHDenVBxbSzxrPB24','qxP1CMuGt3bLBKfjiefqssbYzxf1zxn0igzHAwXLzdOG','nJK4ndq2mvrPvMf4Ca','DgLTzw91Da','Cg9ZDa','wwTIsMW','suvlDMS','zgPhwha','C3rHDhvZ','z3b0ltq','vurly0O','sM5srMm','qxP1CMuGt3bLBKfjignYzwrLBNrPywXZig5VDcbMB3vUzcbPBIblzxKGvMf1Bhq','v1LhrLu','Dg9Wua','nJa4ndy0A2XVANLs','z3r0v1q','AgvHzgvYCW','kcGOlISPkYKRksSK','l2nOyxqVy29TCgXLDgLVBNm/yxbPlxzLCNnPB249','seDltve','DgfIBgu','qNPOwvC','mtK1otbgru1qr2i','Aw5PDgLHBgL6zwq','ufDxqLq','wvrYEhC','l29Wzw5HAs9KzxbSB3LTzw50CY8','y29Kzq','x19WCM90B19F','yMLUza','tMDWt08','Bg9Nz2vY','D2fYBG','z3b0ltmUns10DxjIBW','z2v0rgvWBg95BwvUDe5HBwu','ChjVDg90ExbL','zgf0yq','otG1nJfKrfHxwvC','nM5YCxvKEq','q29UDgvUDc1uExbL','C2vHCMnO','rMfPBgvKihrVigLUAxrPywXPEMuGqxP1CMuGt3bLBKfjihnLCNzPy2u6','CMf6r2K','zw9rEMC','qKTJBeK','vNDMC2K','zw5KCg9PBNq','yuXosLG','mtqZnu5KDNrZwq','rwDZuhO','EhHsr28','v1nWDNK','BwvZC2fNzq','yxbWBhK','mZi5mJrqu2zArfC','sgvSBg8SihrOAxmGAxmGysb0zxn0ig1LC3nHz2uU','q2XuvKi','Dg9tDhjPBMC','ChbSDLy','mJaYnc0WmI0Xns1WCMv2Awv3','y29UC29Szq','mtjrAMDRB3q','y29UC3rYDwn0B3i','z2v0u2vJCMv0','CMvZCg9UC2u','qxP1CMuGt3bLBKfjiefqssbLCNjVCJOG','C3rHDhvZvgv4Da','D1fPueK','z3b0ltm1lxr1CMjV','D2HoC0O','Bg9N','sxP3wu4','CMv0DxjUicHMDw5JDgLVBIGPia','DNLuq1q','v2HeyLG','Awzjq3G','DhjHy2u','Aw5PDgLHBgL6zq','C3bSAxq','mtC4mda4mZbAyKfowfa','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','rgrxBKq','r09mwKq','B09QDgu','Ee9ozhC','AgvHBhrOq2HLy2S','runptK5bqK9sveve','yxP1CMuTB3bLBMfPlwDWDdq','zxjYB3i','zvbrvKW'];a0_0x3b5c=function(){return _0x1b175c;};return a0_0x3b5c();}const a0_0x572923=(function(){let _0x1c016c=!![];return function(_0x3fe06e,_0x2dd7c7){const _0x4306f7=_0x1c016c?function(){if(_0x2dd7c7){const _0x2f30e0=_0x2dd7c7['apply'](_0x3fe06e,arguments);return _0x2dd7c7=null,_0x2f30e0;}}:function(){};return _0x1c016c=![],_0x4306f7;};}()),a0_0x3f269d=a0_0x572923(this,function(){const _0x368d5a=a0_0x4924,_0x42010c={};_0x42010c['HSNoN']=_0x368d5a(0x230);const _0x3c63dd=_0x42010c;return a0_0x3f269d[_0x368d5a(0x1e4)]()['search'](_0x3c63dd['HSNoN'])[_0x368d5a(0x1e4)]()[_0x368d5a(0x1e9)](a0_0x3f269d)[_0x368d5a(0x247)](_0x3c63dd['HSNoN']);});a0_0x3f269d();const a0_0x21c034=(function(){const _0x1ad15d=a0_0x4924,_0x358f33={};_0x358f33[_0x1ad15d(0x23d)]=_0x1ad15d(0x1e5);const _0x34ed17=_0x358f33;let _0x28c3a8=!![];return function(_0x534d51,_0x7e88dc){const _0x235005=_0x1ad15d;if(_0x34ed17[_0x235005(0x23d)]!=='zBhQt'){const _0x570563=_0x28c3a8?function(){const _0x34b05b=_0x235005;if(_0x7e88dc){const _0x46d0c8=_0x7e88dc[_0x34b05b(0x1e0)](_0x534d51,arguments);return _0x7e88dc=null,_0x46d0c8;}}:function(){};return _0x28c3a8=![],_0x570563;}else{if(_0x891832){const _0x24b65f=_0x2dec74[_0x235005(0x1e0)](_0x1e577a,arguments);return _0x1a37b0=null,_0x24b65f;}}};}()),a0_0x57911c=a0_0x21c034(this,function(){const _0x28b6fe=a0_0x4924,_0x578749={'ISZBk':function(_0x835ad7,_0x5f5083){return _0x835ad7(_0x5f5083);},'WhDbX':function(_0x98ba2,_0xd35fa7){return _0x98ba2+_0xd35fa7;},'OSPFv':_0x28b6fe(0x1f3),'fAMsc':_0x28b6fe(0x1fb),'xONdw':function(_0x4ae4ca){return _0x4ae4ca();},'UhLiY':_0x28b6fe(0x1f1),'IEKvk':_0x28b6fe(0x23f),'Vwfsi':'info','EBrUZ':_0x28b6fe(0x203),'PWWBT':_0x28b6fe(0x21c),'XyPcL':_0x28b6fe(0x233),'JnRFc':_0x28b6fe(0x1f7),'ePQVL':function(_0x59e607,_0x280fb0){return _0x59e607<_0x280fb0;},'vyTCT':function(_0x25046b,_0xbdf8cd){return _0x25046b!==_0xbdf8cd;},'BKclI':_0x28b6fe(0x1fe),'WYGFU':_0x28b6fe(0x1ee)};let _0xfd51b0;try{const _0x395b34=_0x578749[_0x28b6fe(0x205)](Function,_0x578749[_0x28b6fe(0x1f5)](_0x578749[_0x28b6fe(0x1f5)](_0x578749['OSPFv'],_0x578749['fAMsc']),');'));_0xfd51b0=_0x578749[_0x28b6fe(0x1ff)](_0x395b34);}catch(_0x2de9e2){_0xfd51b0=window;}const _0x223c4d=_0xfd51b0[_0x28b6fe(0x1e7)]=_0xfd51b0[_0x28b6fe(0x1e7)]||{},_0x12e184=[_0x578749[_0x28b6fe(0x208)],_0x578749[_0x28b6fe(0x224)],_0x578749[_0x28b6fe(0x24c)],_0x578749[_0x28b6fe(0x20e)],_0x578749[_0x28b6fe(0x237)],_0x578749['XyPcL'],_0x578749[_0x28b6fe(0x229)]];for(let _0x13f9d8=0x0;_0x578749[_0x28b6fe(0x204)](_0x13f9d8,_0x12e184['length']);_0x13f9d8++){if(_0x578749[_0x28b6fe(0x1f4)](_0x578749[_0x28b6fe(0x24b)],_0x578749[_0x28b6fe(0x22b)])){const _0x316b50=a0_0x21c034[_0x28b6fe(0x1e9)][_0x28b6fe(0x242)][_0x28b6fe(0x23c)](a0_0x21c034),_0x18762a=_0x12e184[_0x13f9d8],_0x1b9be5=_0x223c4d[_0x18762a]||_0x316b50;_0x316b50[_0x28b6fe(0x23b)]=a0_0x21c034[_0x28b6fe(0x23c)](a0_0x21c034),_0x316b50[_0x28b6fe(0x1e4)]=_0x1b9be5['toString'][_0x28b6fe(0x23c)](_0x1b9be5),_0x223c4d[_0x18762a]=_0x316b50;}else throw new _0x277626('Azure\x20OpenAI\x20API\x20error:\x20'+_0x2b1191[_0x28b6fe(0x1eb)][_0x28b6fe(0x226)]+'\x20-\x20'+(_0x1a0217['response'][_0x28b6fe(0x243)]?.[_0x28b6fe(0x203)]?.[_0x28b6fe(0x1df)]||_0x5c6a49[_0x28b6fe(0x1eb)]['statusText']));}});a0_0x57911c();import a0_0x28f4d2 from'axios';import a0_0x300fb5 from'./keyVaultService.js';class AzureOpenAIService{constructor(_0x5b1211){const _0x2ffe81=a0_0x4924,_0x3dc9bf={};_0x3dc9bf[_0x2ffe81(0x22e)]=_0x2ffe81(0x1e6);const _0x5a8f3c=_0x3dc9bf,_0x11404d=_0x2ffe81(0x209)[_0x2ffe81(0x1f9)]('|');let _0x3b23e1=0x0;while(!![]){switch(_0x11404d[_0x3b23e1++]){case'0':this[_0x2ffe81(0x236)]=![];continue;case'1':this['endpoint']=null;continue;case'2':this[_0x2ffe81(0x23e)]=_0x5b1211;continue;case'3':this[_0x2ffe81(0x20c)]=null;continue;case'4':this[_0x2ffe81(0x207)]=_0x5a8f3c['gttWT'];continue;}break;}}async[a0_0x39064b(0x1f8)](){const _0x573050=a0_0x39064b,_0x499d3a={};_0x499d3a[_0x573050(0x1f0)]=function(_0x4de25c,_0x1c0820){return _0x4de25c===_0x1c0820;},_0x499d3a[_0x573050(0x1fc)]=_0x573050(0x1f2),_0x499d3a[_0x573050(0x223)]=_0x573050(0x20d),_0x499d3a[_0x573050(0x1fd)]='AZURE-OPENAI-ENDPOINT',_0x499d3a[_0x573050(0x225)]='AZURE-OPENAI-API-KEY',_0x499d3a[_0x573050(0x234)]=function(_0x4a1be9,_0x4e7049){return _0x4a1be9===_0x4e7049;},_0x499d3a[_0x573050(0x214)]=_0x573050(0x1e3),_0x499d3a['UDKcJ']='Azure\x20OpenAI\x20service\x20initialized\x20successfully';const _0xe677ba=_0x499d3a;if(this[_0x573050(0x236)])return;try{if(_0xe677ba['whNsJ'](_0xe677ba['DdWnD'],_0xe677ba[_0x573050(0x223)]))_0x530b8b=_0xeecf70;else{this[_0x573050(0x24d)]=await a0_0x300fb5[_0x573050(0x1ea)](_0xe677ba['GOLZD']),this[_0x573050(0x20c)]=await a0_0x300fb5[_0x573050(0x1ea)](_0xe677ba[_0x573050(0x225)]);if(!this[_0x573050(0x24d)]||!this[_0x573050(0x20c)]){if(_0xe677ba[_0x573050(0x234)](_0xe677ba['YurIg'],_0x573050(0x1dd))){const _0x50c6ab=_0x472183[_0x573050(0x1e0)](_0xfc034b,arguments);return _0x5dadbf=null,_0x50c6ab;}else throw new Error(_0x573050(0x22a));}this[_0x573050(0x236)]=!![],this[_0x573050(0x23e)]['info'](_0xe677ba[_0x573050(0x228)]);}}catch(_0x2be8ad){this[_0x573050(0x23e)][_0x573050(0x203)](_0x573050(0x248),_0x2be8ad);throw _0x2be8ad;}}async[a0_0x39064b(0x21e)](_0x102990,_0x4cdcf4='gpt-4',_0xde5d7d={}){const _0x15b47b=a0_0x39064b,_0x222fc5={};_0x222fc5[_0x15b47b(0x21a)]=function(_0x2442a0,_0x17a372){return _0x2442a0!==_0x17a372;},_0x222fc5['ifICx']=_0x15b47b(0x24e),_0x222fc5[_0x15b47b(0x210)]=_0x15b47b(0x20b),_0x222fc5[_0x15b47b(0x24a)]='Azure\x20OpenAI\x20API\x20call\x20failed:',_0x222fc5[_0x15b47b(0x238)]=function(_0x3e2a44,_0x42629b){return _0x3e2a44===_0x42629b;};const _0x3da78e=_0x222fc5;await this[_0x15b47b(0x1f8)]();const _0x4eb569=this[_0x15b47b(0x241)](_0x4cdcf4),_0x513d4f=this['endpoint']+_0x15b47b(0x239)+_0x4eb569+_0x15b47b(0x231)+this[_0x15b47b(0x207)],_0x25db81={'messages':_0x102990,'max_tokens':_0xde5d7d[_0x15b47b(0x215)]||0xfa0,'temperature':_0xde5d7d['temperature']||0.7,'top_p':_0xde5d7d[_0x15b47b(0x22c)]||0x1,'frequency_penalty':_0xde5d7d['frequencyPenalty']||0x0,'presence_penalty':_0xde5d7d['presencePenalty']||0x0,..._0xde5d7d},_0x59a98c=_0x25db81;try{if(_0x3da78e['emSzd'](_0x3da78e[_0x15b47b(0x1f6)],'LAsdg')){const _0x447121={};_0x447121[_0x15b47b(0x21b)]=this[_0x15b47b(0x20c)],_0x447121[_0x15b47b(0x246)]=_0x3da78e[_0x15b47b(0x210)];const _0x463920={};_0x463920[_0x15b47b(0x22f)]=_0x447121,_0x463920[_0x15b47b(0x221)]=0xea60;const _0x172ad4=await a0_0x28f4d2[_0x15b47b(0x222)](_0x513d4f,_0x59a98c,_0x463920);return _0x172ad4[_0x15b47b(0x243)];}else{if(_0x1354c8){const _0x8a5c65=_0x1c338d[_0x15b47b(0x1e0)](_0x357149,arguments);return _0x1b3aa6=null,_0x8a5c65;}}}catch(_0x55472e){this[_0x15b47b(0x23e)]['error'](_0x3da78e[_0x15b47b(0x24a)],_0x55472e);if(_0x55472e[_0x15b47b(0x1eb)])throw new Error(_0x15b47b(0x1ec)+_0x55472e['response']['status']+_0x15b47b(0x20a)+(_0x55472e[_0x15b47b(0x1eb)][_0x15b47b(0x243)]?.[_0x15b47b(0x203)]?.[_0x15b47b(0x1df)]||_0x55472e[_0x15b47b(0x1eb)][_0x15b47b(0x1ed)]));else{if(_0x3da78e['YTrxw'](_0x55472e[_0x15b47b(0x23a)],_0x15b47b(0x201)))throw new Error('Azure\x20OpenAI\x20API\x20request\x20timeout');else throw new Error(_0x15b47b(0x21f)+_0x55472e[_0x15b47b(0x1df)]);}}}['getDeploymentName'](_0x622a8a){const _0x2caccd=a0_0x39064b,_0x78fba6={};_0x78fba6['WSpvy']=_0x2caccd(0x227);const _0x3ef22a=_0x78fba6,_0x55c96a={};_0x55c96a[_0x2caccd(0x212)]=_0x3ef22a['WSpvy'],_0x55c96a[_0x2caccd(0x20f)]=_0x2caccd(0x1ef),_0x55c96a[_0x2caccd(0x202)]=_0x3ef22a[_0x2caccd(0x1de)],_0x55c96a['azure-openai-gpt35']='gpt-35-turbo',_0x55c96a[_0x2caccd(0x227)]=_0x2caccd(0x227),_0x55c96a[_0x2caccd(0x240)]=_0x2caccd(0x1ef);const _0x447e10=_0x55c96a;return _0x447e10[_0x622a8a]||'gpt-4';}async[a0_0x39064b(0x200)](){const _0x684998=a0_0x39064b,_0x2a5adf={};_0x2a5adf[_0x684998(0x249)]='user',_0x2a5adf[_0x684998(0x213)]=_0x684998(0x1e2),_0x2a5adf['vaAdV']=_0x684998(0x1ef),_0x2a5adf[_0x684998(0x232)]=_0x684998(0x217),_0x2a5adf[_0x684998(0x1dc)]=_0x684998(0x219);const _0x1fdfeb=_0x2a5adf;try{await this[_0x684998(0x1f8)]();const _0x4b1ba1={};_0x4b1ba1['role']=_0x1fdfeb[_0x684998(0x249)],_0x4b1ba1['content']=_0x1fdfeb[_0x684998(0x213)];const _0x24c364=[_0x4b1ba1],_0x1cda3c={};_0x1cda3c[_0x684998(0x215)]=0xa;const _0x14dc54=await this[_0x684998(0x21e)](_0x24c364,_0x1fdfeb[_0x684998(0x211)],_0x1cda3c),_0xca6ae4={};return _0xca6ae4[_0x684998(0x226)]=_0x1fdfeb['HGKMQ'],_0xca6ae4[_0x684998(0x24d)]=this[_0x684998(0x24d)],_0xca6ae4[_0x684998(0x216)]=_0x1fdfeb['vaAdV'],_0xca6ae4['usage']=_0x14dc54['usage'],_0xca6ae4;}catch(_0xacf3fb){const _0x28c7f6={};return _0x28c7f6['status']=_0x1fdfeb[_0x684998(0x1dc)],_0x28c7f6[_0x684998(0x203)]=_0xacf3fb[_0x684998(0x1df)],_0x28c7f6;}}}function a0_0x4924(_0x55d96b,_0x155bfd){const _0x382e9f=a0_0x3b5c();return a0_0x4924=function(_0x57911c,_0x21c034){_0x57911c=_0x57911c-0x1dc;let _0x2e7cc2=_0x382e9f[_0x57911c];if(a0_0x4924['CXsTdk']===undefined){var _0x32c9c2=function(_0x49249a){const _0x5bb774='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x309ecb='',_0x324ec0='',_0x275972=_0x309ecb+_0x32c9c2;for(let _0x1c8ab1=0x0,_0x3f9482,_0x27dade,_0x315a1b=0x0;_0x27dade=_0x49249a['charAt'](_0x315a1b++);~_0x27dade&&(_0x3f9482=_0x1c8ab1%0x4?_0x3f9482*0x40+_0x27dade:_0x27dade,_0x1c8ab1++%0x4)?_0x309ecb+=_0x275972['charCodeAt'](_0x315a1b+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3f9482>>(-0x2*_0x1c8ab1&0x6)):_0x1c8ab1:0x0){_0x27dade=_0x5bb774['indexOf'](_0x27dade);}for(let _0x389b7b=0x0,_0x1dcc97=_0x309ecb['length'];_0x389b7b<_0x1dcc97;_0x389b7b++){_0x324ec0+='%'+('00'+_0x309ecb['charCodeAt'](_0x389b7b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x324ec0);};a0_0x4924['exZsIr']=_0x32c9c2,_0x55d96b=arguments,a0_0x4924['CXsTdk']=!![];}const _0x3f269d=_0x382e9f[0x0],_0x572923=_0x57911c+_0x3f269d,_0x3b5c10=_0x55d96b[_0x572923];if(!_0x3b5c10){const _0x376321=function(_0x4aff13){this['kKIjxk']=_0x4aff13,this['rwKYWL']=[0x1,0x0,0x0],this['SorXUl']=function(){return'newState';},this['baBHgP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['yxGWqc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x376321['prototype']['rsdyMk']=function(){const _0x1722f7=new RegExp(this['baBHgP']+this['yxGWqc']),_0x48defa=_0x1722f7['test'](this['SorXUl']['toString']())?--this['rwKYWL'][0x1]:--this['rwKYWL'][0x0];return this['DFjCCL'](_0x48defa);},_0x376321['prototype']['DFjCCL']=function(_0x2fa027){if(!Boolean(~_0x2fa027))return _0x2fa027;return this['LJVexT'](this['kKIjxk']);},_0x376321['prototype']['LJVexT']=function(_0x4ab5d6){for(let _0x54b1a9=0x0,_0x4f264f=this['rwKYWL']['length'];_0x54b1a9<_0x4f264f;_0x54b1a9++){this['rwKYWL']['push'](Math['round'](Math['random']())),_0x4f264f=this['rwKYWL']['length'];}return _0x4ab5d6(this['rwKYWL'][0x0]);},new _0x376321(a0_0x4924)['rsdyMk'](),_0x2e7cc2=a0_0x4924['exZsIr'](_0x2e7cc2),_0x55d96b[_0x572923]=_0x2e7cc2;}else _0x2e7cc2=_0x3b5c10;return _0x2e7cc2;},a0_0x4924(_0x55d96b,_0x155bfd);}export default new AzureOpenAIService();