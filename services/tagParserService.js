const a0_0x1a8410=a0_0x3e94;(function(_0x31fec1,_0x4e0b64){const _0x512a0a=a0_0x3e94,_0xd79cb6=_0x31fec1();while(!![]){try{const _0x3fc4b9=parseInt(_0x512a0a(0x172))/0x1+parseInt(_0x512a0a(0x171))/0x2+-parseInt(_0x512a0a(0x1c3))/0x3+parseInt(_0x512a0a(0x16f))/0x4+parseInt(_0x512a0a(0x192))/0x5*(-parseInt(_0x512a0a(0x19e))/0x6)+-parseInt(_0x512a0a(0x1ac))/0x7*(-parseInt(_0x512a0a(0x1c8))/0x8)+-parseInt(_0x512a0a(0x1b7))/0x9;if(_0x3fc4b9===_0x4e0b64)break;else _0xd79cb6['push'](_0xd79cb6['shift']());}catch(_0x4a2837){_0xd79cb6['push'](_0xd79cb6['shift']());}}}(a0_0x858f,0x87450));const a0_0x202d10=(function(){const _0x52a18c=a0_0x3e94,_0xfb0463={};_0xfb0463[_0x52a18c(0x19a)]=function(_0x59ad02,_0x263e57){return _0x59ad02!==_0x263e57;},_0xfb0463[_0x52a18c(0x1bc)]=_0x52a18c(0x1c2),_0xfb0463[_0x52a18c(0x187)]=_0x52a18c(0x1b5),_0xfb0463[_0x52a18c(0x189)]=function(_0x4c6e65,_0x5d6c69){return _0x4c6e65===_0x5d6c69;},_0xfb0463[_0x52a18c(0x170)]='zfzhg',_0xfb0463['ArSbX']='VUDUH';const _0x424886=_0xfb0463;let _0x3a55d2=!![];return function(_0x22ef2a,_0x258e2a){const _0x1ca558=_0x52a18c;if(_0x424886['svWTl'](_0x424886[_0x1ca558(0x170)],_0x424886[_0x1ca558(0x191)])){const _0x4ae88f=_0x2e60a2?function(){if(_0x366c3c){const _0x52ac58=_0x2b6f59['apply'](_0x3aab89,arguments);return _0x4eb2de=null,_0x52ac58;}}:function(){};return _0x14f7d2=![],_0x4ae88f;}else{const _0x1450a0=_0x3a55d2?function(){const _0x2bbfe8=_0x1ca558;if(_0x424886[_0x2bbfe8(0x19a)](_0x424886[_0x2bbfe8(0x1bc)],_0x424886[_0x2bbfe8(0x187)])){if(_0x258e2a){const _0x55ed84=_0x258e2a[_0x2bbfe8(0x1b8)](_0x22ef2a,arguments);return _0x258e2a=null,_0x55ed84;}}else{const _0x1c4fd4=_0x5ecfde[_0x2bbfe8(0x199)]['prototype'][_0x2bbfe8(0x176)](_0x11d305),_0x203753=_0x377cb6[_0x149608],_0x22e070=_0x11fb33[_0x203753]||_0x1c4fd4;_0x1c4fd4[_0x2bbfe8(0x197)]=_0x194eef[_0x2bbfe8(0x176)](_0x16c766),_0x1c4fd4['toString']=_0x22e070['toString']['bind'](_0x22e070),_0x20e0a6[_0x203753]=_0x1c4fd4;}}:function(){};return _0x3a55d2=![],_0x1450a0;}};}()),a0_0x5527d5=a0_0x202d10(this,function(){const _0x6ad0ae=a0_0x3e94,_0x58af1f={};_0x58af1f['Yppnd']='(((.+)+)+)+$';const _0xb01af3=_0x58af1f;return a0_0x5527d5[_0x6ad0ae(0x173)]()['search'](_0xb01af3[_0x6ad0ae(0x174)])[_0x6ad0ae(0x173)]()[_0x6ad0ae(0x199)](a0_0x5527d5)[_0x6ad0ae(0x1c1)](_0xb01af3['Yppnd']);});a0_0x5527d5();const a0_0x5e4bb1=(function(){const _0x51dd96=a0_0x3e94,_0x4e4c5e={};_0x4e4c5e[_0x51dd96(0x17f)]=function(_0x27dd36,_0x102851){return _0x27dd36!==_0x102851;};const _0x1136ce=_0x4e4c5e;let _0x53cdcb=!![];return function(_0x521d8b,_0x691e7d){const _0x3a06d6=_0x51dd96,_0x2b4fef={'lODJX':function(_0x4815d4,_0x507718){const _0x149201=a0_0x3e94;return _0x1136ce[_0x149201(0x17f)](_0x4815d4,_0x507718);},'scfXV':_0x3a06d6(0x1a8)},_0xca2a04=_0x53cdcb?function(){const _0x318fe1=_0x3a06d6;if(_0x691e7d){if(_0x2b4fef['lODJX'](_0x2b4fef[_0x318fe1(0x1aa)],_0x2b4fef['scfXV']))_0xe5d7d9['jobDone']=_0x45ea55[0x0];else{const _0x380aa1=_0x691e7d['apply'](_0x521d8b,arguments);return _0x691e7d=null,_0x380aa1;}}}:function(){};return _0x53cdcb=![],_0xca2a04;};}()),a0_0x35618f=a0_0x5e4bb1(this,function(){const _0x15271b=a0_0x3e94,_0x4032bf={'CXjZW':function(_0x446713,_0x3cb28d){return _0x446713(_0x3cb28d);},'AlsMH':function(_0x44d087,_0x1effdf){return _0x44d087+_0x1effdf;},'vKxzo':function(_0xa9e4ec,_0x245467){return _0xa9e4ec+_0x245467;},'JbeUx':_0x15271b(0x17c),'HcYpo':_0x15271b(0x193),'hAxFo':_0x15271b(0x18a),'SVzfE':_0x15271b(0x181),'aJBiM':'table','FcKym':_0x15271b(0x183)};let _0x1c94b5;try{const _0x36c311=_0x4032bf[_0x15271b(0x19b)](Function,_0x4032bf[_0x15271b(0x19c)](_0x4032bf[_0x15271b(0x178)](_0x15271b(0x184),_0x4032bf['JbeUx']),');'));_0x1c94b5=_0x36c311();}catch(_0x5ded8e){_0x1c94b5=window;}const _0x3616c3=_0x1c94b5[_0x15271b(0x1b1)]=_0x1c94b5[_0x15271b(0x1b1)]||{},_0x11888e=[_0x4032bf['HcYpo'],_0x15271b(0x166),_0x4032bf[_0x15271b(0x17b)],_0x15271b(0x169),_0x4032bf['SVzfE'],_0x4032bf[_0x15271b(0x1a0)],_0x4032bf['FcKym']];for(let _0x2ce658=0x0;_0x2ce658<_0x11888e[_0x15271b(0x1ab)];_0x2ce658++){const _0x342ee2=a0_0x5e4bb1[_0x15271b(0x199)][_0x15271b(0x1bf)]['bind'](a0_0x5e4bb1),_0x20d7af=_0x11888e[_0x2ce658],_0x3f83ff=_0x3616c3[_0x20d7af]||_0x342ee2;_0x342ee2[_0x15271b(0x197)]=a0_0x5e4bb1['bind'](a0_0x5e4bb1),_0x342ee2[_0x15271b(0x173)]=_0x3f83ff['toString'][_0x15271b(0x176)](_0x3f83ff),_0x3616c3[_0x20d7af]=_0x342ee2;}});function a0_0x3e94(_0x36a758,_0x2abe19){const _0x7b888f=a0_0x858f();return a0_0x3e94=function(_0x35618f,_0x5e4bb1){_0x35618f=_0x35618f-0x166;let _0x1fd3a3=_0x7b888f[_0x35618f];if(a0_0x3e94['wbspkx']===undefined){var _0x4f01be=function(_0x3e941e){const _0x305866='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x596fea='',_0x1bc734='',_0x4c2af1=_0x596fea+_0x4f01be;for(let _0x153254=0x0,_0x49c321,_0xe5403d,_0x33524c=0x0;_0xe5403d=_0x3e941e['charAt'](_0x33524c++);~_0xe5403d&&(_0x49c321=_0x153254%0x4?_0x49c321*0x40+_0xe5403d:_0xe5403d,_0x153254++%0x4)?_0x596fea+=_0x4c2af1['charCodeAt'](_0x33524c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x49c321>>(-0x2*_0x153254&0x6)):_0x153254:0x0){_0xe5403d=_0x305866['indexOf'](_0xe5403d);}for(let _0x273433=0x0,_0x277290=_0x596fea['length'];_0x273433<_0x277290;_0x273433++){_0x1bc734+='%'+('00'+_0x596fea['charCodeAt'](_0x273433)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1bc734);};a0_0x3e94['kQygcQ']=_0x4f01be,_0x36a758=arguments,a0_0x3e94['wbspkx']=!![];}const _0x5527d5=_0x7b888f[0x0],_0x202d10=_0x35618f+_0x5527d5,_0x858fe7=_0x36a758[_0x202d10];if(!_0x858fe7){const _0x5969d2=function(_0x39abbd){this['rMkORq']=_0x39abbd,this['XcbLKi']=[0x1,0x0,0x0],this['fwFlov']=function(){return'newState';},this['PpGqAH']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['tXioQE']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5969d2['prototype']['UpkkNY']=function(){const _0x2e60a2=new RegExp(this['PpGqAH']+this['tXioQE']),_0x2e0aa3=_0x2e60a2['test'](this['fwFlov']['toString']())?--this['XcbLKi'][0x1]:--this['XcbLKi'][0x0];return this['GEAwYB'](_0x2e0aa3);},_0x5969d2['prototype']['GEAwYB']=function(_0x51135f){if(!Boolean(~_0x51135f))return _0x51135f;return this['DrtBKt'](this['rMkORq']);},_0x5969d2['prototype']['DrtBKt']=function(_0x2165b2){for(let _0x731f72=0x0,_0x14f7d2=this['XcbLKi']['length'];_0x731f72<_0x14f7d2;_0x731f72++){this['XcbLKi']['push'](Math['round'](Math['random']())),_0x14f7d2=this['XcbLKi']['length'];}return _0x2165b2(this['XcbLKi'][0x0]);},new _0x5969d2(a0_0x3e94)['UpkkNY'](),_0x1fd3a3=a0_0x3e94['kQygcQ'](_0x1fd3a3),_0x36a758[_0x202d10]=_0x1fd3a3;}else _0x1fd3a3=_0x858fe7;return _0x1fd3a3;},a0_0x3e94(_0x36a758,_0x2abe19);}a0_0x35618f();import{TagParser}from'../utilities/tagParser.js';function a0_0x858f(){const _0x51337a=['CNjLyvu','tvHov2S','CgfYC2vuB29Sq29TBwfUzhm','ELLLEfm','uffRrgm','D0jizhG','C2nMwfy','BgvUz3rO','mZvYAhj3teK','sNfLA0S','w3rVB2WGAwq9','rxH0CMfJDgvKihbYB21WDdOG','Dg9VBenVBw1HBMrZ','y29UC29Szq','Bwv0Dui','ChvZAa','y01MEwO','Bhj4v1i','EvHQu3C','mtm2nJm1ndHJA3fVvuO','yxbWBhK','Dg9VBhmTy29TBwfUzhm','yKnfzLa','ChjVBxb0','CKLcAKm','Bg9Nz2vY','B1zxzxC','ChjVDg90ExbL','AM9Irg9Uzq','C2vHCMnO','AfLVAuG','mJq2nZq4og5lvxvXCa','yxr0CMLIDxrLCW','CMf3vgfN','A3ztz2i','rxH0CMfJDgvKigrPCMvJDcb0B29SignVBw1HBMq6ia','mtCXnZeXmNDUtgnpAW','D2fYBG','A3jnthK','kcGOlISPkYKRksSK','zxjYB3i','CMvJAxbPzw50','BMfTzq','rxjYB3iGCgfYC2LUzYbTzxnZywDLihDPDgGGvgfNugfYC2vYoG','AM9IlwrVBMu','rxH0CMfJDgvKihrVB2WGy29TBwfUzdOG','mta0mtu0mffkzeH2vq','D0TMrhO','mtGYmdK0mhDjrhPowG','oti2nZa2qKP4yuzU','Dg9tDhjPBMC','wxbWBMq','yM9rDuC','yMLUza','DhjPBq','DKT4EM8','Aw5JBhvKzxm','qKzksNe','Aef4rM8','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','uKHJA0C','Dfvhu3u','uxv0ENO','DKfwt3G','zxHJzxb0Aw9U','zxH0CMfJDenVBNrLBNq','DhjHy2u','CMv0DxjUicHMDw5JDgLVBIGPia','B3b0Aw9U','uNjKt3e','EvjPs0K','s1PNA0C','C3zxvgW','Aw5MBW','Dg9VBa','ihDPDgGG','ANz5Bfy','Dg9VBeLK','CMvWBgfJzq','ig9WDgLVBNm','qxjtyLG','mty0mZbUCLjOsee','Bg9N','uMjjsfC','zu1Vthi','renmrfm','x19WCM90B19F','CxvLCNK','y29UC3rYDwn0B3i','BwfXD3G','q1HQwLC','qwXZtuG','CgfYC2vqCM9TChq','nta0q09br0Xv','y29UDgvUDa','yuPcAu0','sM9hq3u','zLPLBgq','vxnLCIbqCM9TChq'];a0_0x858f=function(){return _0x51337a;};return a0_0x858f();}export class TagParserService{constructor(_0x5d82fc){this['logger']=_0x5d82fc;}['parseMessage'](_0x2c4283){const _0x2de98d=a0_0x3e94,_0x25b027={};_0x25b027[_0x2de98d(0x17d)]=_0x2de98d(0x168),_0x25b027[_0x2de98d(0x196)]=_0x2de98d(0x1bb),_0x25b027[_0x2de98d(0x175)]=function(_0xefbbb0,_0xc5d1fa){return _0xefbbb0>_0xc5d1fa;},_0x25b027['oVWew']='Parsing\x20message\x20with\x20TagParser',_0x25b027[_0x2de98d(0x17a)]=function(_0x48fbe5,_0x1477a0){return _0x48fbe5!==_0x1477a0;},_0x25b027[_0x2de98d(0x1ad)]=_0x2de98d(0x1b6),_0x25b027[_0x2de98d(0x167)]=_0x2de98d(0x1a7),_0x25b027['JoGCu']=_0x2de98d(0x16d),_0x25b027[_0x2de98d(0x18d)]='message',_0x25b027[_0x2de98d(0x180)]=_0x2de98d(0x188),_0x25b027['vhDxr']=_0x2de98d(0x186),_0x25b027[_0x2de98d(0x1a4)]=_0x2de98d(0x16c);const _0x4bb63c=_0x25b027;this[_0x2de98d(0x1bd)][_0x2de98d(0x18a)](_0x4bb63c[_0x2de98d(0x1be)]);const _0xa7ccd0={};_0xa7ccd0[_0x2de98d(0x16a)]=null,_0xa7ccd0[_0x2de98d(0x19f)]=_0x2c4283,_0xa7ccd0[_0x2de98d(0x1b0)]=[],_0xa7ccd0[_0x2de98d(0x1bb)]=null,_0xa7ccd0[_0x2de98d(0x1c0)]=null;const _0xfeb283=_0xa7ccd0;try{if(_0x4bb63c[_0x2de98d(0x17a)](_0x4bb63c['JqekK'],_0x4bb63c[_0x2de98d(0x167)])){const _0x31e205=TagParser[_0x2de98d(0x182)](_0x2c4283,_0x4bb63c[_0x2de98d(0x1a1)]);_0x31e205[_0x2de98d(0x1ab)]>0x0&&(_0xfeb283[_0x2de98d(0x1c0)]=_0x31e205[0x0]);const _0x1d585c=TagParser[_0x2de98d(0x198)](_0x2c4283,_0x4bb63c[_0x2de98d(0x18d)]);if(_0x4bb63c[_0x2de98d(0x175)](_0x1d585c[_0x2de98d(0x1ab)],0x0)){if(_0x4bb63c[_0x2de98d(0x17a)]('xmycG',_0x4bb63c['vAVOx'])){const _0x1a16f5=_0x1d585c[0x0];_0xfeb283[_0x2de98d(0x16a)]=_0x1a16f5[_0x2de98d(0x1c4)]['to'],_0xfeb283['content']=_0x1a16f5[_0x2de98d(0x19f)],this[_0x2de98d(0x1bd)][_0x2de98d(0x18a)]('Message\x20to\x20recipient:\x20'+_0xfeb283[_0x2de98d(0x16a)]);}else return _0x389416[_0x2de98d(0x173)]()['search'](jmWCBJ[_0x2de98d(0x17d)])['toString']()['constructor'](_0x39a292)['search'](_0x2de98d(0x168));}return this[_0x2de98d(0x1a6)](_0x2c4283,_0xfeb283),this[_0x2de98d(0x19d)](_0x2c4283,_0xfeb283),_0xfeb283;}else{const _0x34ff3b=_0x19865d[_0x2de98d(0x198)](_0x1400ca,_0x4bb63c[_0x2de98d(0x196)]);if(_0x4bb63c[_0x2de98d(0x175)](_0x34ff3b[_0x2de98d(0x1ab)],0x0)){const _0x22d69b=_0x34ff3b[0x0],_0x3819fa=_0x22d69b['attributes'][_0x2de98d(0x16b)]||_0x2de98d(0x1a3),_0x2dda1b=_0x22d69b[_0x2de98d(0x19f)],_0x4fc3d=_0x548e3f['extractContent'](_0x2dda1b,_0x2de98d(0x185));_0x20fb76[_0x2de98d(0x1bb)]={'name':_0x3819fa,'text':_0x2dda1b[_0x2de98d(0x18f)](/\[option\](.*?)\[\/option\]/gs,'')[_0x2de98d(0x177)](),'options':_0x4fc3d},this['logger'][_0x2de98d(0x18a)](_0x2de98d(0x1af)+_0x3819fa+_0x2de98d(0x18c)+_0x4fc3d['length']+_0x2de98d(0x190));}}}catch(_0x704424){if('CrZrl'===_0x4bb63c['vhDxr']){const _0x3c3678=_0xd1ef6?function(){const _0x5ccd7f=_0x2de98d;if(_0x13f35e){const _0x459d9b=_0xecc751[_0x5ccd7f(0x1b8)](_0x296252,arguments);return _0x4da7b3=null,_0x459d9b;}}:function(){};return _0x54bee0=![],_0x3c3678;}else return this[_0x2de98d(0x1bd)]['error'](_0x4bb63c['rreaU'],_0x704424),_0xfeb283;}}[a0_0x1a8410(0x1a6)](_0x3b15c8,_0x3e561b){const _0x30e2a7=a0_0x1a8410,_0x3d1345={};_0x3d1345[_0x30e2a7(0x17e)]=_0x30e2a7(0x1b9),_0x3d1345[_0x30e2a7(0x1a5)]=_0x30e2a7(0x18b),_0x3d1345[_0x30e2a7(0x1b4)]=_0x30e2a7(0x195),_0x3d1345['DPdsx']=function(_0x1374df,_0x303f05){return _0x1374df===_0x303f05;},_0x3d1345['szCrE']=function(_0x266f48,_0x9d105){return _0x266f48===_0x9d105;},_0x3d1345[_0x30e2a7(0x1c6)]=_0x30e2a7(0x1ba),_0x3d1345['RbIHW']='JSoYP';const _0x54e8c1=_0x3d1345,_0x2644ad=TagParser['query'](_0x3b15c8,_0x54e8c1['tUGSu']);for(const _0x231681 of _0x2644ad){const _0x195f29=_0x231681[_0x30e2a7(0x19f)],_0x41ce24=TagParser[_0x30e2a7(0x198)](_0x195f29,_0x54e8c1['MXNWk']);for(const _0x3d83e6 of _0x41ce24){if(_0x54e8c1[_0x30e2a7(0x1b4)]!==_0x30e2a7(0x195)){if(_0xea2a2a){const _0x2edbf9=_0x5070f9[_0x30e2a7(0x1b8)](_0x4a79c7,arguments);return _0x248299=null,_0x2edbf9;}}else{const _0x39005f=_0x3d83e6['attributes']['id'];if(!_0x39005f)continue;const _0xd41adf=_0x3d83e6[_0x30e2a7(0x19f)],_0x54a941={};_0x54a941[_0x30e2a7(0x18e)]=_0x39005f,_0x54a941[_0x30e2a7(0x19f)]=_0xd41adf,_0x54a941[_0x30e2a7(0x1c5)]=_0x3d83e6,_0x3e561b[_0x30e2a7(0x1b0)][_0x30e2a7(0x1b3)](_0x54a941),this['logger']['info'](_0x30e2a7(0x16e)+_0x39005f);}}}if(_0x54e8c1['DPdsx'](_0x2644ad[_0x30e2a7(0x1ab)],0x0)&&_0x3b15c8[_0x30e2a7(0x179)](_0x30e2a7(0x1ae))){const _0x515ea8=TagParser[_0x30e2a7(0x198)](_0x3b15c8,_0x54e8c1['MXNWk']);for(const _0x43fd1c of _0x515ea8){if(_0x54e8c1['szCrE'](_0x54e8c1[_0x30e2a7(0x1c6)],_0x54e8c1[_0x30e2a7(0x194)])){if(_0x1026bd){const _0xb4674e=_0x2265fd[_0x30e2a7(0x1b8)](_0x252348,arguments);return _0x343fb3=null,_0xb4674e;}}else{const _0x335a04=_0x43fd1c[_0x30e2a7(0x1c4)]['id'];if(!_0x335a04)continue;const _0x2f6cc6=_0x43fd1c[_0x30e2a7(0x19f)],_0x8e4d75={};_0x8e4d75[_0x30e2a7(0x18e)]=_0x335a04,_0x8e4d75[_0x30e2a7(0x19f)]=_0x2f6cc6,_0x8e4d75[_0x30e2a7(0x1c5)]=_0x43fd1c,_0x3e561b['toolCommands'][_0x30e2a7(0x1b3)](_0x8e4d75),this[_0x30e2a7(0x1bd)][_0x30e2a7(0x18a)](_0x30e2a7(0x1c7)+_0x335a04);}}}}['parsePrompt'](_0x40a35e,_0x2d7ecf){const _0x49d1b6=a0_0x1a8410,_0x2e6051={};_0x2e6051[_0x49d1b6(0x1a9)]=_0x49d1b6(0x1bb),_0x2e6051[_0x49d1b6(0x1b2)]=function(_0x2b2844,_0x231315){return _0x2b2844>_0x231315;},_0x2e6051[_0x49d1b6(0x1a2)]=_0x49d1b6(0x185);const _0x423253=_0x2e6051,_0x21e5d4=TagParser['query'](_0x40a35e,_0x423253[_0x49d1b6(0x1a9)]);if(_0x423253[_0x49d1b6(0x1b2)](_0x21e5d4['length'],0x0)){const _0x5e069e=_0x21e5d4[0x0],_0x4c09de=_0x5e069e[_0x49d1b6(0x1c4)]['name']||_0x49d1b6(0x1a3),_0x4d08ae=_0x5e069e[_0x49d1b6(0x19f)],_0x43dedc=TagParser[_0x49d1b6(0x182)](_0x4d08ae,_0x423253[_0x49d1b6(0x1a2)]);_0x2d7ecf[_0x49d1b6(0x1bb)]={'name':_0x4c09de,'text':_0x4d08ae[_0x49d1b6(0x18f)](/\[option\](.*?)\[\/option\]/gs,'')[_0x49d1b6(0x177)](),'options':_0x43dedc},this[_0x49d1b6(0x1bd)][_0x49d1b6(0x18a)](_0x49d1b6(0x1af)+_0x4c09de+_0x49d1b6(0x18c)+_0x43dedc[_0x49d1b6(0x1ab)]+_0x49d1b6(0x190));}}}