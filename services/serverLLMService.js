const a0_0x3c305d=a0_0x505d;(function(_0x213d01,_0x300013){const _0x4ecdef=a0_0x505d,_0x4e5f44=_0x213d01();while(!![]){try{const _0x17023b=parseInt(_0x4ecdef(0x2f0))/0x1*(-parseInt(_0x4ecdef(0x351))/0x2)+-parseInt(_0x4ecdef(0x181))/0x3*(parseInt(_0x4ecdef(0x389))/0x4)+-parseInt(_0x4ecdef(0x1f8))/0x5+-parseInt(_0x4ecdef(0x33f))/0x6*(-parseInt(_0x4ecdef(0x22a))/0x7)+parseInt(_0x4ecdef(0x254))/0x8+-parseInt(_0x4ecdef(0x1ca))/0x9+parseInt(_0x4ecdef(0x354))/0xa;if(_0x17023b===_0x300013)break;else _0x4e5f44['push'](_0x4e5f44['shift']());}catch(_0x485d32){_0x4e5f44['push'](_0x4e5f44['shift']());}}}(a0_0xae32,0xc5a04));const a0_0x1fff4c=(function(){let _0x24c13a=!![];return function(_0x473778,_0x1b1590){const _0x1fc311=_0x24c13a?function(){if(_0x1b1590){const _0x158ebf=_0x1b1590['apply'](_0x473778,arguments);return _0x1b1590=null,_0x158ebf;}}:function(){};return _0x24c13a=![],_0x1fc311;};}()),a0_0x382f42=a0_0x1fff4c(this,function(){const _0x1a9ecc=a0_0x505d,_0x4a2e19={};_0x4a2e19[_0x1a9ecc(0x249)]=_0x1a9ecc(0x2b6);const _0x2bf75d=_0x4a2e19;return a0_0x382f42[_0x1a9ecc(0x2a3)]()[_0x1a9ecc(0x2f2)](_0x2bf75d[_0x1a9ecc(0x249)])[_0x1a9ecc(0x2a3)]()[_0x1a9ecc(0x1f1)](a0_0x382f42)[_0x1a9ecc(0x2f2)](_0x2bf75d[_0x1a9ecc(0x249)]);});function a0_0x505d(_0x38e9fa,_0x2666be){const _0x47bc4a=a0_0xae32();return a0_0x505d=function(_0x16688c,_0x18b029){_0x16688c=_0x16688c-0x172;let _0x27038e=_0x47bc4a[_0x16688c];if(a0_0x505d['HvVUcr']===undefined){var _0x5ad2d1=function(_0x505de6){const _0x2f1488='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2125ec='',_0x3fa84d='',_0x5ada84=_0x2125ec+_0x5ad2d1;for(let _0xe33960=0x0,_0x9e4926,_0xefa04f,_0x115ed5=0x0;_0xefa04f=_0x505de6['charAt'](_0x115ed5++);~_0xefa04f&&(_0x9e4926=_0xe33960%0x4?_0x9e4926*0x40+_0xefa04f:_0xefa04f,_0xe33960++%0x4)?_0x2125ec+=_0x5ada84['charCodeAt'](_0x115ed5+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x9e4926>>(-0x2*_0xe33960&0x6)):_0xe33960:0x0){_0xefa04f=_0x2f1488['indexOf'](_0xefa04f);}for(let _0x4b5254=0x0,_0x3446b6=_0x2125ec['length'];_0x4b5254<_0x3446b6;_0x4b5254++){_0x3fa84d+='%'+('00'+_0x2125ec['charCodeAt'](_0x4b5254)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3fa84d);};a0_0x505d['AuDwXl']=_0x5ad2d1,_0x38e9fa=arguments,a0_0x505d['HvVUcr']=!![];}const _0x382f42=_0x47bc4a[0x0],_0x1fff4c=_0x16688c+_0x382f42,_0xae324c=_0x38e9fa[_0x1fff4c];if(!_0xae324c){const _0x2a73af=function(_0x306cc7){this['UXgIZq']=_0x306cc7,this['ORVcNJ']=[0x1,0x0,0x0],this['EbenrF']=function(){return'newState';},this['dxcCVz']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['KCMgTz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2a73af['prototype']['nGFHcu']=function(){const _0x379a0c=new RegExp(this['dxcCVz']+this['KCMgTz']),_0x2c41c1=_0x379a0c['test'](this['EbenrF']['toString']())?--this['ORVcNJ'][0x1]:--this['ORVcNJ'][0x0];return this['dcuuQS'](_0x2c41c1);},_0x2a73af['prototype']['dcuuQS']=function(_0xba8c81){if(!Boolean(~_0xba8c81))return _0xba8c81;return this['JNSJif'](this['UXgIZq']);},_0x2a73af['prototype']['JNSJif']=function(_0x57be86){for(let _0x4d628d=0x0,_0x3f82ce=this['ORVcNJ']['length'];_0x4d628d<_0x3f82ce;_0x4d628d++){this['ORVcNJ']['push'](Math['round'](Math['random']())),_0x3f82ce=this['ORVcNJ']['length'];}return _0x57be86(this['ORVcNJ'][0x0]);},new _0x2a73af(a0_0x505d)['nGFHcu'](),_0x27038e=a0_0x505d['AuDwXl'](_0x27038e),_0x38e9fa[_0x1fff4c]=_0x27038e;}else _0x27038e=_0xae324c;return _0x27038e;},a0_0x505d(_0x38e9fa,_0x2666be);}a0_0x382f42();const a0_0x18b029=(function(){const _0x1de8dd=a0_0x505d,_0x52a6b6={};_0x52a6b6[_0x1de8dd(0x1b5)]=_0x1de8dd(0x1c4);const _0x222309=_0x52a6b6;let _0x5ef457=!![];return function(_0x4366de,_0x48f411){const _0x503750=_0x1de8dd;if(_0x222309[_0x503750(0x1b5)]===_0x503750(0x283))throw new _0x69abd5(_0x503750(0x344));else{const _0x5bce74=_0x5ef457?function(){const _0x39b215=_0x503750;if(_0x48f411){const _0x378d97=_0x48f411[_0x39b215(0x1df)](_0x4366de,arguments);return _0x48f411=null,_0x378d97;}}:function(){};return _0x5ef457=![],_0x5bce74;}};}()),a0_0x16688c=a0_0x18b029(this,function(){const _0x158eb7=a0_0x505d,_0x365eed={'NPYTk':_0x158eb7(0x22d),'cxNOE':_0x158eb7(0x18c),'JQHCY':function(_0x3dacc9,_0x503f9b){return _0x3dacc9!==_0x503f9b;},'tOJiw':'rMIOl','LcDrc':_0x158eb7(0x34c),'UixVX':function(_0x1ed0bb,_0x3c1859){return _0x1ed0bb(_0x3c1859);},'cRQnb':function(_0x2d67bd,_0x36013b){return _0x2d67bd+_0x36013b;},'NSRvZ':_0x158eb7(0x19d),'mQoLC':_0x158eb7(0x1ae),'RALgA':function(_0x1ab963){return _0x1ab963();},'HQWIR':_0x158eb7(0x214),'IaYLt':_0x158eb7(0x294),'tivzh':_0x158eb7(0x345),'SQqRM':_0x158eb7(0x1c2),'evscE':_0x158eb7(0x27c),'fAwVa':function(_0x104894,_0x5ba36f){return _0x104894<_0x5ba36f;},'yEgPg':_0x158eb7(0x368)};let _0x4f1b2f;try{if(_0x365eed[_0x158eb7(0x2bf)](_0x365eed[_0x158eb7(0x39a)],_0x365eed['LcDrc'])){const _0x58ce07=_0x365eed[_0x158eb7(0x2eb)](Function,_0x365eed['cRQnb'](_0x365eed[_0x158eb7(0x2be)](_0x365eed['NSRvZ'],_0x365eed[_0x158eb7(0x252)]),');'));_0x4f1b2f=_0x365eed[_0x158eb7(0x395)](_0x58ce07);}else _0x51f4ca[_0x158eb7(0x227)]=_0x365eed[_0x158eb7(0x2db)],_0x314fbf['errorType']=_0x27428a['TIMEOUT'];}catch(_0x1dd4bc){_0x365eed[_0x158eb7(0x1eb)]===_0x158eb7(0x214)?_0x4f1b2f=window:_0x24ca89[_0x158eb7(0x27e)]=_0x46a72f[_0x158eb7(0x27e)];}const _0x542fa6=_0x4f1b2f[_0x158eb7(0x2a1)]=_0x4f1b2f[_0x158eb7(0x2a1)]||{},_0x5e7fa1=[_0x365eed[_0x158eb7(0x393)],_0x158eb7(0x257),_0x365eed[_0x158eb7(0x260)],_0x158eb7(0x35a),_0x158eb7(0x1ba),_0x365eed[_0x158eb7(0x371)],_0x365eed[_0x158eb7(0x271)]];for(let _0x31a050=0x0;_0x365eed['fAwVa'](_0x31a050,_0x5e7fa1[_0x158eb7(0x2f8)]);_0x31a050++){if(_0x365eed[_0x158eb7(0x2bf)](_0x365eed[_0x158eb7(0x262)],_0x365eed['yEgPg']))throw new _0x5f455f(_0x365eed[_0x158eb7(0x1e1)]);else{const _0x4278d9=a0_0x18b029[_0x158eb7(0x1f1)]['prototype'][_0x158eb7(0x29d)](a0_0x18b029),_0x5de247=_0x5e7fa1[_0x31a050],_0x37db3c=_0x542fa6[_0x5de247]||_0x4278d9;_0x4278d9[_0x158eb7(0x1b7)]=a0_0x18b029[_0x158eb7(0x29d)](a0_0x18b029),_0x4278d9['toString']=_0x37db3c[_0x158eb7(0x2a3)][_0x158eb7(0x29d)](_0x37db3c),_0x542fa6[_0x5de247]=_0x4278d9;}}});a0_0x16688c();import a0_0x8bcac from'node-fetch';const DEFAULT_TIMEOUT_MS=0xea60,DEFAULT_MAX_RETRIES=0x3,DEFAULT_RETRY_DELAY_MS=0x7530,RETRY_DELAY_MULTIPLIER=0x2,API_VERSION='v1',a0_0x150cbc={};a0_0x150cbc['OK']=0xc8,a0_0x150cbc[a0_0x3c305d(0x217)]=0xc9,a0_0x150cbc[a0_0x3c305d(0x1d9)]=0x190,a0_0x150cbc[a0_0x3c305d(0x386)]=0x191,a0_0x150cbc[a0_0x3c305d(0x361)]=0x193,a0_0x150cbc[a0_0x3c305d(0x2ee)]=0x194,a0_0x150cbc['TOO_MANY_REQUESTS']=0x1ad,a0_0x150cbc[a0_0x3c305d(0x28d)]=0x1f4,a0_0x150cbc[a0_0x3c305d(0x2c1)]=0x1f6,a0_0x150cbc['SERVICE_UNAVAILABLE']=0x1f7,a0_0x150cbc[a0_0x3c305d(0x1d5)]=0x1f8;const HTTP_STATUS=a0_0x150cbc,a0_0x30a3f0={};a0_0x30a3f0[a0_0x3c305d(0x35d)]=a0_0x3c305d(0x2ab),a0_0x30a3f0['NETWORK']=a0_0x3c305d(0x374),a0_0x30a3f0['TIMEOUT']=a0_0x3c305d(0x1b2),a0_0x30a3f0['RATE_LIMIT']=a0_0x3c305d(0x2c8),a0_0x30a3f0[a0_0x3c305d(0x2c6)]=a0_0x3c305d(0x215),a0_0x30a3f0[a0_0x3c305d(0x240)]=a0_0x3c305d(0x1e7),a0_0x30a3f0[a0_0x3c305d(0x21b)]=a0_0x3c305d(0x1e4);const ERROR_TYPES=a0_0x30a3f0,a0_0x2c4861={};function a0_0xae32(){const _0x153940=['Cuv0tLq','C3LZDgvTuhjVBxb0','D0fsDNy','DKvvAwi','Cuzur1K','tg5hrMy','rxHyrg4','vvDyCuu','z05JB0y','sufuqKS','zLbQAxi','Ahr0CdO','z0zxweC','re5tigXVB2T1CcbMywLSzwqUienOzwnRihnLCNzLCIbvuKWU','sw52ywXPzcbVDxrWDxqGChjPy2LUzYbMB3iGBw9KzwWG','wxzwCha','su5urvjoquXFu0vsvKvsx0vsuK9s','vxvVvuq','BxvqAKi','u2TAv0e','BM5MB0m','uMvcwMC','u2vYDMvYieXmtsbZzxj2AwnLihnODxqGzg93BIbZDwnJzxnZzNvSBhK','Bg9N','ChvZAa','yw50AhjVCgLJlxnVBM5LDa','l2XSBs9JAgf0','u2fUAxrPEMvKignVBNzLCNnHDgLVBIbjrcbMCM9Tici','yxbWBgLJyxrPB24VANnVBG','ChjPy2LUz0rHDge','zwjxvgO','sLzpyw8','yMLUza','reTvugS','BgfZDe91Dhb1DfrVA2vUq291BNq','sgXvv28','y29UC29Szq','wfvswLu','Dg9tDhjPBMC','x3vWzgf0zunVBNzLCNnHDgLVBLn0yxrL','De1IChC','x2XVywrtzxj2zxjeyxrH','z2v0qxzHAwXHyMXLtw9KzwXZ','DMfSDwvZ','q29UBMvJDgLVBIbYzwz1C2vKlIbtzxj2zxiGBwf5igjLigrVD24U','veLAwvy','yxv0AgvUDgLJyxrPB24','sw52ywXPzcbTyxHuB2TLBNmGzM9Yig1VzgvSia','z2v0tgfZDe91Dhb1DfrVA2vUq291BNq','Auzyt2O','CwHxC2y','z2v0','Bwf4vg9Rzw5Z','AxnfsKG','Agjks2u','A2jnsxC','x3zHBgLKyxrLtw9KzwXeyxrH','kcGOlISPkYKRksSK','CwXUu3u','ChjPy2LUzW','tvnvD0K','u0vsvKLdrv9vtKfwquLmqujmrq','rMfPBgvKihrVigXVywqGqvbjigTLEsbMCM9TignYzwrLBNrPywXZigzPBgu6','DvHAtLO','CfHzzMq','y1jrBMi','sLfiq1K','AKzNzw0','qKfex0DbvevxqvK','yuPmt24','vffbuKC','C3vWCg9YDhnnB2rLBa','x3bYB2nLC3ndAgf0uMvZCg9UC2u','u0vsvKvs','t2jKEum','CMf0zv9SAw1PDa','Aevdvem','B3jPz2LUywXfCNjVCG','swTJwxy','vgfXug4','uvjRreC','zKX5Cw0','rxjYB3iGC2vUzgLUzYbTzxnZywDLihrVihnLCNzLCJO','veLnru9vva','zwTTv1K','thHqsNC','tg9HzgLUzYbWCMLJAw5NigrHDgeGzNjVBsbZzxj2zxi','rMfPBgvKihrVigXVywqGChjPy2LUzYbKyxrHoG','u2vYDMvYieXmtsbZzxj2AwnLigLUAxrPywXPEMvK','Cgf5Bg9Hzcb0B28GBgfYz2u','vK9oBM0','y2vPBa','x2nSyxnZAwz5rxjYB3i','sw52ywXPzcbTzxnZywDLignVBNrLBNq','tLbzvgS','tM8Gy29UDMvYC2f0Aw9UieLeihbYB3zPzgvKig9YignVBNzLCNnHDgLVBIbUB3qGzM91BMqSihvZAw5NigrLzMf1BhqGBw9KzwWGzM9Yihn1Bw1HCNK','AuX2Agm','l2XSBs92AxnPB24','rMDpquq','yM1Urxi','BwvZC2fNzxm','thH0A3O','x3zHBgLKyxrLq2HHDfjLC3bVBNnL','t1fIz0m','BNvTyMvY','EeDetg0','ruPIyKm','AeTeDvG','C3nND3K','zgvIDwC','vwL4vLG','zNmVChjVBwLZzxm','x2j1AwXKq2HHDfjLCxvLC3rqyxLSB2fK','tK9ux0zpvu5e','u3fRy00','mZi4mtfdDeTWvLy','BhD6q0m','C2vHCMnO','BgfZDefJDgL2Axr5','BM93','B0v0su4','z2v0x2LTywDLx2rLC2nYAxb0Aw9U','z2v0u2vYDMvYsgvHBhrO','BgvUz3rO','swLOtha','rvfNtxK','sw52ywXPzcbYzxnWB25ZztOGAw52ywXPzcb1C2fNzsbKyxrH','EfLjru4','zLrzyxe','DwDyBxa','AuTQzfi','Cenprgm','C3rYAw5N','zeTgywi','vwr6Awe','swvXAeK','vwH2Ceu','x2DLBMvYyxrLuMvXDwvZDeLK','Bg94AweTBg9JywWTA2v5','yLbqwwS','sw52ywXPzcbYzxnWB25ZztOGBwLZC2LUzYbVCIbPBNzHBgLKignVBNrLBNq','qKrbCeC','Eer2uuW','CxLAtMu','CgPnEfO','y29UDMvYC2f0Aw9Ulq','C3bSAxq','thrisuG','C3rYAw5NAwz5','qM9AEfC','Ag9TzwrPCG','BwzdsK4','ruD4AgK','Bwv0Ag9K','runptK5sruzvu0ve','C2vUze1LC3nHz2u','AvrOAgi','EgTyq2u','qM1mz2y','y0jSywi','vgLHvhG','DxjS','yxzsDMS','t1PJs0O','ig1VzgvSCYbMCM9TihnLCNzLCG','BKfIwwW','q2TbD1m','reH3Dem','y29UDMvYC2f0Aw9UCW','y3vYCMvUy3K','CfPZs08','Dw5OzwfSDgH5','AKDpzhC','l2HLywX0Aa','Du9cA0m','tg9HzgLUzYbHDMfPBgfIBguGBw9KzwXZigzYB20GC2vYDMvY','y29UDgvUDa','AgfZ','AMrTvu4','Aw5WDxrFDg9Rzw5Z','DxrMoa','qM5jq2e','BMfTzq','wLv3Dvu','Cuj4rgK','B0H2A2S','wePPu3a','rwnmveW','EKLut1q','uhHTA2y','vgH6tfe','Dg9mB3DLCKnHC2u','Aw5JBhvKzxm','AeThDey','mtG0nZu4BuX6r0vo','r2v0DgLUzYbZDw1Tyxj5igzYB20GC2vYDMvY','CMv0CMLLCW','y2f0zwDVCNK','x2nSyxnZAwz5shr0CevYCM9Y','sw52ywXPzcbJB252zxjZyxrPB24Gsuq','Aw5MBW','yxzHAwXHyMXLtw9KzwXZ','x3nHBML0AxPLq29UDMvYC2f0Aw9Uswq','Bw9KzwW','l3vZywDLl3bYAwnPBMC','DLbqqMi','D3Lfv3i','C3vTu0S','iIb0BYaI','BejuuNO','sMHjtue','u2vYDMLJzsbUB3qGAw5PDgLHBgL6zwqUienHBgWGAw5PDgLHBgL6zsGPigzPCNn0lG','ndHfD3PVB2e','wu1WBLi','x2nYzwf0zuH0DhbfCNjVCG','mtm5nZK3ntbPvwDNDey','z2v0tgfZDeLUChv0vg9Rzw5dB3vUDa','CgfYC2u','D0DwA2C','y3HxDK8','tg9HzgvKihbYAwnPBMCGzM9Yia','zxjYB3i','yxvcq2m','swvJufy','qvvusevoveLdqvrjt04','BgfZDfbYAwnPBMDvCgrHDgu','zNjVBunOyxjdB2rL','rMfPBgvKihrVigLUAxrPywXPEMuGC2vYDMvYieXmtsbZzxj2AwnLoG','rK9sqKLerevo','sw52ywXPzcbIyxnLnJqGAw1Hz2uGzgf0yq','l2XSBs9ZDw1Tyxj5','wKTAAfO','Exnhzvy','yxP1CMuTywKTCgHPna','u2H1DhrPBMCGzg93BIbZzxj2zxiGteXnihnLCNzPy2u','wfrWrfm','ExvuD3q','x3nLBMrdAgf0uMvXDwvZDa','DhzhANu','wM9KtKi','DxvguNi','BwvZC2fNzsb0B28GBg9UzW','ENbpC3m','tMv0D29YAYbYzxf1zxn0igzHAwXLzdOG','u1fXuK0','t1Lczuy','yxP1CMuTB3bLBMfPlwDWDdm1','BMv0D29YAW','AKD1vhu','BgfZDeLUChv0vg9Rzw5dB3vUDa','EfHTBu4','C3rHDhvZvgv4Da','uKfurv9msu1jva','rxjYB3iGz2v0DgLUzYbZDw1Tyxj5igzYB20GC2vYDMvYoG','sgTIExC','z2v0sw1Hz2vezxnJCMLWDgLVBG','zwPAtxO','BfDAEwK','ruzfruG','q1vzyxK','B3bLCMf0Aw9U','v3fjDhG','CMvNAxn0zxjdB252zxjZyxrPB24','zKTXue4','zxjjDge','vu5bvvrit1jjwKve','vNLHuuC','DhLWzq','mJHtz0Xwrxq','q25rswG','yxbPs2v5','suj3DNi','teLUDei','yKTVqvC','DxnLCG','ExfpChK','qMvHCMvYia','x2XVywrqCMLJAw5Nrgf0yq','swfzthq','x2XVywrbCgLlzxK','uKfmz0e','q09Zyu8','Cevsuu0','reLWrMe','AhHXENq','De9kAxC','lMXVEgLH','zfn3vKe','Aw5WDxq','A3zQEKi','yvbkCfy','r3Pwr2q','AxnbCNjHEq','Cvzuthe','rgPJvuy','x3nHzMvkC29UugfYC2u','uMvMCMvZAgLUzYbWCMLJAw5NigrHDgeGzNjVBsbZzxj2zxi','vezNyvy','sfjXDeK','vvne','u1rIt3u','qvbjigTLEsb2ywXPzgf0Aw9UigzHAwXLzdO','y3jLzgvUDgLHBhm','DLvpC1u','ndK2mJeYrgjTqLPX','tMTmzey','rgvLsxi','rwX6vui','y2HHCKnVzgvbDa','r0fcrxi','DePty00','s01Yve0','DMfSDwu','Dg9ju09tDhjPBMC','CMvMCMvZAfbYAwnPBMDeyxrH','sw52ywXPzcbZDw1Tyxj5ihbYB21WDa','Bg9HzgvKu2vYDMvYrgf0yq','DK1UvLC','zNjVBq','rMHmuM0','q3H2Bu0','wfnUwKS','sw52ywXPzcbWCMLJAw5NihjLC3bVBNnLigzYB20GC2vYDMvY','B2DXC0u','swHAwue','tgvjtwC','ExrYChG','uufuyMy','qu53Dw0','DhjPBq','tK1Jww0','CMvHzezPBgu','CMv0DxjUicHMDw5JDgLVBIGPia','l2XSBs9TB2rLBhm','x2vUAgfUy2vfCNjVCG','sK96CeC','EgDgt3K','C1P0weO','ENDdAwO','x2rLy3j5ChrlzxK','uxDKEKu','B3r4y2S','zxn0Aw1HDgvuB2TLBKnVDw50','y01hyMO','A0LdCvq','Bg9Nz2vY','AePqugW','ALnvAwG','yxnZAxn0yw50','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','BhLizgG','C3HMrhq','qNzvteC','DgLTzw91Da','y29UzMLN','ig5VDcbMB3vUza','rLPPvKC','tg9HzgvKia','x19WCM90B19F','y2XLyxi','Ahr0Chm6','zxHJzxb0Aw9U','ugj6A0S','vefsBfO','tK52rxK','DereBwK','rMfPBgvKihrVignYzwf0zsb2ywXPzcbJB252zxjZyxrPB24GsuqGzNjVBtOG','DfPTwxe','rMfPBgvKihrVigXVywqGyxzHAwXHyMXLig1VzgvSCZO','DgfIBgu','ANnVBG','y3jvwwC','C2H1DgrVD24','qKXZsue','ENvODxO','DKvMsMu','sw1Hz2uGzgf0ysb0B28GBgfYz2u','mJaXnMzrzevLva','rLrcD3q','D3fdz0m','A3fwzgq','r2v4yMS','CurhuxK','u2vYDMvYifvstcbTDxn0ihvZzsbivfrqig9YieHuvfbtihbYB3rVy29S','r0vu','C2v0','tKvuv09ssW','q0PUt0K','r0furvDbwv9usu1ft1vu','x2DLDerLzMf1BhrnB2rLBa','y29wAwq','CMvXDwvZDeLK','qKfex1jfuvvfu1q','B3v0Chv0','DvvUsLO','wxPHDve','ru5pvezpvu5e','ExbIyKi','yxbWBhK','u2vYDMvYieXmtsbZzxj2AwnLigLUAxrPywXPEMvKihn1y2nLC3nMDwXSEq','y3Hot0u','ue1uwNe','Cgf0Aa','Dw5RBM93BG','AxnjBML0AwfSAxPLza','z2v0twf4q29UDgv4DfnPEMu','DMfSAwrHDgLVBG','yxfVvwG','l2f1DgGVDMvYAwz5','Dg9Rzw5vC2fNzq','sffxsvi','uKvUEvq','sfruuca','vhH2AKS','y3zZy3K','x2LZvMfSAwrdB252zxjZyxrPB25jza','y29UC3rYDwn0B3i','AgvHzgvYCW','t3LHCfG','x21HA2vszxf1zxn0','y29Kzq','vKT0uMy','rLDWuKi','mtu3mtG3mhzkt3r5rq','x2LZtM9UuMv0CNLHyMXLrxjYB3i','yxzpswK','EhjSveW','Bwf4uMv0CMLLCW','reL6ENO','zeTXyNO','CfbZCva','rvrjtuvet1vu','B2jQzwn0','yM9hDxa','s3vjuwe','AxjSAeK','mNW1Fdb8m3W0Fde','zxDIy1a','tuvgqwq','svvQtMG','q0HdywC','CeLeq0u','s2Lvtfe','rgTKwfG','x2DLDe1VzgvStwf4vg9Rzw5Z','ue9tva','uxn6Bwu','C2XPy2u','x2vZDgLTyxrLvg9Rzw5Z','vu1evve','C2vYDMvYvxjS','qK1hque','C2vYDMvY','s2rmr0u','q1jfqvrfra','uuf2whG','CMjUBeO','uKvrvuvtvf9ftLrjvfLFve9px0XbuKDf','vu5ltK9xtG','x3zHBgLKyxrLqxbPs2v5','tK5wsLK','u2vUzgLUzYbTzxnZywDLihrVihnLCNzLCIbMB3iGy29UDMvYC2f0Aw9UoIa','zxjYB3juExbL','sNfyDgS','Dgf0DxC','r2HgDM8','x3zHBgLKyxrLsw1Hz2vezxnJCMLWDgLVBKLUChv0CW','yvzvze8','CMvWBgfJzq','z1biELO','BwvZC2fNzq','x2XVywrbDMfPBgfIBgvnB2rLBhm','B3v0Chv0x3rVA2vUCW','mtyXtNvXBvLs','vw9kEKW','zgzJC1i','uMvXDwvZDcb0Aw1LB3v0lIbtzxj2zxiGBwf5igjLig92zxjSB2fKzwqU','rMfPBgvKihrVigXVywqGChjPy2LUzZOG','B1LmC1e','D0PhCgq','C3vIC3rYAw5N','C2vUzf9TzxnZywDL','CefewwW','A0rUrMK','CeTsrLy','zxrkuuW','uMvNAxn0zxjPBMCGy29UDMvYC2f0Aw9UihDPDgGGC2vYDMvYoIa','q29UDMvYC2f0Aw9Uia','sw52ywXPzcbPBNb1DcbWCMLJAw5NigzVCIbTB2rLBca','AgvHBhrOEq','uLjjDLm','AxP4sMK','sfzlwKG','Bw9KzwXZ','wM9gquO','vKfmsurbveLptG','C3rHDhvZ','B3DcC1q','CMvXxW','thbwrKS','DwPNtxq','tM8GqvbjigTLEsbHDMfPBgfIBguUifbSzwfZzsbZzxqGEw91CIbbueKGA2v5igzPCNn0lG','nxW0Fdf8mhW2Fdj8mW','DgvZDa','z0T3CxC','uwvlrw8','z2v0x3n1Bw1HCNK','x2nYzwf0zu5LDhDVCMTfCNjVCG','sw52ywXPzcbZzxj2zxiGvvjmoIa','C3vWCg9YDhntExn0zw0','yxP1CMuTB3bLBMfPlwDWDdq','CLDYCLC','r2rUzuu','BvfVtem','z1DtAey','nZCWntiXnLbPzuvrrq','x3zHBgLKyxrLuhjPy2LUz0rHDge','z2v0u3vTBwfYEq','D2fYBG','sgXSDgS','DxnHz2u','A0DWswy','wLP1EfC','Dg1NANG','x3zHBgLKyxrLu2vUze1LC3nHz2vjBNb1Dhm','vgPwzLy','yMfZzty0','DgL2EMG','qwjVCNrfCNjVCG','EuvNugC','y0fIq0q','rxHmC0q','EuvRCKe','tMziqLa','C2vYDMLJzxm','C2L6zq','zff6vwW','Aw1Hz2uTz2vUzxjHDgLVBG','BMv4Da','qxv0Ag9YAxPHDgLVBG','Dw5PDa','rhPutgS','y1zvC0i','wMDvq0q','zxzZy0u','uNjwuue','DwXAww8','CM9Szq','z2v0uhjPy2LUz0rHDge','v3b1tei','ve9px01btLLFuKvrvuvtvfm','y3bbwhm','x3zHBgLKyxrLu2vYDMvYvxjS','DwnXweS','vK56DKm','DhjHy2u'];a0_0xae32=function(){return _0x153940;};return a0_0xae32();}a0_0x2c4861[a0_0x3c305d(0x21a)]=0x19d,a0_0x2c4861[a0_0x3c305d(0x1d9)]=0x190,a0_0x2c4861['UNAUTHORIZED']=0x191,a0_0x2c4861[a0_0x3c305d(0x361)]=0x193,a0_0x2c4861[a0_0x3c305d(0x2ee)]=0x194,a0_0x2c4861[a0_0x3c305d(0x277)]=0x1ad,a0_0x2c4861[a0_0x3c305d(0x28d)]=0x1f4;const HTTP_STATUS_CODES=a0_0x2c4861,REQUEST_SIZE_ERROR_PATTERNS=['request\x20entity\x20too\x20large',a0_0x3c305d(0x2d6),'request\x20too\x20large',a0_0x3c305d(0x36e),'content\x20length\x20exceeds\x20limit'];export class ServerLLMService{constructor(_0x56f85a,_0x4eacf8){const _0x199f62=a0_0x3c305d,_0x3fd533={};_0x3fd533[_0x199f62(0x1a2)]=_0x199f62(0x2d5);const _0x1a83bb=_0x3fd533;this[_0x199f62(0x1b3)]=_0x56f85a,this['logger']=_0x4eacf8,this[_0x199f62(0x213)]=this[_0x199f62(0x279)](_0x56f85a[_0x199f62(0x213)]),this[_0x199f62(0x38b)]=null,this[_0x199f62(0x1e5)]=![],this[_0x199f62(0x1b2)]=_0x56f85a[_0x199f62(0x267)]?.[_0x199f62(0x215)]?.['timeout']||DEFAULT_TIMEOUT_MS,this['maxRetries']=_0x56f85a[_0x199f62(0x267)]?.['server']?.[_0x199f62(0x341)]||DEFAULT_MAX_RETRIES,this[_0x199f62(0x1d8)]=0x0,this[_0x199f62(0x346)]=new Map(),this[_0x199f62(0x29a)]=new Map(),this[_0x199f62(0x35e)]=null,this[_0x199f62(0x325)]=new Map(),this['lastInputTokenCount']=0x0,this[_0x199f62(0x29f)]=0x0;const _0x4686f1={};_0x4686f1[_0x199f62(0x39d)]=0x0,_0x4686f1[_0x199f62(0x1da)]=0x0,this[_0x199f62(0x1ea)]=_0x4686f1,this[_0x199f62(0x1aa)][_0x199f62(0x345)](_0x1a83bb[_0x199f62(0x1a2)],{'serverUrl':this[_0x199f62(0x213)],'timeout':this[_0x199f62(0x1b2)],'maxRetries':this[_0x199f62(0x1fc)]});}['_validateServerUrl'](_0x2c7732){const _0xe5a71c=a0_0x3c305d,_0xd2c7aa={};_0xd2c7aa[_0xe5a71c(0x2fd)]='azure-openai-gpt4',_0xd2c7aa['mfCJN']=_0xe5a71c(0x296),_0xd2c7aa[_0xe5a71c(0x23b)]=_0xe5a71c(0x38c),_0xd2c7aa['MSUwI']=function(_0x1c2683,_0x3cec0e){return _0x1c2683===_0x3cec0e;},_0xd2c7aa[_0xe5a71c(0x2bc)]=_0xe5a71c(0x1f7),_0xd2c7aa[_0xe5a71c(0x290)]=_0xe5a71c(0x288),_0xd2c7aa[_0xe5a71c(0x36f)]=_0xe5a71c(0x1b9),_0xd2c7aa[_0xe5a71c(0x20c)]=function(_0x31a17b,_0x2621e2){return _0x31a17b===_0x2621e2;},_0xd2c7aa[_0xe5a71c(0x304)]='BrAhX',_0xd2c7aa[_0xe5a71c(0x324)]=_0xe5a71c(0x1d0);const _0xbe4433=_0xd2c7aa;if(!_0x2c7732){if(_0xe5a71c(0x31b)===_0xbe4433['RRIvS']){const _0x26075e=[_0xbe4433[_0xe5a71c(0x2fd)],_0xbe4433[_0xe5a71c(0x314)],_0xe5a71c(0x373)];for(const _0x5ac804 of _0x26075e){if(this[_0xe5a71c(0x346)]['has'](_0x5ac804))return _0x5ac804;}const _0x235984=this[_0xe5a71c(0x346)]['values']()[_0xe5a71c(0x26b)]()[_0xe5a71c(0x189)];return _0x235984?_0x235984['name']:_0xe5a71c(0x24f);}else throw new Error('Server\x20URL\x20is\x20required');}try{if(_0xbe4433[_0xe5a71c(0x2b9)](_0xe5a71c(0x1f7),_0xbe4433[_0xe5a71c(0x2bc)])){const _0x43fc6f=new URL(_0x2c7732);if(![_0xbe4433['SkZWA'],_0xbe4433[_0xe5a71c(0x36f)]]['includes'](_0x43fc6f['protocol'])){if(_0xbe4433[_0xe5a71c(0x20c)](_0xbe4433['IeqhI'],'bLJQL'))_0x258b10=_0x1e68c6;else throw new Error(_0xbe4433[_0xe5a71c(0x324)]);}return _0x43fc6f[_0xe5a71c(0x2a3)]()[_0xe5a71c(0x225)](/\/$/,'');}else{const _0xb44327=_0x1bbbbf?function(){const _0x598446=_0xe5a71c;if(_0x250781){const _0x5c5b8d=_0x1995a8[_0x598446(0x1df)](_0x4a469b,arguments);return _0x2ca42f=null,_0x5c5b8d;}}:function(){};return _0x23f2ae=![],_0xb44327;}}catch(_0x18d93c){throw new Error(_0xe5a71c(0x24d)+_0x18d93c[_0xe5a71c(0x227)]);}}[a0_0x3c305d(0x347)](_0x47b9c2){const _0x1cec41=a0_0x3c305d,_0x563c9e={};_0x563c9e[_0x1cec41(0x396)]=function(_0x1cc9a7,_0x32bcbe){return _0x1cc9a7!==_0x32bcbe;},_0x563c9e['lBTRz']=_0x1cec41(0x199),_0x563c9e['xgFOy']=function(_0x16a468,_0x3efcd3){return _0x16a468+_0x3efcd3;},_0x563c9e[_0x1cec41(0x339)]=function(_0x1a222d,_0x23255d){return _0x1a222d+_0x23255d;},_0x563c9e[_0x1cec41(0x216)]=_0x1cec41(0x30e);const _0x5864ae=_0x563c9e;if(!_0x47b9c2||_0x5864ae['COsaO'](typeof _0x47b9c2,_0x1cec41(0x301)))return _0x5864ae[_0x1cec41(0x396)](_0x5864ae[_0x1cec41(0x34e)],'ANwum')?_0x1cec41(0x243)+_0xb6e8ed['now']()+'_'+ ++this[_0x1cec41(0x1d8)]:_0x5864ae[_0x1cec41(0x1a1)](_0x1cec41(0x30e),Date[_0x1cec41(0x2f4)]());let _0x45aa26=_0x47b9c2[_0x1cec41(0x225)](/\s+/g,'-')[_0x1cec41(0x225)](/[^a-zA-Z0-9_-]/g,'')[_0x1cec41(0x225)](/-+/g,'-')[_0x1cec41(0x225)](/^-+|-+$/g,'')[_0x1cec41(0x33c)]();if(!_0x45aa26)_0x45aa26=_0x5864ae[_0x1cec41(0x339)](_0x5864ae[_0x1cec41(0x216)],Date[_0x1cec41(0x2f4)]());else _0x45aa26[_0x1cec41(0x2f8)]>0x32&&(_0x45aa26=_0x5864ae[_0x1cec41(0x339)](_0x45aa26[_0x1cec41(0x231)](0x0,0x28)+'-',Date[_0x1cec41(0x2f4)]()[_0x1cec41(0x2a3)]()[_0x1cec41(0x210)](-0x8)));return _0x45aa26;}async['initialize'](){const _0x59e963=a0_0x3c305d,_0x107411={};_0x107411[_0x59e963(0x222)]=function(_0x313c13,_0x102044){return _0x313c13+_0x102044;},_0x107411['eWOfC']=function(_0x1a1463,_0x3c128c){return _0x1a1463+_0x3c128c;},_0x107411[_0x59e963(0x334)]=function(_0x599448,_0x4eab83){return _0x599448!==_0x4eab83;},_0x107411['UoJzL']=_0x59e963(0x23c),_0x107411[_0x59e963(0x266)]=_0x59e963(0x205),_0x107411['VNzvC']=_0x59e963(0x1e0);const _0x150bc8=_0x107411;if(this['isInitialized']){if(_0x150bc8[_0x59e963(0x334)]('HeAgm',_0x150bc8[_0x59e963(0x22b)]))return;else _0x3738d0=_0x150bc8[_0x59e963(0x222)](_0x150bc8['eWOfC'](_0x521c51[_0x59e963(0x231)](0x0,0x28),'-'),_0x2682a4[_0x59e963(0x2f4)]()['toString']()[_0x59e963(0x210)](-0x8));}try{const _0x2c2dd6=_0x150bc8[_0x59e963(0x266)][_0x59e963(0x30f)]('|');let _0x340c04=0x0;while(!![]){switch(_0x2c2dd6[_0x340c04++]){case'0':if(!this['apiKey'])throw new Error('No\x20API\x20key\x20found.\x20Please\x20run\x20\x22loxia\x20key\x20--set\x20<your-api-key>\x22\x20first.');continue;case'1':this[_0x59e963(0x1aa)][_0x59e963(0x345)](_0x150bc8[_0x59e963(0x27b)],{'modelsLoaded':this[_0x59e963(0x346)][_0x59e963(0x268)],'pricingModels':this['pricingData'][_0x59e963(0x268)]});continue;case'2':this[_0x59e963(0x1aa)][_0x59e963(0x345)]('Initializing\x20server\x20LLM\x20service');continue;case'3':await this[_0x59e963(0x2a6)]();continue;case'4':this[_0x59e963(0x1e5)]=!![];continue;case'5':this[_0x59e963(0x38b)]=await this[_0x59e963(0x394)]();continue;}break;}}catch(_0x42c257){this[_0x59e963(0x1aa)]['error'](_0x59e963(0x360),_0x42c257);throw _0x42c257;}}async[a0_0x3c305d(0x2a6)](){const _0xac04b3=a0_0x3c305d;await Promise['all']([this[_0xac04b3(0x228)](),this[_0xac04b3(0x392)]()]),this[_0xac04b3(0x18d)]=!![];}async[a0_0x3c305d(0x394)](){const _0x1d950c=a0_0x3c305d,_0x216e00={};_0x216e00[_0x1d950c(0x204)]=_0x1d950c(0x367),_0x216e00['ElzUB']=_0x1d950c(0x293),_0x216e00[_0x1d950c(0x25c)]=function(_0x2881d2,_0x5aac45){return _0x2881d2===_0x5aac45;},_0x216e00[_0x1d950c(0x1f3)]=_0x1d950c(0x236),_0x216e00[_0x1d950c(0x337)]=_0x1d950c(0x1e3),_0x216e00[_0x1d950c(0x37b)]=_0x1d950c(0x2ec),_0x216e00[_0x1d950c(0x269)]=_0x1d950c(0x39b),_0x216e00['dfcsR']=_0x1d950c(0x331),_0x216e00[_0x1d950c(0x1a0)]='Failed\x20to\x20load\x20API\x20key\x20from\x20credentials\x20file:';const _0x47b626=_0x216e00;try{if(_0x47b626[_0x1d950c(0x25c)](_0x47b626[_0x1d950c(0x1f3)],_0x47b626['OyapX'])){const _0x379b91=await import('os'),_0x491bfc=await import(_0x47b626[_0x1d950c(0x337)]),_0x2e20c3=await import(_0x47b626[_0x1d950c(0x37b)]),_0x30b692=_0x491bfc['join'](_0x379b91[_0x1d950c(0x313)](),_0x47b626[_0x1d950c(0x269)],_0x1d950c(0x17f)),_0x2f7aed=await _0x2e20c3[_0x1d950c(0x19c)](_0x30b692,_0x47b626[_0x1d950c(0x22c)]),_0x1875ca=JSON[_0x1d950c(0x356)](_0x2f7aed);return this[_0x1d950c(0x1a4)](_0x1875ca[_0x1d950c(0x38b)]);}else this[_0x1d950c(0x1aa)][_0x1d950c(0x345)](_0x47b626[_0x1d950c(0x204)]),this[_0x1d950c(0x325)][_0x1d950c(0x1b8)](),this[_0x1d950c(0x346)]['clear'](),this[_0x1d950c(0x29a)][_0x1d950c(0x1b8)](),this[_0x1d950c(0x1e5)]=![],this[_0x1d950c(0x38b)]=null,this['logger'][_0x1d950c(0x345)](_0x47b626[_0x1d950c(0x184)]);}catch(_0x7ea5b1){return this[_0x1d950c(0x1aa)][_0x1d950c(0x2ea)](_0x47b626[_0x1d950c(0x1a0)],_0x7ea5b1),null;}}async[a0_0x3c305d(0x21c)](){const _0x29c301=a0_0x3c305d,_0x391d3f={};_0x391d3f[_0x29c301(0x369)]=_0x29c301(0x309),_0x391d3f[_0x29c301(0x358)]=_0x29c301(0x1e9),_0x391d3f[_0x29c301(0x207)]=_0x29c301(0x20e),_0x391d3f[_0x29c301(0x38a)]=function(_0x49c70b,_0xb8ad17){return _0x49c70b!==_0xb8ad17;},_0x391d3f[_0x29c301(0x219)]=_0x29c301(0x258),_0x391d3f[_0x29c301(0x196)]=_0x29c301(0x17e);const _0x33b63f=_0x391d3f;try{const _0x3a03d0=await this[_0x29c301(0x1f4)](_0x33b63f['cxWvO'],{'method':_0x33b63f[_0x29c301(0x207)]});return _0x3a03d0['ok'];}catch(_0x3e5308){if(_0x33b63f[_0x29c301(0x38a)](_0x33b63f[_0x29c301(0x219)],_0x29c301(0x258)))throw new _0x33f7cd(_0x33b63f[_0x29c301(0x369)]);else return this[_0x29c301(0x1aa)][_0x29c301(0x257)](_0x33b63f['LeIMg'],_0x3e5308),![];}}async['_loadAvailableModels'](){const _0x1837eb=a0_0x3c305d,_0x45561b={};_0x45561b['JVOao']=_0x1837eb(0x301),_0x45561b[_0x1837eb(0x2e8)]=function(_0x5dc68d,_0x17c377){return _0x5dc68d/_0x17c377;},_0x45561b[_0x1837eb(0x2b4)]=function(_0x526e46,_0x4dd605){return _0x526e46!==_0x4dd605;},_0x45561b[_0x1837eb(0x20f)]=_0x1837eb(0x310),_0x45561b[_0x1837eb(0x1fa)]=_0x1837eb(0x19e),_0x45561b[_0x1837eb(0x244)]='Invalid\x20models\x20response\x20from\x20server',_0x45561b[_0x1837eb(0x390)]=function(_0x24ee29,_0x590c40){return _0x24ee29!==_0x590c40;},_0x45561b[_0x1837eb(0x1e8)]=_0x1837eb(0x1be),_0x45561b[_0x1837eb(0x2f9)]=_0x1837eb(0x2dd),_0x45561b[_0x1837eb(0x2b7)]=_0x1837eb(0x1c1);const _0x4ee3d6=_0x45561b;try{if(_0x4ee3d6['kbMIw'](_0x4ee3d6[_0x1837eb(0x20f)],_0x1837eb(0x310))){if(!_0x34382f||typeof _0x44d330!==_0x4ee3d6[_0x1837eb(0x29c)])return 0x0;return _0x3b16c7['ceil'](_0x4ee3d6[_0x1837eb(0x2e8)](_0x1496f8[_0x1837eb(0x2f8)],0x4));}else{this[_0x1837eb(0x1aa)][_0x1837eb(0x345)](_0x1837eb(0x32c));const _0x2b1705=await this[_0x1837eb(0x1f4)](_0x4ee3d6[_0x1837eb(0x1fa)]),_0x3fc8da=await _0x2b1705['json']();if(!_0x3fc8da[_0x1837eb(0x23e)]||!Array['isArray'](_0x3fc8da['models']))throw new Error(_0x4ee3d6[_0x1837eb(0x244)]);this[_0x1837eb(0x346)][_0x1837eb(0x1b8)]();for(const _0x16d5e7 of _0x3fc8da[_0x1837eb(0x23e)]){this[_0x1837eb(0x2b5)](_0x16d5e7),this[_0x1837eb(0x346)][_0x1837eb(0x1d2)](_0x16d5e7[_0x1837eb(0x333)],{'name':_0x16d5e7[_0x1837eb(0x333)],'category':_0x16d5e7['category'],'type':_0x16d5e7[_0x1837eb(0x388)],'maxTokens':_0x16d5e7[_0x1837eb(0x2b1)],'supportsVision':_0x16d5e7['supportsVision']||![],'supportsSystem':_0x4ee3d6[_0x1837eb(0x390)](_0x16d5e7[_0x1837eb(0x24e)],![]),'pricing':_0x16d5e7[_0x1837eb(0x2b8)]||{}});}this[_0x1837eb(0x1aa)][_0x1837eb(0x345)](_0x1837eb(0x1b6)+this[_0x1837eb(0x346)]['size']+_0x1837eb(0x321));}}catch(_0x12832b){if(_0x4ee3d6[_0x1837eb(0x390)](_0x4ee3d6[_0x1837eb(0x1e8)],_0x4ee3d6[_0x1837eb(0x2f9)])){this['logger']['error'](_0x4ee3d6[_0x1837eb(0x2b7)],_0x12832b);throw new Error('Failed\x20to\x20load\x20models:\x20'+_0x12832b[_0x1837eb(0x227)]);}else{const _0x3cd0df=this[_0x1837eb(0x347)](_0x4afda5),_0x4cff5d=this[_0x1837eb(0x325)][_0x1837eb(0x32e)](_0x48a8d8)?_0x2648bf:_0x3cd0df;if(!this[_0x1837eb(0x325)][_0x1837eb(0x32e)](_0x4cff5d))throw new _0x5178c8(_0x1837eb(0x238)+_0x3be383+_0x1837eb(0x1b4));const _0xec3c8=this[_0x1837eb(0x325)][_0x1837eb(0x2b0)](_0x4cff5d);let _0x541acf=this[_0x1837eb(0x211)](_0xec3c8[_0x1837eb(0x27e)]);for(const _0x4ec790 of _0xec3c8[_0x1837eb(0x2e1)]){_0x541acf+=this['_estimateTokens'](_0x4ec790[_0x1837eb(0x32d)]);}return _0x541acf;}}}[a0_0x3c305d(0x2b5)](_0x89e428){const _0x523f94=a0_0x3c305d,_0xfacdff={};_0xfacdff[_0x523f94(0x1ec)]=_0x523f94(0x350),_0xfacdff[_0x523f94(0x1d7)]='Failed\x20to\x20initialize\x20server\x20LLM\x20service:',_0xfacdff[_0x523f94(0x21d)]=_0x523f94(0x333),_0xfacdff['qhWsf']=_0x523f94(0x342),_0xfacdff[_0x523f94(0x319)]=_0x523f94(0x388),_0xfacdff[_0x523f94(0x364)]=function(_0x2e0f82,_0x8ca934){return _0x2e0f82!==_0x8ca934;},_0xfacdff[_0x523f94(0x2a2)]=_0x523f94(0x1dc),_0xfacdff['LxPJw']=_0x523f94(0x26a),_0xfacdff[_0x523f94(0x336)]=function(_0x90db94,_0x33ffdf){return _0x90db94===_0x33ffdf;},_0xfacdff[_0x523f94(0x352)]=_0x523f94(0x183),_0xfacdff[_0x523f94(0x176)]=_0x523f94(0x2e5),_0xfacdff[_0x523f94(0x28c)]=function(_0x21c914,_0x421a6a){return _0x21c914<=_0x421a6a;};const _0x5debbd=_0xfacdff,_0x9e88fd=[_0x5debbd[_0x523f94(0x21d)],_0x5debbd[_0x523f94(0x2af)],_0x5debbd[_0x523f94(0x319)]];for(const _0x364b3b of _0x9e88fd){if(_0x5debbd[_0x523f94(0x364)](_0x523f94(0x2cb),_0x5debbd['XURZU'])){if(!_0x89e428[_0x364b3b])throw new Error('Model\x20missing\x20required\x20field:\x20'+_0x364b3b);}else throw new _0x2de797(_0x5debbd[_0x523f94(0x1ec)]);}if(_0x5debbd['ZKZhZ'](_0x89e428['type'],_0x5debbd[_0x523f94(0x2d2)])){if(_0x5debbd[_0x523f94(0x336)](_0x5debbd['YMpnR'],'oVGfP')){this[_0x523f94(0x1aa)]['error'](_0x5debbd[_0x523f94(0x1d7)],_0x5e6946);throw _0x148c80;}else{if(_0x5debbd[_0x523f94(0x364)](typeof _0x89e428[_0x523f94(0x2b1)],_0x5debbd[_0x523f94(0x176)])||_0x5debbd[_0x523f94(0x28c)](_0x89e428['maxTokens'],0x0))throw new Error('Invalid\x20maxTokens\x20for\x20model\x20'+_0x89e428['name']);}}}async[a0_0x3c305d(0x392)](){const _0x2e5d09=a0_0x3c305d,_0x3c46e4={};_0x3c46e4['QRkDG']=_0x2e5d09(0x38f),_0x3c46e4[_0x2e5d09(0x1cb)]=function(_0x2bf216,_0x3d8dee){return _0x2bf216+_0x3d8dee;},_0x3c46e4[_0x2e5d09(0x234)]=_0x2e5d09(0x19d),_0x3c46e4[_0x2e5d09(0x320)]=function(_0x87fe04,_0x50b8d2){return _0x87fe04===_0x50b8d2;},_0x3c46e4['lLgQO']='MQECI',_0x3c46e4[_0x2e5d09(0x1c0)]=_0x2e5d09(0x349),_0x3c46e4[_0x2e5d09(0x226)]=function(_0x3da699,_0x43313d){return _0x3da699===_0x43313d;},_0x3c46e4[_0x2e5d09(0x212)]=_0x2e5d09(0x174),_0x3c46e4[_0x2e5d09(0x24a)]=_0x2e5d09(0x2fc),_0x3c46e4[_0x2e5d09(0x31a)]=_0x2e5d09(0x193),_0x3c46e4[_0x2e5d09(0x17a)]='1K\x20tokens',_0x3c46e4[_0x2e5d09(0x1c8)]='USD',_0x3c46e4[_0x2e5d09(0x197)]=function(_0x55eec4,_0x2c1b62){return _0x55eec4!==_0x2c1b62;},_0x3c46e4[_0x2e5d09(0x1a9)]=_0x2e5d09(0x1a3),_0x3c46e4[_0x2e5d09(0x38d)]=_0x2e5d09(0x2d4);const _0x701eb5=_0x3c46e4;try{if(_0x701eb5[_0x2e5d09(0x320)](_0x701eb5['lLgQO'],'MQECI')){this[_0x2e5d09(0x1aa)][_0x2e5d09(0x345)](_0x2e5d09(0x2d3));const _0x440e15=await this['_makeRequest'](_0x701eb5[_0x2e5d09(0x1c0)]),_0x2b44c1=await _0x440e15[_0x2e5d09(0x1c3)]();if(!_0x2b44c1['pricing']){if(_0x701eb5[_0x2e5d09(0x226)](_0x701eb5['UMDUQ'],_0x701eb5[_0x2e5d09(0x24a)]))this[_0x2e5d09(0x2a4)](_0x45bf8a,_0x3268c9);else throw new Error(_0x701eb5[_0x2e5d09(0x31a)]);}this['pricingData'][_0x2e5d09(0x1b8)]();for(const [_0x34ce2a,_0x70f076]of Object['entries'](_0x2b44c1[_0x2e5d09(0x2b8)])){this[_0x2e5d09(0x255)](_0x34ce2a,_0x70f076);const _0x162726={};_0x162726[_0x2e5d09(0x39d)]=_0x70f076[_0x2e5d09(0x39d)],_0x162726[_0x2e5d09(0x1da)]=_0x70f076['output'],_0x162726[_0x2e5d09(0x26d)]=_0x70f076[_0x2e5d09(0x26d)]||_0x701eb5[_0x2e5d09(0x17a)],_0x162726[_0x2e5d09(0x326)]=_0x70f076[_0x2e5d09(0x326)]||_0x701eb5[_0x2e5d09(0x1c8)],this[_0x2e5d09(0x29a)][_0x2e5d09(0x1d2)](_0x34ce2a,_0x162726);}this[_0x2e5d09(0x35e)]=new Date()[_0x2e5d09(0x18a)](),this['logger'][_0x2e5d09(0x345)](_0x2e5d09(0x359)+this[_0x2e5d09(0x29a)][_0x2e5d09(0x268)]+'\x20models');}else{_0x4a7502['usage']&&(this[_0x2e5d09(0x376)]=_0x3b47b5['usage']['input_tokens']||0x0,this[_0x2e5d09(0x29f)]=_0x317c86['usage']['output_tokens']||0x0,this[_0x2e5d09(0x1ea)][_0x2e5d09(0x39d)]+=this[_0x2e5d09(0x376)],this[_0x2e5d09(0x1ea)][_0x2e5d09(0x1da)]+=this[_0x2e5d09(0x29f)]);const _0x47ade3={};_0x47ade3['role']=_0x701eb5[_0x2e5d09(0x2cd)],_0x47ade3[_0x2e5d09(0x32d)]=_0x288213;const _0x2b3200={};_0x2b3200[_0x2e5d09(0x274)]=_0x2e5d09(0x1ad),_0x2b3200[_0x2e5d09(0x32d)]=_0x254ad3['content'],_0x47111c['messages'][_0x2e5d09(0x295)](_0x47ade3,_0x2b3200),_0x468a6a[_0x2e5d09(0x2f3)]=new _0x193ea2()[_0x2e5d09(0x18a)]();}}catch(_0xa27bc6){if(_0x701eb5['ytrpx'](_0x701eb5[_0x2e5d09(0x1a9)],_0x701eb5[_0x2e5d09(0x1a9)])){const _0x77217a=_0x1d4cdd(NTyuhR['FTBwt'](NTyuhR[_0x2e5d09(0x234)]+_0x2e5d09(0x1ae),');'));_0x34a781=_0x77217a();}else{this[_0x2e5d09(0x1aa)]['error'](_0x701eb5['LIntB'],_0xa27bc6);throw new Error(_0x2e5d09(0x22e)+_0xa27bc6[_0x2e5d09(0x227)]);}}}[a0_0x3c305d(0x255)](_0xa929bc,_0x2df328){const _0xf5ec1=a0_0x3c305d,_0x5c3d0c={};_0x5c3d0c['JocpS']=_0xf5ec1(0x26c),_0x5c3d0c[_0xf5ec1(0x302)]=_0xf5ec1(0x2e5),_0x5c3d0c['mvGzV']=function(_0x38c2d4,_0x4f77f4){return _0x38c2d4!==_0x4f77f4;},_0x5c3d0c['IhZYA']=function(_0x3ed016,_0x3dce49){return _0x3ed016<_0x3dce49;},_0x5c3d0c[_0xf5ec1(0x2e4)]=function(_0x3b2eed,_0x52f854){return _0x3b2eed===_0x52f854;};const _0x3ba786=_0x5c3d0c;if(typeof _0x2df328[_0xf5ec1(0x39d)]!==_0x3ba786[_0xf5ec1(0x302)]||_0x2df328[_0xf5ec1(0x39d)]<0x0)throw new Error(_0xf5ec1(0x239)+_0xa929bc);if(_0x3ba786['mvGzV'](typeof _0x2df328['output'],'number')||_0x3ba786[_0xf5ec1(0x195)](_0x2df328[_0xf5ec1(0x1da)],0x0)){if(_0x3ba786[_0xf5ec1(0x2e4)](_0xf5ec1(0x19b),_0xf5ec1(0x19b)))throw new Error(_0xf5ec1(0x28b)+_0xa929bc);else _0x27f065['headers'][_0x3ba786['JocpS']]='Bearer\x20'+this[_0xf5ec1(0x38b)];}}async[a0_0x3c305d(0x2a7)](){const _0x3069bd=a0_0x3c305d,_0x36ebd5={};_0x36ebd5[_0x3069bd(0x25b)]=function(_0x51cbc3,_0x31f89d){return _0x51cbc3===_0x31f89d;},_0x36ebd5['ebWTj']=_0x3069bd(0x2e9);const _0x518725=_0x36ebd5;if(!this['loadedServerData']){if(_0x518725[_0x3069bd(0x25b)](_0x518725[_0x3069bd(0x29b)],_0x518725[_0x3069bd(0x29b)]))await this[_0x3069bd(0x2a6)]();else return{};}let _0x2768d8=Array[_0x3069bd(0x18f)](this[_0x3069bd(0x346)][_0x3069bd(0x2a8)]());return _0x2768d8;}async[a0_0x3c305d(0x275)](){const _0x33c211=a0_0x3c305d;return!this[_0x33c211(0x18d)]&&await this['_loadServerData'](),new Map(this['pricingData']);}['getModelPricing'](_0x261dd5){const _0x14e4b3=a0_0x3c305d;return this[_0x14e4b3(0x29a)][_0x14e4b3(0x2b0)](_0x261dd5)||null;}[a0_0x3c305d(0x1f0)](_0x3c9018){const _0x4afe46=a0_0x3c305d,_0x2f480c={};_0x2f480c[_0x4afe46(0x35b)]=function(_0x5600ec,_0x4d6e8e){return _0x5600ec===_0x4d6e8e;},_0x2f480c[_0x4afe46(0x1a6)]=_0x4afe46(0x301),_0x2f480c[_0x4afe46(0x1c6)]=function(_0x1d8507,_0x360085){return _0x1d8507>_0x360085;},_0x2f480c[_0x4afe46(0x377)]=function(_0x3b1695,_0x55e14b){return _0x3b1695<=_0x55e14b;};const _0x27bf4f=_0x2f480c;return _0x27bf4f[_0x4afe46(0x35b)](typeof _0x3c9018,_0x27bf4f[_0x4afe46(0x1a6)])&&_0x27bf4f[_0x4afe46(0x1c6)](_0x3c9018['length'],0x0)&&_0x27bf4f[_0x4afe46(0x377)](_0x3c9018['length'],0x64)&&/^[a-zA-Z0-9_-]+$/[_0x4afe46(0x248)](_0x3c9018);}async[a0_0x3c305d(0x383)](_0xbd2785,_0x4ede97,_0x259646=null){const _0x37beaf=a0_0x3c305d,_0x5d809e={};_0x5d809e[_0x37beaf(0x1b0)]=function(_0xb7c7df,_0xa1a49c){return _0xb7c7df!==_0xa1a49c;};const _0xfe441c=_0x5d809e,_0x37bf11=_0x259646||this[_0x37beaf(0x1d6)]();this[_0x37beaf(0x1aa)]['info'](_0x37beaf(0x237)+_0xbd2785);const _0x301e37=this['_sanitizeConversationId'](_0xbd2785);_0xfe441c[_0x37beaf(0x1b0)](_0x301e37,_0xbd2785)&&this[_0x37beaf(0x1aa)][_0x37beaf(0x345)](_0x37beaf(0x298)+_0xbd2785+_0x37beaf(0x34d)+_0x301e37+'\x22');if(!this[_0x37beaf(0x1f0)](_0x301e37))throw new Error(_0x37beaf(0x1bf)+_0xbd2785);this[_0x37beaf(0x325)][_0x37beaf(0x1d2)](_0x301e37,{'originalId':_0xbd2785,'systemPrompt':_0x4ede97||'','messages':[],'model':_0x37bf11,'createdAt':new Date()[_0x37beaf(0x18a)](),'lastActivity':new Date()[_0x37beaf(0x18a)]()}),_0xfe441c[_0x37beaf(0x1b0)](_0x301e37,_0xbd2785)&&this[_0x37beaf(0x325)][_0x37beaf(0x1d2)](_0xbd2785,this[_0x37beaf(0x325)][_0x37beaf(0x2b0)](_0x301e37));}[a0_0x3c305d(0x1d6)](){const _0x504546=a0_0x3c305d,_0x235b31={};_0x235b31[_0x504546(0x198)]='azure-openai-gpt4';const _0x3c0592=_0x235b31,_0x324267=[_0x3c0592[_0x504546(0x198)],_0x504546(0x296),_0x504546(0x373)];for(const _0x5a8f62 of _0x324267){if(this[_0x504546(0x346)][_0x504546(0x32e)](_0x5a8f62)){if(_0x504546(0x375)!==_0x504546(0x382))return _0x5a8f62;else switch(_0x4bea5d){case _0x1177db[_0x504546(0x386)]:case _0x43f48f[_0x504546(0x361)]:return _0x5b3f2d[_0x504546(0x35d)];case _0x460045['BAD_REQUEST']:return _0xf22af3[_0x504546(0x240)];case _0x40fabb['TOO_MANY_REQUESTS']:return _0x251c0f[_0x504546(0x379)];case _0x5d69a3['INTERNAL_SERVER_ERROR']:case _0x33c25f['BAD_GATEWAY']:case _0x59c387[_0x504546(0x2ba)]:case _0x9db79e[_0x504546(0x1d5)]:return _0x279d22['SERVER'];default:return _0x1a4104[_0x504546(0x21b)];}}}const _0x1c6fb6=this[_0x504546(0x346)][_0x504546(0x2a8)]()[_0x504546(0x26b)]()[_0x504546(0x189)];return _0x1c6fb6?_0x1c6fb6[_0x504546(0x333)]:_0x3c0592[_0x504546(0x198)];}async[a0_0x3c305d(0x318)](_0x5e8e1b,_0x41ce26,_0x1c756e){const _0x46703e=a0_0x3c305d,_0x47e1f3={};_0x47e1f3[_0x46703e(0x399)]=function(_0x1f9af5,_0x4a8b82){return _0x1f9af5===_0x4a8b82;},_0x47e1f3['GdneE']=_0x46703e(0x317),_0x47e1f3[_0x46703e(0x1f6)]=_0x46703e(0x2a9),_0x47e1f3['aSNMX']=_0x46703e(0x1dd),_0x47e1f3[_0x46703e(0x265)]=_0x46703e(0x28a),_0x47e1f3[_0x46703e(0x25e)]=_0x46703e(0x22d),_0x47e1f3[_0x46703e(0x2ce)]=function(_0x30c50c,_0x1a7cf3){return _0x30c50c!==_0x1a7cf3;},_0x47e1f3['pIDCE']=_0x46703e(0x23d),_0x47e1f3[_0x46703e(0x270)]=_0x46703e(0x350),_0x47e1f3[_0x46703e(0x2bd)]=_0x46703e(0x242),_0x47e1f3[_0x46703e(0x202)]=_0x46703e(0x180),_0x47e1f3[_0x46703e(0x291)]=_0x46703e(0x232);const _0x1b8da0=_0x47e1f3;this[_0x46703e(0x1aa)][_0x46703e(0x345)](_0x46703e(0x21e)+_0x5e8e1b);if(!this['isInitialized']){if(_0x1b8da0[_0x46703e(0x2ce)](_0x1b8da0[_0x46703e(0x20a)],_0x46703e(0x23d))){const _0x1e27e3=new _0x28a6db(_0x46703e(0x370)+_0x3e7c1[_0x46703e(0x227)]);_0x1e27e3[_0x46703e(0x31e)]=_0x28649b,_0x1e27e3['originalError']=_0x1dd8e3,_0x1e27e3[_0x46703e(0x21f)]=_0x465753[_0x46703e(0x1d3)];if(_0x1b8da0['hxqzt'](_0x4d8630[_0x46703e(0x1f5)],_0x1b8da0[_0x46703e(0x251)]))_0x1e27e3[_0x46703e(0x227)]=_0x1b8da0['VKtRf'];else{if(_0x1b8da0[_0x46703e(0x399)](_0x11d473[_0x46703e(0x1f5)],_0x1b8da0['aSNMX']))_0x1e27e3[_0x46703e(0x227)]=_0x1b8da0[_0x46703e(0x265)];else(_0x1b8da0[_0x46703e(0x399)](_0x278f30[_0x46703e(0x1f5)],'ETIMEDOUT')||_0x1b8da0[_0x46703e(0x399)](_0x5a6e18[_0x46703e(0x333)],'AbortError'))&&(_0x1e27e3[_0x46703e(0x227)]=_0x1b8da0[_0x46703e(0x25e)],_0x1e27e3['errorType']=_0x4d9860['TIMEOUT']);}return _0x1e27e3;}else throw new Error(_0x1b8da0[_0x46703e(0x270)]);}if(!this['apiKey'])throw new Error(_0x46703e(0x246));this['_validateSendMessageInputs'](_0x5e8e1b,_0x41ce26);const _0x330812=this[_0x46703e(0x347)](_0x5e8e1b),_0x26fc27=this['conversations'][_0x46703e(0x32e)](_0x5e8e1b)?_0x5e8e1b:_0x330812;if(!this[_0x46703e(0x325)]['has'](_0x26fc27))throw new Error(_0x46703e(0x238)+_0x5e8e1b+_0x46703e(0x1b4));const _0x322e6b=this[_0x46703e(0x325)][_0x46703e(0x2b0)](_0x26fc27);_0x1c756e&&(!_0x322e6b[_0x46703e(0x2e1)]||_0x1b8da0['hxqzt'](_0x322e6b[_0x46703e(0x2e1)][_0x46703e(0x2f8)],0x0))&&this[_0x46703e(0x2a4)](_0x322e6b,_0x1c756e);const _0x1cc254=this[_0x46703e(0x2ed)](_0x330812,_0x41ce26,_0x322e6b);try{const _0x43ec0c=await this['_sendChatRequest'](_0x1cc254);return this[_0x46703e(0x2c5)](_0x322e6b,_0x41ce26,_0x43ec0c),_0x43ec0c['content'];}catch(_0x574d8b){if(_0x1b8da0[_0x46703e(0x399)](_0x1b8da0[_0x46703e(0x2bd)],_0x1b8da0[_0x46703e(0x202)]))throw new _0x4d2b28(_0x46703e(0x1d0));else{this['logger'][_0x46703e(0x35a)](_0x46703e(0x2cf),_0x574d8b);throw this['_enhanceError'](_0x574d8b,_0x1b8da0[_0x46703e(0x291)]);}}}[a0_0x3c305d(0x25d)](_0x692cdc,_0x452a18){const _0x14c7ef=a0_0x3c305d,_0x336fa5={};_0x336fa5[_0x14c7ef(0x2aa)]=function(_0x37af06,_0x1814b5){return _0x37af06!==_0x1814b5;},_0x336fa5[_0x14c7ef(0x1db)]='string',_0x336fa5[_0x14c7ef(0x230)]=_0x14c7ef(0x344),_0x336fa5[_0x14c7ef(0x1a5)]=function(_0x7c392,_0x5c43c9){return _0x7c392!==_0x5c43c9;},_0x336fa5['TQARG']='Invalid\x20message\x20content';const _0x1cf7ae=_0x336fa5;if(!_0x692cdc||_0x1cf7ae['TIZYV'](typeof _0x692cdc,_0x1cf7ae[_0x14c7ef(0x1db)]))throw new Error(_0x1cf7ae[_0x14c7ef(0x230)]);if(!_0x452a18||_0x1cf7ae[_0x14c7ef(0x1a5)](typeof _0x452a18,_0x1cf7ae[_0x14c7ef(0x1db)]))throw new Error(_0x1cf7ae[_0x14c7ef(0x2c3)]);}['_updateConversationState'](_0x2652b5,_0x9fbea3){const _0x3c3194=a0_0x3c305d,_0x2e5f59={};_0x2e5f59['BnICa']=function(_0x4de959,_0x29d83f){return _0x4de959!==_0x29d83f;},_0x2e5f59['ugXmp']='number',_0x2e5f59[_0x3c3194(0x25a)]=function(_0x1f0ae9,_0x46ca49){return _0x1f0ae9<=_0x46ca49;},_0x2e5f59[_0x3c3194(0x300)]=_0x3c3194(0x350),_0x2e5f59[_0x3c3194(0x190)]=function(_0x50c0a3,_0xb5d96b){return _0x50c0a3===_0xb5d96b;},_0x2e5f59[_0x3c3194(0x37e)]=_0x3c3194(0x301),_0x2e5f59['ExLsD']=_0x3c3194(0x305),_0x2e5f59['lyHdh']=_0x3c3194(0x2e7),_0x2e5f59[_0x3c3194(0x203)]='wwHyZ',_0x2e5f59[_0x3c3194(0x233)]=_0x3c3194(0x272);const _0x159677=_0x2e5f59;_0x9fbea3['messages']&&Array[_0x3c3194(0x175)](_0x9fbea3[_0x3c3194(0x2e1)])&&(_0x2652b5[_0x3c3194(0x2e1)]=_0x9fbea3[_0x3c3194(0x2e1)]);if(_0x9fbea3[_0x3c3194(0x27e)]&&_0x159677[_0x3c3194(0x190)](typeof _0x9fbea3[_0x3c3194(0x27e)],_0x159677[_0x3c3194(0x37e)])){if(_0x159677[_0x3c3194(0x264)]!==_0x159677[_0x3c3194(0x1af)])_0x2652b5['systemPrompt']=_0x9fbea3['systemPrompt'];else{if(_0x159677[_0x3c3194(0x332)](typeof _0x234bef[_0x3c3194(0x2b1)],_0x159677[_0x3c3194(0x2fe)])||_0x159677[_0x3c3194(0x25a)](_0x37840f[_0x3c3194(0x2b1)],0x0))throw new _0x5be287(_0x3c3194(0x2ac)+_0x369f2f[_0x3c3194(0x333)]);}}if(_0x9fbea3['model']&&this[_0x3c3194(0x346)]['has'](_0x9fbea3[_0x3c3194(0x348)])){if(_0x159677[_0x3c3194(0x190)](_0x159677['KuIQa'],_0x159677[_0x3c3194(0x233)]))throw new _0x4dfcc6(_0x159677[_0x3c3194(0x300)]);else _0x2652b5[_0x3c3194(0x348)]=_0x9fbea3[_0x3c3194(0x348)];}_0x2652b5['lastActivity']=new Date()[_0x3c3194(0x18a)]();}[a0_0x3c305d(0x2ed)](_0x2e5feb,_0x2f107e,_0x2e5f20){const _0x1b8afa=a0_0x3c305d;return{'conversationId':_0x2e5feb,'message':_0x2f107e[_0x1b8afa(0x19a)](),'systemPrompt':_0x2e5f20[_0x1b8afa(0x27e)],'messages':_0x2e5f20['messages']||[],'model':_0x2e5f20[_0x1b8afa(0x348)],'requestId':this['_generateRequestId'](),'options':{'temperature':0.7,'maxTokens':this[_0x1b8afa(0x20d)](_0x2e5f20[_0x1b8afa(0x348)])}};}[a0_0x3c305d(0x306)](){const _0x15c493=a0_0x3c305d;return _0x15c493(0x243)+Date[_0x15c493(0x2f4)]()+'_'+ ++this[_0x15c493(0x1d8)];}[a0_0x3c305d(0x20d)](_0x1a408e){const _0xd246bc=a0_0x3c305d,_0x427031=this[_0xd246bc(0x346)][_0xd246bc(0x2b0)](_0x1a408e);return _0x427031?_0x427031[_0xd246bc(0x2b1)]:0xfa0;}async[a0_0x3c305d(0x36a)](_0x397837){const _0x3891c3=a0_0x3c305d,_0x1d46d9={};_0x1d46d9[_0x3891c3(0x285)]=function(_0x604e88,_0x10166f){return _0x604e88===_0x10166f;},_0x1d46d9[_0x3891c3(0x27a)]='ENOTFOUND',_0x1d46d9['ZodNB']=_0x3891c3(0x200),_0x1d46d9[_0x3891c3(0x284)]=_0x3891c3(0x357),_0x1d46d9[_0x3891c3(0x27f)]=_0x3891c3(0x297);const _0x39485e=_0x1d46d9;try{if(_0x39485e['gNcoF'](_0x39485e['UWXqE'],_0x39485e[_0x3891c3(0x284)])){const _0x18ab85=await this[_0x3891c3(0x1f4)](_0x39485e[_0x3891c3(0x27f)],{'method':'POST','body':JSON[_0x3891c3(0x311)](_0x397837)});if(!_0x18ab85['ok']){const _0x1fa4ca=await this[_0x3891c3(0x178)](_0x18ab85),_0x2966a7=this['_createHttpError'](_0x18ab85[_0x3891c3(0x241)],_0x1fa4ca[_0x3891c3(0x35a)]||_0x18ab85[_0x3891c3(0x378)]);throw _0x2966a7;}const _0x483c3e=await _0x18ab85['json']();return this[_0x3891c3(0x2e3)](_0x483c3e),_0x483c3e;}else{if(_0x356b9d[_0x3891c3(0x241)])return this[_0x3891c3(0x343)](_0x4a8ba4[_0x3891c3(0x241)]);if(_0x39485e['gNcoF'](_0x160ca1['code'],'ECONNREFUSED')||_0x39485e[_0x3891c3(0x285)](_0x777cd[_0x3891c3(0x1f5)],_0x39485e[_0x3891c3(0x27a)]))return _0x3619c4['NETWORK'];if(_0x39485e[_0x3891c3(0x285)](_0x2e36c5[_0x3891c3(0x1f5)],_0x39485e[_0x3891c3(0x36c)])||_0x1f0680[_0x3891c3(0x333)]===_0x3891c3(0x261))return _0x4c1d5e[_0x3891c3(0x2d0)];return _0x2ffd65[_0x3891c3(0x21b)];}}catch(_0x32a341){throw _0x32a341;}}[a0_0x3c305d(0x2e3)](_0x120856){const _0x3aeb96=a0_0x3c305d,_0x2a8c3b={};_0x2a8c3b[_0x3aeb96(0x2c2)]=function(_0x5390b8,_0x478707){return _0x5390b8!==_0x478707;},_0x2a8c3b[_0x3aeb96(0x224)]=_0x3aeb96(0x301),_0x2a8c3b[_0x3aeb96(0x2d7)]='JrBZX',_0x2a8c3b['uOBkC']=_0x3aeb96(0x1bb),_0x2a8c3b['EGxhi']=function(_0x368e4a,_0x1b9a07){return _0x368e4a===_0x1b9a07;},_0x2a8c3b[_0x3aeb96(0x20b)]=_0x3aeb96(0x188),_0x2a8c3b[_0x3aeb96(0x1de)]=_0x3aeb96(0x2fb);const _0x59a7b7=_0x2a8c3b;if(!_0x120856['content']||_0x59a7b7['aJLOn'](typeof _0x120856[_0x3aeb96(0x32d)],_0x59a7b7[_0x3aeb96(0x224)])){if(_0x59a7b7[_0x3aeb96(0x2d7)]!==_0x59a7b7[_0x3aeb96(0x32b)])throw new Error(_0x3aeb96(0x309));else{const _0x4f6081={...this[_0x3aeb96(0x1ea)]};return _0x4f6081;}}if(_0x120856[_0x3aeb96(0x259)]&&typeof _0x120856[_0x3aeb96(0x259)]!==_0x3aeb96(0x201)){if(_0x59a7b7[_0x3aeb96(0x315)](_0x3aeb96(0x188),_0x59a7b7[_0x3aeb96(0x20b)]))throw new Error(_0x59a7b7[_0x3aeb96(0x1de)]);else this[_0x3aeb96(0x376)]=_0x295da3[_0x3aeb96(0x259)][_0x3aeb96(0x330)]||0x0,this['lastOutputTokenCount']=_0x31aac9[_0x3aeb96(0x259)][_0x3aeb96(0x229)]||0x0,this['tokenUsage'][_0x3aeb96(0x39d)]+=this[_0x3aeb96(0x376)],this[_0x3aeb96(0x1ea)][_0x3aeb96(0x1da)]+=this[_0x3aeb96(0x29f)];}}[a0_0x3c305d(0x2c5)](_0x195016,_0x41902b,_0x388d5d){const _0x2d71e7=a0_0x3c305d,_0x48acd7={};_0x48acd7[_0x2d71e7(0x17d)]=function(_0x4a0484,_0x15ed33){return _0x4a0484===_0x15ed33;},_0x48acd7[_0x2d71e7(0x281)]=_0x2d71e7(0x1e2),_0x48acd7['zuhuz']='user',_0x48acd7[_0x2d71e7(0x34f)]=_0x2d71e7(0x1ad);const _0x297f1e=_0x48acd7;if(_0x388d5d[_0x2d71e7(0x259)]){if(_0x297f1e[_0x2d71e7(0x17d)](_0x297f1e['qFTGY'],_0x2d71e7(0x186)))return _0xe0953c[_0x2d71e7(0x2d0)];else this[_0x2d71e7(0x376)]=_0x388d5d[_0x2d71e7(0x259)][_0x2d71e7(0x330)]||0x0,this[_0x2d71e7(0x29f)]=_0x388d5d[_0x2d71e7(0x259)][_0x2d71e7(0x229)]||0x0,this[_0x2d71e7(0x1ea)][_0x2d71e7(0x39d)]+=this[_0x2d71e7(0x376)],this[_0x2d71e7(0x1ea)]['output']+=this[_0x2d71e7(0x29f)];}const _0x531ff3={};_0x531ff3[_0x2d71e7(0x274)]=_0x297f1e[_0x2d71e7(0x1c7)],_0x531ff3[_0x2d71e7(0x32d)]=_0x41902b;const _0xf9bdb4={};_0xf9bdb4[_0x2d71e7(0x274)]=_0x297f1e['JhIMA'],_0xf9bdb4[_0x2d71e7(0x32d)]=_0x388d5d[_0x2d71e7(0x32d)],_0x195016[_0x2d71e7(0x2e1)]['push'](_0x531ff3,_0xf9bdb4),_0x195016[_0x2d71e7(0x2f3)]=new Date()[_0x2d71e7(0x18a)]();}async['updateConversation'](_0x323191,_0x32c735){const _0xb29769=a0_0x3c305d,_0x561090={};_0x561090['EFEEH']=function(_0x1080fe,_0x59f3f2){return _0x1080fe!==_0x59f3f2;},_0x561090[_0xb29769(0x2e6)]=_0xb29769(0x2e2);const _0x463555=_0x561090;this[_0xb29769(0x1aa)][_0xb29769(0x345)]('Updating\x20server\x20conversation:\x20'+_0x323191);const _0x9cb481=this[_0xb29769(0x347)](_0x323191),_0x419645=this[_0xb29769(0x325)]['has'](_0x323191)?_0x323191:_0x9cb481;if(!this[_0xb29769(0x325)][_0xb29769(0x32e)](_0x419645)){if(_0x463555[_0xb29769(0x37f)](_0x463555['xGDLm'],_0xb29769(0x22f)))throw new Error(_0xb29769(0x238)+_0x323191+_0xb29769(0x1b4));else return this['pricingData'][_0xb29769(0x2b0)](_0x27de03)||null;}const _0x20c5da=this[_0xb29769(0x325)][_0xb29769(0x2b0)](_0x419645);this[_0xb29769(0x2a4)](_0x20c5da,_0x32c735);}async[a0_0x3c305d(0x256)](_0x1f1ce0,_0x51236b=null){const _0x1a5f60=a0_0x3c305d,_0x4c04a4={};_0x4c04a4[_0x1a5f60(0x27d)]=_0x1a5f60(0x1c1),_0x4c04a4[_0x1a5f60(0x1ee)]=function(_0x16cc8f,_0x4818a2){return _0x16cc8f>_0x4818a2;},_0x4c04a4['CHCag']=function(_0x31ecec,_0xcf0d6b){return _0x31ecec||_0xcf0d6b;},_0x4c04a4[_0x1a5f60(0x280)]=_0x1a5f60(0x288),_0x4c04a4[_0x1a5f60(0x1cd)]=_0x1a5f60(0x1b9),_0x4c04a4[_0x1a5f60(0x2c0)]=_0x1a5f60(0x307),_0x4c04a4[_0x1a5f60(0x1fe)]=_0x1a5f60(0x25f),_0x4c04a4[_0x1a5f60(0x263)]=function(_0x29e6b7,_0x593beb){return _0x29e6b7<_0x593beb;},_0x4c04a4['oEtIN']=function(_0xba8ee8,_0x76552){return _0xba8ee8^_0x76552;},_0x4c04a4[_0x1a5f60(0x323)]=function(_0x105f1b,_0x19f6d9){return _0x105f1b%_0x19f6d9;},_0x4c04a4[_0x1a5f60(0x276)]=_0x1a5f60(0x246),_0x4c04a4[_0x1a5f60(0x221)]=_0x1a5f60(0x340),_0x4c04a4[_0x1a5f60(0x1bd)]='Service\x20not\x20initialized.\x20Call\x20initialize()\x20first.',_0x4c04a4[_0x1a5f60(0x38e)]=function(_0x1803de,_0x5e1344){return _0x1803de!==_0x5e1344;},_0x4c04a4[_0x1a5f60(0x2d1)]=_0x1a5f60(0x301),_0x4c04a4[_0x1a5f60(0x28e)]=_0x1a5f60(0x366),_0x4c04a4[_0x1a5f60(0x39c)]=function(_0x2eb866,_0x4331aa){return _0x2eb866===_0x4331aa;},_0x4c04a4[_0x1a5f60(0x2ae)]=_0x1a5f60(0x380),_0x4c04a4[_0x1a5f60(0x2cc)]=function(_0x42ef31,_0x5cb21b){return _0x42ef31!==_0x5cb21b;},_0x4c04a4['hKGtF']='Aensr',_0x4c04a4[_0x1a5f60(0x29e)]=_0x1a5f60(0x20e),_0x4c04a4[_0x1a5f60(0x397)]=_0x1a5f60(0x23f),_0x4c04a4['gWShF']=_0x1a5f60(0x37d),_0x4c04a4['QgnHz']=function(_0x633410,_0x42cfd3){return _0x633410!==_0x42cfd3;},_0x4c04a4[_0x1a5f60(0x32f)]='SqkcM',_0x4c04a4['ulZYo']=_0x1a5f60(0x37a),_0x4c04a4[_0x1a5f60(0x287)]=_0x1a5f60(0x24b);const _0x41c2fb=_0x4c04a4;this['logger']['info'](_0x41c2fb[_0x1a5f60(0x221)]);if(!this[_0x1a5f60(0x1e5)])throw new Error(_0x41c2fb['NNvEy']);if(!this[_0x1a5f60(0x38b)])throw new Error(_0x41c2fb[_0x1a5f60(0x276)]);if(!_0x1f1ce0||_0x41c2fb[_0x1a5f60(0x38e)](typeof _0x1f1ce0,_0x41c2fb[_0x1a5f60(0x2d1)]))throw new Error('Invalid\x20summary\x20prompt');let _0x4c6c12=_0x41c2fb[_0x1a5f60(0x28e)];if(_0x51236b&&this['conversations'][_0x1a5f60(0x32e)](_0x51236b)){if(_0x41c2fb['dSwVA'](_0x1a5f60(0x278),_0x41c2fb['iFXOj'])){this[_0x1a5f60(0x1aa)][_0x1a5f60(0x35a)](_0x41c2fb[_0x1a5f60(0x27d)],_0x2e67f4);throw new _0x3f739d('Failed\x20to\x20load\x20models:\x20'+_0x4d5bb3[_0x1a5f60(0x227)]);}else{const _0x291176=this[_0x1a5f60(0x325)][_0x1a5f60(0x2b0)](_0x51236b);_0x4c6c12=_0x291176['model'],this[_0x1a5f60(0x1aa)][_0x1a5f60(0x345)]('Using\x20conversation\x20model\x20for\x20summary:\x20'+_0x4c6c12);}}else this[_0x1a5f60(0x1aa)][_0x1a5f60(0x257)](_0x1a5f60(0x2dc));try{if(_0x41c2fb[_0x1a5f60(0x2cc)](_0x41c2fb[_0x1a5f60(0x33e)],'Aensr')){let _0x455453=0x0;for(const _0x5472a0 of this[_0x1a5f60(0x346)][_0x1a5f60(0x2a8)]()){_0x41c2fb['TxvjK'](_0x5472a0[_0x1a5f60(0x2b1)],_0x455453)&&(_0x455453=_0x5472a0['maxTokens']);}return _0x41c2fb[_0x1a5f60(0x209)](_0x455453,0x186a0);}else{const _0x9b654d=await this[_0x1a5f60(0x1f4)](_0x1a5f60(0x363),{'method':_0x41c2fb[_0x1a5f60(0x29e)],'body':JSON[_0x1a5f60(0x311)]({'prompt':_0x1f1ce0[_0x1a5f60(0x19a)](),'model':_0x4c6c12})});if(!_0x9b654d['ok']){if(_0x41c2fb[_0x1a5f60(0x38e)](_0x41c2fb[_0x1a5f60(0x397)],_0x41c2fb[_0x1a5f60(0x397)])){const _0x452ecc=new _0x1ea835(_0x267fb4);if(![_0x41c2fb[_0x1a5f60(0x280)],_0x41c2fb[_0x1a5f60(0x1cd)]][_0x1a5f60(0x33d)](_0x452ecc['protocol']))throw new _0xb6981f(_0x1a5f60(0x1d0));return _0x452ecc[_0x1a5f60(0x2a3)]()[_0x1a5f60(0x225)](/\/$/,'');}else{const _0x1f302b=await this[_0x1a5f60(0x178)](_0x9b654d);throw this[_0x1a5f60(0x353)](_0x9b654d[_0x1a5f60(0x241)],_0x1f302b['error']||_0x9b654d[_0x1a5f60(0x378)]);}}const _0x1782ef=await _0x9b654d['json']();if(_0x1782ef['usage']){if(_0x41c2fb[_0x1a5f60(0x253)]===_0x41c2fb[_0x1a5f60(0x253)])this['lastInputTokenCount']=_0x1782ef[_0x1a5f60(0x259)][_0x1a5f60(0x330)]||0x0,this['lastOutputTokenCount']=_0x1782ef[_0x1a5f60(0x259)][_0x1a5f60(0x229)]||0x0,this[_0x1a5f60(0x1ea)][_0x1a5f60(0x39d)]+=this[_0x1a5f60(0x376)],this[_0x1a5f60(0x1ea)][_0x1a5f60(0x1da)]+=this[_0x1a5f60(0x29f)];else{const _0xdb72d=_0x41c2fb[_0x1a5f60(0x2c0)],_0x3d8284=_0x3a4286['from'](_0x3ac822,_0x41c2fb[_0x1a5f60(0x1fe)])[_0x1a5f60(0x2a3)]();let _0xc60228='';for(let _0x121eb3=0x0;_0x41c2fb['cAbCD'](_0x121eb3,_0x3d8284[_0x1a5f60(0x2f8)]);_0x121eb3++){_0xc60228+=_0x4c6dc4[_0x1a5f60(0x35f)](_0x41c2fb[_0x1a5f60(0x2f5)](_0x3d8284[_0x1a5f60(0x185)](_0x121eb3),_0xdb72d[_0x1a5f60(0x185)](_0x41c2fb['CkAwS'](_0x121eb3,_0xdb72d[_0x1a5f60(0x2f8)]))));}return _0xc60228;}}return _0x1782ef['content'];}}catch(_0x50e140){if(_0x41c2fb['QgnHz'](_0x1a5f60(0x2ef),_0x41c2fb['jdmUN']))throw new _0x19c1e7(_0x41c2fb[_0x1a5f60(0x276)]);else{this['logger'][_0x1a5f60(0x35a)](_0x41c2fb[_0x1a5f60(0x273)],_0x50e140);throw this[_0x1a5f60(0x19f)](_0x50e140,_0x41c2fb[_0x1a5f60(0x287)]);}}}async[a0_0x3c305d(0x37c)](_0x1a3414,_0x2f60b9,_0x181fd9={}){const _0x34d923=a0_0x3c305d,_0x44302e={};_0x44302e[_0x34d923(0x398)]='Image\x20data\x20too\x20large',_0x44302e[_0x34d923(0x2a0)]='Getting\x20image\x20description\x20from\x20server',_0x44302e[_0x34d923(0x31c)]=function(_0x5d3ff0,_0x4da6fc){return _0x5d3ff0===_0x4da6fc;},_0x44302e[_0x34d923(0x245)]=_0x34d923(0x1fb),_0x44302e[_0x34d923(0x365)]=_0x34d923(0x2de),_0x44302e[_0x34d923(0x2fa)]='POST',_0x44302e[_0x34d923(0x250)]=function(_0x2fd992,_0x454f21){return _0x2fd992||_0x454f21;},_0x44302e[_0x34d923(0x17b)]=_0x34d923(0x2f6);const _0x5742c8=_0x44302e;this[_0x34d923(0x1aa)][_0x34d923(0x345)](_0x5742c8[_0x34d923(0x2a0)]);if(!this['isInitialized'])throw new Error(_0x34d923(0x350));if(!this[_0x34d923(0x38b)])throw new Error(_0x34d923(0x246));this[_0x34d923(0x223)](_0x1a3414,_0x2f60b9);try{if(_0x5742c8[_0x34d923(0x31c)](_0x5742c8['ujgMt'],_0x5742c8['ujgMt'])){const _0x13aa49=await this[_0x34d923(0x1f4)](_0x5742c8['ysGeV'],{'method':_0x5742c8['EQgMy'],'body':JSON['stringify']({'image':_0x1a3414,'prompt':_0x2f60b9[_0x34d923(0x19a)](),'metadata':_0x5742c8[_0x34d923(0x250)](_0x181fd9,{})})}),_0x485e92=await this[_0x34d923(0x178)](_0x13aa49);if(!_0x13aa49['ok']){if(_0x34d923(0x33a)===_0x34d923(0x1bc))throw new _0x2afc42(_0x5742c8[_0x34d923(0x398)]);else throw this[_0x34d923(0x353)](_0x13aa49[_0x34d923(0x241)],_0x485e92[_0x34d923(0x35a)]||_0x13aa49['statusText']);}return _0x485e92[_0x34d923(0x259)]&&(this[_0x34d923(0x376)]=_0x485e92[_0x34d923(0x259)][_0x34d923(0x330)]||0x0,this[_0x34d923(0x29f)]=_0x485e92['usage'][_0x34d923(0x229)]||0x0,this[_0x34d923(0x1ea)]['input']+=this[_0x34d923(0x376)],this['tokenUsage'][_0x34d923(0x1da)]+=this[_0x34d923(0x29f)]),_0x485e92[_0x34d923(0x32d)];}else throw new _0x2f0ace(_0x34d923(0x24d)+_0x1b6f2e[_0x34d923(0x227)]);}catch(_0x56f708){this[_0x34d923(0x1aa)][_0x34d923(0x35a)]('Error\x20getting\x20image\x20description\x20from\x20server:',_0x56f708);throw this[_0x34d923(0x19f)](_0x56f708,_0x5742c8[_0x34d923(0x17b)]);}}[a0_0x3c305d(0x223)](_0x24d7f9,_0x2acde5){const _0x57a00a=a0_0x3c305d,_0x5e3873={};_0x5e3873[_0x57a00a(0x31d)]=_0x57a00a(0x2da),_0x5e3873['wyEWr']=_0x57a00a(0x1ce),_0x5e3873[_0x57a00a(0x338)]=_0x57a00a(0x362),_0x5e3873[_0x57a00a(0x26e)]=_0x57a00a(0x301),_0x5e3873[_0x57a00a(0x218)]=function(_0x39c475,_0x483a7a){return _0x39c475===_0x483a7a;},_0x5e3873[_0x57a00a(0x177)]='EteWz',_0x5e3873[_0x57a00a(0x312)]='Invalid\x20image\x20description\x20prompt',_0x5e3873['BvULG']=function(_0x315d67,_0x468680){return _0x315d67*_0x468680;},_0x5e3873['cMGbj']=function(_0x1d0f41,_0x3175e7){return _0x1d0f41*_0x3175e7;},_0x5e3873[_0x57a00a(0x187)]=_0x57a00a(0x1c9);const _0x2f0723=_0x5e3873;if(!_0x24d7f9||typeof _0x24d7f9!==_0x57a00a(0x301)){if(_0x57a00a(0x1ce)===_0x2f0723[_0x57a00a(0x34b)])throw new Error(_0x2f0723[_0x57a00a(0x338)]);else{const _0x523bb7={};return _0x523bb7[_0x57a00a(0x241)]=_0x57a00a(0x328),_0x523bb7[_0x57a00a(0x35a)]='HTTP\x20'+_0x21af0d[_0x57a00a(0x241)]+':\x20'+_0x5b8173[_0x57a00a(0x378)],_0x523bb7;}}if(!_0x2acde5||typeof _0x2acde5!==_0x2f0723['DzTLk']){if(_0x2f0723[_0x57a00a(0x218)](_0x2f0723[_0x57a00a(0x177)],'zibMM'))throw new _0x325d9b(_0x2f0723[_0x57a00a(0x31d)]);else throw new Error(_0x2f0723[_0x57a00a(0x312)]);}if(_0x24d7f9[_0x57a00a(0x2f8)]>_0x2f0723[_0x57a00a(0x1b1)](_0x2f0723[_0x57a00a(0x1a8)](0x32,0x400),0x400))throw new Error(_0x2f0723[_0x57a00a(0x187)]);}async[a0_0x3c305d(0x1a7)](_0x534f4a){const _0x53ee4a=a0_0x3c305d,_0xc927a2=this[_0x53ee4a(0x347)](_0x534f4a),_0x551b91=this[_0x53ee4a(0x325)][_0x53ee4a(0x32e)](_0x534f4a)?_0x534f4a:_0xc927a2;if(!this[_0x53ee4a(0x325)][_0x53ee4a(0x32e)](_0x551b91))throw new Error(_0x53ee4a(0x238)+_0x534f4a+_0x53ee4a(0x1b4));const _0x522431=this[_0x53ee4a(0x325)]['get'](_0x551b91);let _0x2ea758=this['_estimateTokens'](_0x522431['systemPrompt']);for(const _0x35c516 of _0x522431['messages']){_0x2ea758+=this[_0x53ee4a(0x211)](_0x35c516[_0x53ee4a(0x32d)]);}return _0x2ea758;}[a0_0x3c305d(0x211)](_0xe5403d){const _0x1a2ef0=a0_0x3c305d,_0x2fe349={};_0x2fe349[_0x1a2ef0(0x31f)]=_0x1a2ef0(0x301),_0x2fe349[_0x1a2ef0(0x173)]=function(_0x3b6ad4,_0x3945e0){return _0x3b6ad4/_0x3945e0;};const _0x1c436e=_0x2fe349;if(!_0xe5403d||typeof _0xe5403d!==_0x1c436e[_0x1a2ef0(0x31f)])return 0x0;return Math[_0x1a2ef0(0x2d8)](_0x1c436e[_0x1a2ef0(0x173)](_0xe5403d[_0x1a2ef0(0x2f8)],0x4));}[a0_0x3c305d(0x2c4)](_0x16f60e){const _0x470661=a0_0x3c305d;return this[_0x470661(0x346)][_0x470661(0x32e)](_0x16f60e);}[a0_0x3c305d(0x1e6)](){const _0xd0dc2c=a0_0x3c305d,_0x4c597f={};_0x4c597f[_0xd0dc2c(0x2a5)]=_0xd0dc2c(0x2cf),_0x4c597f[_0xd0dc2c(0x2c9)]=_0xd0dc2c(0x232),_0x4c597f[_0xd0dc2c(0x1fd)]=function(_0x56f941,_0x56feb3){return _0x56f941!==_0x56feb3;},_0x4c597f[_0xd0dc2c(0x206)]=_0xd0dc2c(0x2ff),_0x4c597f[_0xd0dc2c(0x33b)]=function(_0x41f561,_0x187acd){return _0x41f561>_0x187acd;},_0x4c597f[_0xd0dc2c(0x1ff)]=function(_0x26384,_0x13d47c){return _0x26384||_0x13d47c;};const _0x23c5ce=_0x4c597f;let _0x128c9b=0x0;for(const _0x16ed45 of this[_0xd0dc2c(0x346)][_0xd0dc2c(0x2a8)]()){if(_0x23c5ce[_0xd0dc2c(0x1fd)](_0x23c5ce[_0xd0dc2c(0x206)],_0x23c5ce[_0xd0dc2c(0x206)])){this[_0xd0dc2c(0x1aa)][_0xd0dc2c(0x35a)](_0x23c5ce[_0xd0dc2c(0x2a5)],_0x146442);throw this[_0xd0dc2c(0x19f)](_0x51b61b,_0x23c5ce['hECTC']);}else _0x23c5ce[_0xd0dc2c(0x33b)](_0x16ed45[_0xd0dc2c(0x2b1)],_0x128c9b)&&(_0x128c9b=_0x16ed45[_0xd0dc2c(0x2b1)]);}return _0x23c5ce['pPsqP'](_0x128c9b,0x186a0);}[a0_0x3c305d(0x355)](){const _0x4e9d1b=a0_0x3c305d;return this[_0x4e9d1b(0x376)];}[a0_0x3c305d(0x2ad)](){const _0x49647c=a0_0x3c305d;return this[_0x49647c(0x29f)];}['getTokenUsage'](){const _0x58d414=a0_0x3c305d,_0x32868b={...this[_0x58d414(0x1ea)]};return _0x32868b;}async[a0_0x3c305d(0x18b)](){const _0x38648a=a0_0x3c305d,_0x5b964f={};_0x5b964f[_0x38648a(0x289)]=_0x38648a(0x179);const _0x18ce44=_0x5b964f;this[_0x38648a(0x1aa)]['info'](_0x18ce44['gFWXG']),await this[_0x38648a(0x392)]();}async[a0_0x3c305d(0x2f7)](){const _0x4d7808=a0_0x3c305d,_0x17a086={};_0x17a086[_0x4d7808(0x36b)]='1K\x20tokens',_0x17a086[_0x4d7808(0x182)]=_0x4d7808(0x17c),_0x17a086[_0x4d7808(0x2b3)]=_0x4d7808(0x32a),_0x17a086[_0x4d7808(0x2b2)]='unhealthy',_0x17a086[_0x4d7808(0x1ef)]=_0x4d7808(0x23a),_0x17a086[_0x4d7808(0x2df)]=function(_0x463a50,_0x2a42ba){return _0x463a50!==_0x2a42ba;},_0x17a086['IecPV']='vsQpE',_0x17a086[_0x4d7808(0x2f1)]=_0x4d7808(0x30d);const _0x24c853=_0x17a086;try{const _0x52c2f2=await this['_makeRequest'](_0x24c853[_0x4d7808(0x2b3)]);if(!_0x52c2f2['ok']){const _0x20f428={};return _0x20f428['status']=_0x24c853[_0x4d7808(0x2b2)],_0x20f428[_0x4d7808(0x35a)]=_0x4d7808(0x1ed)+_0x52c2f2[_0x4d7808(0x241)]+':\x20'+_0x52c2f2[_0x4d7808(0x378)],_0x20f428;}const _0x588914=await _0x52c2f2[_0x4d7808(0x1c3)](),_0x1feba3={'status':_0x24c853[_0x4d7808(0x1ef)],..._0x588914};return _0x1feba3;}catch(_0x263dd3){if(_0x24c853[_0x4d7808(0x2df)](_0x24c853[_0x4d7808(0x35c)],_0x24c853[_0x4d7808(0x2f1)])){const _0x5dbcff={};return _0x5dbcff[_0x4d7808(0x241)]=_0x24c853[_0x4d7808(0x2b2)],_0x5dbcff['error']=_0x263dd3['message'],_0x5dbcff;}else{this[_0x4d7808(0x255)](_0x44ed18,_0x54e0ad);const _0x1e430d={};_0x1e430d[_0x4d7808(0x39d)]=_0x282b71[_0x4d7808(0x39d)],_0x1e430d['output']=_0x2b4b49[_0x4d7808(0x1da)],_0x1e430d['unit']=_0x9baf3b[_0x4d7808(0x26d)]||_0x24c853[_0x4d7808(0x36b)],_0x1e430d['currency']=_0x54eba4['currency']||_0x24c853['NkLdF'],this[_0x4d7808(0x29a)][_0x4d7808(0x1d2)](_0x45f2de,_0x1e430d);}}}async[a0_0x3c305d(0x1c5)](){const _0x43b33e=a0_0x3c305d,_0x56f6c9={};_0x56f6c9[_0x43b33e(0x308)]=_0x43b33e(0x247),_0x56f6c9[_0x43b33e(0x30b)]=_0x43b33e(0x367);const _0x171495=_0x56f6c9,_0x212045=_0x171495['bPPYk'][_0x43b33e(0x30f)]('|');let _0x447a26=0x0;while(!![]){switch(_0x212045[_0x447a26++]){case'0':this[_0x43b33e(0x29a)][_0x43b33e(0x1b8)]();continue;case'1':this['availableModels'][_0x43b33e(0x1b8)]();continue;case'2':this['apiKey']=null;continue;case'3':this['logger']['info'](_0x43b33e(0x293));continue;case'4':this['conversations']['clear']();continue;case'5':this[_0x43b33e(0x1aa)][_0x43b33e(0x345)](_0x171495[_0x43b33e(0x30b)]);continue;case'6':this['isInitialized']=![];continue;}break;}}async[a0_0x3c305d(0x1f4)](_0x9ca9bf,_0x1f8b00={}){const _0xba54f2=a0_0x3c305d,_0x20e6ca={};_0x20e6ca[_0xba54f2(0x335)]='cVUsB',_0x20e6ca[_0xba54f2(0x1ac)]=_0xba54f2(0x26c),_0x20e6ca[_0xba54f2(0x28f)]=function(_0x1aae77,_0x35fa6e){return _0x1aae77===_0x35fa6e;},_0x20e6ca[_0xba54f2(0x384)]=_0xba54f2(0x30a);const _0x2384db=_0x20e6ca,_0x153414=''+this[_0xba54f2(0x213)]+_0x9ca9bf,_0x257ab7={'method':_0x1f8b00[_0xba54f2(0x316)]||_0xba54f2(0x1d1),'headers':{'Content-Type':_0xba54f2(0x299),'User-Agent':'Loxia-CLI/1.0.0',..._0x1f8b00[_0xba54f2(0x1f2)]},'timeout':this[_0xba54f2(0x1b2)],..._0x1f8b00},_0x1c0a95=_0x257ab7;if(this[_0xba54f2(0x38b)]){if(_0x2384db[_0xba54f2(0x335)]!==_0xba54f2(0x26f))throw new _0x41d14f(_0xba54f2(0x238)+_0xac740d+_0xba54f2(0x1b4));else _0x1c0a95[_0xba54f2(0x1f2)][_0x2384db[_0xba54f2(0x1ac)]]=_0xba54f2(0x391)+this[_0xba54f2(0x38b)];}try{const _0x52ef39=await a0_0x8bcac(_0x153414,_0x1c0a95);return _0x52ef39;}catch(_0x376f57){if(_0x2384db['muPjB'](_0x2384db[_0xba54f2(0x384)],_0xba54f2(0x36d)))return this[_0xba54f2(0x1aa)]['debug'](_0xba54f2(0x2bb),_0x1ef7eb),null;else throw this[_0xba54f2(0x24c)](_0x376f57,_0x153414);}}async[a0_0x3c305d(0x178)](_0x5882ca){const _0x3eb620=a0_0x3c305d;try{return await _0x5882ca[_0x3eb620(0x1c3)]();}catch(_0x56e383){return{};}}[a0_0x3c305d(0x19f)](_0x22e760,_0x146a4c){const _0x3b8d38=a0_0x3c305d,_0x3cdbf9=new Error(_0x146a4c+'\x20failed:\x20'+_0x22e760['message']);return _0x3cdbf9[_0x3b8d38(0x381)]=_0x146a4c,_0x3cdbf9[_0x3b8d38(0x2ca)]=_0x22e760,_0x3cdbf9[_0x3b8d38(0x21f)]=this[_0x3b8d38(0x2d9)](_0x22e760),_0x3cdbf9;}[a0_0x3c305d(0x353)](_0x49f300,_0x410501){const _0x4c1444=a0_0x3c305d,_0x28a7da=new Error(_0x4c1444(0x1ed)+_0x49f300+':\x20'+_0x410501);return _0x28a7da['status']=_0x49f300,_0x28a7da[_0x4c1444(0x21f)]=this[_0x4c1444(0x343)](_0x49f300),_0x28a7da;}[a0_0x3c305d(0x24c)](_0x3256da,_0x37609b){const _0xa1f6dd=a0_0x3c305d,_0x749744={};_0x749744[_0xa1f6dd(0x286)]=function(_0x49b103,_0x3c024b){return _0x49b103===_0x3c024b;},_0x749744[_0xa1f6dd(0x191)]=_0xa1f6dd(0x317),_0x749744[_0xa1f6dd(0x220)]=_0xa1f6dd(0x2a9),_0x749744[_0xa1f6dd(0x387)]=function(_0x19a12e,_0x447f15){return _0x19a12e===_0x447f15;},_0x749744[_0xa1f6dd(0x1ab)]=_0xa1f6dd(0x1dd),_0x749744[_0xa1f6dd(0x208)]=function(_0x3e2232,_0x3aadbe){return _0x3e2232===_0x3aadbe;},_0x749744['wqCgC']=_0xa1f6dd(0x372),_0x749744[_0xa1f6dd(0x30c)]='DNS\x20lookup\x20failed.\x20Check\x20server\x20URL.',_0x749744[_0xa1f6dd(0x34a)]=function(_0x53597d,_0x1d20e5){return _0x53597d===_0x1d20e5;},_0x749744[_0xa1f6dd(0x1d4)]=_0xa1f6dd(0x200),_0x749744[_0xa1f6dd(0x327)]=function(_0x5da433,_0x45278e){return _0x5da433===_0x45278e;},_0x749744[_0xa1f6dd(0x385)]=function(_0x1b8c31,_0x2722f8){return _0x1b8c31!==_0x2722f8;},_0x749744['Udzia']=_0xa1f6dd(0x192),_0x749744[_0xa1f6dd(0x172)]=_0xa1f6dd(0x22d);const _0x30e53d=_0x749744,_0x451729=new Error(_0xa1f6dd(0x370)+_0x3256da[_0xa1f6dd(0x227)]);_0x451729[_0xa1f6dd(0x31e)]=_0x37609b,_0x451729['originalError']=_0x3256da,_0x451729['errorType']=ERROR_TYPES[_0xa1f6dd(0x1d3)];if(_0x30e53d[_0xa1f6dd(0x286)](_0x3256da['code'],_0x30e53d[_0xa1f6dd(0x191)]))_0x451729['message']=_0x30e53d[_0xa1f6dd(0x220)];else{if(_0x30e53d[_0xa1f6dd(0x387)](_0x3256da[_0xa1f6dd(0x1f5)],_0x30e53d[_0xa1f6dd(0x1ab)]))_0x30e53d[_0xa1f6dd(0x208)]('OYBeF',_0x30e53d[_0xa1f6dd(0x1cc)])?_0x451729[_0xa1f6dd(0x227)]=_0x30e53d[_0xa1f6dd(0x30c)]:_0x5d104e+=_0x1aec14['fromCharCode'](_0x79c860[_0xa1f6dd(0x185)](_0x3269ef)^_0x33f5c7[_0xa1f6dd(0x185)](_0x394e1d%_0x427951[_0xa1f6dd(0x2f8)]));else{if(_0x30e53d[_0xa1f6dd(0x34a)](_0x3256da[_0xa1f6dd(0x1f5)],_0x30e53d[_0xa1f6dd(0x1d4)])||_0x30e53d['pZsKO'](_0x3256da[_0xa1f6dd(0x333)],'AbortError')){if(_0x30e53d['erIta']('XSnZK',_0x30e53d[_0xa1f6dd(0x303)])){const _0x416b08=_0x4666e8[_0xa1f6dd(0x1df)](_0x19acce,arguments);return _0x1fb0de=null,_0x416b08;}else _0x451729['message']=_0x30e53d[_0xa1f6dd(0x172)],_0x451729[_0xa1f6dd(0x21f)]=ERROR_TYPES[_0xa1f6dd(0x2d0)];}}}return _0x451729;}[a0_0x3c305d(0x2d9)](_0x38ba60){const _0x383c1d=a0_0x3c305d,_0x100831={};_0x100831['xkZqN']=_0x383c1d(0x362),_0x100831['ReBZg']=function(_0x3312a5,_0x268969){return _0x3312a5!==_0x268969;},_0x100831['ogqsE']='bmnEr',_0x100831[_0x383c1d(0x1cf)]=_0x383c1d(0x1dd),_0x100831[_0x383c1d(0x18e)]=function(_0x426b59,_0x649b87){return _0x426b59===_0x649b87;},_0x100831[_0x383c1d(0x322)]=_0x383c1d(0x200);const _0xf593f7=_0x100831;if(_0x38ba60['status']){if(_0xf593f7[_0x383c1d(0x292)](_0xf593f7[_0x383c1d(0x194)],_0x383c1d(0x2e0)))throw new _0x2e37b2(_0xf593f7['xkZqN']);else return this[_0x383c1d(0x343)](_0x38ba60['status']);}if(_0x38ba60[_0x383c1d(0x1f5)]===_0x383c1d(0x317)||_0x38ba60[_0x383c1d(0x1f5)]===_0xf593f7[_0x383c1d(0x1cf)])return ERROR_TYPES[_0x383c1d(0x1d3)];if(_0xf593f7['vMnVW'](_0x38ba60['code'],_0xf593f7[_0x383c1d(0x322)])||_0x38ba60[_0x383c1d(0x333)]===_0x383c1d(0x261))return ERROR_TYPES[_0x383c1d(0x2d0)];return ERROR_TYPES[_0x383c1d(0x21b)];}[a0_0x3c305d(0x343)](_0x5d86c9){const _0x15421b=a0_0x3c305d;switch(_0x5d86c9){case HTTP_STATUS[_0x15421b(0x386)]:case HTTP_STATUS[_0x15421b(0x361)]:return ERROR_TYPES[_0x15421b(0x35d)];case HTTP_STATUS[_0x15421b(0x1d9)]:return ERROR_TYPES[_0x15421b(0x240)];case HTTP_STATUS[_0x15421b(0x277)]:return ERROR_TYPES[_0x15421b(0x379)];case HTTP_STATUS[_0x15421b(0x28d)]:case HTTP_STATUS['BAD_GATEWAY']:case HTTP_STATUS[_0x15421b(0x2ba)]:case HTTP_STATUS['GATEWAY_TIMEOUT']:return ERROR_TYPES[_0x15421b(0x2c6)];default:return ERROR_TYPES[_0x15421b(0x21b)];}}[a0_0x3c305d(0x1f9)](_0x4a668c){const _0x28a0d2=a0_0x3c305d,_0x596307=[ERROR_TYPES[_0x28a0d2(0x35d)],ERROR_TYPES['VALIDATION']],_0x1a862f=[HTTP_STATUS[_0x28a0d2(0x1d9)],HTTP_STATUS['UNAUTHORIZED'],HTTP_STATUS[_0x28a0d2(0x361)],HTTP_STATUS[_0x28a0d2(0x2ee)]];return _0x596307[_0x28a0d2(0x33d)](_0x4a668c[_0x28a0d2(0x21f)])||_0x1a862f[_0x28a0d2(0x33d)](_0x4a668c['status']);}['_delay'](_0x5a23c2){return new Promise(_0x1d8248=>setTimeout(_0x1d8248,_0x5a23c2));}[a0_0x3c305d(0x1a4)](_0xd5f385){const _0x4799b0=a0_0x3c305d,_0x59419f={};_0x59419f[_0x4799b0(0x329)]=_0x4799b0(0x307),_0x59419f[_0x4799b0(0x235)]=_0x4799b0(0x25f),_0x59419f['LnGFf']=function(_0x5ea0a0,_0x9c59a){return _0x5ea0a0<_0x9c59a;},_0x59419f[_0x4799b0(0x2c7)]=function(_0x475590,_0x184f5e){return _0x475590%_0x184f5e;};const _0xc0f147=_0x59419f,_0x4ea56c=_0xc0f147[_0x4799b0(0x329)],_0x356ad5=Buffer[_0x4799b0(0x18f)](_0xd5f385,_0xc0f147[_0x4799b0(0x235)])['toString']();let _0x16cf8c='';for(let _0x5ef8cf=0x0;_0xc0f147[_0x4799b0(0x282)](_0x5ef8cf,_0x356ad5[_0x4799b0(0x2f8)]);_0x5ef8cf++){_0x16cf8c+=String['fromCharCode'](_0x356ad5['charCodeAt'](_0x5ef8cf)^_0x4ea56c['charCodeAt'](_0xc0f147[_0x4799b0(0x2c7)](_0x5ef8cf,_0x4ea56c['length'])));}return _0x16cf8c;}}