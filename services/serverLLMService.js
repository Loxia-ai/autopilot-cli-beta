const a0_0x271a61=a0_0x293d;(function(_0x2367c5,_0x3de82e){const _0x581347=a0_0x293d,_0x107ba7=_0x2367c5();while(!![]){try{const _0x2207c8=-parseInt(_0x581347(0x22a))/0x1*(-parseInt(_0x581347(0x275))/0x2)+parseInt(_0x581347(0x2a1))/0x3*(-parseInt(_0x581347(0x2a7))/0x4)+-parseInt(_0x581347(0x2e0))/0x5+parseInt(_0x581347(0x2a8))/0x6+parseInt(_0x581347(0x28d))/0x7*(-parseInt(_0x581347(0x1cf))/0x8)+-parseInt(_0x581347(0x13e))/0x9*(-parseInt(_0x581347(0x29b))/0xa)+parseInt(_0x581347(0x13a))/0xb;if(_0x2207c8===_0x3de82e)break;else _0x107ba7['push'](_0x107ba7['shift']());}catch(_0x3d41c8){_0x107ba7['push'](_0x107ba7['shift']());}}}(a0_0x5180,0x3023d));const a0_0x3c492e=(function(){const _0x68f930=a0_0x293d,_0x59a250={};_0x59a250['ZtEep']=_0x68f930(0x2c4),_0x59a250['lxAli']=_0x68f930(0x1a8),_0x59a250[_0x68f930(0x2db)]=_0x68f930(0x153);const _0x3f7f0c=_0x59a250;let _0x983e94=!![];return function(_0x3eb004,_0x23c4f1){const _0x79030d=_0x68f930,_0x44afd9={};_0x44afd9[_0x79030d(0x229)]=_0x79030d(0x26a),_0x44afd9['OYhbq']=_0x3f7f0c[_0x79030d(0x14b)],_0x44afd9['yYRLl']=function(_0x33876a,_0xf2d61f){return _0x33876a===_0xf2d61f;},_0x44afd9[_0x79030d(0x32f)]=_0x3f7f0c[_0x79030d(0x157)],_0x44afd9['bYmnU']=_0x79030d(0x1f2);const _0x454228=_0x44afd9;if(_0x79030d(0x32d)!==_0x3f7f0c['mCILG']){const _0x541b03=_0x983e94?function(){const _0x1f65cb=_0x79030d,_0x31b710={};_0x31b710[_0x1f65cb(0x156)]=_0x454228[_0x1f65cb(0x229)],_0x31b710[_0x1f65cb(0x2e7)]=_0x1f65cb(0x234),_0x31b710[_0x1f65cb(0x270)]=_0x454228[_0x1f65cb(0x1fb)];const _0x379519=_0x31b710;if(_0x454228[_0x1f65cb(0x251)](_0x1f65cb(0x1a8),_0x454228[_0x1f65cb(0x32f)])){if(_0x23c4f1){if(_0x454228[_0x1f65cb(0x295)]===_0x454228[_0x1f65cb(0x295)]){const _0x1dc3bd=_0x23c4f1[_0x1f65cb(0x23f)](_0x3eb004,arguments);return _0x23c4f1=null,_0x1dc3bd;}else return this['logger'][_0x1f65cb(0x32a)]('Failed\x20to\x20load\x20API\x20key\x20from\x20credentials\x20file:',_0x3f9f9f),null;}}else{const _0x5994ae=[_0x1f65cb(0x2c4),_0x379519['WrdPH'],_0x379519[_0x1f65cb(0x2e7)]];for(const _0x283fb2 of _0x5994ae){if(this[_0x1f65cb(0x25c)][_0x1f65cb(0x34c)](_0x283fb2))return _0x283fb2;}const _0x7c517c=this[_0x1f65cb(0x25c)][_0x1f65cb(0x193)]()[_0x1f65cb(0x1c4)]()[_0x1f65cb(0x23d)];return _0x7c517c?_0x7c517c['name']:_0x379519[_0x1f65cb(0x270)];}}:function(){};return _0x983e94=![],_0x541b03;}else throw new _0x37af39(_0x79030d(0x1dc)+_0x4ed689);};}()),a0_0x24da59=a0_0x3c492e(this,function(){const _0x195816=a0_0x293d,_0x48a80c={};_0x48a80c['esiKY']=_0x195816(0x27e);const _0x1c2110=_0x48a80c;return a0_0x24da59[_0x195816(0x1b8)]()[_0x195816(0x1a1)](_0x1c2110[_0x195816(0x1c3)])['toString']()[_0x195816(0x278)](a0_0x24da59)[_0x195816(0x1a1)](_0x1c2110[_0x195816(0x1c3)]);});a0_0x24da59();const a0_0xef719f=(function(){const _0x3d8b68=a0_0x293d,_0xfa5ae1={};_0xfa5ae1['rtpWd']=function(_0xf4be69,_0x258126){return _0xf4be69===_0x258126;},_0xfa5ae1['KQdWO']=_0x3d8b68(0x2fc),_0xfa5ae1[_0x3d8b68(0x195)]=function(_0xe0b2db,_0x4e3f2c){return _0xe0b2db>_0x4e3f2c;},_0xfa5ae1[_0x3d8b68(0x2a6)]=_0x3d8b68(0x28e),_0xfa5ae1['jDElG']='CwJLn';const _0x54bac8=_0xfa5ae1;let _0x41a81c=!![];return function(_0x5e8fc6,_0x5cb3db){const _0x2f6e2d=_0x3d8b68;if(_0x54bac8[_0x2f6e2d(0x2a6)]===_0x54bac8[_0x2f6e2d(0x30d)])return _0x54bac8[_0x2f6e2d(0x2ac)](typeof _0xfd500e,_0x54bac8['KQdWO'])&&_0x54bac8['tUeIv'](_0x1aa0ac[_0x2f6e2d(0x26c)],0x0)&&_0x573e81[_0x2f6e2d(0x26c)]<=0x64&&/^[a-zA-Z0-9_-]+$/[_0x2f6e2d(0x2ad)](_0x1361b5);else{const _0x37de15=_0x41a81c?function(){if(_0x5cb3db){const _0x29db8e=_0x5cb3db['apply'](_0x5e8fc6,arguments);return _0x5cb3db=null,_0x29db8e;}}:function(){};return _0x41a81c=![],_0x37de15;}};}()),a0_0x551f6e=a0_0xef719f(this,function(){const _0x570984=a0_0x293d,_0x1edcb4={'ACkjm':_0x570984(0x21b),'TGyqu':function(_0x185d4b,_0x273db9){return _0x185d4b!==_0x273db9;},'JShmS':_0x570984(0x22e),'nVEIL':_0x570984(0x31b),'BAaQj':function(_0x5bb34a,_0x1e5925){return _0x5bb34a+_0x1e5925;},'UbXKh':function(_0x1da950,_0xfef723){return _0x1da950+_0xfef723;},'phZtL':_0x570984(0x1d5),'vqwod':_0x570984(0x14c),'LRIIc':function(_0x4c4efa){return _0x4c4efa();},'GMVIY':_0x570984(0x230),'aUKtR':_0x570984(0x143),'HErAu':_0x570984(0x351),'oEvxb':_0x570984(0x2f7),'xOefH':_0x570984(0x1af),'zlNOt':_0x570984(0x352)};let _0x45ef96;try{if(_0x1edcb4[_0x570984(0x1d6)](_0x1edcb4['JShmS'],_0x1edcb4[_0x570984(0x236)])){const _0x2d409d=Function(_0x1edcb4[_0x570984(0x2a2)](_0x1edcb4[_0x570984(0x2f3)](_0x1edcb4[_0x570984(0x328)],_0x1edcb4['vqwod']),');'));_0x45ef96=_0x1edcb4[_0x570984(0x22b)](_0x2d409d);}else throw new _0x1385f6(_0x1edcb4[_0x570984(0x15b)]);}catch(_0x5db0d5){_0x45ef96=window;}const _0x4cc2dd=_0x45ef96['console']=_0x45ef96[_0x570984(0x182)]||{},_0x5ee6a9=[_0x1edcb4[_0x570984(0x2f6)],_0x1edcb4[_0x570984(0x313)],_0x1edcb4['HErAu'],_0x570984(0x17b),_0x1edcb4[_0x570984(0x136)],_0x1edcb4[_0x570984(0x233)],_0x1edcb4[_0x570984(0x245)]];for(let _0x185859=0x0;_0x185859<_0x5ee6a9[_0x570984(0x26c)];_0x185859++){const _0x5400a7=a0_0xef719f['constructor'][_0x570984(0x281)][_0x570984(0x1b1)](a0_0xef719f),_0x4a7781=_0x5ee6a9[_0x185859],_0x5012ea=_0x4cc2dd[_0x4a7781]||_0x5400a7;_0x5400a7[_0x570984(0x14d)]=a0_0xef719f[_0x570984(0x1b1)](a0_0xef719f),_0x5400a7[_0x570984(0x1b8)]=_0x5012ea[_0x570984(0x1b8)]['bind'](_0x5012ea),_0x4cc2dd[_0x4a7781]=_0x5400a7;}});a0_0x551f6e();function a0_0x293d(_0x39e379,_0x3a59c6){const _0x4a981a=a0_0x5180();return a0_0x293d=function(_0x551f6e,_0xef719f){_0x551f6e=_0x551f6e-0x131;let _0x23168f=_0x4a981a[_0x551f6e];if(a0_0x293d['szGMDJ']===undefined){var _0x3c791f=function(_0x293d46){const _0xfb717c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x6a51c='',_0x361335='',_0x36acc7=_0x6a51c+_0x3c791f;for(let _0x4f1a23=0x0,_0x10e105,_0xf284c2,_0x161839=0x0;_0xf284c2=_0x293d46['charAt'](_0x161839++);~_0xf284c2&&(_0x10e105=_0x4f1a23%0x4?_0x10e105*0x40+_0xf284c2:_0xf284c2,_0x4f1a23++%0x4)?_0x6a51c+=_0x36acc7['charCodeAt'](_0x161839+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x10e105>>(-0x2*_0x4f1a23&0x6)):_0x4f1a23:0x0){_0xf284c2=_0xfb717c['indexOf'](_0xf284c2);}for(let _0x39615b=0x0,_0x22cb85=_0x6a51c['length'];_0x39615b<_0x22cb85;_0x39615b++){_0x361335+='%'+('00'+_0x6a51c['charCodeAt'](_0x39615b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x361335);};a0_0x293d['skdPRr']=_0x3c791f,_0x39e379=arguments,a0_0x293d['szGMDJ']=!![];}const _0x24da59=_0x4a981a[0x0],_0x3c492e=_0x551f6e+_0x24da59,_0x518039=_0x39e379[_0x3c492e];if(!_0x518039){const _0xda5e4e=function(_0x348113){this['WcfVnZ']=_0x348113,this['pDslLY']=[0x1,0x0,0x0],this['qVaXDX']=function(){return'newState';},this['ShJVGW']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['KkfMHw']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xda5e4e['prototype']['ZAyrwH']=function(){const _0x67137f=new RegExp(this['ShJVGW']+this['KkfMHw']),_0x5deed1=_0x67137f['test'](this['qVaXDX']['toString']())?--this['pDslLY'][0x1]:--this['pDslLY'][0x0];return this['FCvPbM'](_0x5deed1);},_0xda5e4e['prototype']['FCvPbM']=function(_0x1b3cc4){if(!Boolean(~_0x1b3cc4))return _0x1b3cc4;return this['KGtYCG'](this['WcfVnZ']);},_0xda5e4e['prototype']['KGtYCG']=function(_0x1b0869){for(let _0xb3873e=0x0,_0x4c050a=this['pDslLY']['length'];_0xb3873e<_0x4c050a;_0xb3873e++){this['pDslLY']['push'](Math['round'](Math['random']())),_0x4c050a=this['pDslLY']['length'];}return _0x1b0869(this['pDslLY'][0x0]);},new _0xda5e4e(a0_0x293d)['ZAyrwH'](),_0x23168f=a0_0x293d['skdPRr'](_0x23168f),_0x39e379[_0x3c492e]=_0x23168f;}else _0x23168f=_0x518039;return _0x23168f;},a0_0x293d(_0x39e379,_0x3a59c6);}import a0_0x570b7d from'node-fetch';const DEFAULT_TIMEOUT_MS=0xea60,DEFAULT_MAX_RETRIES=0x3,DEFAULT_RETRY_DELAY_MS=0x7530,RETRY_DELAY_MULTIPLIER=0x2,API_VERSION='v1',a0_0x136d24={};a0_0x136d24['OK']=0xc8,a0_0x136d24[a0_0x271a61(0x2a4)]=0xc9,a0_0x136d24[a0_0x271a61(0x339)]=0x190,a0_0x136d24[a0_0x271a61(0x294)]=0x191,a0_0x136d24['FORBIDDEN']=0x193,a0_0x136d24[a0_0x271a61(0x133)]=0x194,a0_0x136d24[a0_0x271a61(0x185)]=0x1ad,a0_0x136d24[a0_0x271a61(0x304)]=0x1f4,a0_0x136d24[a0_0x271a61(0x13d)]=0x1f6,a0_0x136d24[a0_0x271a61(0x171)]=0x1f7,a0_0x136d24['GATEWAY_TIMEOUT']=0x1f8;const HTTP_STATUS=a0_0x136d24,a0_0x4c6cda={};function a0_0x5180(){const _0x5d9b05=['sMzxqui','y3b5Bvu','uvn0uu8','yuTiq2O','x3nHzMvkC29UugfYC2u','wMH3BNC','DgfIBgu','x2DLBMvYyxrLuMvXDwvZDeLK','yMLUza','ue9tva','x3vWzgf0zunVBNzLCNnHDgLVBLn0yxrL','DxnLCG','u2vYDMvYieXmtsbZzxj2AwnLihnODxqGzg93BIbZDwnJzxnZzNvSBhK','D2znthi','yxv0AgvUDgLJyxrPB24','Dg9tDhjPBMC','sw52ywXPzcbYzxnWB25ZztOGAw52ywXPzcb1C2fNzsbKyxrH','r0jJAu0','rMXeELO','y29UDgvUDcbSzw5NDgGGzxHJzwvKCYbSAw1PDa','rvHbvLy','C2vYDMLJzxm','s094vxu','y0XcAuC','CfnJAuG','EffWugK','zxnPs1K','BMv4Da','Bfnry0i','yKnUqNC','serVAMS','AhjmzgO','rezHvMm','C2vUze1LC3nHz2u','x2nYzwf0zuH0DhbfCNjVCG','tM5fDuK','DuTStem','x2nSyxnZAwz5shr0CevYCM9Y','mtzuCKrquNO','B2TYrgu','rxjYB3iGz2v0DgLUzYbZDw1Tyxj5igzYB20GC2vYDMvYoG','Dg9ju09tDhjPBMC','C0PsA2e','l2XSBs9TB2rLBhm','CMv0DxjUicHMDw5JDgLVBIGPia','veD5Cxu','zu1LyNu','z2v0uhjPy2LUz0rHDge','tKXZEMW','CgfYC2u','yxbPs2v5','sw52ywXPzcbVDxrWDxqGChjPy2LUzYbMB3iGBw9KzwWG','EwTpwfi','ufvfuMy','CLz5z2u','AxnbCNjHEq','qxv0Ag9YAxPHDgLVBG','AM9PBG','BMfTzq','D0fVvMq','EuXUvvu','x2DLDe1VzgvStwf4vg9Rzw5Z','DeDvuxq','rMfPBgvKihrVigXVywqGyxzHAwXHyMXLig1VzgvSCZO','De1VA08','DNzmz1m','EhzJvMW','wg14sgK','rMfPBgvKihrVigXVywqGBw9KzwXZoIa','veLnru9vva','EwHrtuW','vLjjA1i','C2vYDMvY','qNbPEwG','AM9Ns3a','rNHVCwS','CMvXDwvZDeLK','Ahr0CdO','rK9sqKLerevo','AgvHBhrOEq','ExbPvKq','yvnVBuC','t1LOyNe','BNnmBNi','sw5PDgLHBgL6Aw5NihnLCNzLCIbmte0GC2vYDMLJzq','s1bWtue','D21hu3C','Aw5WDxq','sw52ywXPzcbYzxnWB25ZztOGBwLZC2LUzYbVCIbPBNzHBgLKignVBNrLBNq','vu5ltK9xtG','C3Prug0','wez3tw4','v3jcuu0','wMH3D1O','Cgf0Aa','rML6sfG','suP1C0q','we5Vre8','AfrSzxm','AvrrEfO','x3zHBgLKyxrLsw1Hz2vezxnJCMLWDgLVBKLUChv0CW','yvPZA2C','tvbesuC','sgTtAei','ig5VDcbMB3vUza','r2v4r08','rxjYB3iGz2v0DgLUzYbPBwfNzsbKzxnJCMLWDgLVBIbMCM9TihnLCNzLCJO','tgHVBfm','swTju04','q0nRt3i','r09ovvm','y29Kzq','Cg5HCMG','sw52ywXPzcbZzxj2zxiGvvjmoIa','sw52ywXPzcbIyxnLnJqGAw1Hz2uGzgf0yq','thHxBK4','iIb0BYaI','yxP1CMuTywKTCgHPna','AufgteS','x2DLDerLzMf1BhrnB2rLBa','x3zHBgLKyxrLq2HHDfjLC3bVBNnL','x3nHBML0AxPLq29UDMvYC2f0Aw9Uswq','q2zwrLq','x2rLBgf5','zxfzuNi','tMTnAfe','sfruuca','C3LZDgvTuhjVBxb0','wNDguvq','mtuZnu9xs3Pcua','tfjjswm','zgjbAeu','DhjPBq','qK5qwva','BgfZDfbYAwnPBMDvCgrHDgu','Bg9N','u3fpsKS','wfn6s2W','Ee9LzKG','yxP1CMuTB3bLBMfPlwDWDdm1','muSGDg9Rzw5Z','BLzfsuW','DgLTzw91Da','zNjVBq','y29UDMvYC2f0Aw9Ulq','tMHizKS','ENrHEhO','Bvjyy1e','DMfSDwu','uKfurv9msu1jva','yxbWBhK','vxPYBKu','yMfZzty0','C3vWCg9YDhnwAxnPB24','vLbvu3m','uevMD20','EMXot3q','C2H1DgrVD24','BM93','t3Dls2C','CM9Szq','sw52ywXPzcbTB2rLBhmGCMvZCg9UC2uGzNjVBsbZzxj2zxi','z2v0tgfZDeLUChv0vg9Rzw5dB3vUDa','rNLSELC','AxnjBML0AwfSAxPLza','u0vsvKvs','txjkBwe','zNDwwwG','EvLstgW','vxbKyxrPBMCGC2vYDMvYignVBNzLCNnHDgLVBJOG','tM8GqvbjigTLEsbMB3vUzc4GugXLyxnLihj1BIaIBg94AweGA2v5ic0TC2v0idX5B3vYlwfWAs1RzxK+iIbMAxjZDc4','x3zHBgLKyxrLtw9KzwXeyxrH','x3zHBgLKyxrLuhjPy2LUz0rHDge','l2HLywX0Aa','CMvNAxn0zxjdB252zxjZyxrPB24','zuvwAuK','z2v0twf4q29UDgv4DfnPEMu','BuHeCwu','sw52ywXPzcbWCMLJAw5NihjLC3bVBNnLigzYB20GC2vYDMvY','yxzHAwXHyMXLtw9KzwXZ','vgvnqLm','zxjYB3juExbL','C0r2DLK','C1bdCKi','D01dBNi','z2v0u3vTBwfYEq','A3Huqum','y3vYCMvUy3K','Awz1svC','rwXQt0q','uu16s1a','svDwAe8','tg9HzgLUzYbWCMLJAw5NigrHDgeGzNjVBsbZzxj2zxi','yw50AhjVCgLJlxnVBM5LDa','C2vUzf9TzxnZywDL','BgvUz3rO','yLfpvg8','Aw5PDgLHBgL6zq','C0DvuLG','vLLLz1q','ChjVDg9JB2W','x3nLBMrdAgf0uMvXDwvZDa','yujyzNe','tKjJENy','mti2sg5hBwPe','Dw5OzwfSDgH5','t0DPCeq','y29UC3rYDwn0B3i','Ag1Ky1q','r2LRCKm','B3r0se0','lMXVEgLH','v29mvgK','kcGOlISPkYKRksSK','q3zMEeG','C3vWCg9YDhntExn0zw0','ChjVDg90ExbL','tKvuv09ssW','t2vtBxq','ug9YuxO','Bwv0Ag9K','l2XSBs9JAgf0','vhbWtgC','yNfzy3m','u2vYDMvYifvstcbTDxn0ihvZzsbivfrqig9YieHuvfbtihbYB3rVy29S','DMfSAwrHDgLVBG','C2L6zq','B3bLCMf0Aw9U','otG4mJeXwwfyvuDP','uu55sg4','tfnjEKm','x3bYB2nLC3ndAgf0uMvZCg9UC2u','y2LKrgu','sunPwgO','x2XVywrbCgLlzxK','vu5bvvrit1jjwKve','yLLTBLu','z2v0sw1Hz2vezxnJCMLWDgLVBG','t3jtA3G','BfjRD1a','uw5Iqve','tg94AweTq0XjlZeUmc4W','otaXndb1z0TIDMC','r0furvDbwv9usu1ft1vu','ruXbruK','uMXZsxG','wxDPENG','x2j1AwXKq2HHDfjLCxvLC3rqyxLSB2fK','mtyXnta4uxjuBxLU','qKfHuwO','sw52ywXPzcbPBNb1DcbWCMLJAw5NigzVCIbTB2rLBca','q1jfqvrfra','q1zYu20','EeDkzMW','mtzvt3P0BvO','mZG4nZGYyKrODLnR','rMfPBgvKihrVigXVywqGChjPy2LUzZOG','sw52ywXPzcbJB252zxjZyxrPB24Gsuq','yuzlwhO','CNrWv2q','DgvZDa','x2vZDgLTyxrLvg9Rzw5Z','ww5Zyu4','x3zHBgLKyxrLu2vYDMvYvxjS','sg1Mse4','A0X4DxK','Dg9Rzw5vC2fNzq','EwnNtMC','x2XVywrbDMfPBgfIBgvnB2rLBhm','z05fCNO','DvHTqMq','EvbOuw4','tezduMq','wLLhrLa','CwnwBvq','rMfPBgvKihrVigLUAxrPywXPEMuGC2vYDMvYieXmtsbZzxj2AwnLoG','Bgr5CLq','qu1szuK','y0jjyLu','q25Szxq','sw52ywXPzcbTzxnZywDLignVBNrLBNq','C3HwDvu','tNfJuu8','yxP1CMuTB3bLBMfPlwDWDdq','DKXOwKW','BNvTyMvY','zg9otNG','Cvvxv00','zNjVBunOyxjdB2rL','twTKzKi','rwn4B0m','y1rIzva','zKf5wgW','BgfZDe91Dhb1DfrVA2vUq291BNq','wwDADKS','vhftuKi','ig1VzgvSCYbMCM9TihnLCNzLCG','C3rHDhvZ','rNvPDeW','r2v0DgLUzYbZDw1Tyxj5igzYB20GC2vYDMvY','y29UDMvYC2f0Aw9UCW','y2XLyxi','ChjPy2LUz0rHDge','z2v0tgfZDe91Dhb1DfrVA2vUq291BNq','z3jUvge','ChjPy2LUzW','BunjteC','BwvZC2fNzq','Aw5WDxrFDg9Rzw5Z','qvnUEfu','q3ntuNO','mtCXodGYmeTXBujeEa','Aw5JBhvKzxm','qwjVCNrfCNjVCG','AhDQAge','Bwf4uMv0CMLLCW','Dw5RBM93BG','qvvusevoveLdqvrjt04','uwDvDui','C3bSAxq','zxrpBgO','s0z2z3q','CMvWBgfJzq','z2v0x2LTywDLx2rLC2nYAxb0Aw9U','CMr1qLK','x2LZtM9UuMv0CNLHyMXLrxjYB3i','BwHZsgG','y3HpuLC','EfLrC1e','z1HArLa','vwjys2G','yxnZAxn0yw50','uMvXDwvZDcb0Aw1LB3v0lIbtzxj2zxiGBwf5igjLig92zxjSB2fKzwqU','r01wsvK','zxHJzxb0Aw9U','Bg9Nz2vY','BMrgAhK','u1jKDha','B09hCvK','C3rYAw5N','DxbKyxrLq29UDMvYC2f0Aw9U','CNrSwfe','q29UDMvYC2f0Aw9Uia','y2f0zwDVCNK','u2L2z1i','ywXQvLC','ExH1Ceq','su5urvjoquXFu0vsvKvsx0vsuK9s','zvbgBNO','teLMrwe','BLDhzfq','u2vYDMvYifvstcbPCYbYzxf1AxjLza','r1zkt1u','tuDZAfe','wM1AteK','Dg9mB3DLCKnHC2u','AKrfBeC','qxjnzuy','z2v0x3n1Bw1HCNK','uvPoCLi','x2XVywrtzxj2zxjeyxrH','C3rHDhvZvgv4Da','yvvlDfi','DxrMoa','wK9xr24','rhDcsgO','CuTqEva','vuPhsuK','svrNrLe','twDZwey','sMLRsfO','rvr5z2m','C3vWCg9YDhnnB2rLBa','tM8Gy29UDMvYC2f0Aw9UieLeihbYB3zPzgvKig9YignVBNzLCNnHDgLVBIbUB3qGzM91BMqSihvZAw5NigrLzMf1BhqGBw9KzwWGzM9Yihn1Bw1HCNK','CMv0CMLLCW','zw50CMLLCW','rxvbCuG','C2XPy2u','ru5pvezpvu5e','vKfmsurbveLptG','yLzque8','v2Hts1m','x2vUAgfUy2vfCNjVCG','CgHADeW','B3v0Chv0','zgvIDwC','nhW2Fdf8m3WYFdb8nq','ywXS','qvDWCuK','zfzoCuq','DKTQsuC','ig1VzgvSCW','BhzRtKq','ANzkvvq','ze5eEKW','wuH5u1G','z09HrLe','AKLNzKm','u2vYDMvYieXmtsbZzxj2AwnLigLUAxrPywXPEMvK','sw52ywXPzcbZDw1Tyxj5ihbYB21WDa','qKfex1jfuvvfu1q','y3jLzgvUDgLHBhm','BMv0D29YAW','x2XVywrqCMLJAw5Nrgf0yq','uKvrvuvtvf9ftLrjvfLFve9px0XbuKDf','x3zHBgLKyxrLqxbPs2v5','rNL1shC','rvrjtuvet1vu','l3vZywDLl3bYAwnPBMC','wMjfyNq','tMv0D29YAYbYzxf1zxn0igzHAwXLzdOG','u2vYDMLJzsbUB3qGAw5PDgLHBgL6zwqUienHBgWGAw5PDgLHBgL6zsGPigzPCNn0lG','rMfPBgvKihrVignYzwf0zsb2ywXPzcbJB252zxjZyxrPB24GsuqGzNjVBtOG','ru5frNC','ug9UBw4','rK9OzhG','swnQsgy','A3f3z1e','Bwf4vg9Rzw5Z','AgfZ','AhzdAvi','C0XiB3e','Bg94AweTBg9JywWTA2v5','qNnSDKK','Aw5MBW','DhjHy2u','BwDhq3y','DLLvDu8','x2nYzwf0zu5LDhDVCMTfCNjVCG','ywLfCve','yK9TuuG','surbCeO','vxPTBgS','vM1SA1K','BgfZDefJDgL2Axr5','DMjwve0','tK9ux0zpvu5e','tg9HzgvKihbYAwnPBMCGzM9Yia','zw1hDeO','B0v2Egi','B2jvEgW','D0T3AeG','DfD4z1O','oti1mtG0n1frA3zHrG','s0vXAe8','sLrZrNq','qKfex0DbvevxqvK','mZz1Dfv1Ce8','zMvct1y','x21HA2vszxf1zxn0','y3njuhu','tM8GqvbjigTLEsbHDMfPBgfIBguUifbSzwfZzsbZzxqGEw91CIbbueKGA2v5igzPCNn0lG','D2fYBG','A2ndCvK','svb0Bva','C2v0','x2LZvMfSAwrdB252zxjZyxrPB25jza','CgHmBLO','zMnJthO','B1LrtMW','wNrfzxa','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','x19WCM90B19F','s29HshC','Bw9KzwXZ','ENfSANa','rMjfENi','rNjqq1O','B0j4rLi','q1niCNC','Aez0wum','v3jKueG','BhHbBgK','Evjywuq','re5tigXVB2T1CcbMywLSzwqUienOzwnRihnLCNzLCIbvuKWU','u2DKr1y','qunRAM0','vNr1qve','rxjYB3iGC2vUzgLUzYbTzxnZywDLihrVihnLCNzLCJO','ChvZAa','l2f1DgGVDMvYAwz5','CMvMCMvZAfbYAwnPBMDeyxrH','BwvZC2fNzsb0B28GBg9UzW','y29UDgvUDa','ExfvCw8','Bw9KzwW','DhLWzq','u2fUAxrPEMvKignVBNzLCNnHDgLVBIbjrcbMCM9Tici','twTHrNK','y2vPBa','BgfZDeLUChv0vg9Rzw5dB3vUDa','Dw5PDa','DgzVwhu','BwvZC2fNzxm','rK5Htg0','runptK5sruzvu0ve','Ahr0Chm6','t1L0Au0','u0vsvKLdrv9vtKfwquLmqujmrq','A2H3uwC','l2XSBs9ZDw1Tyxj5','r2v0DgLUzYbPBwfNzsbKzxnJCMLWDgLVBIbMCM9TihnLCNzLCG','s0XgALq','CeLHCKW','y2HHCKnVzgvbDa','BwnzD1y','vwfcA2K','sw52ywXPzcbPBwfNzsbKzxnJCMLWDgLVBIbWCM9TChq','zxjYB3i','u1ntvu0','BuPyrxO','qxDkA2y','AwrnzhG','u2TOvfC','ANnVBG','y29UC29Szq','AgvHzgvYCW','rhHoq2O','ve9px01btLLFuKvrvuvtvfm','C2vYDMvYvxjS','x2nSyxnZAwz5rxjYB3i','qwvWuwW','A1nMv2i','A1nYrhK','q1bRCwq','Cgf5Bg9Hzcb0B28GBgfYz2u','BerVzgq','zenXv3u','C3rYAw5NAwz5','AMDjyNy','Bg9HzgvKu2vYDMvYrgf0yq','BxHywgy','DMfSDwvZ','AfvZA04','DfvLsxy','BLzvr08','z0XpwMq','vvne','sw52ywXPzcbTyxHuB2TLBNmGzM9Yig1VzgvSia','z2v0','z0vlALq','zMX5qMi','BNjzqxy','x2rLy3j5ChrlzxK','swvJAuW','DxnHz2u','C2vHCMnO','D0X4twG','sfrRtLm','B3jPz2LUywXfCNjVCG','ruzRDgK','rxD2zvi','B3v0Chv0x3rVA2vUCW','BvrruMW'];a0_0x5180=function(){return _0x5d9b05;};return a0_0x5180();}a0_0x4c6cda['AUTHENTICATION']=a0_0x271a61(0x1b7),a0_0x4c6cda[a0_0x271a61(0x282)]=a0_0x271a61(0x33b),a0_0x4c6cda['TIMEOUT']=a0_0x271a61(0x237),a0_0x4c6cda[a0_0x271a61(0x23e)]='rate_limit',a0_0x4c6cda[a0_0x271a61(0x24e)]='server',a0_0x4c6cda['VALIDATION']=a0_0x271a61(0x28a),a0_0x4c6cda[a0_0x271a61(0x202)]=a0_0x271a61(0x2e5);const ERROR_TYPES=a0_0x4c6cda,a0_0x40d3c8={};a0_0x40d3c8[a0_0x271a61(0x33d)]=0x19d,a0_0x40d3c8[a0_0x271a61(0x339)]=0x190,a0_0x40d3c8[a0_0x271a61(0x294)]=0x191,a0_0x40d3c8[a0_0x271a61(0x1f7)]=0x193,a0_0x40d3c8[a0_0x271a61(0x133)]=0x194,a0_0x40d3c8[a0_0x271a61(0x185)]=0x1ad,a0_0x40d3c8[a0_0x271a61(0x304)]=0x1f4;const HTTP_STATUS_CODES=a0_0x40d3c8,REQUEST_SIZE_ERROR_PATTERNS=['request\x20entity\x20too\x20large',a0_0x271a61(0x18c),'request\x20too\x20large',a0_0x271a61(0x161),a0_0x271a61(0x1bc)];export class ServerLLMService{constructor(_0x36d7b0,_0x3bdcd5){const _0x1adc08=a0_0x271a61,_0x430dbe={};_0x430dbe[_0x1adc08(0x1dd)]='4|7|1|6|0|9|14|11|10|8|2|15|3|12|13|5',_0x430dbe[_0x1adc08(0x20f)]=_0x1adc08(0x337);const _0x8d498b=_0x430dbe,_0x574137=_0x8d498b[_0x1adc08(0x1dd)][_0x1adc08(0x2e8)]('|');let _0x399609=0x0;while(!![]){switch(_0x574137[_0x399609++]){case'0':this['isInitialized']=![];continue;case'1':this[_0x1adc08(0x186)]=this[_0x1adc08(0x2b0)](_0x36d7b0[_0x1adc08(0x186)]);continue;case'2':this['lastPricingUpdate']=null;continue;case'3':this['lastInputTokenCount']=0x0;continue;case'4':this['config']=_0x36d7b0;continue;case'5':this[_0x1adc08(0x2f8)][_0x1adc08(0x351)](_0x8d498b[_0x1adc08(0x20f)],{'serverUrl':this[_0x1adc08(0x186)],'timeout':this['timeout'],'maxRetries':this[_0x1adc08(0x2e4)]});continue;case'6':this[_0x1adc08(0x1db)]=null;continue;case'7':this['logger']=_0x3bdcd5;continue;case'8':this['pricingData']=new Map();continue;case'9':this[_0x1adc08(0x237)]=_0x36d7b0[_0x1adc08(0x1be)]?.[_0x1adc08(0x1f1)]?.[_0x1adc08(0x237)]||DEFAULT_TIMEOUT_MS;continue;case'10':this[_0x1adc08(0x25c)]=new Map();continue;case'11':this['requestId']=0x0;continue;case'12':this[_0x1adc08(0x2ce)]=0x0;continue;case'13':const _0x2f310f={};_0x2f310f[_0x1adc08(0x200)]=0x0,_0x2f310f[_0x1adc08(0x329)]=0x0,this[_0x1adc08(0x2b3)]=_0x2f310f;continue;case'14':this[_0x1adc08(0x2e4)]=_0x36d7b0[_0x1adc08(0x1be)]?.['server']?.[_0x1adc08(0x31f)]||DEFAULT_MAX_RETRIES;continue;case'15':this['conversations']=new Map();continue;}break;}}['_validateServerUrl'](_0x427310){const _0x378e76=a0_0x271a61,_0x5ca985={};_0x5ca985[_0x378e76(0x1c2)]=function(_0x12fd0e,_0x587df8){return _0x12fd0e===_0x587df8;},_0x5ca985[_0x378e76(0x23b)]=_0x378e76(0x192),_0x5ca985[_0x378e76(0x2b2)]=_0x378e76(0x308),_0x5ca985[_0x378e76(0x326)]='mAvHC',_0x5ca985['DwBHj']=_0x378e76(0x179),_0x5ca985[_0x378e76(0x1aa)]=_0x378e76(0x16f),_0x5ca985[_0x378e76(0x19c)]=_0x378e76(0x289);const _0x167453=_0x5ca985;if(!_0x427310){if(_0x167453[_0x378e76(0x1c2)](_0x378e76(0x192),_0x167453[_0x378e76(0x23b)]))throw new Error(_0x167453[_0x378e76(0x2b2)]);else{const _0x21e1fb=this['availableModels'][_0x378e76(0x19a)](_0x474a75);return _0x21e1fb?_0x21e1fb[_0x378e76(0x34b)]:0xfa0;}}try{if(_0x167453[_0x378e76(0x326)]!==_0x167453[_0x378e76(0x316)]){const _0x5daa7d=new URL(_0x427310);if(![_0x378e76(0x1f6),_0x167453[_0x378e76(0x1aa)]][_0x378e76(0x2e1)](_0x5daa7d[_0x378e76(0x271)]))throw new Error(_0x167453[_0x378e76(0x19c)]);return _0x5daa7d[_0x378e76(0x1b8)]()[_0x378e76(0x2eb)](/\/$/,'');}else throw new _0x570804(_0x378e76(0x344));}catch(_0x5e6431){throw new Error(_0x378e76(0x21a)+_0x5e6431[_0x378e76(0x2dc)]);}}[a0_0x271a61(0x222)](_0x37ede0){const _0x29331d=a0_0x271a61,_0xe7972e={};_0xe7972e['Fxoqk']=_0x29331d(0x2fc),_0xe7972e['grnTa']=function(_0x3a339d,_0x382654){return _0x3a339d!==_0x382654;},_0xe7972e[_0x29331d(0x13c)]=_0x29331d(0x203),_0xe7972e[_0x29331d(0x29d)]='Haarv',_0xe7972e[_0x29331d(0x17f)]=function(_0x3aed74,_0x3b26f9){return _0x3aed74+_0x3b26f9;},_0xe7972e[_0x29331d(0x1d0)]='conversation-',_0xe7972e[_0x29331d(0x155)]=function(_0x2b3063,_0x275f1c){return _0x2b3063>_0x275f1c;},_0xe7972e['BslvI']=_0x29331d(0x306),_0xe7972e[_0x29331d(0x212)]=function(_0x2f9f71,_0x5d8d89){return _0x2f9f71+_0x5d8d89;};const _0x58ae04=_0xe7972e;if(!_0x37ede0||typeof _0x37ede0!==_0x58ae04[_0x29331d(0x1f4)])return _0x58ae04[_0x29331d(0x2d9)](_0x58ae04[_0x29331d(0x13c)],_0x58ae04[_0x29331d(0x29d)])?_0x58ae04['idMdx'](_0x29331d(0x239),Date[_0x29331d(0x247)]()):{'conversationId':_0x5b1d3b,'message':_0x92f64['trim'](),'systemPrompt':_0x1d413a['systemPrompt'],'messages':_0x2f2257[_0x29331d(0x16c)]||[],'model':_0x2c6949[_0x29331d(0x164)],'requestId':this[_0x29331d(0x1b0)](),'options':{'temperature':0.7,'maxTokens':this[_0x29331d(0x1e6)](_0x14166a[_0x29331d(0x164)])}};let _0x2324dd=_0x37ede0[_0x29331d(0x2eb)](/\s+/g,'-')['replace'](/[^a-zA-Z0-9_-]/g,'')['replace'](/-+/g,'-')[_0x29331d(0x2eb)](/^-+|-+$/g,'')[_0x29331d(0x30c)]();if(!_0x2324dd)_0x2324dd=_0x58ae04[_0x29331d(0x1d0)]+Date[_0x29331d(0x247)]();else{if(_0x58ae04[_0x29331d(0x155)](_0x2324dd[_0x29331d(0x26c)],0x32)){if(_0x58ae04[_0x29331d(0x2d9)](_0x58ae04[_0x29331d(0x350)],_0x29331d(0x306))){const _0x1f2d1e={...this[_0x29331d(0x2b3)]};return _0x1f2d1e;}else _0x2324dd=_0x58ae04[_0x29331d(0x17f)](_0x58ae04[_0x29331d(0x212)](_0x2324dd['substring'](0x0,0x28),'-'),Date[_0x29331d(0x247)]()['toString']()[_0x29331d(0x322)](-0x8));}}return _0x2324dd;}async[a0_0x271a61(0x26e)](){const _0x45747d=a0_0x271a61,_0x6d3201={'bVPPO':_0x45747d(0x2fc),'erzar':function(_0x16d045,_0xafc192){return _0x16d045(_0xafc192);},'HDojk':'return\x20(function()\x20','CACIt':'SmSZW','WoLTi':_0x45747d(0x1fd),'EFkti':function(_0x22e63e,_0x3c729f){return _0x22e63e===_0x3c729f;},'mcYwV':_0x45747d(0x1ef),'IDApJ':_0x45747d(0x253),'AepQl':'Server\x20LLM\x20service\x20initialized\x20successfully','OwKKg':'RKPga','oOGqY':_0x45747d(0x2bc)};if(this[_0x45747d(0x24d)]){if('SmSZW'!==_0x6d3201['CACIt'])_0x40ffd7[_0x45747d(0x16c)]&&_0x4d1d9b[_0x45747d(0x1e0)](_0x2249b6[_0x45747d(0x16c)])&&(_0x2de1fc[_0x45747d(0x16c)]=_0x27e96c[_0x45747d(0x16c)]),_0x4e7bdf[_0x45747d(0x228)]&&typeof _0xcd33b8[_0x45747d(0x228)]===_0x6d3201[_0x45747d(0x325)]&&(_0x595718[_0x45747d(0x228)]=_0x4169a2[_0x45747d(0x228)]),_0x439d71[_0x45747d(0x164)]&&this['availableModels'][_0x45747d(0x34c)](_0x5ab0c9[_0x45747d(0x164)])&&(_0x3e1c5e[_0x45747d(0x164)]=_0x4440d0[_0x45747d(0x164)]),_0xbbe1e5['lastActivity']=new _0x2b184c()['toISOString']();else return;}try{this[_0x45747d(0x2f8)]['info'](_0x6d3201[_0x45747d(0x27d)]),this[_0x45747d(0x1db)]=await this['_loadApiKey']();if(!this[_0x45747d(0x1db)]){if(_0x6d3201[_0x45747d(0x1a5)](_0x6d3201[_0x45747d(0x178)],_0x6d3201[_0x45747d(0x178)]))throw new Error(_0x6d3201[_0x45747d(0x358)]);else throw new _0x39b647(_0x45747d(0x253));}await this['_loadServerData'](),this[_0x45747d(0x24d)]=!![],this[_0x45747d(0x2f8)][_0x45747d(0x351)](_0x6d3201[_0x45747d(0x188)],{'modelsLoaded':this[_0x45747d(0x25c)][_0x45747d(0x28b)],'pricingModels':this['pricingData'][_0x45747d(0x28b)]});}catch(_0x1b0acf){if(_0x6d3201[_0x45747d(0x1a5)](_0x6d3201[_0x45747d(0x248)],_0x6d3201['OwKKg'])){this[_0x45747d(0x2f8)][_0x45747d(0x17b)](_0x6d3201[_0x45747d(0x2fb)],_0x1b0acf);throw _0x1b0acf;}else{const _0x26dd72=BOmHtF['erzar'](_0x535b0f,BOmHtF[_0x45747d(0x1c7)]+_0x45747d(0x14c)+');');_0x3923ff=_0x26dd72();}}}async[a0_0x271a61(0x311)](){const _0x462d3f=a0_0x271a61;await Promise[_0x462d3f(0x32c)]([this[_0x462d3f(0x2b5)](),this[_0x462d3f(0x33c)]()]),this[_0x462d3f(0x191)]=!![];}async[a0_0x271a61(0x293)](){const _0x29439d=a0_0x271a61,_0x1939cc={};_0x1939cc[_0x29439d(0x1a3)]=function(_0x3228b1,_0x409e2c){return _0x3228b1===_0x409e2c;},_0x1939cc[_0x29439d(0x2ba)]='oYTgq',_0x1939cc[_0x29439d(0x152)]=_0x29439d(0x207),_0x1939cc[_0x29439d(0x2c3)]=_0x29439d(0x27c),_0x1939cc['dGYVX']=_0x29439d(0x33a),_0x1939cc[_0x29439d(0x18e)]=_0x29439d(0x314);const _0x2174b1=_0x1939cc;try{if(_0x2174b1[_0x29439d(0x1a3)]('oYTgq',_0x2174b1[_0x29439d(0x2ba)])){const _0x1c7129=await import('os'),_0x1ffadf=await import(_0x2174b1[_0x29439d(0x152)]),_0x4e682a=await import('fs/promises'),_0x262ae0=_0x1ffadf[_0x29439d(0x1e2)](_0x1c7129['homedir'](),_0x2174b1[_0x29439d(0x2c3)],_0x2174b1['dGYVX']),_0x52f4ea=await _0x4e682a['readFile'](_0x262ae0,_0x2174b1[_0x29439d(0x18e)]),_0x3ba30c=JSON[_0x29439d(0x1da)](_0x52f4ea);return this[_0x29439d(0x19e)](_0x3ba30c[_0x29439d(0x1db)]);}else this['logger'][_0x29439d(0x351)](_0x29439d(0x166)+_0x51030a+_0x29439d(0x21d)+_0x3378a3+'\x22');}catch(_0x2ac61b){return this[_0x29439d(0x2f8)][_0x29439d(0x32a)]('Failed\x20to\x20load\x20API\x20key\x20from\x20credentials\x20file:',_0x2ac61b),null;}}async[a0_0x271a61(0x33e)](){const _0x599059=a0_0x271a61,_0x2fb0d4={};_0x2fb0d4[_0x599059(0x194)]=function(_0x2810f1,_0x541bf8){return _0x2810f1===_0x541bf8;},_0x2fb0d4[_0x599059(0x216)]=_0x599059(0x225),_0x2fb0d4[_0x599059(0x154)]=_0x599059(0x15f),_0x2fb0d4['qtckF']='POST',_0x2fb0d4[_0x599059(0x26f)]='API\x20key\x20validation\x20failed:';const _0x1a1846=_0x2fb0d4;try{if(_0x1a1846[_0x599059(0x194)](_0x1a1846[_0x599059(0x216)],_0x1a1846[_0x599059(0x216)])){const _0x50c272=await this[_0x599059(0x140)](_0x1a1846[_0x599059(0x154)],{'method':_0x1a1846['qtckF']});return _0x50c272['ok'];}else _0x48af35['messages']=_0x18e79f['messages'];}catch(_0x14d5fc){return this['logger']['warn'](_0x1a1846[_0x599059(0x26f)],_0x14d5fc),![];}}async[a0_0x271a61(0x2b5)](){const _0x2a653f=a0_0x271a61,_0x1b1ff0={};_0x1b1ff0['ETygc']=function(_0x5d5b8f,_0x3c237f){return _0x5d5b8f!==_0x3c237f;},_0x1b1ff0[_0x2a653f(0x332)]=_0x2a653f(0x2fc),_0x1b1ff0[_0x2a653f(0x319)]=_0x2a653f(0x32e),_0x1b1ff0['tfoXu']='Loading\x20available\x20models\x20from\x20server',_0x1b1ff0[_0x2a653f(0x2b1)]=_0x2a653f(0x1d4),_0x1b1ff0['OeSmt']=_0x2a653f(0x1e8);const _0x3be8ed=_0x1b1ff0;try{if(_0x3be8ed[_0x2a653f(0x31c)](_0x3be8ed[_0x2a653f(0x319)],_0x3be8ed['ITgFQ'])){if(!_0x29b0bf||_0x3be8ed[_0x2a653f(0x31c)](typeof _0x47a7ed,_0x3be8ed[_0x2a653f(0x332)]))return 0x0;return _0x18f9d7['ceil'](_0x3d6841[_0x2a653f(0x26c)]/0x4);}else{this[_0x2a653f(0x2f8)][_0x2a653f(0x351)](_0x3be8ed[_0x2a653f(0x16b)]);const _0x23b849=await this[_0x2a653f(0x140)](_0x3be8ed[_0x2a653f(0x2b1)]),_0x79aee2=await _0x23b849['json']();if(!_0x79aee2['models']||!Array[_0x2a653f(0x1e0)](_0x79aee2[_0x2a653f(0x14f)]))throw new Error(_0x2a653f(0x24a));this['availableModels'][_0x2a653f(0x2d6)]();for(const _0x5935bc of _0x79aee2[_0x2a653f(0x14f)]){this[_0x2a653f(0x254)](_0x5935bc),this[_0x2a653f(0x25c)][_0x2a653f(0x146)](_0x5935bc[_0x2a653f(0x1e3)],{'name':_0x5935bc[_0x2a653f(0x1e3)],'category':_0x5935bc[_0x2a653f(0x300)],'type':_0x5935bc[_0x2a653f(0x165)],'maxTokens':_0x5935bc[_0x2a653f(0x34b)],'supportsVision':_0x5935bc[_0x2a653f(0x242)]||![],'supportsSystem':_0x3be8ed[_0x2a653f(0x31c)](_0x5935bc[_0x2a653f(0x280)],![]),'pricing':_0x5935bc[_0x2a653f(0x2da)]||{}});}this['logger'][_0x2a653f(0x351)]('Loaded\x20'+this[_0x2a653f(0x25c)][_0x2a653f(0x28b)]+_0x2a653f(0x2d1));}}catch(_0x2bd729){this[_0x2a653f(0x2f8)][_0x2a653f(0x17b)](_0x3be8ed[_0x2a653f(0x283)],_0x2bd729);throw new Error(_0x2a653f(0x1ed)+_0x2bd729['message']);}}['_validateModelData'](_0x16038c){const _0x436fe0=a0_0x271a61,_0x3839f3={};_0x3839f3[_0x436fe0(0x29e)]=function(_0x43c1ee,_0x223611){return _0x43c1ee!==_0x223611;},_0x3839f3[_0x436fe0(0x2c2)]='name',_0x3839f3['fccLz']=_0x436fe0(0x300),_0x3839f3[_0x436fe0(0x2d3)]=_0x436fe0(0x165),_0x3839f3['nsLnr']=function(_0x6d609e,_0x5aa85b){return _0x6d609e!==_0x5aa85b;},_0x3839f3[_0x436fe0(0x175)]='ZPFvV',_0x3839f3[_0x436fe0(0x2a5)]='image-generation',_0x3839f3[_0x436fe0(0x1c1)]=function(_0x52d8d6,_0x2a2165){return _0x52d8d6===_0x2a2165;},_0x3839f3['vYUuO']=_0x436fe0(0x2c0),_0x3839f3[_0x436fe0(0x214)]=function(_0x440763,_0x2da411){return _0x440763!==_0x2da411;},_0x3839f3[_0x436fe0(0x18d)]=function(_0x35fbe7,_0xf21c17){return _0x35fbe7<=_0xf21c17;};const _0x45a2dd=_0x3839f3,_0x1c462e=[_0x45a2dd[_0x436fe0(0x2c2)],_0x45a2dd[_0x436fe0(0x149)],_0x45a2dd[_0x436fe0(0x2d3)]];for(const _0xca0e3d of _0x1c462e){if(!_0x16038c[_0xca0e3d]){if(_0x45a2dd[_0x436fe0(0x1fc)](_0x45a2dd[_0x436fe0(0x175)],'OJdKf'))throw new Error('Model\x20missing\x20required\x20field:\x20'+_0xca0e3d);else this['_validateModelData'](_0x5bc7c8),this['availableModels'][_0x436fe0(0x146)](_0x27710b[_0x436fe0(0x1e3)],{'name':_0x2a0fe5[_0x436fe0(0x1e3)],'category':_0x5f0b66[_0x436fe0(0x300)],'type':_0x19b983['type'],'maxTokens':_0x2e1868['maxTokens'],'supportsVision':_0x3aa1c8['supportsVision']||![],'supportsSystem':_0x45a2dd[_0x436fe0(0x29e)](_0x403dff['supportsSystem'],![]),'pricing':_0x3b7737['pricing']||{}});}}if(_0x45a2dd[_0x436fe0(0x29e)](_0x16038c[_0x436fe0(0x165)],_0x45a2dd['CVrSm'])){if(_0x45a2dd['pSciH'](_0x45a2dd[_0x436fe0(0x354)],_0x436fe0(0x2c0))){if(_0x45a2dd[_0x436fe0(0x214)](typeof _0x16038c['maxTokens'],'number')||_0x45a2dd[_0x436fe0(0x18d)](_0x16038c[_0x436fe0(0x34b)],0x0))throw new Error(_0x436fe0(0x199)+_0x16038c[_0x436fe0(0x1e3)]);}else return _0x7238b9;}}async[a0_0x271a61(0x33c)](){const _0x20d18c=a0_0x271a61,_0x41e7df={};_0x41e7df['FbEzr']=_0x20d18c(0x142),_0x41e7df['qUWWM']=function(_0x366694,_0x1d3cee){return _0x366694===_0x1d3cee;},_0x41e7df['bQOTo']=_0x20d18c(0x315),_0x41e7df[_0x20d18c(0x1d9)]=_0x20d18c(0x269),_0x41e7df['bCnBw']=_0x20d18c(0x341),_0x41e7df[_0x20d18c(0x2d0)]=_0x20d18c(0x25b),_0x41e7df[_0x20d18c(0x2f2)]=_0x20d18c(0x235),_0x41e7df[_0x20d18c(0x148)]=_0x20d18c(0x198);const _0x22f46b=_0x41e7df;try{if(_0x22f46b[_0x20d18c(0x2c8)]('ZOWGn',_0x22f46b[_0x20d18c(0x26d)])){this[_0x20d18c(0x2f8)][_0x20d18c(0x351)](_0x22f46b[_0x20d18c(0x1d9)]);const _0x50bc95=await this[_0x20d18c(0x140)](_0x22f46b[_0x20d18c(0x1c6)]),_0x4a962c=await _0x50bc95[_0x20d18c(0x181)]();if(!_0x4a962c[_0x20d18c(0x2da)])throw new Error(_0x22f46b[_0x20d18c(0x2d0)]);this[_0x20d18c(0x2d7)]['clear']();for(const [_0x40db47,_0x1ed0be]of Object[_0x20d18c(0x320)](_0x4a962c[_0x20d18c(0x2da)])){this['_validatePricingData'](_0x40db47,_0x1ed0be);const _0x56144e={};_0x56144e[_0x20d18c(0x200)]=_0x1ed0be['input'],_0x56144e[_0x20d18c(0x329)]=_0x1ed0be[_0x20d18c(0x329)],_0x56144e[_0x20d18c(0x16a)]=_0x1ed0be[_0x20d18c(0x16a)]||_0x22f46b[_0x20d18c(0x2f2)],_0x56144e[_0x20d18c(0x264)]=_0x1ed0be[_0x20d18c(0x264)]||_0x22f46b['phLnZ'],this['pricingData'][_0x20d18c(0x146)](_0x40db47,_0x56144e);}this[_0x20d18c(0x22f)]=new Date()[_0x20d18c(0x1d2)](),this['logger'][_0x20d18c(0x351)](_0x20d18c(0x134)+this[_0x20d18c(0x2d7)]['size']+_0x20d18c(0x330));}else throw new _0x4dda60(_0x22f46b[_0x20d18c(0x151)]);}catch(_0x1eeb0a){this[_0x20d18c(0x2f8)][_0x20d18c(0x17b)]('Failed\x20to\x20load\x20pricing\x20data:',_0x1eeb0a);throw new Error(_0x20d18c(0x2a9)+_0x1eeb0a['message']);}}[a0_0x271a61(0x255)](_0x2c91db,_0x167b85){const _0x4f3176=a0_0x271a61,_0x394204={};_0x394204[_0x4f3176(0x2af)]=function(_0x1fd1ea,_0x450a71){return _0x1fd1ea!==_0x450a71;},_0x394204[_0x4f3176(0x1f0)]=_0x4f3176(0x2c6),_0x394204['eEViI']=function(_0x53bed8,_0x3f6ead){return _0x53bed8<_0x3f6ead;},_0x394204[_0x4f3176(0x33f)]=function(_0x726951,_0x252bca){return _0x726951!==_0x252bca;};const _0x565708=_0x394204;if(_0x565708[_0x4f3176(0x2af)](typeof _0x167b85[_0x4f3176(0x200)],_0x565708[_0x4f3176(0x1f0)])||_0x565708[_0x4f3176(0x258)](_0x167b85[_0x4f3176(0x200)],0x0))throw new Error(_0x4f3176(0x2a3)+_0x2c91db);if(_0x565708[_0x4f3176(0x33f)](typeof _0x167b85[_0x4f3176(0x329)],_0x565708['VRIkR'])||_0x565708[_0x4f3176(0x258)](_0x167b85[_0x4f3176(0x329)],0x0))throw new Error(_0x4f3176(0x1dc)+_0x2c91db);}async['getAvailableModels'](){const _0x7c3022=a0_0x271a61;!this['loadedServerData']&&await this['_loadServerData']();let _0x242bde=Array['from'](this['availableModels'][_0x7c3022(0x193)]());return _0x242bde;}async[a0_0x271a61(0x1d8)](){const _0x2cad21=a0_0x271a61;return!this['loadedServerData']&&await this[_0x2cad21(0x311)](),new Map(this['pricingData']);}['getModelPricing'](_0xb19218){const _0x2d2c43=a0_0x271a61;return this[_0x2d2c43(0x2d7)]['get'](_0xb19218)||null;}['_isValidConversationId'](_0x2dd10e){const _0x3cb607=a0_0x271a61,_0x557937={};_0x557937[_0x3cb607(0x135)]=_0x3cb607(0x2fc),_0x557937[_0x3cb607(0x20c)]=function(_0x18beb6,_0xa94df){return _0x18beb6<=_0xa94df;};const _0x4bfdd3=_0x557937;return typeof _0x2dd10e===_0x4bfdd3['emGtJ']&&_0x2dd10e['length']>0x0&&_0x4bfdd3['iTQxZ'](_0x2dd10e[_0x3cb607(0x26c)],0x64)&&/^[a-zA-Z0-9_-]+$/[_0x3cb607(0x2ad)](_0x2dd10e);}async[a0_0x271a61(0x257)](_0x2c8255,_0x444296,_0x45e24a=null){const _0x2597f4=a0_0x271a61,_0x136e61={};_0x136e61[_0x2597f4(0x25d)]=_0x2597f4(0x201),_0x136e61[_0x2597f4(0x17d)]=function(_0x20f4ad,_0x28e319){return _0x20f4ad!==_0x28e319;},_0x136e61['doNNx']=_0x2597f4(0x277),_0x136e61[_0x2597f4(0x180)]=_0x2597f4(0x299),_0x136e61[_0x2597f4(0x27a)]=_0x2597f4(0x14e),_0x136e61[_0x2597f4(0x310)]=function(_0x135cbb,_0x5d705b){return _0x135cbb||_0x5d705b;},_0x136e61[_0x2597f4(0x292)]=function(_0x5f2235,_0x1631fd){return _0x5f2235===_0x1631fd;},_0x136e61['PorQz']='mOeOF',_0x136e61[_0x2597f4(0x342)]=_0x2597f4(0x309);const _0x59b48e=_0x136e61,_0x23bea3=_0x45e24a||this[_0x2597f4(0x220)]();this[_0x2597f4(0x2f8)][_0x2597f4(0x351)]('Registering\x20conversation\x20with\x20server:\x20'+_0x2c8255);const _0x3637d1=this[_0x2597f4(0x222)](_0x2c8255);if(_0x59b48e[_0x2597f4(0x17d)](_0x3637d1,_0x2c8255)){if(_0x59b48e[_0x2597f4(0x2c7)]!==_0x59b48e[_0x2597f4(0x2c7)])return _0xb69a61[_0x2597f4(0x1ee)];else this[_0x2597f4(0x2f8)]['info'](_0x2597f4(0x166)+_0x2c8255+'\x22\x20to\x20\x22'+_0x3637d1+'\x22');}if(!this[_0x2597f4(0x147)](_0x3637d1)){if(_0x59b48e[_0x2597f4(0x17d)](_0x59b48e['SkhTW'],_0x59b48e[_0x2597f4(0x27a)]))throw new Error('Failed\x20to\x20create\x20valid\x20conversation\x20ID\x20from:\x20'+_0x2c8255);else throw new _0x4a5b2b(_0x59b48e[_0x2597f4(0x25d)]);}this[_0x2597f4(0x2d5)][_0x2597f4(0x146)](_0x3637d1,{'originalId':_0x2c8255,'systemPrompt':_0x59b48e[_0x2597f4(0x310)](_0x444296,''),'messages':[],'model':_0x23bea3,'createdAt':new Date()['toISOString'](),'lastActivity':new Date()['toISOString']()});if(_0x3637d1!==_0x2c8255){if(_0x59b48e[_0x2597f4(0x292)](_0x59b48e[_0x2597f4(0x284)],_0x59b48e[_0x2597f4(0x342)]))return this[_0x2597f4(0x2f8)][_0x2597f4(0x143)]('API\x20key\x20validation\x20failed:',_0x2e3cd1),![];else this[_0x2597f4(0x2d5)][_0x2597f4(0x146)](_0x2c8255,this[_0x2597f4(0x2d5)][_0x2597f4(0x19a)](_0x3637d1));}}[a0_0x271a61(0x220)](){const _0x4c18e3=a0_0x271a61,_0x42c081={};_0x42c081[_0x4c18e3(0x197)]=_0x4c18e3(0x2c4),_0x42c081['DxNCj']=_0x4c18e3(0x26a),_0x42c081[_0x4c18e3(0x265)]=_0x4c18e3(0x234);const _0x379780=_0x42c081,_0x577920=[_0x379780[_0x4c18e3(0x197)],_0x379780[_0x4c18e3(0x184)],_0x379780[_0x4c18e3(0x265)]];for(const _0x9030ad of _0x577920){if(this[_0x4c18e3(0x25c)][_0x4c18e3(0x34c)](_0x9030ad))return _0x9030ad;}const _0xa57c94=this['availableModels'][_0x4c18e3(0x193)]()['next']()[_0x4c18e3(0x23d)];return _0xa57c94?_0xa57c94[_0x4c18e3(0x1e3)]:_0x4c18e3(0x2c4);}async[a0_0x271a61(0x1ca)](_0x55b72f,_0x4c87e2,_0x43a33a){const _0xda7bf2=a0_0x271a61,_0x1721dc={};_0x1721dc[_0xda7bf2(0x22c)]=_0xda7bf2(0x1b9),_0x1721dc['BXdGW']=function(_0xc120fd,_0xa10aeb){return _0xc120fd===_0xa10aeb;},_0x1721dc[_0xda7bf2(0x30e)]=function(_0x2e09eb,_0x101c3d){return _0x2e09eb!==_0x101c3d;},_0x1721dc['SqOJK']=_0xda7bf2(0x1a9),_0x1721dc['VmlkY']=function(_0x5f3e5d,_0x5be115){return _0x5f3e5d!==_0x5be115;},_0x1721dc[_0xda7bf2(0x20b)]='alJjN',_0x1721dc[_0xda7bf2(0x1a6)]=_0xda7bf2(0x1a2),_0x1721dc['jIgfC']=_0xda7bf2(0x15d),_0x1721dc[_0xda7bf2(0x2cf)]=_0xda7bf2(0x26b);const _0x2ee98a=_0x1721dc;this['logger'][_0xda7bf2(0x351)]('Sending\x20message\x20to\x20server\x20for\x20conversation:\x20'+_0x55b72f);if(!this['isInitialized'])throw new Error('Service\x20not\x20initialized.\x20Call\x20initialize()\x20first.');if(!this[_0xda7bf2(0x1db)])throw new Error(_0xda7bf2(0x142));this['_validateSendMessageInputs'](_0x55b72f,_0x4c87e2);const _0x2f95e7=this[_0xda7bf2(0x222)](_0x55b72f),_0x4b56ec=this[_0xda7bf2(0x2d5)][_0xda7bf2(0x34c)](_0x55b72f)?_0x55b72f:_0x2f95e7;if(!this[_0xda7bf2(0x2d5)][_0xda7bf2(0x34c)](_0x4b56ec))throw new Error('Conversation\x20'+_0x55b72f+_0xda7bf2(0x211));const _0x50f19f=this[_0xda7bf2(0x2d5)][_0xda7bf2(0x19a)](_0x4b56ec);if(_0x43a33a&&(!_0x50f19f[_0xda7bf2(0x16c)]||_0x2ee98a['BXdGW'](_0x50f19f[_0xda7bf2(0x16c)]['length'],0x0))){if(_0x2ee98a['ArMeF'](_0xda7bf2(0x1a9),_0x2ee98a[_0xda7bf2(0x231)]))throw new _0x2cb488(_0x2ee98a[_0xda7bf2(0x22c)]);else this[_0xda7bf2(0x1b3)](_0x50f19f,_0x43a33a);}const _0x4d590b=this['_buildChatRequestPayload'](_0x2f95e7,_0x4c87e2,_0x50f19f);try{if(_0x2ee98a[_0xda7bf2(0x35a)](_0x2ee98a['hTles'],_0x2ee98a[_0xda7bf2(0x1a6)])){const _0x89bd90=await this[_0xda7bf2(0x272)](_0x4d590b);return this[_0xda7bf2(0x290)](_0x50f19f,_0x4c87e2,_0x89bd90),_0x89bd90[_0xda7bf2(0x162)];}else return _0x584420['NETWORK'];}catch(_0xb891f6){this[_0xda7bf2(0x2f8)][_0xda7bf2(0x17b)](_0x2ee98a[_0xda7bf2(0x336)],_0xb891f6);throw this['_enhanceError'](_0xb891f6,_0x2ee98a['YgZvK']);}}['_validateSendMessageInputs'](_0x4113b6,_0x3c6004){const _0x370cee=a0_0x271a61,_0x4b0f3b={};_0x4b0f3b[_0x370cee(0x31a)]=function(_0x371a61,_0x284bd9){return _0x371a61!==_0x284bd9;},_0x4b0f3b[_0x370cee(0x232)]=_0x370cee(0x2fc),_0x4b0f3b[_0x370cee(0x1b6)]=_0x370cee(0x2aa),_0x4b0f3b[_0x370cee(0x17e)]=_0x370cee(0x2c1);const _0x3f46c7=_0x4b0f3b;if(!_0x4113b6||_0x3f46c7['MgsXF'](typeof _0x4113b6,_0x3f46c7['XSzKl']))throw new Error(_0x3f46c7['wfMLr']);if(!_0x3c6004||_0x3f46c7['MgsXF'](typeof _0x3c6004,_0x3f46c7[_0x370cee(0x232)]))throw new Error(_0x3f46c7[_0x370cee(0x17e)]);}[a0_0x271a61(0x1b3)](_0x10d2dd,_0x3dd6d3){const _0x22fa3d=a0_0x271a61,_0x8c117c={};_0x8c117c['UzrnE']=function(_0x2e1d55,_0xa2adc3){return _0x2e1d55===_0xa2adc3;},_0x8c117c[_0x22fa3d(0x215)]=_0x22fa3d(0x2fc);const _0x28852b=_0x8c117c;_0x3dd6d3[_0x22fa3d(0x16c)]&&Array['isArray'](_0x3dd6d3['messages'])&&(_0x10d2dd[_0x22fa3d(0x16c)]=_0x3dd6d3[_0x22fa3d(0x16c)]),_0x3dd6d3[_0x22fa3d(0x228)]&&_0x28852b[_0x22fa3d(0x240)](typeof _0x3dd6d3[_0x22fa3d(0x228)],_0x28852b[_0x22fa3d(0x215)])&&(_0x10d2dd[_0x22fa3d(0x228)]=_0x3dd6d3[_0x22fa3d(0x228)]),_0x3dd6d3[_0x22fa3d(0x164)]&&this[_0x22fa3d(0x25c)]['has'](_0x3dd6d3[_0x22fa3d(0x164)])&&(_0x10d2dd[_0x22fa3d(0x164)]=_0x3dd6d3[_0x22fa3d(0x164)]),_0x10d2dd[_0x22fa3d(0x131)]=new Date()[_0x22fa3d(0x1d2)]();}[a0_0x271a61(0x2a0)](_0x1de5cb,_0x19423f,_0x94b02c){const _0x269fa0=a0_0x271a61;return{'conversationId':_0x1de5cb,'message':_0x19423f[_0x269fa0(0x22d)](),'systemPrompt':_0x94b02c[_0x269fa0(0x228)],'messages':_0x94b02c[_0x269fa0(0x16c)]||[],'model':_0x94b02c[_0x269fa0(0x164)],'requestId':this['_generateRequestId'](),'options':{'temperature':0.7,'maxTokens':this[_0x269fa0(0x1e6)](_0x94b02c[_0x269fa0(0x164)])}};}[a0_0x271a61(0x1b0)](){const _0x4fe687=a0_0x271a61;return'req_'+Date[_0x4fe687(0x247)]()+'_'+ ++this[_0x4fe687(0x1f5)];}['_getModelMaxTokens'](_0x26fab4){const _0x368ca6=a0_0x271a61,_0x34de39=this[_0x368ca6(0x25c)][_0x368ca6(0x19a)](_0x26fab4);return _0x34de39?_0x34de39['maxTokens']:0xfa0;}async[a0_0x271a61(0x272)](_0x5d9fea){const _0x5848a0=a0_0x271a61,_0x5b27e1={};_0x5b27e1[_0x5848a0(0x2b9)]=_0x5848a0(0x2f5),_0x5b27e1[_0x5848a0(0x1c5)]=function(_0x13eace,_0x3fab7c){return _0x13eace!==_0x3fab7c;},_0x5b27e1[_0x5848a0(0x1f9)]=_0x5848a0(0x206),_0x5b27e1['CRFFS']=_0x5848a0(0x34e),_0x5b27e1[_0x5848a0(0x331)]=_0x5848a0(0x18b);const _0x392b80=_0x5b27e1;try{if(_0x392b80[_0x5848a0(0x1c5)](_0x392b80[_0x5848a0(0x1f9)],_0x392b80['CRFFS'])){const _0x5a4482=await this[_0x5848a0(0x140)](_0x5848a0(0x286),{'method':_0x5848a0(0x1b2),'body':JSON['stringify'](_0x5d9fea)});if(!_0x5a4482['ok']){const _0x167a21=await this[_0x5848a0(0x1ad)](_0x5a4482),_0x4a250c=this[_0x5848a0(0x1cb)](_0x5a4482[_0x5848a0(0x2d2)],_0x167a21['error']||_0x5a4482['statusText']);throw _0x4a250c;}const _0x250496=await _0x5a4482[_0x5848a0(0x181)]();return this[_0x5848a0(0x221)](_0x250496),_0x250496;}else _0x251c82['message']=_0x392b80[_0x5848a0(0x2b9)],_0x45c7f0['errorType']=_0x17e3bf['TIMEOUT'];}catch(_0x3eb560){if(_0x392b80[_0x5848a0(0x331)]===_0x392b80['lvkND'])throw _0x3eb560;else throw new _0x1cf476(_0x5848a0(0x2ff)+_0x30f215+_0x5848a0(0x211));}}[a0_0x271a61(0x221)](_0x50ed1e){const _0x459f5c=a0_0x271a61,_0x33058b={};_0x33058b[_0x459f5c(0x14a)]=function(_0x6ed314,_0x4f906f){return _0x6ed314!==_0x4f906f;},_0x33058b[_0x459f5c(0x302)]=_0x459f5c(0x2fc),_0x33058b[_0x459f5c(0x204)]='kkjGX',_0x33058b[_0x459f5c(0x1c9)]=_0x459f5c(0x2ea),_0x33058b[_0x459f5c(0x16d)]='Invalid\x20response:\x20missing\x20or\x20invalid\x20content',_0x33058b[_0x459f5c(0x2b8)]=_0x459f5c(0x1b9);const _0x4c2ccd=_0x33058b;if(!_0x50ed1e['content']||_0x4c2ccd[_0x459f5c(0x14a)](typeof _0x50ed1e['content'],_0x4c2ccd['aljVW'])){if(_0x4c2ccd[_0x459f5c(0x204)]!==_0x4c2ccd[_0x459f5c(0x1c9)])throw new Error(_0x4c2ccd[_0x459f5c(0x16d)]);else this['_updateConversationState'](_0x5b9c95,_0x4a3b75);}if(_0x50ed1e[_0x459f5c(0x1a0)]&&typeof _0x50ed1e[_0x459f5c(0x1a0)]!=='object')throw new Error(_0x4c2ccd[_0x459f5c(0x2b8)]);}[a0_0x271a61(0x290)](_0x493766,_0x4be96c,_0x1cf502){const _0x1199df=a0_0x271a61,_0x15cc59={};_0x15cc59[_0x1199df(0x23a)]='NNiuF',_0x15cc59[_0x1199df(0x189)]=_0x1199df(0x24c),_0x15cc59['rtlXQ']=_0x1199df(0x1b4);const _0x54a30c=_0x15cc59;if(_0x1cf502[_0x1199df(0x1a0)]){if(_0x54a30c[_0x1199df(0x23a)]===_0x54a30c[_0x1199df(0x189)])return{};else this[_0x1199df(0x169)]=_0x1cf502['usage'][_0x1199df(0x2dd)]||0x0,this[_0x1199df(0x2ce)]=_0x1cf502[_0x1199df(0x1a0)]['output_tokens']||0x0,this['tokenUsage']['input']+=this[_0x1199df(0x169)],this[_0x1199df(0x2b3)][_0x1199df(0x329)]+=this[_0x1199df(0x2ce)];}const _0x2ff3dc={};_0x2ff3dc[_0x1199df(0x249)]=_0x54a30c[_0x1199df(0x2fe)],_0x2ff3dc[_0x1199df(0x162)]=_0x4be96c;const _0x4573c1={};_0x4573c1[_0x1199df(0x249)]=_0x1199df(0x2f4),_0x4573c1[_0x1199df(0x162)]=_0x1cf502[_0x1199df(0x162)],_0x493766[_0x1199df(0x16c)][_0x1199df(0x15e)](_0x2ff3dc,_0x4573c1),_0x493766[_0x1199df(0x131)]=new Date()[_0x1199df(0x1d2)]();}async[a0_0x271a61(0x2fd)](_0x4b8d2e,_0x50245e){const _0x4f2326=a0_0x271a61;this[_0x4f2326(0x2f8)][_0x4f2326(0x351)](_0x4f2326(0x252)+_0x4b8d2e);const _0x3d0328=this['_sanitizeConversationId'](_0x4b8d2e),_0x22ed56=this[_0x4f2326(0x2d5)][_0x4f2326(0x34c)](_0x4b8d2e)?_0x4b8d2e:_0x3d0328;if(!this[_0x4f2326(0x2d5)][_0x4f2326(0x34c)](_0x22ed56))throw new Error(_0x4f2326(0x2ff)+_0x4b8d2e+_0x4f2326(0x211));const _0x127e33=this['conversations'][_0x4f2326(0x19a)](_0x22ed56);this[_0x4f2326(0x1b3)](_0x127e33,_0x50245e);}async[a0_0x271a61(0x262)](_0x2985bd,_0x525ba4=null){const _0x2b0ef6=a0_0x271a61,_0x4b88f3={};_0x4b88f3[_0x2b0ef6(0x2be)]='Server\x20URL\x20must\x20use\x20HTTP\x20or\x20HTTPS\x20protocol',_0x4b88f3[_0x2b0ef6(0x205)]=function(_0x4ebbce,_0x1f5b2d){return _0x4ebbce+_0x1f5b2d;},_0x4b88f3[_0x2b0ef6(0x1e9)]=_0x2b0ef6(0x239),_0x4b88f3[_0x2b0ef6(0x208)]=_0x2b0ef6(0x32b),_0x4b88f3[_0x2b0ef6(0x30b)]='Shutting\x20down\x20server\x20LLM\x20service',_0x4b88f3['aFKXz']=function(_0x230226,_0x39befd){return _0x230226!==_0x39befd;},_0x4b88f3[_0x2b0ef6(0x321)]=_0x2b0ef6(0x34d),_0x4b88f3[_0x2b0ef6(0x15a)]='Service\x20not\x20initialized.\x20Call\x20initialize()\x20first.',_0x4b88f3[_0x2b0ef6(0x333)]=_0x2b0ef6(0x142),_0x4b88f3[_0x2b0ef6(0x260)]=function(_0x396318,_0xb6e121){return _0x396318!==_0xb6e121;},_0x4b88f3[_0x2b0ef6(0x1cd)]='string',_0x4b88f3[_0x2b0ef6(0x1bd)]=_0x2b0ef6(0x338),_0x4b88f3[_0x2b0ef6(0x268)]=_0x2b0ef6(0x21e),_0x4b88f3['KEqhO']=_0x2b0ef6(0x2f0),_0x4b88f3[_0x2b0ef6(0x210)]=_0x2b0ef6(0x31e),_0x4b88f3[_0x2b0ef6(0x28f)]=_0x2b0ef6(0x173),_0x4b88f3[_0x2b0ef6(0x1d3)]=_0x2b0ef6(0x1b2),_0x4b88f3[_0x2b0ef6(0x144)]=function(_0x158c3e,_0x214353){return _0x158c3e===_0x214353;},_0x4b88f3['sDvvY']=_0x2b0ef6(0x209),_0x4b88f3[_0x2b0ef6(0x2de)]=_0x2b0ef6(0x2f9),_0x4b88f3[_0x2b0ef6(0x18a)]=_0x2b0ef6(0x30f);const _0x2fd0a0=_0x4b88f3;this[_0x2b0ef6(0x2f8)][_0x2b0ef6(0x351)](_0x2b0ef6(0x2d4));if(!this[_0x2b0ef6(0x24d)]){if(_0x2fd0a0[_0x2b0ef6(0x2ab)](_0x2b0ef6(0x34d),_0x2fd0a0[_0x2b0ef6(0x321)]))throw new _0x28396e(_0x2fd0a0[_0x2b0ef6(0x2be)]);else throw new Error(_0x2fd0a0['SgdGV']);}if(!this['apiKey'])throw new Error(_0x2fd0a0['dNDzL']);if(!_0x2985bd||_0x2fd0a0[_0x2b0ef6(0x260)](typeof _0x2985bd,_0x2fd0a0[_0x2b0ef6(0x1cd)]))throw new Error(_0x2fd0a0[_0x2b0ef6(0x1bd)]);let _0x3924e7=_0x2fd0a0[_0x2b0ef6(0x268)];if(_0x525ba4&&this[_0x2b0ef6(0x2d5)]['has'](_0x525ba4)){if(_0x2fd0a0[_0x2b0ef6(0x13b)]===_0x2fd0a0[_0x2b0ef6(0x13b)]){const _0x3fe474=this[_0x2b0ef6(0x2d5)]['get'](_0x525ba4);_0x3924e7=_0x3fe474[_0x2b0ef6(0x164)],this[_0x2b0ef6(0x2f8)]['info']('Using\x20conversation\x20model\x20for\x20summary:\x20'+_0x3924e7);}else return _0x2fd0a0[_0x2b0ef6(0x205)](_0x2fd0a0['tMokO'],_0xa86f7b['now']());}else this[_0x2b0ef6(0x2f8)][_0x2b0ef6(0x143)](_0x2fd0a0[_0x2b0ef6(0x210)]);try{const _0x225057=await this[_0x2b0ef6(0x140)](_0x2fd0a0[_0x2b0ef6(0x28f)],{'method':_0x2fd0a0[_0x2b0ef6(0x1d3)],'body':JSON[_0x2b0ef6(0x18f)]({'prompt':_0x2985bd['trim'](),'model':_0x3924e7})});if(!_0x225057['ok']){if(_0x2fd0a0[_0x2b0ef6(0x144)](_0x2fd0a0[_0x2b0ef6(0x25f)],_0x2fd0a0[_0x2b0ef6(0x2de)])){const _0x5b983f=_0x2fd0a0[_0x2b0ef6(0x208)][_0x2b0ef6(0x2e8)]('|');let _0x389bcf=0x0;while(!![]){switch(_0x5b983f[_0x389bcf++]){case'0':this[_0x2b0ef6(0x1db)]=null;continue;case'1':this['availableModels'][_0x2b0ef6(0x2d6)]();continue;case'2':this['isInitialized']=![];continue;case'3':this[_0x2b0ef6(0x2d7)][_0x2b0ef6(0x2d6)]();continue;case'4':this[_0x2b0ef6(0x2f8)]['info'](_0x2fd0a0[_0x2b0ef6(0x30b)]);continue;case'5':this[_0x2b0ef6(0x2f8)]['info'](_0x2b0ef6(0x1b5));continue;case'6':this[_0x2b0ef6(0x2d5)][_0x2b0ef6(0x2d6)]();continue;}break;}}else{const _0x52c3f4=await this[_0x2b0ef6(0x1ad)](_0x225057);throw this['_createHttpError'](_0x225057['status'],_0x52c3f4['error']||_0x225057[_0x2b0ef6(0x312)]);}}const _0x2195f8=await _0x225057['json']();return _0x2195f8[_0x2b0ef6(0x1a0)]&&(this[_0x2b0ef6(0x169)]=_0x2195f8[_0x2b0ef6(0x1a0)][_0x2b0ef6(0x2dd)]||0x0,this[_0x2b0ef6(0x2ce)]=_0x2195f8['usage']['output_tokens']||0x0,this[_0x2b0ef6(0x2b3)][_0x2b0ef6(0x200)]+=this[_0x2b0ef6(0x169)],this[_0x2b0ef6(0x2b3)][_0x2b0ef6(0x329)]+=this[_0x2b0ef6(0x2ce)]),_0x2195f8[_0x2b0ef6(0x162)];}catch(_0x4b4ade){this['logger'][_0x2b0ef6(0x17b)](_0x2b0ef6(0x1d1),_0x4b4ade);throw this[_0x2b0ef6(0x327)](_0x4b4ade,_0x2fd0a0['kSrDy']);}}async[a0_0x271a61(0x296)](_0x5c7efb,_0x446489,_0x334718={}){const _0x2577c5=a0_0x271a61,_0x53d963={};_0x53d963[_0x2577c5(0x1e5)]=_0x2577c5(0x174),_0x53d963[_0x2577c5(0x1eb)]=_0x2577c5(0x344),_0x53d963[_0x2577c5(0x261)]=function(_0xd31427,_0x20ab85){return _0xd31427===_0x20ab85;},_0x53d963[_0x2577c5(0x301)]=_0x2577c5(0x2f1),_0x53d963['ycgNg']='ncVPF',_0x53d963[_0x2577c5(0x1ae)]='/llm/vision',_0x53d963['yrXXt']=function(_0x3c4d74,_0x174860){return _0x3c4d74||_0x174860;},_0x53d963[_0x2577c5(0x1e4)]=_0x2577c5(0x29f),_0x53d963[_0x2577c5(0x17c)]=_0x2577c5(0x132),_0x53d963['PvikG']='vKfTo',_0x53d963[_0x2577c5(0x1c8)]=_0x2577c5(0x353),_0x53d963['EljOD']=_0x2577c5(0x213),_0x53d963[_0x2577c5(0x223)]=_0x2577c5(0x2ec);const _0x4eb9c6=_0x53d963;this[_0x2577c5(0x2f8)]['info'](_0x4eb9c6[_0x2577c5(0x1e5)]);if(!this[_0x2577c5(0x24d)])throw new Error(_0x4eb9c6['xvcVl']);if(!this[_0x2577c5(0x1db)])throw new Error('No\x20API\x20key\x20available.\x20Please\x20set\x20your\x20API\x20key\x20first.');this[_0x2577c5(0x20d)](_0x5c7efb,_0x446489);try{if(_0x4eb9c6[_0x2577c5(0x261)](_0x4eb9c6[_0x2577c5(0x301)],_0x4eb9c6[_0x2577c5(0x2b4)]))throw _0x21badd;else{const _0x492f94=await this[_0x2577c5(0x140)](_0x4eb9c6[_0x2577c5(0x1ae)],{'method':_0x2577c5(0x1b2),'body':JSON[_0x2577c5(0x18f)]({'image':_0x5c7efb,'prompt':_0x446489['trim'](),'metadata':_0x4eb9c6['yrXXt'](_0x334718,{})})}),_0x327ae1=await this[_0x2577c5(0x1ad)](_0x492f94);if(!_0x492f94['ok'])throw this[_0x2577c5(0x1cb)](_0x492f94[_0x2577c5(0x2d2)],_0x327ae1[_0x2577c5(0x17b)]||_0x492f94['statusText']);if(_0x327ae1['usage']){if(_0x4eb9c6[_0x2577c5(0x1e4)]===_0x4eb9c6[_0x2577c5(0x17c)])switch(_0x270d0c){case _0x18339c[_0x2577c5(0x294)]:case _0x2f3e98[_0x2577c5(0x1f7)]:return _0x41ed11['AUTHENTICATION'];case _0x8f3db7['BAD_REQUEST']:return _0x140459[_0x2577c5(0x324)];case _0x4ce322[_0x2577c5(0x185)]:return _0x2c2168[_0x2577c5(0x23e)];case _0x3fc6ef[_0x2577c5(0x304)]:case _0x105594[_0x2577c5(0x13d)]:case _0x63878b['SERVICE_UNAVAILABLE']:case _0x76b759[_0x2577c5(0x29c)]:return _0x1f3035[_0x2577c5(0x24e)];default:return _0xdff482[_0x2577c5(0x202)];}else this[_0x2577c5(0x169)]=_0x327ae1[_0x2577c5(0x1a0)][_0x2577c5(0x2dd)]||0x0,this[_0x2577c5(0x2ce)]=_0x327ae1['usage'][_0x2577c5(0x1a7)]||0x0,this['tokenUsage'][_0x2577c5(0x200)]+=this[_0x2577c5(0x169)],this[_0x2577c5(0x2b3)][_0x2577c5(0x329)]+=this[_0x2577c5(0x2ce)];}return _0x327ae1[_0x2577c5(0x162)];}}catch(_0x394613){if(_0x4eb9c6['wMCnr'](_0x4eb9c6['PvikG'],_0x4eb9c6[_0x2577c5(0x1c8)]))return this['_classifyHttpError'](_0x2c6ead[_0x2577c5(0x2d2)]);else{this[_0x2577c5(0x2f8)]['error'](_0x4eb9c6[_0x2577c5(0x266)],_0x394613);throw this[_0x2577c5(0x327)](_0x394613,_0x4eb9c6[_0x2577c5(0x223)]);}}}[a0_0x271a61(0x20d)](_0x4e120f,_0x2c811e){const _0x50574a=a0_0x271a61,_0x112d85={};_0x112d85[_0x50574a(0x349)]='user',_0x112d85[_0x50574a(0x1f3)]=_0x50574a(0x2f4),_0x112d85['feBOV']=function(_0x8e462f,_0x536b43){return _0x8e462f!==_0x536b43;},_0x112d85[_0x50574a(0x287)]='string',_0x112d85[_0x50574a(0x273)]=_0x50574a(0x21b),_0x112d85[_0x50574a(0x1ff)]=function(_0x29a209,_0x586eed){return _0x29a209===_0x586eed;},_0x112d85[_0x50574a(0x176)]=_0x50574a(0x298),_0x112d85['IeciL']=_0x50574a(0x17a),_0x112d85[_0x50574a(0x356)]=function(_0x3a4b89,_0x31d32b){return _0x3a4b89*_0x31d32b;},_0x112d85[_0x50574a(0x163)]='Image\x20data\x20too\x20large';const _0x2e6a50=_0x112d85;if(!_0x4e120f||_0x2e6a50[_0x50574a(0x13f)](typeof _0x4e120f,_0x2e6a50[_0x50574a(0x287)]))throw new Error(_0x2e6a50[_0x50574a(0x273)]);if(!_0x2c811e||_0x2e6a50[_0x50574a(0x13f)](typeof _0x2c811e,_0x50574a(0x2fc))){if(_0x2e6a50[_0x50574a(0x1ff)](_0x2e6a50[_0x50574a(0x176)],_0x50574a(0x334))){_0x24f3ef[_0x50574a(0x1a0)]&&(this['lastInputTokenCount']=_0x1b630c[_0x50574a(0x1a0)][_0x50574a(0x2dd)]||0x0,this[_0x50574a(0x2ce)]=_0x52f14d[_0x50574a(0x1a0)][_0x50574a(0x1a7)]||0x0,this[_0x50574a(0x2b3)][_0x50574a(0x200)]+=this[_0x50574a(0x169)],this[_0x50574a(0x2b3)][_0x50574a(0x329)]+=this[_0x50574a(0x2ce)]);const _0x519fd2={};_0x519fd2['role']=_0x2e6a50['IcjHf'],_0x519fd2[_0x50574a(0x162)]=_0x25b2c3;const _0x1b63a8={};_0x1b63a8['role']=_0x2e6a50['jogKp'],_0x1b63a8[_0x50574a(0x162)]=_0x125260[_0x50574a(0x162)],_0x4146be[_0x50574a(0x16c)][_0x50574a(0x15e)](_0x519fd2,_0x1b63a8),_0x3802d0['lastActivity']=new _0x25e4fc()['toISOString']();}else throw new Error(_0x2e6a50[_0x50574a(0x19f)]);}if(_0x4e120f[_0x50574a(0x26c)]>_0x2e6a50['aiEqQ'](0x32*0x400,0x400))throw new Error(_0x2e6a50[_0x50574a(0x163)]);}async['estimateTokenCount'](_0x1648b9){const _0x1c8bb1=a0_0x271a61,_0x3033bd={};_0x3033bd[_0x1c8bb1(0x303)]='get_summary',_0x3033bd[_0x1c8bb1(0x190)]=function(_0x7dccd9,_0x4d80f8){return _0x7dccd9!==_0x4d80f8;},_0x3033bd[_0x1c8bb1(0x170)]=function(_0x48f319,_0x4e24ff){return _0x48f319+_0x4e24ff;},_0x3033bd[_0x1c8bb1(0x158)]=function(_0x2c2536,_0x58605e){return _0x2c2536+_0x58605e;},_0x3033bd['KyGLG']=function(_0x326fce,_0x5ccd7f){return _0x326fce+_0x5ccd7f;},_0x3033bd[_0x1c8bb1(0x19b)]=function(_0x166682,_0x548776){return _0x166682!==_0x548776;},_0x3033bd[_0x1c8bb1(0x167)]=_0x1c8bb1(0x141),_0x3033bd[_0x1c8bb1(0x2cd)]=_0x1c8bb1(0x2b7),_0x3033bd['CvfxH']=function(_0x4f5b4c,_0x524434){return _0x4f5b4c===_0x524434;},_0x3033bd[_0x1c8bb1(0x20e)]='GONUS';const _0x4a9953=_0x3033bd,_0x5bd1ba=this[_0x1c8bb1(0x222)](_0x1648b9),_0x54c1dc=this[_0x1c8bb1(0x2d5)][_0x1c8bb1(0x34c)](_0x1648b9)?_0x1648b9:_0x5bd1ba;if(!this[_0x1c8bb1(0x2d5)][_0x1c8bb1(0x34c)](_0x54c1dc)){if(_0x4a9953[_0x1c8bb1(0x19b)](_0x4a9953[_0x1c8bb1(0x167)],_0x4a9953[_0x1c8bb1(0x2cd)]))throw new Error(_0x1c8bb1(0x2ff)+_0x1648b9+_0x1c8bb1(0x211));else{this[_0x1c8bb1(0x2f8)][_0x1c8bb1(0x17b)](_0x1c8bb1(0x1d1),_0x471fce);throw this[_0x1c8bb1(0x327)](_0x2f71b7,_0x4a9953['yxupD']);}}const _0x4deb41=this[_0x1c8bb1(0x2d5)][_0x1c8bb1(0x19a)](_0x54c1dc);let _0x2a50cd=this[_0x1c8bb1(0x2ae)](_0x4deb41['systemPrompt']);for(const _0x577c3a of _0x4deb41[_0x1c8bb1(0x16c)]){if(_0x4a9953[_0x1c8bb1(0x27f)](_0x4a9953['aZskg'],_0x1c8bb1(0x217)))_0x2a50cd+=this[_0x1c8bb1(0x2ae)](_0x577c3a[_0x1c8bb1(0x162)]);else{if(!_0x3a25a7||_0x4a9953[_0x1c8bb1(0x190)](typeof _0x14ea8a,'string'))return _0x4a9953[_0x1c8bb1(0x170)](_0x1c8bb1(0x239),_0x1e325e[_0x1c8bb1(0x247)]());let _0x5b344e=_0x2bc421[_0x1c8bb1(0x2eb)](/\s+/g,'-')[_0x1c8bb1(0x2eb)](/[^a-zA-Z0-9_-]/g,'')['replace'](/-+/g,'-')['replace'](/^-+|-+$/g,'')['toLowerCase']();if(!_0x5b344e)_0x5b344e='conversation-'+_0x5d1316[_0x1c8bb1(0x247)]();else _0x5b344e['length']>0x32&&(_0x5b344e=_0x4a9953[_0x1c8bb1(0x158)](_0x4a9953['KyGLG'](_0x5b344e['substring'](0x0,0x28),'-'),_0x205835[_0x1c8bb1(0x247)]()['toString']()['slice'](-0x8)));return _0x5b344e;}}return _0x2a50cd;}[a0_0x271a61(0x2ae)](_0x3f78bd){const _0x3fb6c3=a0_0x271a61,_0x26f2a2={};_0x26f2a2[_0x3fb6c3(0x2ca)]=function(_0x264351,_0x394cf4){return _0x264351!==_0x394cf4;},_0x26f2a2[_0x3fb6c3(0x279)]=_0x3fb6c3(0x2fc);const _0x63f497=_0x26f2a2;if(!_0x3f78bd||_0x63f497['MkdfB'](typeof _0x3f78bd,_0x63f497['hmdcT']))return 0x0;return Math[_0x3fb6c3(0x168)](_0x3f78bd['length']/0x4);}[a0_0x271a61(0x31d)](_0x5792ba){const _0x53c880=a0_0x271a61;return this['availableModels'][_0x53c880(0x34c)](_0x5792ba);}[a0_0x271a61(0x259)](){const _0x31d5d8=a0_0x271a61,_0x4b30ce={};_0x4b30ce['FBsNW']=_0x31d5d8(0x2c1),_0x4b30ce[_0x31d5d8(0x24f)]=function(_0x1254f2,_0x35fc19){return _0x1254f2===_0x35fc19;},_0x4b30ce[_0x31d5d8(0x2c5)]=_0x31d5d8(0x196),_0x4b30ce[_0x31d5d8(0x1e7)]=_0x31d5d8(0x1ec),_0x4b30ce[_0x31d5d8(0x1bb)]=function(_0x5a741c,_0x37ee7f){return _0x5a741c||_0x37ee7f;};const _0x5170e7=_0x4b30ce;let _0x1be38d=0x0;for(const _0x258f76 of this[_0x31d5d8(0x25c)][_0x31d5d8(0x193)]()){if(_0x258f76['maxTokens']>_0x1be38d){if(_0x5170e7['MrJma'](_0x5170e7[_0x31d5d8(0x2c5)],_0x5170e7[_0x31d5d8(0x1e7)]))throw new _0x4c301e(_0x5170e7['FBsNW']);else _0x1be38d=_0x258f76['maxTokens'];}}return _0x5170e7[_0x31d5d8(0x1bb)](_0x1be38d,0x186a0);}[a0_0x271a61(0x24b)](){const _0x50a0b6=a0_0x271a61;return this[_0x50a0b6(0x169)];}[a0_0x271a61(0x2d8)](){return this['lastOutputTokenCount'];}['getTokenUsage'](){const _0x230ccc=a0_0x271a61,_0x418a8a={...this[_0x230ccc(0x2b3)]};return _0x418a8a;}async[a0_0x271a61(0x160)](){const _0x4e3438=a0_0x271a61,_0x58721e={};_0x58721e[_0x4e3438(0x1df)]='Refreshing\x20pricing\x20data\x20from\x20server';const _0x5a8cbf=_0x58721e;this['logger'][_0x4e3438(0x351)](_0x5a8cbf[_0x4e3438(0x1df)]),await this[_0x4e3438(0x33c)]();}async['getServerHealth'](){const _0x4ed8a2=a0_0x271a61,_0x50ab91={};_0x50ab91['qFElg']='No\x20conversation\x20ID\x20provided\x20or\x20conversation\x20not\x20found,\x20using\x20default\x20model\x20for\x20summary',_0x50ab91[_0x4ed8a2(0x243)]=function(_0x9683ed,_0x4e8ba8){return _0x9683ed!==_0x4e8ba8;},_0x50ab91[_0x4ed8a2(0x138)]=_0x4ed8a2(0x291),_0x50ab91['kqwgQ']=_0x4ed8a2(0x276),_0x50ab91['VTihI']=_0x4ed8a2(0x1f8),_0x50ab91[_0x4ed8a2(0x226)]=_0x4ed8a2(0x139);const _0x1c26dd=_0x50ab91;try{if(_0x1c26dd['VPUSs'](_0x1c26dd['wKwhH'],_0x1c26dd[_0x4ed8a2(0x138)]))this[_0x4ed8a2(0x2f8)]['warn'](_0x1c26dd['qFElg']);else{const _0x5154cd=await this[_0x4ed8a2(0x140)](_0x4ed8a2(0x256));if(!_0x5154cd['ok']){const _0x596cfe={};return _0x596cfe['status']=_0x1c26dd['kqwgQ'],_0x596cfe[_0x4ed8a2(0x17b)]=_0x4ed8a2(0x227)+_0x5154cd[_0x4ed8a2(0x2d2)]+':\x20'+_0x5154cd[_0x4ed8a2(0x312)],_0x596cfe;}const _0x1c2568=await _0x5154cd[_0x4ed8a2(0x181)](),_0x585af1={'status':_0x1c26dd['VTihI'],..._0x1c2568};return _0x585af1;}}catch(_0x17f85e){if(_0x1c26dd[_0x4ed8a2(0x226)]===_0x1c26dd['NkMhQ']){const _0x2db34f={};return _0x2db34f['status']=_0x1c26dd[_0x4ed8a2(0x34a)],_0x2db34f['error']=_0x17f85e[_0x4ed8a2(0x2dc)],_0x2db34f;}else{const _0x56f8e6=new _0x55c990('HTTP\x20'+_0x5c219d+':\x20'+_0x43463b);return _0x56f8e6[_0x4ed8a2(0x2d2)]=_0x43682d,_0x56f8e6[_0x4ed8a2(0x25e)]=this[_0x4ed8a2(0x1ce)](_0x5078a7),_0x56f8e6;}}}async[a0_0x271a61(0x246)](){const _0x23ea74=a0_0x271a61,_0x26c737={};_0x26c737[_0x23ea74(0x150)]='Server\x20LLM\x20service\x20shut\x20down\x20successfully',_0x26c737[_0x23ea74(0x274)]='Shutting\x20down\x20server\x20LLM\x20service';const _0x5c6721=_0x26c737,_0x4e00a2='6|3|5|1|2|4|0'[_0x23ea74(0x2e8)]('|');let _0x54009f=0x0;while(!![]){switch(_0x4e00a2[_0x54009f++]){case'0':this[_0x23ea74(0x2f8)][_0x23ea74(0x351)](_0x5c6721[_0x23ea74(0x150)]);continue;case'1':this[_0x23ea74(0x2d7)][_0x23ea74(0x2d6)]();continue;case'2':this[_0x23ea74(0x24d)]=![];continue;case'3':this[_0x23ea74(0x2d5)][_0x23ea74(0x2d6)]();continue;case'4':this[_0x23ea74(0x1db)]=null;continue;case'5':this['availableModels'][_0x23ea74(0x2d6)]();continue;case'6':this[_0x23ea74(0x2f8)][_0x23ea74(0x351)](_0x5c6721['NBczv']);continue;}break;}}async[a0_0x271a61(0x140)](_0x2ebfaa,_0x2d527d={}){const _0x1aa2b4=a0_0x271a61,_0x4053d9={'rduBY':_0x1aa2b4(0x235),'fwVYh':_0x1aa2b4(0x198),'cTbeP':_0x1aa2b4(0x2bc),'RKepF':'GET','mRXcQ':'application/json','aKHCj':_0x1aa2b4(0x29a),'gNErz':function(_0x427858,_0x508a71){return _0x427858===_0x508a71;},'bqYcs':_0x1aa2b4(0x19d),'XNoDO':_0x1aa2b4(0x1e1),'GBciM':function(_0x574917,_0x1ef237,_0x15caf4){return _0x574917(_0x1ef237,_0x15caf4);},'etOlj':_0x1aa2b4(0x1ab),'KPpMA':_0x1aa2b4(0x1de)},_0x1ac3fd=''+this[_0x1aa2b4(0x186)]+_0x2ebfaa,_0x5c8cb9={'method':_0x2d527d[_0x1aa2b4(0x285)]||_0x4053d9['RKepF'],'headers':{'Content-Type':_0x4053d9[_0x1aa2b4(0x23c)],'User-Agent':_0x4053d9[_0x1aa2b4(0x1ac)],..._0x2d527d['headers']},'timeout':this['timeout'],..._0x2d527d},_0xc0173=_0x5c8cb9;if(this['apiKey']){if(_0x4053d9[_0x1aa2b4(0x2b6)](_0x4053d9[_0x1aa2b4(0x288)],_0x4053d9[_0x1aa2b4(0x288)]))_0xc0173[_0x1aa2b4(0x183)][_0x4053d9[_0x1aa2b4(0x20a)]]='Bearer\x20'+this[_0x1aa2b4(0x1db)];else{this[_0x1aa2b4(0x255)](_0x57f1ef,_0x3f11a4);const _0x1caa7f={};_0x1caa7f[_0x1aa2b4(0x200)]=_0x4fdee0[_0x1aa2b4(0x200)],_0x1caa7f[_0x1aa2b4(0x329)]=_0x496a28[_0x1aa2b4(0x329)],_0x1caa7f['unit']=_0x1253cb['unit']||_0x4053d9[_0x1aa2b4(0x2ed)],_0x1caa7f[_0x1aa2b4(0x264)]=_0x25bade['currency']||_0x4053d9[_0x1aa2b4(0x250)],this['pricingData']['set'](_0x3fa678,_0x1caa7f);}}try{const _0x4d9986=await _0x4053d9[_0x1aa2b4(0x1ba)](a0_0x570b7d,_0x1ac3fd,_0xc0173);return _0x4d9986;}catch(_0x33285e){if(_0x4053d9['gNErz'](_0x4053d9[_0x1aa2b4(0x2e9)],_0x4053d9[_0x1aa2b4(0x1fe)])){this['logger'][_0x1aa2b4(0x17b)](_0x4053d9[_0x1aa2b4(0x2cc)],_0x14aa19);throw _0x22d8fa;}else throw this[_0x1aa2b4(0x355)](_0x33285e,_0x1ac3fd);}}async[a0_0x271a61(0x1ad)](_0x536765){const _0x4a1f2e=a0_0x271a61,_0x329948={};_0x329948[_0x4a1f2e(0x297)]=function(_0x3a017e,_0x505862){return _0x3a017e!==_0x505862;},_0x329948[_0x4a1f2e(0x2cb)]=_0x4a1f2e(0x21c);const _0xc15f06=_0x329948;try{return await _0x536765[_0x4a1f2e(0x181)]();}catch(_0x52837e){if(_0xc15f06[_0x4a1f2e(0x297)](_0x4a1f2e(0x21c),_0xc15f06[_0x4a1f2e(0x2cb)]))throw new _0x432c83(_0x4a1f2e(0x345)+_0x15f48b);else return{};}}['_enhanceError'](_0x2d2f30,_0x4aaf80){const _0x55910a=a0_0x271a61,_0x2dfa2c=new Error(_0x4aaf80+'\x20failed:\x20'+_0x2d2f30[_0x55910a(0x2dc)]);return _0x2dfa2c[_0x55910a(0x28c)]=_0x4aaf80,_0x2dfa2c[_0x55910a(0x1a4)]=_0x2d2f30,_0x2dfa2c[_0x55910a(0x25e)]=this[_0x55910a(0x187)](_0x2d2f30),_0x2dfa2c;}[a0_0x271a61(0x1cb)](_0x4aceb9,_0x168d4a){const _0x667375=a0_0x271a61,_0x49bc8e=new Error(_0x667375(0x227)+_0x4aceb9+':\x20'+_0x168d4a);return _0x49bc8e[_0x667375(0x2d2)]=_0x4aceb9,_0x49bc8e['errorType']=this[_0x667375(0x1ce)](_0x4aceb9),_0x49bc8e;}['_createNetworkError'](_0xf23de3,_0x242056){const _0x2875e9=a0_0x271a61,_0x214589={};_0x214589[_0x2875e9(0x346)]=function(_0x554216,_0x486f5f){return _0x554216===_0x486f5f;},_0x214589[_0x2875e9(0x1bf)]=_0x2875e9(0x16e),_0x214589['eMebu']=_0x2875e9(0x359),_0x214589[_0x2875e9(0x2bb)]='Connection\x20refused.\x20Server\x20may\x20be\x20down.',_0x214589[_0x2875e9(0x30a)]=function(_0x33764d,_0x1fc7c7){return _0x33764d===_0x1fc7c7;},_0x214589['obUxl']='ENOTFOUND',_0x214589[_0x2875e9(0x145)]=function(_0x545fac,_0x34396a){return _0x545fac===_0x34396a;},_0x214589[_0x2875e9(0x1c0)]=_0x2875e9(0x2ef),_0x214589[_0x2875e9(0x1cc)]=_0x2875e9(0x159),_0x214589[_0x2875e9(0x335)]=_0x2875e9(0x340),_0x214589['pnarh']=_0x2875e9(0x172);const _0x213933=_0x214589,_0x5628ab=new Error(_0x2875e9(0x343)+_0xf23de3[_0x2875e9(0x2dc)]);_0x5628ab['url']=_0x242056,_0x5628ab[_0x2875e9(0x1a4)]=_0xf23de3,_0x5628ab[_0x2875e9(0x25e)]=ERROR_TYPES[_0x2875e9(0x282)];if(_0x213933[_0x2875e9(0x346)](_0xf23de3[_0x2875e9(0x218)],_0x213933[_0x2875e9(0x1bf)])){if(_0x213933[_0x2875e9(0x1d7)]===_0x213933[_0x2875e9(0x1d7)])_0x5628ab[_0x2875e9(0x2dc)]=_0x213933[_0x2875e9(0x2bb)];else return new _0x5006bc(_0x16664b=>_0xffbfea(_0x16664b,_0x542298));}else{if(_0x213933[_0x2875e9(0x30a)](_0xf23de3[_0x2875e9(0x218)],_0x213933[_0x2875e9(0x137)])){if(_0x213933[_0x2875e9(0x145)](_0x213933[_0x2875e9(0x1c0)],_0x213933[_0x2875e9(0x1c0)]))_0x5628ab[_0x2875e9(0x2dc)]=_0x213933[_0x2875e9(0x1cc)];else return;}else{if(_0x213933[_0x2875e9(0x145)](_0xf23de3[_0x2875e9(0x218)],_0x213933[_0x2875e9(0x335)])||_0xf23de3[_0x2875e9(0x1e3)]===_0x2875e9(0x2e2)){if(_0x213933[_0x2875e9(0x219)]!==_0x2875e9(0x2df))_0x5628ab[_0x2875e9(0x2dc)]=_0x2875e9(0x2f5),_0x5628ab[_0x2875e9(0x25e)]=ERROR_TYPES[_0x2875e9(0x1ee)];else throw new _0x18c7f0(_0x2875e9(0x2aa));}}}return _0x5628ab;}[a0_0x271a61(0x187)](_0x331fce){const _0x45007f=a0_0x271a61,_0x827085={};_0x827085[_0x45007f(0x1fa)]=function(_0x13b4d2,_0x22c86e){return _0x13b4d2===_0x22c86e;},_0x827085['Ponmn']=_0x45007f(0x16e),_0x827085[_0x45007f(0x263)]=_0x45007f(0x323),_0x827085[_0x45007f(0x307)]=function(_0x2b565f,_0x42ec7d){return _0x2b565f===_0x42ec7d;},_0x827085[_0x45007f(0x25a)]=_0x45007f(0x2e2),_0x827085[_0x45007f(0x267)]='aURmj',_0x827085[_0x45007f(0x2fa)]=function(_0x214cf4,_0x17110a){return _0x214cf4===_0x17110a;},_0x827085[_0x45007f(0x15c)]=_0x45007f(0x340),_0x827085[_0x45007f(0x21f)]=function(_0x8c4ebc,_0x3db40c){return _0x8c4ebc===_0x3db40c;},_0x827085[_0x45007f(0x2bd)]='FvXLu';const _0x292245=_0x827085;if(_0x331fce[_0x45007f(0x2d2)]){if(_0x292245['QMzKP']===_0x292245['QMzKP'])return this[_0x45007f(0x1ce)](_0x331fce[_0x45007f(0x2d2)]);else{if(_0x156781[_0x45007f(0x2d2)])return this['_classifyHttpError'](_0x1bcbb9['status']);if(_0x292245['aSomG'](_0x1eca11['code'],_0x292245[_0x45007f(0x347)])||_0x292245[_0x45007f(0x1fa)](_0x620231['code'],_0x292245[_0x45007f(0x263)]))return _0x3d2226[_0x45007f(0x282)];if(_0x302d85[_0x45007f(0x218)]===_0x45007f(0x340)||_0x292245[_0x45007f(0x307)](_0x452ab1[_0x45007f(0x1e3)],_0x292245[_0x45007f(0x25a)]))return _0x3c4757[_0x45007f(0x1ee)];return _0x80616c[_0x45007f(0x202)];}}if(_0x292245[_0x45007f(0x307)](_0x331fce[_0x45007f(0x218)],'ECONNREFUSED')||_0x292245[_0x45007f(0x307)](_0x331fce[_0x45007f(0x218)],_0x292245['kxTAC']))return ERROR_TYPES[_0x45007f(0x282)];if(_0x292245[_0x45007f(0x2fa)](_0x331fce['code'],_0x292245[_0x45007f(0x15c)])||_0x292245['iAFLK'](_0x331fce[_0x45007f(0x1e3)],_0x292245[_0x45007f(0x25a)])){if(_0x292245['aSomG'](_0x45007f(0x317),_0x292245['ldyrT']))_0x17a518[_0x45007f(0x228)]=_0x23d888['systemPrompt'];else return ERROR_TYPES[_0x45007f(0x1ee)];}return ERROR_TYPES[_0x45007f(0x202)];}[a0_0x271a61(0x1ce)](_0x1f26b9){const _0x3f403f=a0_0x271a61;switch(_0x1f26b9){case HTTP_STATUS['UNAUTHORIZED']:case HTTP_STATUS[_0x3f403f(0x1f7)]:return ERROR_TYPES[_0x3f403f(0x2e6)];case HTTP_STATUS[_0x3f403f(0x339)]:return ERROR_TYPES[_0x3f403f(0x324)];case HTTP_STATUS[_0x3f403f(0x185)]:return ERROR_TYPES[_0x3f403f(0x23e)];case HTTP_STATUS[_0x3f403f(0x304)]:case HTTP_STATUS[_0x3f403f(0x13d)]:case HTTP_STATUS[_0x3f403f(0x171)]:case HTTP_STATUS[_0x3f403f(0x29c)]:return ERROR_TYPES[_0x3f403f(0x24e)];default:return ERROR_TYPES[_0x3f403f(0x202)];}}[a0_0x271a61(0x2ee)](_0x5bebda){const _0x573a5d=a0_0x271a61,_0x292b58=[ERROR_TYPES[_0x573a5d(0x2e6)],ERROR_TYPES[_0x573a5d(0x324)]],_0x2d4d75=[HTTP_STATUS['BAD_REQUEST'],HTTP_STATUS[_0x573a5d(0x294)],HTTP_STATUS[_0x573a5d(0x1f7)],HTTP_STATUS[_0x573a5d(0x133)]];return _0x292b58['includes'](_0x5bebda[_0x573a5d(0x25e)])||_0x2d4d75['includes'](_0x5bebda[_0x573a5d(0x2d2)]);}[a0_0x271a61(0x224)](_0x5cc101){return new Promise(_0x3c9af3=>setTimeout(_0x3c9af3,_0x5cc101));}[a0_0x271a61(0x19e)](_0x4d4aa9){const _0x2961b0=a0_0x271a61,_0x5e74f4={};_0x5e74f4['bOmQH']=function(_0x40242e,_0x139f8c){return _0x40242e!==_0x139f8c;},_0x5e74f4[_0x2961b0(0x244)]=function(_0x3e4083,_0x25bdae){return _0x3e4083!==_0x25bdae;},_0x5e74f4[_0x2961b0(0x1ea)]='object',_0x5e74f4[_0x2961b0(0x305)]=_0x2961b0(0x1b9),_0x5e74f4[_0x2961b0(0x348)]=_0x2961b0(0x34f),_0x5e74f4[_0x2961b0(0x2bf)]=function(_0x14f662,_0x214652){return _0x14f662<_0x214652;},_0x5e74f4['YVWCm']='ozfAA',_0x5e74f4[_0x2961b0(0x2e3)]=function(_0x476d4f,_0x5474c5){return _0x476d4f^_0x5474c5;},_0x5e74f4[_0x2961b0(0x318)]=function(_0x4dcc95,_0x2fa995){return _0x4dcc95%_0x2fa995;};const _0xc81c66=_0x5e74f4,_0x3a85dd=_0xc81c66[_0x2961b0(0x348)],_0x4b5c03=Buffer[_0x2961b0(0x238)](_0x4d4aa9,_0x2961b0(0x241))['toString']();let _0x32aaf0='';for(let _0x10fcd6=0x0;_0xc81c66[_0x2961b0(0x2bf)](_0x10fcd6,_0x4b5c03[_0x2961b0(0x26c)]);_0x10fcd6++){if(_0x2961b0(0x27b)===_0xc81c66['YVWCm']){if(!_0x6206b3[_0x2961b0(0x162)]||_0xc81c66[_0x2961b0(0x357)](typeof _0x3249f3[_0x2961b0(0x162)],_0x2961b0(0x2fc)))throw new _0xcf7d97(_0x2961b0(0x201));if(_0x4795cd[_0x2961b0(0x1a0)]&&_0xc81c66[_0x2961b0(0x244)](typeof _0x4b0c32[_0x2961b0(0x1a0)],_0xc81c66['vvLgS']))throw new _0x3e4be5(_0xc81c66['ePFnz']);}else _0x32aaf0+=String[_0x2961b0(0x2c9)](_0xc81c66[_0x2961b0(0x2e3)](_0x4b5c03['charCodeAt'](_0x10fcd6),_0x3a85dd[_0x2961b0(0x177)](_0xc81c66['UJGII'](_0x10fcd6,_0x3a85dd[_0x2961b0(0x26c)]))));}return _0x32aaf0;}}