const a0_0x2af803=a0_0x407e;(function(_0x333b7e,_0x3daf0c){const _0x5603b8=a0_0x407e,_0x50cc9c=_0x333b7e();while(!![]){try{const _0x51beca=-parseInt(_0x5603b8(0x289))/0x1+parseInt(_0x5603b8(0x18f))/0x2+parseInt(_0x5603b8(0x2fd))/0x3+parseInt(_0x5603b8(0x35a))/0x4+parseInt(_0x5603b8(0x228))/0x5+parseInt(_0x5603b8(0x2a9))/0x6+parseInt(_0x5603b8(0x186))/0x7*(-parseInt(_0x5603b8(0x24a))/0x8);if(_0x51beca===_0x3daf0c)break;else _0x50cc9c['push'](_0x50cc9c['shift']());}catch(_0x2f368d){_0x50cc9c['push'](_0x50cc9c['shift']());}}}(a0_0x4add,0x73e37));const a0_0x495e0a=(function(){const _0x51b5ac=a0_0x407e,_0x5542fa={};_0x5542fa[_0x51b5ac(0x2a5)]=function(_0x9a9ded,_0x2a5bdf){return _0x9a9ded===_0x2a5bdf;};const _0x3f88f4=_0x5542fa;let _0x54078c=!![];return function(_0x4825a5,_0x228ae4){const _0x14b7db=_0x51b5ac,_0x2a00cd={'rhXCq':function(_0x50e008,_0x22b2f6){const _0x3fdcf2=a0_0x407e;return _0x3f88f4[_0x3fdcf2(0x2a5)](_0x50e008,_0x22b2f6);},'yPZbY':_0x14b7db(0x22d)},_0x4ad558=_0x54078c?function(){const _0x1d4d78=_0x14b7db;if(_0x228ae4){if(_0x2a00cd['rhXCq'](_0x1d4d78(0x22d),_0x2a00cd['yPZbY'])){const _0x1b955d=_0x228ae4[_0x1d4d78(0x19d)](_0x4825a5,arguments);return _0x228ae4=null,_0x1b955d;}else{if(this[_0x1d4d78(0x318)][_0x1d4d78(0x1a7)](_0x38d260))return _0x34e34c;}}}:function(){};return _0x54078c=![],_0x4ad558;};}()),a0_0x26d37c=a0_0x495e0a(this,function(){const _0x4ea2d7=a0_0x407e,_0x19b4fc={};_0x19b4fc[_0x4ea2d7(0x252)]=_0x4ea2d7(0x1d6);const _0x33b220=_0x19b4fc;return a0_0x26d37c[_0x4ea2d7(0x34a)]()[_0x4ea2d7(0x1f0)](_0x33b220[_0x4ea2d7(0x252)])[_0x4ea2d7(0x34a)]()[_0x4ea2d7(0x27d)](a0_0x26d37c)['search'](_0x33b220[_0x4ea2d7(0x252)]);});a0_0x26d37c();function a0_0x407e(_0x1de083,_0x504ba6){const _0x371e17=a0_0x4add();return a0_0x407e=function(_0x223111,_0x12a700){_0x223111=_0x223111-0x150;let _0x2b8ef4=_0x371e17[_0x223111];if(a0_0x407e['psxEzu']===undefined){var _0x4072d0=function(_0x407e59){const _0x50dc5d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xc34dec='',_0x1657fe='',_0x1e53f1=_0xc34dec+_0x4072d0;for(let _0x2a704a=0x0,_0x4b06a1,_0x2b4d12,_0x528e02=0x0;_0x2b4d12=_0x407e59['charAt'](_0x528e02++);~_0x2b4d12&&(_0x4b06a1=_0x2a704a%0x4?_0x4b06a1*0x40+_0x2b4d12:_0x2b4d12,_0x2a704a++%0x4)?_0xc34dec+=_0x1e53f1['charCodeAt'](_0x528e02+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4b06a1>>(-0x2*_0x2a704a&0x6)):_0x2a704a:0x0){_0x2b4d12=_0x50dc5d['indexOf'](_0x2b4d12);}for(let _0x371e88=0x0,_0x14cb18=_0xc34dec['length'];_0x371e88<_0x14cb18;_0x371e88++){_0x1657fe+='%'+('00'+_0xc34dec['charCodeAt'](_0x371e88)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1657fe);};a0_0x407e['gEhRHN']=_0x4072d0,_0x1de083=arguments,a0_0x407e['psxEzu']=!![];}const _0x26d37c=_0x371e17[0x0],_0x495e0a=_0x223111+_0x26d37c,_0x4add44=_0x1de083[_0x495e0a];if(!_0x4add44){const _0x461263=function(_0x1dac30){this['gjKRdw']=_0x1dac30,this['ZfygkO']=[0x1,0x0,0x0],this['zLJTtX']=function(){return'newState';},this['ykyYwI']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['viWuIz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x461263['prototype']['OfSorg']=function(){const _0x148a4f=new RegExp(this['ykyYwI']+this['viWuIz']),_0x86867c=_0x148a4f['test'](this['zLJTtX']['toString']())?--this['ZfygkO'][0x1]:--this['ZfygkO'][0x0];return this['BAfSqb'](_0x86867c);},_0x461263['prototype']['BAfSqb']=function(_0x44709f){if(!Boolean(~_0x44709f))return _0x44709f;return this['PzIpPk'](this['gjKRdw']);},_0x461263['prototype']['PzIpPk']=function(_0x3117bc){for(let _0x5e503f=0x0,_0xa9d108=this['ZfygkO']['length'];_0x5e503f<_0xa9d108;_0x5e503f++){this['ZfygkO']['push'](Math['round'](Math['random']())),_0xa9d108=this['ZfygkO']['length'];}return _0x3117bc(this['ZfygkO'][0x0]);},new _0x461263(a0_0x407e)['OfSorg'](),_0x2b8ef4=a0_0x407e['gEhRHN'](_0x2b8ef4),_0x1de083[_0x495e0a]=_0x2b8ef4;}else _0x2b8ef4=_0x4add44;return _0x2b8ef4;},a0_0x407e(_0x1de083,_0x504ba6);}const a0_0x12a700=(function(){let _0x4a01a5=!![];return function(_0x2755c2,_0x7f80d6){const _0x7b12d8=_0x4a01a5?function(){const _0x10f1e3=a0_0x407e;if(_0x7f80d6){const _0x125f17=_0x7f80d6[_0x10f1e3(0x19d)](_0x2755c2,arguments);return _0x7f80d6=null,_0x125f17;}}:function(){};return _0x4a01a5=![],_0x7b12d8;};}()),a0_0x223111=a0_0x12a700(this,function(){const _0x54bc1a=a0_0x407e,_0x37104d={'pQORS':function(_0x46a68e,_0x24730d){return _0x46a68e+_0x24730d;},'ODdPZ':function(_0x124d29,_0x42a4cb){return _0x124d29+_0x42a4cb;},'HobmU':'return\x20(function()\x20','XCaRd':_0x54bc1a(0x316),'zQZfr':function(_0x290284){return _0x290284();},'BzdHk':_0x54bc1a(0x1aa),'GjZaQ':_0x54bc1a(0x16f),'bFiKc':_0x54bc1a(0x205),'siasU':_0x54bc1a(0x169),'eOazg':_0x54bc1a(0x215),'JlqZW':'trace','ghlbF':function(_0x34993f,_0x2e7e31){return _0x34993f!==_0x2e7e31;},'QGWzI':_0x54bc1a(0x19e)};let _0x155603;try{const _0x22aae7=Function(_0x37104d[_0x54bc1a(0x1d5)](_0x37104d[_0x54bc1a(0x214)](_0x37104d[_0x54bc1a(0x304)],_0x37104d['XCaRd']),');'));_0x155603=_0x37104d[_0x54bc1a(0x248)](_0x22aae7);}catch(_0x43140f){_0x155603=window;}const _0x1fc2b4=_0x155603['console']=_0x155603[_0x54bc1a(0x281)]||{},_0x1318d9=[_0x54bc1a(0x218),_0x37104d['BzdHk'],_0x37104d[_0x54bc1a(0x2b2)],_0x37104d[_0x54bc1a(0x28c)],_0x37104d['siasU'],_0x37104d[_0x54bc1a(0x2b8)],_0x37104d[_0x54bc1a(0x314)]];for(let _0x1c4a71=0x0;_0x1c4a71<_0x1318d9['length'];_0x1c4a71++){if(_0x37104d[_0x54bc1a(0x1db)](_0x54bc1a(0x323),_0x37104d[_0x54bc1a(0x1dd)])){const _0x1d4598=a0_0x12a700['constructor'][_0x54bc1a(0x324)][_0x54bc1a(0x313)](a0_0x12a700),_0x39d73f=_0x1318d9[_0x1c4a71],_0x136bb8=_0x1fc2b4[_0x39d73f]||_0x1d4598;_0x1d4598[_0x54bc1a(0x275)]=a0_0x12a700[_0x54bc1a(0x313)](a0_0x12a700),_0x1d4598[_0x54bc1a(0x34a)]=_0x136bb8['toString'][_0x54bc1a(0x313)](_0x136bb8),_0x1fc2b4[_0x39d73f]=_0x1d4598;}else{const _0x105378=_0x54c5c6[_0x54bc1a(0x27d)][_0x54bc1a(0x324)][_0x54bc1a(0x313)](_0x18581d),_0x17e5d3=_0x11583c[_0x3efeb9],_0x1dfb25=_0x50a83d[_0x17e5d3]||_0x105378;_0x105378[_0x54bc1a(0x275)]=_0x5e0e76['bind'](_0x14c388),_0x105378[_0x54bc1a(0x34a)]=_0x1dfb25[_0x54bc1a(0x34a)][_0x54bc1a(0x313)](_0x1dfb25),_0x46bd00[_0x17e5d3]=_0x105378;}}});a0_0x223111();import a0_0x45fbad from'node-fetch';const DEFAULT_TIMEOUT_MS=0xea60,DEFAULT_MAX_RETRIES=0x3,DEFAULT_RETRY_DELAY_MS=0x7530,RETRY_DELAY_MULTIPLIER=0x2,API_VERSION='v1',a0_0x2124b2={};a0_0x2124b2['OK']=0xc8,a0_0x2124b2[a0_0x2af803(0x175)]=0xc9,a0_0x2124b2[a0_0x2af803(0x258)]=0x190,a0_0x2124b2['UNAUTHORIZED']=0x191,a0_0x2124b2['FORBIDDEN']=0x193,a0_0x2124b2[a0_0x2af803(0x18a)]=0x194,a0_0x2124b2[a0_0x2af803(0x2f8)]=0x1ad,a0_0x2124b2['INTERNAL_SERVER_ERROR']=0x1f4,a0_0x2124b2[a0_0x2af803(0x35f)]=0x1f6,a0_0x2124b2[a0_0x2af803(0x20a)]=0x1f7,a0_0x2124b2[a0_0x2af803(0x2f9)]=0x1f8;const HTTP_STATUS=a0_0x2124b2,a0_0x1d655d={};a0_0x1d655d[a0_0x2af803(0x267)]=a0_0x2af803(0x268),a0_0x1d655d[a0_0x2af803(0x2ae)]=a0_0x2af803(0x1fb),a0_0x1d655d[a0_0x2af803(0x1fc)]=a0_0x2af803(0x26e),a0_0x1d655d['RATE_LIMIT']=a0_0x2af803(0x250),a0_0x1d655d['SERVER']='server',a0_0x1d655d[a0_0x2af803(0x167)]=a0_0x2af803(0x1fa),a0_0x1d655d[a0_0x2af803(0x2b1)]=a0_0x2af803(0x238);function a0_0x4add(){const _0x14af92=['BgvUz3rO','vu5bvvrit1jjwKve','Cgf0Aa','vvjpC0W','rK9sqKLerevo','u2fUAxrPEMvKignVBNzLCNnHDgLVBIbjrcbMCM9Tici','re5tigXVB2T1CcbMywLSzwqUienOzwnRihnLCNzLCIbvuKWU','y29UC3rYDwn0B3i','B1vntwW','B0HHsLy','C2v0','y29UC29Szq','ig1VzgvSCYbMCM9TihnLCNzLCG','rMPXyKi','uw1Tt0C','sw52ywXPzcbTB2rLBhmGCMvZCg9UC2uGzNjVBsbZzxj2zxi','CMvXxW','Dw5OzwfSDgH5','B3bLCMf0Aw9U','ntK4nZqWwgHAD2ru','ue9tva','EefHqNa','yKzPs2m','rxjYB3iGC2vUzgLUzYbTzxnZywDLihrVihnLCNzLCJO','AM9PBG','mxW1Fde0Fdn8nhW4Fdj8mtb8mtf8mtv8mtj8oxWXm3WWFdz8nW','Cu5fq1a','rhfoBuG','CeHlvfK','ywXS','v1LyC0S','tw9pzfi','zfPbzvG','ru5pvezpvu5e','rMrpv1u','rgP0re4','C3rHDhvZvgv4Da','y2HHCKnVzgvbDa','te1xBw0','rxD1ELa','yxbPs2v5','uu9JquO','sw52ywXPzcbJB252zxjZyxrPB24Gsuq','vNPZzge','teXqDNa','u2vYDMvYifvstcbPCYbYzxf1AxjLza','Aw5WDxq','r29Jsw4','x3zHBgLKyxrLsw1Hz2vezxnJCMLWDgLVBKLUChv0CW','Dg9ju09tDhjPBMC','zgvIDwC','mJCXmde0nKP1DLzbra','q29UBMvJDgLVBIbYzwz1C2vKlIbtzxj2zxiGBwf5igjLigrVD24U','BgfZDefJDgL2Axr5','ugPMrKS','uffit3u','tKvuv09ssW','A055t2y','rMfPBgvKihrVigLUAxrPywXPEMuGC2vYDMvYieXmtsbZzxj2AwnLoG','vu5ltK9xtG','r2PAyve','BevUrKq','BeLdwNO','s3DVqvO','x2nYzwf0zuH0DhbfCNjVCG','v1f0wee','zu9HEMC','C2fQyxO','y3HYCLm','zefTEe0','z1fIDxa','x3zHBgLKyxrLq2HHDfjLC3bVBNnL','uxjAuei','thDbzeW','BKjQDfG','Bw9KzwXZ','zMTRs20','z2v0u2vYDMvYsgvHBhrO','AK1AruK','DxbKyxrLq29UDMvYC2f0Aw9U','rePev04','wejxDvO','tNbeEfa','CgfYC2u','zNjPCNG','x2rLBgf5','C2L6zq','uLvsyM0','wuz4tK4','reTlvwK','tMv0D29YAYbYzxf1zxn0igzHAwXLzdOG','ig5VDcbMB3vUza','whrLCvm','uMvNAxn0zxjPBMCGy29UDMvYC2f0Aw9UihDPDgGGC2vYDMvYoIa','seXRExO','x2LZtM9UuMv0CNLHyMXLrxjYB3i','DgrbsMm','zw50CMLLCW','ELPcB3C','C3vWCg9YDhntExn0zw0','zMD1shu','BMztt1C','Cur4t2S','z2Pjsw8','qvnWrwy','zNjVBunOyxjdB2rL','B2f6yMq','tg9HzgvKihbYAwnPBMCGzM9Yia','vxb2whq','qwL6Dvu','r1jWAeS','rhzeBMy','r3bSDum','C2XPy2u','u2H1DhrPBMCGzg93BIbZzxj2zxiGteXnihnLCNzPy2u','yMTHEuC','Cxvzu0m','r0vu','DhjPBq','vhPLEfy','lMXVEgLH','rfnKr20','Dg9mB3DLCKnHC2u','ANnVBG','Bg9Nz2vY','z2v0uhjPy2LUz0rHDge','y2f0zwDVCNK','ALrfwwq','rgfOvvi','uuHWC20','ve9px01btLLFuKvrvuvtvfm','r0furvDbwv9usu1ft1vu','whPxvhC','rNvPtxe','C3vWCg9YDhnnB2rLBa','mtuXmJC1m1PjwgPmwq','y2XLyxi','x3bYB2nLC3ndAgf0uMvZCg9UC2u','sfPxv1u','CM9Szq','svbvyNm','EgPgtMi','sg9IBvu','Dhzcr2C','uNroy2i','tg9HzgLUzYbHDMfPBgfIBguGBw9KzwXZigzYB20GC2vYDMvY','ru9crgW','sw52ywXPzcbWCMLJAw5NihjLC3bVBNnLigzYB20GC2vYDMvY','CMv0CMLLCW','u2vYDMvYieXmtsbZzxj2AwnLigLUAxrPywXPEMvK','x3zHBgLKyxrLu2vYDMvYvxjS','CMvNAxn0zxjdB252zxjZyxrPB24','x3zHBgLKyxrLqxbPs2v5','rvrjtuvet1vu','zKnNA3K','BNvTyMvY','x3zHBgLKyxrLu2vUze1LC3nHz2vjBNb1Dhm','yMLUza','sMXXwLC','B0nosvm','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','q21uDK4','yxzHAwXHyMXLtw9KzwXZ','C2vYDMvY','C3rHDhvZ','yxbxs1O','BwvZC2fNzxm','B2jQzwn0','rMfPBgvKihrVignYzwf0zsb2ywXPzcbJB252zxjZyxrPB24GsuqGzNjVBtOG','C3nkEwG','yMfZzty0','Bg9HzgvKu2vYDMvYrgf0yq','wLnIvuW','tLDNuNi','ChjVDg90ExbL','Dg9Rzw5vC2fNzq','rMDIs2K','C3vWCg9YDhnwAxnPB24','C3H4tfe','y1fgu1u','rMfPBgvKihrVigXVywqGBw9KzwXZoIa','q0XAsve','Au1JwMO','ufvlAhi','Bw9KzwW','rxjYB3iGz2v0DgLUzYbZDw1Tyxj5igzYB20GC2vYDMvYoG','BgfZDeLUChv0vg9Rzw5dB3vUDa','tMTSwei','y2vPBa','A3nfvxm','CLLICue','Bwf4uMv0CMLLCW','Cgf5Bg9Hzcb0B28GBgfYz2u','A3roDLC','l3vZywDLl3bYAwnPBMC','Bwf4vg9Rzw5Z','CMv0DxjUicHMDw5JDgLVBIGPia','u2vYDMLJzsbUB3qGAw5PDgLHBgL6zwqUienHBgWGAw5PDgLHBgL6zsGPigzPCNn0lG','z0nNzNm','Aw5WDxrFDg9Rzw5Z','uej1DM0','x2DLDerLzMf1BhrnB2rLBa','wejlEfC','tg94AweTq0XjlZeUmc4W','vxDmB2C','v0fVvMm','whnluLC','qvbjigTLEsb2ywXPzgf0Aw9UigzHAwXLzdO','yNjjvKW','A3HTuLq','BLDZAMe','qwvowhC','Dg9tDhjPBMC','C3rYAw5N','AgvHzgvYCW','x3vWzgf0zunVBNzLCNnHDgLVBLn0yxrL','DxnHz2u','qMjUv24','z05tsfq','y29Kzq','yw50AhjVCgLJlxnVBM5LDa','yxzTDMC','ALH1quy','x2vUAgfUy2vfCNjVCG','q29UDMvYC2f0Aw9Uia','sw52ywXPzcbPBNb1DcbWCMLJAw5NigzVCIbTB2rLBca','vwzpEvy','y29UDgvUDcbSzw5NDgGGzxHJzwvKCYbSAw1PDa','mti2otK2og5ArNjlrW','yuDet2W','zu54zM4','DMfSDwvZ','AxnbCNjHEq','qKfex0DbvevxqvK','sw1Hz2uGzgf0ysb0B28GBgfYz2u','sgjnBgm','z2v0tgfZDeLUChv0vg9Rzw5dB3vUDa','z2PYzeW','v0HisNm','Dw9lCxG','B3v0Chv0x3rVA2vUCW','D3nIBhO','l2XSBs9TB2rLBhm','rhzUzgu','Dufyswy','u0vMvLi','rMfPBgvKihrVigXVywqGChjPy2LUzYbKyxrHoG','BhbSzLe','y1LUD2m','txHdvxe','txPLv0m','wgzxq2O','vxbKyxrPBMCGC2vYDMvYignVBNzLCNnHDgLVBJOG','uxnYtwG','q2jxzNq','Dg5ft3C','vwjNAxa','BwvVAKy','AwfeEw4','r2v0DgLUzYbPBwfNzsbKzxnJCMLWDgLVBIbMCM9TihnLCNzLCG','vKfmsurbveLptG','B3jPz2LUywXfCNjVCG','zxHJzxb0Aw9U','uuPHBvu','uKTQvei','tg9HzgvKia','zKXXDei','x2nSyxnZAwz5shr0CevYCM9Y','Aw5MBW','yxP1CMuTB3bLBMfPlwDWDdm1','BMfTzq','v3jOr0G','uLP3z08','C2vYDMLJzxm','q1jfqvrfra','txPuENG','zKzfrKO','BgfZDe91Dhb1DfrVA2vUq291BNq','teHusfi','DxHuz0S','BfLps2W','qwjhDvm','y3PtwfO','DeHgyLC','DxPAuu0','DgvZDa','x2XVywrtzxj2zxjeyxrH','D3fIDM0','y29UzMLN','iIb0BYaI','q0LKzfe','ntzeDLnSAgG','DhjHy2u','zgHqugO','sw52ywXPzcbVDxrWDxqGChjPy2LUzYbMB3iGBw9KzwWG','tK9ux0zpvu5e','t3LkCuK','qxv0Ag9YAxPHDgLVBG','z2v0tgfZDe91Dhb1DfrVA2vUq291BNq','zNjVBq','mti3nJe0nMPQrKPYrW','z2v0sw1Hz2vezxnJCMLWDgLVBG','BMv4Da','sw52ywXPzcbTzxnZywDLignVBNrLBNq','sw52ywXPzcbYzxnWB25ZztOGBwLZC2LUzYbVCIbPBNzHBgLKignVBNrLBNq','CvvduhO','CMvWBgfJzq','x21HA2vszxf1zxn0','qunWtgq','verMrei','zxrcq1C','CevHrKG','ChvZAa','rMfPBgvKihrVigXVywqGqvbjigTLEsbMCM9TignYzwrLBNrPywXZigzPBgu6','yxbWBhK','sLnoANm','z2v0x2LTywDLx2rLC2nYAxb0Aw9U','tvrryLK','Ew5OvhG','sfHbDMy','u2vYDMvYifvstcbTDxn0ihvZzsbivfrqig9YieHuvfbtihbYB3rVy29S','C2vUzf9TzxnZywDL','y090yMi','x2DLDe1VzgvStwf4vg9Rzw5Z','AgfZ','CvLOthq','Ahr0CdO','D2fYBG','BwvZC2fNzsb0B28GBg9UzW','tM8Gy29UDMvYC2f0Aw9UieLeihbYB3zPzgvKig9YignVBNzLCNnHDgLVBIbUB3qGzM91BMqSihvZAw5NigrLzMf1BhqGBw9KzwWGzM9Yihn1Bw1HCNK','rNberNi','Ahr0Chm6','veXkrgO','zMvlCeG','wNzNwMK','Dw1KEK0','zw5hsxu','r2v0DgLUzYbZDw1Tyxj5igzYB20GC2vYDMvY','A0H6rhu','BuXpB3G','tw5QzfC','x3zHBgLKyxrLuhjPy2LUz0rHDge','x3zHBgLKyxrLtw9KzwXeyxrH','Aw5JBhvKzxm','x2XVywrqCMLJAw5Nrgf0yq','su5urvjoquXFu0vsvKvsx0vsuK9s','rxjYB3iGz2v0DgLUzYbPBwfNzsbKzxnJCMLWDgLVBIbMCM9TihnLCNzLCJO','shPRuha','CuTIt0m','uffyzeq','vfzKsu4','uvf2BKe','EfzUz1K','x3nLBMrdAgf0uMvXDwvZDa','AwDps2e','sNfoDuO','DxnLCG','x3nHBML0AxPLq29UDMvYC2f0Aw9Uswq','vunOCwC','u2vYDMvYieXmtsbZzxj2AwnLihnODxqGzg93BIbZDwnJzxnZzNvSBhK','igzHAwXLzdOG','BgfZDfbYAwnPBMDvCgrHDgu','we9XqLK','wejNrwu','l2f1DgGVDMvYAwz5','r3HvEMq','EhzHwLO','z2v0vg9Rzw5vC2fNzq','C3rYAw5NAwz5','vu95z04','CffpuLm','kcGOlISPkYKRksSK','B09xvgm','z3nnD3G','qKDoBwS','DMfSDwu','z2HSyKy','su5wrwK','uuDxEKK','wfr6Exi','sLfstgi','z2v0twf4q29UDgv4DfnPEMu','x2nSyxnZAwz5rxjYB3i','CK1prhC','yxnZAxn0yw50','r0DQtKu','y3vYCMvUy3K','C3bSAxq','EujRvvO','u3HKyuG','uMvXDwvZDcb0Aw1LB3v0lIbtzxj2zxiGBwf5igjLig92zxjSB2fKzwqU','A0fqr1e','v2rZCxO','zeP6v0O','B3v0Chv0','BgjqyMm','wu1qBeG','C2vHCMnO','DhHMEvO','uKT3uwW','rhjSrKm','yu9gvLq','uMvMCMvZAgLUzYbWCMLJAw5NigrHDgeGzNjVBsbZzxj2zxi','BM93','C2vUze1LC3nHz2u','Bwv0Ag9K','yvzMD08','DMfSAwrHDgLVBG','BMv0D29YAW','veLnru9vva','AfvYtM8','u2vYDMvYieXmtsbZzxj2AwnLigLUAxrPywXPEMvKihn1y2nLC3nMDwXSEq','BgHODMO','CMvXDwvZDcb0B28GBgfYz2u','qKf3ywm','Aw1Hz2uTz2vUzxjHDgLVBG','DvDNA0S','zxjYB3juExbL','zxjYB3i','sNDwwhO','DhLWzq','CwDouMi','v0DOt2W','u0vsvKLdrv9vtKfwquLmqujmrq','sNbSEhO','ChjVDg9JB2W','C3vIC3rYAw5N','x3nHzMvkC29UugfYC2u','wvvoBvC','Bg94AweTBg9JywWTA2v5','DezqzuC','uKvrvuvtvf9ftLrjvfLFve9px0XbuKDf','Du5uveS','t0rKufO','DgfIBgu','runptK5sruzvu0ve','tMniENq','Bg9N','q092sMC','ig1VzgvSCW','AhjtBum','muSGDg9Rzw5Z','EffLtuq','z2v0','CMvXDwvZDcbLBNrPDhKGDg9VigXHCMDL','ChjPy2LUzW','sw52ywXPzcbYzxnWB25ZztOGAw52ywXPzcb1C2fNzsbKyxrH','AgvHBhrOEq','zKLPvuy','wMXPEvG','C3LZDgvTuhjVBxb0','CNLpzLy','BK9iDfK','nta3odqWzu9eyMfu','CejlAue','vxnPBMCGy29UDMvYC2f0Aw9Uig1VzgvSigzVCIbZDw1Tyxj5oIa','l2XSBs92AxnPB24','v0ngAKu','s2LkywO','AhvAvKy','wgvsr04','x2rLy3j5ChrlzxK','CMvHzezPBgu','sw52ywXPzcbTyxHuB2TLBNmGzM9Yig1VzgvSia','qwjVCNrfCNjVCG','B1Lez3G','q3HNzhG','tM8GqvbjigTLEsbMB3vUzc4GugXLyxnLihj1BIaIBg94AweGA2v5ic0TC2v0idX5B3vYlwfWAs1RzxK+iIbMAxjZDc4','tM8GqvbjigTLEsbHDMfPBgfIBguUifbSzwfZzsbZzxqGEw91CIbbueKGA2v5igzPCNn0lG','Dw5RBM93BG','ueLzt3e','qMvHCMvYia','EuXJAfC','x2XVywrbCgLlzxK','y3jLzgvUDgLHBhm','C2vYDMvYvxjS','zNn6r2m','x2LZvMfSAwrdB252zxjZyxrPB25jza','CMvMCMvZAfbYAwnPBMDeyxrH','y29UDMvYC2f0Aw9UCW','s1jzEue','sfruuca','r0T1BgC','s2r0u1e','wNzgwxG','ELfAzNi','CNvfwey','otm5nJu2y29IyNrP','y3DAqKO','v3Dyrvq','qxPgAe4','x2XVywrbDMfPBgfIBgvnB2rLBhm','AxDntw0','CMf0zv9SAw1PDa','vvLtvNu','yKnxr0W','y29UDgvUDa','rwrlvuC','DenSq04','s3zHthG','whvLzKO','qKfex1jfuvvfu1q','EMP0sgS','yxP1CMuTB3bLBMfPlwDWDdq','rw1wwKq','sw52ywXPzcbZDw1Tyxj5ihbYB21WDa','zNmVChjVBwLZzxm','vg5mq2K','zhLzrxK','C3vmt2u','z0nIrwS','BwvZC2fNzq','rw1Hzui','t3P4uuC','z2v0u3vTBwfYEq','DxjS','qvvusevoveLdqvrjt04','yxv0AgvUDgLJyxrPB24','AxnjBML0AwfSAxPLza','tw9KzwWGBwLZC2LUzYbYzxf1AxjLzcbMAwvSzdOG','u2Dcz24','x2vZDgLTyxrLvg9Rzw5Z','ywvbDNG','DgLTzw91Da','zu1PEhO','wg9fq0q','ChjPy2LUz0rHDge','CNztB1q','zhL6B0e','x2j1AwXKq2HHDfjLCxvLC3rqyxLSB2fK','x19WCM90B19F'];a0_0x4add=function(){return _0x14af92;};return a0_0x4add();}const ERROR_TYPES=a0_0x1d655d,a0_0x5aeaa7={};a0_0x5aeaa7[a0_0x2af803(0x212)]=0x19d,a0_0x5aeaa7[a0_0x2af803(0x258)]=0x190,a0_0x5aeaa7['UNAUTHORIZED']=0x191,a0_0x5aeaa7[a0_0x2af803(0x27a)]=0x193,a0_0x5aeaa7[a0_0x2af803(0x18a)]=0x194,a0_0x5aeaa7[a0_0x2af803(0x2f8)]=0x1ad,a0_0x5aeaa7[a0_0x2af803(0x1bc)]=0x1f4;const HTTP_STATUS_CODES=a0_0x5aeaa7,REQUEST_SIZE_ERROR_PATTERNS=[a0_0x2af803(0x21f),a0_0x2af803(0x336),a0_0x2af803(0x200),a0_0x2af803(0x1ab),a0_0x2af803(0x359)];export class ServerLLMService{constructor(_0x4e5517,_0x395efc){const _0x229d8b=a0_0x2af803,_0x1405ce={};_0x1405ce['zVWgz']=_0x229d8b(0x28f);const _0x20647a=_0x1405ce,_0x525863=_0x20647a['zVWgz'][_0x229d8b(0x1e6)]('|');let _0x266bdb=0x0;while(!![]){switch(_0x525863[_0x266bdb++]){case'0':this[_0x229d8b(0x178)]=0x0;continue;case'1':this[_0x229d8b(0x183)]=_0x4e5517;continue;case'2':this[_0x229d8b(0x335)]=_0x4e5517[_0x229d8b(0x174)]?.[_0x229d8b(0x319)]?.[_0x229d8b(0x30a)]||DEFAULT_MAX_RETRIES;continue;case'3':this[_0x229d8b(0x29e)]=null;continue;case'4':this[_0x229d8b(0x269)]=![];continue;case'5':this[_0x229d8b(0x2f2)]=_0x395efc;continue;case'6':const _0x201c95={};_0x201c95['input']=0x0,_0x201c95['output']=0x0,this[_0x229d8b(0x325)]=_0x201c95;continue;case'7':this[_0x229d8b(0x2f2)][_0x229d8b(0x16f)](_0x229d8b(0x30b),{'serverUrl':this[_0x229d8b(0x23e)],'timeout':this[_0x229d8b(0x26e)],'maxRetries':this['maxRetries']});continue;case'8':this[_0x229d8b(0x26e)]=_0x4e5517[_0x229d8b(0x174)]?.['server']?.[_0x229d8b(0x26e)]||DEFAULT_TIMEOUT_MS;continue;case'9':this[_0x229d8b(0x242)]=new Map();continue;case'10':this['requestId']=0x0;continue;case'11':this[_0x229d8b(0x318)]=new Map();continue;case'12':this[_0x229d8b(0x1cc)]=null;continue;case'13':this[_0x229d8b(0x330)]=0x0;continue;case'14':this[_0x229d8b(0x23e)]=this['_validateServerUrl'](_0x4e5517['serverUrl']);continue;case'15':this['pricingData']=new Map();continue;}break;}}[a0_0x2af803(0x30c)](_0x47a944){const _0x342d17=a0_0x2af803,_0x3ce7b2={};_0x3ce7b2['rvSoT']=_0x342d17(0x2a3),_0x3ce7b2[_0x342d17(0x17d)]=_0x342d17(0x1a9),_0x3ce7b2[_0x342d17(0x24f)]=_0x342d17(0x1ae),_0x3ce7b2['oUMMl']='Server\x20URL\x20must\x20use\x20HTTP\x20or\x20HTTPS\x20protocol';const _0x55e9b7=_0x3ce7b2;if(!_0x47a944)throw new Error(_0x55e9b7[_0x342d17(0x272)]);try{const _0x3d6af0=new URL(_0x47a944);if(![_0x55e9b7[_0x342d17(0x17d)],_0x55e9b7['iwMMm']]['includes'](_0x3d6af0[_0x342d17(0x20c)]))throw new Error(_0x55e9b7[_0x342d17(0x27e)]);return _0x3d6af0[_0x342d17(0x34a)]()[_0x342d17(0x195)](/\/$/,'');}catch(_0x1ba57d){throw new Error('Invalid\x20server\x20URL:\x20'+_0x1ba57d[_0x342d17(0x262)]);}}['_sanitizeConversationId'](_0x14fff6){const _0x4267cb=a0_0x2af803,_0x33279e={};_0x33279e[_0x4267cb(0x177)]=function(_0x113217,_0x357bb6){return _0x113217!==_0x357bb6;},_0x33279e[_0x4267cb(0x308)]=_0x4267cb(0x34b),_0x33279e[_0x4267cb(0x1b7)]=function(_0x410042,_0x1fafc3){return _0x410042+_0x1fafc3;},_0x33279e['dZAeX']='conversation-',_0x33279e[_0x4267cb(0x217)]=function(_0x2a7e62,_0x414c1e){return _0x2a7e62>_0x414c1e;},_0x33279e['iMcZj']=function(_0xbb47f0,_0x4110cf){return _0xbb47f0+_0x4110cf;},_0x33279e[_0x4267cb(0x26f)]=function(_0x110752,_0x1a3615){return _0x110752+_0x1a3615;};const _0x14fa65=_0x33279e;if(!_0x14fff6||_0x14fa65[_0x4267cb(0x177)](typeof _0x14fff6,_0x14fa65[_0x4267cb(0x308)]))return _0x14fa65['MnjdW'](_0x14fa65[_0x4267cb(0x296)],Date['now']());let _0x3bb53a=_0x14fff6[_0x4267cb(0x195)](/\s+/g,'-')['replace'](/[^a-zA-Z0-9_-]/g,'')[_0x4267cb(0x195)](/-+/g,'-')[_0x4267cb(0x195)](/^-+|-+$/g,'')[_0x4267cb(0x2f0)]();if(!_0x3bb53a)_0x3bb53a=_0x14fa65[_0x4267cb(0x1b7)](_0x14fa65[_0x4267cb(0x296)],Date[_0x4267cb(0x1f6)]());else _0x14fa65[_0x4267cb(0x217)](_0x3bb53a[_0x4267cb(0x276)],0x32)&&(_0x3bb53a=_0x14fa65[_0x4267cb(0x32c)](_0x14fa65[_0x4267cb(0x26f)](_0x3bb53a['substring'](0x0,0x28),'-'),Date[_0x4267cb(0x1f6)]()['toString']()[_0x4267cb(0x2e7)](-0x8)));return _0x3bb53a;}async['initialize'](){const _0x4ae94c=a0_0x2af803,_0x40d46b={};_0x40d46b[_0x4ae94c(0x270)]='Server\x20URL\x20must\x20use\x20HTTP\x20or\x20HTTPS\x20protocol',_0x40d46b['cCNJM']='Connection\x20refused.\x20Server\x20may\x20be\x20down.',_0x40d46b['EdKUG']=function(_0x26cb81,_0x1ec399){return _0x26cb81===_0x1ec399;},_0x40d46b[_0x4ae94c(0x2a1)]=_0x4ae94c(0x35c),_0x40d46b['gNSHT']='Initializing\x20server\x20LLM\x20service',_0x40d46b[_0x4ae94c(0x1a1)]=_0x4ae94c(0x236),_0x40d46b[_0x4ae94c(0x245)]=_0x4ae94c(0x1fe),_0x40d46b[_0x4ae94c(0x2af)]=_0x4ae94c(0x2ba),_0x40d46b['DSdGm']=_0x4ae94c(0x2b0);const _0x2568e0=_0x40d46b;if(this[_0x4ae94c(0x269)]){if(_0x2568e0[_0x4ae94c(0x254)](_0x2568e0[_0x4ae94c(0x2a1)],_0x2568e0[_0x4ae94c(0x2a1)]))return;else throw new _0x336875(_0x2568e0[_0x4ae94c(0x270)]);}try{this[_0x4ae94c(0x2f2)][_0x4ae94c(0x16f)](_0x2568e0[_0x4ae94c(0x350)]),this[_0x4ae94c(0x29e)]=await this[_0x4ae94c(0x23c)]();if(!this[_0x4ae94c(0x29e)])throw new Error(_0x2568e0[_0x4ae94c(0x1a1)]);await this['_loadServerData'](),this[_0x4ae94c(0x269)]=!![],this[_0x4ae94c(0x2f2)]['info'](_0x2568e0[_0x4ae94c(0x245)],{'modelsLoaded':this[_0x4ae94c(0x318)]['size'],'pricingModels':this[_0x4ae94c(0x271)]['size']});}catch(_0x50e28c){if(_0x4ae94c(0x198)===_0x2568e0['kNyOf'])_0x1f90a3[_0x4ae94c(0x262)]=_0x2568e0['cCNJM'];else{this[_0x4ae94c(0x2f2)][_0x4ae94c(0x205)](_0x2568e0[_0x4ae94c(0x2ef)],_0x50e28c);throw _0x50e28c;}}}async[a0_0x2af803(0x181)](){const _0x58f223=a0_0x2af803;await Promise[_0x58f223(0x293)]([this[_0x58f223(0x24e)](),this[_0x58f223(0x1bb)]()]),this[_0x58f223(0x321)]=!![];}async[a0_0x2af803(0x23c)](){const _0x10dda7=a0_0x2af803,_0x4cfd94={};_0x4cfd94[_0x10dda7(0x32b)]=_0x10dda7(0x346),_0x4cfd94[_0x10dda7(0x1e4)]=_0x10dda7(0x278),_0x4cfd94[_0x10dda7(0x172)]=_0x10dda7(0x23d),_0x4cfd94[_0x10dda7(0x229)]='utf8',_0x4cfd94['QsrMh']=_0x10dda7(0x19c);const _0x2b7a4a=_0x4cfd94;try{if(_0x10dda7(0x346)===_0x2b7a4a[_0x10dda7(0x32b)]){const _0x4c41b3=await import('os'),_0x926cc3=await import(_0x2b7a4a[_0x10dda7(0x1e4)]),_0x40f086=await import(_0x10dda7(0x25d)),_0x5cd4ff=_0x926cc3[_0x10dda7(0x28e)](_0x4c41b3['homedir'](),_0x10dda7(0x2ee),_0x2b7a4a[_0x10dda7(0x172)]),_0x32e511=await _0x40f086[_0x10dda7(0x231)](_0x5cd4ff,_0x2b7a4a['pBKiA']),_0x2b6e59=JSON[_0x10dda7(0x2c9)](_0x32e511);return this[_0x10dda7(0x230)](_0x2b6e59[_0x10dda7(0x29e)]);}else this[_0x10dda7(0x330)]=_0x14b2ba[_0x10dda7(0x34e)][_0x10dda7(0x33d)]||0x0,this[_0x10dda7(0x178)]=_0x3164f0[_0x10dda7(0x34e)][_0x10dda7(0x153)]||0x0,this[_0x10dda7(0x325)][_0x10dda7(0x2a4)]+=this[_0x10dda7(0x330)],this[_0x10dda7(0x325)][_0x10dda7(0x1ed)]+=this[_0x10dda7(0x178)];}catch(_0x30d7ef){return this[_0x10dda7(0x2f2)][_0x10dda7(0x2a8)](_0x2b7a4a[_0x10dda7(0x160)],_0x30d7ef),null;}}async[a0_0x2af803(0x30e)](){const _0x19cb09=a0_0x2af803,_0x35a38b={};_0x35a38b[_0x19cb09(0x27f)]=_0x19cb09(0x163),_0x35a38b[_0x19cb09(0x223)]=_0x19cb09(0x1cf),_0x35a38b[_0x19cb09(0x1f1)]='POST';const _0x5ed9bd=_0x35a38b;try{if(_0x5ed9bd[_0x19cb09(0x27f)]===_0x5ed9bd[_0x19cb09(0x27f)]){const _0x2d466c=await this[_0x19cb09(0x196)](_0x5ed9bd[_0x19cb09(0x223)],{'method':_0x5ed9bd['txfyZ']});return _0x2d466c['ok'];}else throw _0x3a245e;}catch(_0x31e43c){return this[_0x19cb09(0x2f2)][_0x19cb09(0x1aa)](_0x19cb09(0x345),_0x31e43c),![];}}async[a0_0x2af803(0x24e)](){const _0x4e71d6=a0_0x2af803,_0x4d2e21={};_0x4d2e21['MoOdR']=_0x4e71d6(0x307),_0x4d2e21['INVEi']=_0x4e71d6(0x155),_0x4d2e21['gQbup']=function(_0x3435f4,_0x4aac6f){return _0x3435f4===_0x4aac6f;},_0x4d2e21['qNECP']='VUIOQ',_0x4d2e21[_0x4e71d6(0x2e2)]=_0x4e71d6(0x261),_0x4d2e21[_0x4e71d6(0x260)]=_0x4e71d6(0x299),_0x4d2e21['wsblz']=function(_0x32a115,_0x17469e){return _0x32a115!==_0x17469e;},_0x4d2e21[_0x4e71d6(0x343)]='Failed\x20to\x20load\x20available\x20models:';const _0x2f7e66=_0x4d2e21;try{this[_0x4e71d6(0x2f2)][_0x4e71d6(0x16f)](_0x2f7e66[_0x4e71d6(0x295)]);const _0x1541e9=await this[_0x4e71d6(0x196)](_0x2f7e66[_0x4e71d6(0x1dc)]),_0x366605=await _0x1541e9['json']();if(!_0x366605[_0x4e71d6(0x2c1)]||!Array[_0x4e71d6(0x35e)](_0x366605[_0x4e71d6(0x2c1)])){if(_0x2f7e66[_0x4e71d6(0x2bc)](_0x2f7e66[_0x4e71d6(0x290)],_0x2f7e66[_0x4e71d6(0x2e2)]))return _0x305210;else throw new Error(_0x4e71d6(0x285));}this[_0x4e71d6(0x318)][_0x4e71d6(0x2fe)]();for(const _0x347d17 of _0x366605[_0x4e71d6(0x2c1)]){if(_0x2f7e66[_0x4e71d6(0x260)]!==_0x2f7e66['suLOe']){if(_0x421bb2){const _0x41e79e=_0x3c3998[_0x4e71d6(0x19d)](_0x37eaa8,arguments);return _0x110c94=null,_0x41e79e;}}else this[_0x4e71d6(0x1b9)](_0x347d17),this[_0x4e71d6(0x318)][_0x4e71d6(0x280)](_0x347d17[_0x4e71d6(0x171)],{'name':_0x347d17['name'],'category':_0x347d17[_0x4e71d6(0x2f4)],'type':_0x347d17['type'],'maxTokens':_0x347d17[_0x4e71d6(0x339)],'supportsVision':_0x347d17[_0x4e71d6(0x327)]||![],'supportsSystem':_0x2f7e66[_0x4e71d6(0x154)](_0x347d17[_0x4e71d6(0x2d9)],![]),'pricing':_0x347d17[_0x4e71d6(0x220)]||{}});}this[_0x4e71d6(0x2f2)][_0x4e71d6(0x16f)](_0x4e71d6(0x16c)+this['availableModels'][_0x4e71d6(0x2cc)]+_0x4e71d6(0x282));}catch(_0x45d580){this['logger'][_0x4e71d6(0x205)](_0x2f7e66[_0x4e71d6(0x343)],_0x45d580);throw new Error(_0x4e71d6(0x32a)+_0x45d580[_0x4e71d6(0x262)]);}}['_validateModelData'](_0x392fa1){const _0x34d7cb=a0_0x2af803,_0x3f67f3={};_0x3f67f3[_0x34d7cb(0x176)]=_0x34d7cb(0x33b),_0x3f67f3['ZvFYx']='get_image_description',_0x3f67f3[_0x34d7cb(0x31b)]=_0x34d7cb(0x1c7),_0x3f67f3['XfWCj']=_0x34d7cb(0x1e3),_0x3f67f3['cYnwc']=_0x34d7cb(0x171),_0x3f67f3['UfOyV']='category',_0x3f67f3[_0x34d7cb(0x354)]=function(_0x3f32c2,_0x121f61){return _0x3f32c2!==_0x121f61;},_0x3f67f3[_0x34d7cb(0x1af)]=_0x34d7cb(0x24b),_0x3f67f3['lEnFD']=_0x34d7cb(0x1d8),_0x3f67f3[_0x34d7cb(0x20f)]=function(_0x5341ee,_0x52c661){return _0x5341ee===_0x52c661;},_0x3f67f3[_0x34d7cb(0x283)]=_0x34d7cb(0x24c),_0x3f67f3[_0x34d7cb(0x2ce)]=_0x34d7cb(0x1fd),_0x3f67f3[_0x34d7cb(0x1ec)]=function(_0x5cec19,_0x5ec5a8){return _0x5cec19===_0x5ec5a8;},_0x3f67f3[_0x34d7cb(0x2ed)]=_0x34d7cb(0x2b4),_0x3f67f3[_0x34d7cb(0x15c)]=function(_0x24d65d,_0xc58e88){return _0x24d65d<=_0xc58e88;},_0x3f67f3[_0x34d7cb(0x302)]=_0x34d7cb(0x151),_0x3f67f3[_0x34d7cb(0x2e9)]=_0x34d7cb(0x1bf);const _0x1f5226=_0x3f67f3,_0x5f81a2=[_0x1f5226[_0x34d7cb(0x15b)],_0x1f5226[_0x34d7cb(0x358)],_0x34d7cb(0x207)];for(const _0x3ad56a of _0x5f81a2){if(_0x1f5226[_0x34d7cb(0x354)](_0x1f5226['TLJDj'],_0x1f5226[_0x34d7cb(0x2b3)])){if(!_0x392fa1[_0x3ad56a]){if(_0x1f5226[_0x34d7cb(0x20f)](_0x1f5226[_0x34d7cb(0x283)],_0x1f5226[_0x34d7cb(0x2ce)]))this['lastInputTokenCount']=_0xa67efb[_0x34d7cb(0x34e)][_0x34d7cb(0x33d)]||0x0,this[_0x34d7cb(0x178)]=_0x122f5f[_0x34d7cb(0x34e)]['output_tokens']||0x0,this[_0x34d7cb(0x325)][_0x34d7cb(0x2a4)]+=this[_0x34d7cb(0x330)],this[_0x34d7cb(0x325)][_0x34d7cb(0x1ed)]+=this[_0x34d7cb(0x178)];else throw new Error(_0x34d7cb(0x26a)+_0x3ad56a);}}else throw new _0x253965(_0x1f5226[_0x34d7cb(0x176)]);}if(_0x392fa1[_0x34d7cb(0x207)]!==_0x34d7cb(0x202)){if(_0x1f5226[_0x34d7cb(0x1ec)](_0x1f5226[_0x34d7cb(0x2ed)],_0x1f5226[_0x34d7cb(0x2ed)])){if(typeof _0x392fa1[_0x34d7cb(0x339)]!=='number'||_0x1f5226['MxCUq'](_0x392fa1['maxTokens'],0x0)){if(_0x1f5226['jXuAF'](_0x1f5226['IPUbs'],_0x1f5226['bkayG']))throw new Error(_0x34d7cb(0x232)+_0x392fa1[_0x34d7cb(0x171)]);else{this[_0x34d7cb(0x2f2)][_0x34d7cb(0x205)](_0x34d7cb(0x1bd),_0x358529);throw this[_0x34d7cb(0x355)](_0x580447,_0x1f5226[_0x34d7cb(0x247)]);}}}else{_0x1df43b[_0x34d7cb(0x34e)]&&(this[_0x34d7cb(0x330)]=_0x52a38e[_0x34d7cb(0x34e)][_0x34d7cb(0x33d)]||0x0,this[_0x34d7cb(0x178)]=_0x530ade[_0x34d7cb(0x34e)][_0x34d7cb(0x153)]||0x0,this[_0x34d7cb(0x325)][_0x34d7cb(0x2a4)]+=this[_0x34d7cb(0x330)],this[_0x34d7cb(0x325)][_0x34d7cb(0x1ed)]+=this[_0x34d7cb(0x178)]);const _0x1bf3ce={};_0x1bf3ce[_0x34d7cb(0x301)]=_0x1f5226[_0x34d7cb(0x31b)],_0x1bf3ce['content']=_0x2825e0;const _0x514238={};_0x514238['role']=_0x1f5226[_0x34d7cb(0x15e)],_0x514238[_0x34d7cb(0x253)]=_0x117824[_0x34d7cb(0x253)],_0xcb3673[_0x34d7cb(0x31c)][_0x34d7cb(0x19b)](_0x1bf3ce,_0x514238),_0x51b6f4[_0x34d7cb(0x2ab)]=new _0x16d1cb()[_0x34d7cb(0x2a7)]();}}}async[a0_0x2af803(0x1bb)](){const _0x44b38d=a0_0x2af803,_0x480166={};_0x480166[_0x44b38d(0x2c8)]=_0x44b38d(0x2a3),_0x480166['uzZQM']='Loading\x20pricing\x20data\x20from\x20server',_0x480166['aaUMC']=_0x44b38d(0x338),_0x480166['HbMlc']=function(_0x5502ba,_0x23f62e){return _0x5502ba===_0x23f62e;},_0x480166[_0x44b38d(0x1c3)]=_0x44b38d(0x292),_0x480166['Jplxz']=_0x44b38d(0x19a),_0x480166[_0x44b38d(0x1c1)]='USD',_0x480166['dyYEy']=function(_0x185b09,_0x4690a6){return _0x185b09===_0x4690a6;},_0x480166['xQeMD']='QOcAJ';const _0x4231ab=_0x480166;try{if(_0x44b38d(0x279)!==_0x44b38d(0x279))throw new _0xad92d3(_0x4231ab[_0x44b38d(0x2c8)]);else{this[_0x44b38d(0x2f2)][_0x44b38d(0x16f)](_0x4231ab[_0x44b38d(0x17f)]);const _0x57b7da=await this[_0x44b38d(0x196)](_0x4231ab['aaUMC']),_0x4bf210=await _0x57b7da[_0x44b38d(0x2f1)]();if(!_0x4bf210['pricing']){if(_0x4231ab[_0x44b38d(0x361)](_0x4231ab['xVngY'],_0x44b38d(0x35b)))return _0x107192[_0x44b38d(0x2ae)];else throw new Error(_0x44b38d(0x309));}this[_0x44b38d(0x271)][_0x44b38d(0x2fe)]();for(const [_0xc13157,_0x4e55f4]of Object[_0x44b38d(0x2d7)](_0x4bf210[_0x44b38d(0x220)])){if(_0x4231ab['Jplxz']!==_0x4231ab[_0x44b38d(0x20b)])return this[_0x44b38d(0x330)];else{this[_0x44b38d(0x1b8)](_0xc13157,_0x4e55f4);const _0x181f8c={};_0x181f8c[_0x44b38d(0x2a4)]=_0x4e55f4[_0x44b38d(0x2a4)],_0x181f8c[_0x44b38d(0x1ed)]=_0x4e55f4[_0x44b38d(0x1ed)],_0x181f8c['unit']=_0x4e55f4['unit']||_0x44b38d(0x21c),_0x181f8c[_0x44b38d(0x1e5)]=_0x4e55f4[_0x44b38d(0x1e5)]||_0x4231ab[_0x44b38d(0x1c1)],this['pricingData']['set'](_0xc13157,_0x181f8c);}}this['lastPricingUpdate']=new Date()[_0x44b38d(0x2a7)](),this['logger']['info'](_0x44b38d(0x2e1)+this[_0x44b38d(0x271)][_0x44b38d(0x2cc)]+_0x44b38d(0x21a));}}catch(_0x5ac90c){if(_0x4231ab[_0x44b38d(0x25f)](_0x4231ab[_0x44b38d(0x21d)],_0x44b38d(0x29f))){this['logger']['error'](_0x44b38d(0x159),_0x5ac90c);throw new Error('Failed\x20to\x20load\x20pricing:\x20'+_0x5ac90c[_0x44b38d(0x262)]);}else _0x355775[_0x44b38d(0x262)]='DNS\x20lookup\x20failed.\x20Check\x20server\x20URL.';}}['_validatePricingData'](_0x5ab5d2,_0x328ae2){const _0x50298f=a0_0x2af803,_0x22e1d0={};_0x22e1d0['OyJqI']=_0x50298f(0x21c),_0x22e1d0[_0x50298f(0x1c6)]=function(_0x31355d,_0x2aab33){return _0x31355d!==_0x2aab33;},_0x22e1d0[_0x50298f(0x333)]=_0x50298f(0x311),_0x22e1d0[_0x50298f(0x2e5)]=function(_0x3a4ab4,_0x5ba116){return _0x3a4ab4===_0x5ba116;},_0x22e1d0[_0x50298f(0x1a2)]=_0x50298f(0x326);const _0x35c0c5=_0x22e1d0;if(_0x35c0c5[_0x50298f(0x1c6)](typeof _0x328ae2['input'],_0x35c0c5['ksEUs'])||_0x328ae2['input']<0x0)throw new Error('Invalid\x20input\x20pricing\x20for\x20model\x20'+_0x5ab5d2);if(typeof _0x328ae2[_0x50298f(0x1ed)]!=='number'||_0x328ae2[_0x50298f(0x1ed)]<0x0){if(_0x35c0c5[_0x50298f(0x2e5)](_0x35c0c5['HXAvf'],_0x50298f(0x326)))throw new Error(_0x50298f(0x189)+_0x5ab5d2);else{this['_validatePricingData'](_0x1e293f,_0x4172b2);const _0x376c99={};_0x376c99['input']=_0xb94db0['input'],_0x376c99[_0x50298f(0x1ed)]=_0x276482['output'],_0x376c99['unit']=_0x5156d2['unit']||_0x35c0c5[_0x50298f(0x18b)],_0x376c99[_0x50298f(0x1e5)]=_0x5d9d6a[_0x50298f(0x1e5)]||'USD',this[_0x50298f(0x271)]['set'](_0x5181b6,_0x376c99);}}}async['getAvailableModels'](){const _0x491a86=a0_0x2af803;!this[_0x491a86(0x321)]&&await this[_0x491a86(0x181)]();let _0x4a5ea1=Array[_0x491a86(0x18e)](this[_0x491a86(0x318)][_0x491a86(0x35d)]());return _0x4a5ea1;}async[a0_0x2af803(0x2f3)](){const _0xef3e2e=a0_0x2af803,_0x42ebe4={};_0x42ebe4[_0xef3e2e(0x317)]=_0xef3e2e(0x2e4),_0x42ebe4['oCNIS']=_0xef3e2e(0x194);const _0x13ba91=_0x42ebe4;return!this[_0xef3e2e(0x321)]&&(_0x13ba91['CmTvN']===_0x13ba91[_0xef3e2e(0x315)]?_0x4f012e=_0x519b3c:await this[_0xef3e2e(0x181)]()),new Map(this[_0xef3e2e(0x271)]);}['getModelPricing'](_0x532dbf){const _0x2c6786=a0_0x2af803;return this[_0x2c6786(0x271)]['get'](_0x532dbf)||null;}[a0_0x2af803(0x240)](_0x4d2bb2){const _0xb79bda=a0_0x2af803,_0x391bcb={};_0x391bcb[_0xb79bda(0x251)]=_0xb79bda(0x34b),_0x391bcb[_0xb79bda(0x179)]=function(_0x59c030,_0x178f55){return _0x59c030>_0x178f55;};const _0xb704d5=_0x391bcb;return typeof _0x4d2bb2===_0xb704d5[_0xb79bda(0x251)]&&_0xb704d5[_0xb79bda(0x179)](_0x4d2bb2[_0xb79bda(0x276)],0x0)&&_0x4d2bb2[_0xb79bda(0x276)]<=0x64&&/^[a-zA-Z0-9_-]+$/[_0xb79bda(0x180)](_0x4d2bb2);}async[a0_0x2af803(0x30d)](_0x30c0b3,_0x23af00,_0x4f02e1=null){const _0x5148a5=a0_0x2af803,_0x20f5c7={'xjFNb':function(_0x1bdf03,_0x2eb662){return _0x1bdf03(_0x2eb662);},'rYbqA':function(_0x35d4bf,_0x501760){return _0x35d4bf+_0x501760;},'ipLvB':'return\x20(function()\x20','PIYOq':'{}.constructor(\x22return\x20this\x22)(\x20)','zjtHk':function(_0xfa042){return _0xfa042();},'lhhvj':_0x5148a5(0x16f),'avmvg':_0x5148a5(0x215),'ssJyh':_0x5148a5(0x187),'fszGc':function(_0x191ddd,_0x28d674){return _0x191ddd<_0x28d674;},'AeNXw':function(_0xcd4ef3,_0x1665e1){return _0xcd4ef3===_0x1665e1;},'yLpLK':_0x5148a5(0x2fb),'akPSf':function(_0x275bdd,_0x5a0b04){return _0x275bdd||_0x5a0b04;},'zIwhK':function(_0x5f28ac,_0x4646ef){return _0x5f28ac!==_0x4646ef;}},_0x54aca7=_0x4f02e1||this[_0x5148a5(0x33f)]();this[_0x5148a5(0x2f2)][_0x5148a5(0x16f)](_0x5148a5(0x2d3)+_0x30c0b3);const _0x112428=this[_0x5148a5(0x1c8)](_0x30c0b3);if(_0x112428!==_0x30c0b3){if(_0x20f5c7[_0x5148a5(0x349)](_0x5148a5(0x2fb),_0x20f5c7['yLpLK']))this['logger'][_0x5148a5(0x16f)]('Sanitized\x20conversation\x20ID\x20from\x20\x22'+_0x30c0b3+'\x22\x20to\x20\x22'+_0x112428+'\x22');else{let _0x4da955;try{const _0x4b632b=JbcZCE[_0x5148a5(0x303)](_0xd3423,JbcZCE[_0x5148a5(0x334)](JbcZCE['ipLvB']+JbcZCE[_0x5148a5(0x239)],');'));_0x4da955=JbcZCE[_0x5148a5(0x259)](_0x4b632b);}catch(_0xb0994){_0x4da955=_0x39c848;}const _0xbf1016=_0x4da955[_0x5148a5(0x281)]=_0x4da955['console']||{},_0x1b3694=[_0x5148a5(0x218),'warn',JbcZCE[_0x5148a5(0x1ff)],_0x5148a5(0x205),_0x5148a5(0x169),JbcZCE[_0x5148a5(0x353)],JbcZCE[_0x5148a5(0x31f)]];for(let _0x2c79a1=0x0;JbcZCE[_0x5148a5(0x23f)](_0x2c79a1,_0x1b3694[_0x5148a5(0x276)]);_0x2c79a1++){const _0x250a77=_0x1fb386['constructor'][_0x5148a5(0x324)][_0x5148a5(0x313)](_0x49331e),_0x242844=_0x1b3694[_0x2c79a1],_0x3cec9d=_0xbf1016[_0x242844]||_0x250a77;_0x250a77[_0x5148a5(0x275)]=_0x7ecdac['bind'](_0x27d925),_0x250a77[_0x5148a5(0x34a)]=_0x3cec9d[_0x5148a5(0x34a)][_0x5148a5(0x313)](_0x3cec9d),_0xbf1016[_0x242844]=_0x250a77;}}}if(!this[_0x5148a5(0x240)](_0x112428))throw new Error(_0x5148a5(0x31e)+_0x30c0b3);this['conversations'][_0x5148a5(0x280)](_0x112428,{'originalId':_0x30c0b3,'systemPrompt':_0x20f5c7['akPSf'](_0x23af00,''),'messages':[],'model':_0x54aca7,'createdAt':new Date()[_0x5148a5(0x2a7)](),'lastActivity':new Date()[_0x5148a5(0x2a7)]()}),_0x20f5c7['zIwhK'](_0x112428,_0x30c0b3)&&this[_0x5148a5(0x242)]['set'](_0x30c0b3,this[_0x5148a5(0x242)][_0x5148a5(0x21e)](_0x112428));}[a0_0x2af803(0x33f)](){const _0x244bd7=a0_0x2af803,_0x54f9e2={};_0x54f9e2[_0x244bd7(0x2d4)]='Request\x20timeout.\x20Server\x20may\x20be\x20overloaded.',_0x54f9e2['fkkKm']=_0x244bd7(0x25a),_0x54f9e2[_0x244bd7(0x1d0)]=_0x244bd7(0x352),_0x54f9e2[_0x244bd7(0x26d)]=_0x244bd7(0x170),_0x54f9e2[_0x244bd7(0x306)]=function(_0x365716,_0x211384){return _0x365716!==_0x211384;},_0x54f9e2['gTOPt']=_0x244bd7(0x199),_0x54f9e2[_0x244bd7(0x2d8)]='TpBVU';const _0x521ec0=_0x54f9e2,_0x23dfbc=[_0x521ec0[_0x244bd7(0x2c2)],_0x521ec0[_0x244bd7(0x1d0)],_0x521ec0[_0x244bd7(0x26d)]];for(const _0x1523f0 of _0x23dfbc){if(this[_0x244bd7(0x318)]['has'](_0x1523f0)){if(_0x521ec0['RtNcb'](_0x521ec0['gTOPt'],_0x521ec0['zZBow']))return _0x1523f0;else _0x358834[_0x244bd7(0x262)]=_0x521ec0[_0x244bd7(0x2d4)],_0x1add53[_0x244bd7(0x204)]=_0x4df277[_0x244bd7(0x1fc)];}}const _0x4a040d=this[_0x244bd7(0x318)][_0x244bd7(0x35d)]()[_0x244bd7(0x191)]()[_0x244bd7(0x1da)];return _0x4a040d?_0x4a040d['name']:_0x521ec0[_0x244bd7(0x2c2)];}async[a0_0x2af803(0x1f7)](_0x2a8cb5,_0x46ead8,_0x1d541d){const _0x2ba0eb=a0_0x2af803,_0x4a887a={};_0x4a887a[_0x2ba0eb(0x34f)]=function(_0x9dc74d,_0x35d9ca){return _0x9dc74d^_0x35d9ca;},_0x4a887a[_0x2ba0eb(0x1e8)]=function(_0x59bd49,_0xed3300){return _0x59bd49%_0xed3300;},_0x4a887a[_0x2ba0eb(0x1b6)]=function(_0x55eeca,_0x2f72fb){return _0x55eeca!==_0x2f72fb;},_0x4a887a[_0x2ba0eb(0x337)]=function(_0x1d53fa,_0x49ce35){return _0x1d53fa<_0x49ce35;},_0x4a887a[_0x2ba0eb(0x1b2)]=function(_0x38a1f7,_0x13b604){return _0x38a1f7!==_0x13b604;},_0x4a887a[_0x2ba0eb(0x2b5)]=function(_0x5e1def,_0x3edc0e){return _0x5e1def<_0x3edc0e;},_0x4a887a[_0x2ba0eb(0x246)]=_0x2ba0eb(0x2f5),_0x4a887a['WQtXA']=_0x2ba0eb(0x33b),_0x4a887a[_0x2ba0eb(0x2db)]=_0x2ba0eb(0x237),_0x4a887a[_0x2ba0eb(0x211)]='gbREG',_0x4a887a[_0x2ba0eb(0x310)]=function(_0x3da0cb,_0x28128a){return _0x3da0cb!==_0x28128a;},_0x4a887a[_0x2ba0eb(0x1cd)]=_0x2ba0eb(0x209);const _0x5da2f4=_0x4a887a;this[_0x2ba0eb(0x2f2)][_0x2ba0eb(0x16f)]('Sending\x20message\x20to\x20server\x20for\x20conversation:\x20'+_0x2a8cb5);if(!this['isInitialized']){if(_0x5da2f4[_0x2ba0eb(0x1b6)](_0x5da2f4[_0x2ba0eb(0x246)],_0x5da2f4[_0x2ba0eb(0x246)]))_0xf65d55+=_0x1bac17[_0x2ba0eb(0x2df)](_0x5da2f4[_0x2ba0eb(0x34f)](_0x5bac09[_0x2ba0eb(0x29b)](_0x4c2a96),_0x248394[_0x2ba0eb(0x29b)](_0x5da2f4[_0x2ba0eb(0x1e8)](_0x43ccc0,_0x4ba1d8[_0x2ba0eb(0x276)]))));else throw new Error(_0x5da2f4[_0x2ba0eb(0x2b7)]);}if(!this[_0x2ba0eb(0x29e)])throw new Error(_0x5da2f4['nfSOW']);this[_0x2ba0eb(0x312)](_0x2a8cb5,_0x46ead8);const _0xdb9e6d=this['_sanitizeConversationId'](_0x2a8cb5),_0x325719=this['conversations'][_0x2ba0eb(0x1a7)](_0x2a8cb5)?_0x2a8cb5:_0xdb9e6d;if(!this[_0x2ba0eb(0x242)]['has'](_0x325719))throw new Error(_0x2ba0eb(0x356)+_0x2a8cb5+'\x20not\x20found');const _0x4820de=this['conversations'][_0x2ba0eb(0x21e)](_0x325719);if(_0x1d541d&&(!_0x4820de['messages']||_0x4820de[_0x2ba0eb(0x31c)]['length']===0x0)){if(_0x5da2f4[_0x2ba0eb(0x211)]!==_0x2ba0eb(0x213))this[_0x2ba0eb(0x34d)](_0x4820de,_0x1d541d);else{if(_0x5da2f4[_0x2ba0eb(0x1b6)](typeof _0xca9e9[_0x2ba0eb(0x2a4)],_0x2ba0eb(0x311))||_0x5da2f4['ktNvW'](_0x49aa5c[_0x2ba0eb(0x2a4)],0x0))throw new _0x492496(_0x2ba0eb(0x357)+_0x20f1c8);if(_0x5da2f4['umdzM'](typeof _0x17a9a9[_0x2ba0eb(0x1ed)],'number')||_0x5da2f4[_0x2ba0eb(0x2b5)](_0x783b39['output'],0x0))throw new _0x47cc20(_0x2ba0eb(0x189)+_0x577a83);}}const _0x3a54b6=this[_0x2ba0eb(0x274)](_0xdb9e6d,_0x46ead8,_0x4820de);try{const _0x1d2af4=await this[_0x2ba0eb(0x1c4)](_0x3a54b6);return this[_0x2ba0eb(0x2ff)](_0x4820de,_0x46ead8,_0x1d2af4),_0x1d2af4[_0x2ba0eb(0x253)];}catch(_0x3740d9){if(_0x5da2f4['fCgky'](_0x5da2f4[_0x2ba0eb(0x1cd)],_0x2ba0eb(0x28b))){this[_0x2ba0eb(0x2f2)][_0x2ba0eb(0x205)](_0x2ba0eb(0x28d),_0x3740d9);throw this[_0x2ba0eb(0x355)](_0x3740d9,_0x2ba0eb(0x1a4));}else throw new _0x504a64(_0x2ba0eb(0x356)+_0x2f8617+_0x2ba0eb(0x2d1));}}[a0_0x2af803(0x312)](_0x2ee2cd,_0x19c942){const _0x3ca780=a0_0x2af803,_0x4e2942={};_0x4e2942['lplfQ']='Shutting\x20down\x20server\x20LLM\x20service',_0x4e2942['igOKa']=_0x3ca780(0x34b),_0x4e2942['XBgEe']=_0x3ca780(0x2a0),_0x4e2942[_0x3ca780(0x284)]=function(_0x8a787,_0x494a25){return _0x8a787!==_0x494a25;},_0x4e2942[_0x3ca780(0x2ad)]='cjdpk';const _0x40a875=_0x4e2942;if(!_0x2ee2cd||typeof _0x2ee2cd!==_0x40a875[_0x3ca780(0x1c5)])throw new Error(_0x40a875[_0x3ca780(0x1ce)]);if(!_0x19c942||_0x40a875[_0x3ca780(0x284)](typeof _0x19c942,_0x40a875[_0x3ca780(0x1c5)])){if(_0x40a875[_0x3ca780(0x284)](_0x40a875[_0x3ca780(0x2ad)],'zRbaJ'))throw new Error(_0x3ca780(0x192));else this['logger']['info'](_0x40a875[_0x3ca780(0x15a)]),this['conversations']['clear'](),this[_0x3ca780(0x318)][_0x3ca780(0x2fe)](),this[_0x3ca780(0x271)]['clear'](),this[_0x3ca780(0x269)]=![],this[_0x3ca780(0x29e)]=null,this['logger'][_0x3ca780(0x16f)](_0x3ca780(0x1ca));}}[a0_0x2af803(0x34d)](_0x5910e8,_0xcc9c1f){const _0x21b0a5=a0_0x2af803,_0x2a0430={};_0x2a0430[_0x21b0a5(0x1c2)]=_0x21b0a5(0x1a9),_0x2a0430[_0x21b0a5(0x165)]=_0x21b0a5(0x1ae),_0x2a0430[_0x21b0a5(0x1a0)]=_0x21b0a5(0x309),_0x2a0430[_0x21b0a5(0x342)]=_0x21b0a5(0x206),_0x2a0430['XeRGN']=function(_0x5bebb3,_0x230c67){return _0x5bebb3===_0x230c67;},_0x2a0430['tvBGg']=_0x21b0a5(0x2d6),_0x2a0430[_0x21b0a5(0x29c)]=function(_0x5df68a,_0x2d5660){return _0x5df68a!==_0x2d5660;},_0x2a0430[_0x21b0a5(0x255)]=_0x21b0a5(0x1ee);const _0x3e0dc7=_0x2a0430;if(_0xcc9c1f[_0x21b0a5(0x31c)]&&Array[_0x21b0a5(0x35e)](_0xcc9c1f[_0x21b0a5(0x31c)])){if(_0x3e0dc7['UwLog']===_0x21b0a5(0x33c))throw new _0x31ec05(_0x21b0a5(0x26a)+_0x12e50c);else _0x5910e8[_0x21b0a5(0x31c)]=_0xcc9c1f['messages'];}if(_0xcc9c1f[_0x21b0a5(0x225)]&&_0x3e0dc7[_0x21b0a5(0x22f)](typeof _0xcc9c1f[_0x21b0a5(0x225)],_0x21b0a5(0x34b))){if(_0x3e0dc7[_0x21b0a5(0x305)]!==_0x21b0a5(0x235))_0x5910e8[_0x21b0a5(0x225)]=_0xcc9c1f[_0x21b0a5(0x225)];else{const _0x2e803b=new _0x3f2cef(_0x554c02);if(![_0x3e0dc7['QQvnA'],_0x3e0dc7[_0x21b0a5(0x165)]][_0x21b0a5(0x1ba)](_0x2e803b['protocol']))throw new _0x2c7fae(_0x21b0a5(0x1a3));return _0x2e803b[_0x21b0a5(0x34a)]()[_0x21b0a5(0x195)](/\/$/,'');}}if(_0xcc9c1f['model']&&this['availableModels']['has'](_0xcc9c1f[_0x21b0a5(0x32e)])){if(_0x3e0dc7['LMWmm'](_0x3e0dc7['tClCN'],_0x21b0a5(0x1de)))_0x5910e8['model']=_0xcc9c1f[_0x21b0a5(0x32e)];else throw new _0x34db1(_0x3e0dc7[_0x21b0a5(0x1a0)]);}_0x5910e8[_0x21b0a5(0x2ab)]=new Date()['toISOString']();}['_buildChatRequestPayload'](_0x31bf4e,_0x8344e3,_0x529e3e){const _0x20ecfe=a0_0x2af803;return{'conversationId':_0x31bf4e,'message':_0x8344e3[_0x20ecfe(0x2ec)](),'systemPrompt':_0x529e3e[_0x20ecfe(0x225)],'messages':_0x529e3e[_0x20ecfe(0x31c)]||[],'model':_0x529e3e['model'],'requestId':this['_generateRequestId'](),'options':{'temperature':0.7,'maxTokens':this[_0x20ecfe(0x1a6)](_0x529e3e[_0x20ecfe(0x32e)])}};}['_generateRequestId'](){const _0xebd293=a0_0x2af803;return _0xebd293(0x286)+Date[_0xebd293(0x1f6)]()+'_'+ ++this['requestId'];}[a0_0x2af803(0x1a6)](_0xae301a){const _0x312eeb=a0_0x2af803,_0x1bc4fc=this[_0x312eeb(0x318)][_0x312eeb(0x21e)](_0xae301a);return _0x1bc4fc?_0x1bc4fc['maxTokens']:0xfa0;}async[a0_0x2af803(0x1c4)](_0x35653b){const _0x5a0425=a0_0x2af803,_0x49cbc6={};_0x49cbc6[_0x5a0425(0x234)]='/llm/chat';const _0x40ae3e=_0x49cbc6;try{const _0xf2aa6c=await this[_0x5a0425(0x196)](_0x40ae3e[_0x5a0425(0x234)],{'method':_0x5a0425(0x28a),'body':JSON[_0x5a0425(0x1d3)](_0x35653b)});if(!_0xf2aa6c['ok']){const _0x5ad1e7=await this[_0x5a0425(0x20e)](_0xf2aa6c),_0x388119=this[_0x5a0425(0x2b6)](_0xf2aa6c[_0x5a0425(0x31a)],_0x5ad1e7['error']||_0xf2aa6c[_0x5a0425(0x29a)]);throw _0x388119;}const _0x47840d=await _0xf2aa6c['json']();return this[_0x5a0425(0x2bd)](_0x47840d),_0x47840d;}catch(_0x3569b6){throw _0x3569b6;}}[a0_0x2af803(0x2bd)](_0x5ac773){const _0x5df8a5=a0_0x2af803,_0x541d89={};_0x541d89[_0x5df8a5(0x1d9)]=function(_0x55f9ba,_0x4210b3){return _0x55f9ba===_0x4210b3;},_0x541d89[_0x5df8a5(0x263)]='ECONNREFUSED',_0x541d89[_0x5df8a5(0x2de)]=_0x5df8a5(0x2aa),_0x541d89[_0x5df8a5(0x2c6)]=function(_0x13063,_0x3442a3){return _0x13063===_0x3442a3;},_0x541d89[_0x5df8a5(0x1c9)]=_0x5df8a5(0x297),_0x541d89[_0x5df8a5(0x16d)]=_0x5df8a5(0x27c),_0x541d89[_0x5df8a5(0x161)]=function(_0x46648e,_0x5f4b7e){return _0x46648e===_0x5f4b7e;},_0x541d89[_0x5df8a5(0x2c0)]=_0x5df8a5(0x30f),_0x541d89[_0x5df8a5(0x2d2)]=function(_0x1f0d26,_0x2ea9c9){return _0x1f0d26===_0x2ea9c9;},_0x541d89['lYOKl']=_0x5df8a5(0x233),_0x541d89[_0x5df8a5(0x29d)]=_0x5df8a5(0x1e9),_0x541d89[_0x5df8a5(0x300)]=function(_0x107191,_0x52e485){return _0x107191!==_0x52e485;},_0x541d89['dyzoA']=function(_0x1537b3,_0x36005c){return _0x1537b3!==_0x36005c;},_0x541d89[_0x5df8a5(0x227)]=_0x5df8a5(0x26b),_0x541d89['FdOWU']=_0x5df8a5(0x193),_0x541d89['RURbm']=_0x5df8a5(0x31d),_0x541d89['PPGjx']=_0x5df8a5(0x221);const _0x327ef8=_0x541d89;if(!_0x5ac773[_0x5df8a5(0x253)]||_0x327ef8[_0x5df8a5(0x300)](typeof _0x5ac773[_0x5df8a5(0x253)],_0x5df8a5(0x34b))){if(_0x327ef8[_0x5df8a5(0x273)](_0x5df8a5(0x26b),_0x327ef8['nOHtY'])){const _0x1ee04c=new _0x4989bb(_0x5df8a5(0x2d0)+_0x50c1ef[_0x5df8a5(0x262)]);_0x1ee04c[_0x5df8a5(0x266)]=_0x378e68,_0x1ee04c[_0x5df8a5(0x168)]=_0x2061fc,_0x1ee04c[_0x5df8a5(0x204)]=_0x4ded24[_0x5df8a5(0x2ae)];if(_0x327ef8[_0x5df8a5(0x1d9)](_0x3ae9f9['code'],_0x327ef8[_0x5df8a5(0x263)]))_0x1ee04c[_0x5df8a5(0x262)]=_0x327ef8[_0x5df8a5(0x2de)];else{if(_0x327ef8[_0x5df8a5(0x2c6)](_0x46d8ba[_0x5df8a5(0x351)],_0x327ef8[_0x5df8a5(0x1c9)]))_0x1ee04c[_0x5df8a5(0x262)]=_0x327ef8[_0x5df8a5(0x16d)];else(_0x327ef8[_0x5df8a5(0x161)](_0x25eccc['code'],_0x327ef8[_0x5df8a5(0x2c0)])||_0x327ef8[_0x5df8a5(0x2d2)](_0xd155e8[_0x5df8a5(0x171)],_0x327ef8[_0x5df8a5(0x17b)]))&&(_0x1ee04c[_0x5df8a5(0x262)]=_0x327ef8['EwuzP'],_0x1ee04c[_0x5df8a5(0x204)]=_0x37e441[_0x5df8a5(0x1fc)]);}return _0x1ee04c;}else throw new Error(_0x327ef8[_0x5df8a5(0x298)]);}if(_0x5ac773[_0x5df8a5(0x34e)]&&_0x327ef8[_0x5df8a5(0x300)](typeof _0x5ac773[_0x5df8a5(0x34e)],_0x327ef8[_0x5df8a5(0x2cd)]))throw new Error(_0x327ef8['PPGjx']);}[a0_0x2af803(0x2ff)](_0x51f49a,_0x409eef,_0xbe8b05){const _0xfe0599=a0_0x2af803,_0x3b12fc={};_0x3b12fc['ORJJq']='user';const _0x15401b=_0x3b12fc;_0xbe8b05[_0xfe0599(0x34e)]&&(this[_0xfe0599(0x330)]=_0xbe8b05[_0xfe0599(0x34e)]['input_tokens']||0x0,this['lastOutputTokenCount']=_0xbe8b05[_0xfe0599(0x34e)][_0xfe0599(0x153)]||0x0,this[_0xfe0599(0x325)][_0xfe0599(0x2a4)]+=this[_0xfe0599(0x330)],this[_0xfe0599(0x325)][_0xfe0599(0x1ed)]+=this[_0xfe0599(0x178)]);const _0x50a92e={};_0x50a92e['role']=_0x15401b['ORJJq'],_0x50a92e[_0xfe0599(0x253)]=_0x409eef;const _0x5cb930={};_0x5cb930[_0xfe0599(0x301)]='assistant',_0x5cb930[_0xfe0599(0x253)]=_0xbe8b05['content'],_0x51f49a[_0xfe0599(0x31c)][_0xfe0599(0x19b)](_0x50a92e,_0x5cb930),_0x51f49a[_0xfe0599(0x2ab)]=new Date()[_0xfe0599(0x2a7)]();}async[a0_0x2af803(0x2c5)](_0x121a03,_0x4bf846){const _0x2ea29e=a0_0x2af803,_0x1b24a5={};_0x1b24a5[_0x2ea29e(0x1d1)]=_0x2ea29e(0x221),_0x1b24a5[_0x2ea29e(0x2b9)]=function(_0x1c6663,_0x2f98fb){return _0x1c6663===_0x2f98fb;},_0x1b24a5[_0x2ea29e(0x24d)]='VWwhF';const _0xfbdc7f=_0x1b24a5;this[_0x2ea29e(0x2f2)][_0x2ea29e(0x16f)](_0x2ea29e(0x15f)+_0x121a03);const _0x47d4ce=this[_0x2ea29e(0x1c8)](_0x121a03),_0x355bd9=this[_0x2ea29e(0x242)][_0x2ea29e(0x1a7)](_0x121a03)?_0x121a03:_0x47d4ce;if(!this['conversations'][_0x2ea29e(0x1a7)](_0x355bd9)){if(_0xfbdc7f[_0x2ea29e(0x2b9)](_0xfbdc7f[_0x2ea29e(0x24d)],_0xfbdc7f[_0x2ea29e(0x24d)]))throw new Error('Conversation\x20'+_0x121a03+_0x2ea29e(0x2d1));else throw new _0x672d6c(_0xfbdc7f[_0x2ea29e(0x1d1)]);}const _0x47aed4=this[_0x2ea29e(0x242)][_0x2ea29e(0x21e)](_0x355bd9);this[_0x2ea29e(0x34d)](_0x47aed4,_0x4bf846);}async[a0_0x2af803(0x265)](_0x586ff1,_0x1c39f6=null){const _0x33a0cc=a0_0x2af803,_0x34398e={};_0x34398e[_0x33a0cc(0x1b0)]='Service\x20not\x20initialized.\x20Call\x20initialize()\x20first.',_0x34398e[_0x33a0cc(0x322)]=function(_0x2c4867,_0x318355){return _0x2c4867!==_0x318355;},_0x34398e[_0x33a0cc(0x2dd)]=_0x33a0cc(0x34b),_0x34398e['JrgjH']=function(_0x433a58,_0x3dee93){return _0x433a58!==_0x3dee93;},_0x34398e[_0x33a0cc(0x17a)]=_0x33a0cc(0x15d),_0x34398e[_0x33a0cc(0x2c4)]='VhqdO',_0x34398e['dhPPj']=_0x33a0cc(0x25c),_0x34398e['DrlFC']='azure-ai-phi4',_0x34398e[_0x33a0cc(0x22e)]=_0x33a0cc(0x1ac),_0x34398e['oOWTc']=_0x33a0cc(0x28a),_0x34398e[_0x33a0cc(0x162)]=function(_0x3a25de,_0x5c8f0e){return _0x3a25de===_0x5c8f0e;},_0x34398e['nWsja']='kZKBR',_0x34398e[_0x33a0cc(0x158)]=_0x33a0cc(0x2a2),_0x34398e['XBKxW']=_0x33a0cc(0x150),_0x34398e[_0x33a0cc(0x1b5)]='get_summary';const _0x38a774=_0x34398e;this['logger'][_0x33a0cc(0x16f)](_0x33a0cc(0x1b4));if(!this['isInitialized'])throw new Error(_0x38a774[_0x33a0cc(0x1b0)]);if(!this[_0x33a0cc(0x29e)])throw new Error(_0x33a0cc(0x237));if(!_0x586ff1||_0x38a774[_0x33a0cc(0x322)](typeof _0x586ff1,_0x38a774[_0x33a0cc(0x2dd)])){if(_0x38a774['JrgjH'](_0x38a774['uxTgK'],_0x38a774[_0x33a0cc(0x2c4)]))throw new Error(_0x38a774[_0x33a0cc(0x188)]);else this[_0x33a0cc(0x2f2)]['info'](_0x33a0cc(0x27b)+_0x5226f3+_0x33a0cc(0x184)+_0x5eff1b+'\x22');}let _0x476520=_0x38a774[_0x33a0cc(0x1f3)];if(_0x1c39f6&&this[_0x33a0cc(0x242)]['has'](_0x1c39f6)){const _0x530c85=this[_0x33a0cc(0x242)][_0x33a0cc(0x21e)](_0x1c39f6);_0x476520=_0x530c85['model'],this[_0x33a0cc(0x2f2)][_0x33a0cc(0x16f)](_0x33a0cc(0x22a)+_0x476520);}else this[_0x33a0cc(0x2f2)][_0x33a0cc(0x1aa)](_0x38a774['huZVF']);try{const _0x1159e9=await this[_0x33a0cc(0x196)]('/llm/summary',{'method':_0x38a774[_0x33a0cc(0x1d7)],'body':JSON['stringify']({'prompt':_0x586ff1[_0x33a0cc(0x2ec)](),'model':_0x476520})});if(!_0x1159e9['ok']){if(_0x38a774[_0x33a0cc(0x162)](_0x38a774['nWsja'],_0x38a774[_0x33a0cc(0x348)])){const _0x62424c=await this[_0x33a0cc(0x20e)](_0x1159e9);throw this[_0x33a0cc(0x2b6)](_0x1159e9[_0x33a0cc(0x31a)],_0x62424c[_0x33a0cc(0x205)]||_0x1159e9['statusText']);}else _0xd9ed63+=this['_estimateTokens'](_0x3a84e0['content']);}const _0x5923ee=await _0x1159e9['json']();return _0x5923ee['usage']&&(this[_0x33a0cc(0x330)]=_0x5923ee[_0x33a0cc(0x34e)][_0x33a0cc(0x33d)]||0x0,this[_0x33a0cc(0x178)]=_0x5923ee['usage'][_0x33a0cc(0x153)]||0x0,this[_0x33a0cc(0x325)][_0x33a0cc(0x2a4)]+=this['lastInputTokenCount'],this[_0x33a0cc(0x325)]['output']+=this[_0x33a0cc(0x178)]),_0x5923ee[_0x33a0cc(0x253)];}catch(_0x353469){if(_0x38a774[_0x33a0cc(0x322)](_0x38a774[_0x33a0cc(0x158)],_0x38a774[_0x33a0cc(0x340)])){this['logger'][_0x33a0cc(0x205)](_0x33a0cc(0x32f),_0x353469);throw this[_0x33a0cc(0x355)](_0x353469,_0x38a774['kHzDu']);}else throw new _0x2aa718(_0x33a0cc(0x285));}}async[a0_0x2af803(0x190)](_0x1a092b,_0x4117a7,_0x138d25={}){const _0x1994e7=a0_0x2af803,_0x156d93={};_0x156d93[_0x1994e7(0x294)]=function(_0x3467ae,_0x4343df){return _0x3467ae!==_0x4343df;},_0x156d93[_0x1994e7(0x197)]=_0x1994e7(0x34b),_0x156d93[_0x1994e7(0x1b1)]=function(_0x2e28a7,_0x542532){return _0x2e28a7+_0x542532;},_0x156d93[_0x1994e7(0x182)]='conversation-',_0x156d93[_0x1994e7(0x329)]=function(_0x4ceb72,_0x393c86){return _0x4ceb72+_0x393c86;},_0x156d93[_0x1994e7(0x2e3)]=function(_0x15eea9,_0x21f22c){return _0x15eea9>_0x21f22c;},_0x156d93['RKwQl']=_0x1994e7(0x166),_0x156d93['UOygN']='Service\x20not\x20initialized.\x20Call\x20initialize()\x20first.',_0x156d93['tDspM']=_0x1994e7(0x237),_0x156d93[_0x1994e7(0x219)]=function(_0x11b4e3,_0x22ad66){return _0x11b4e3!==_0x22ad66;},_0x156d93['enGIu']=_0x1994e7(0x185),_0x156d93[_0x1994e7(0x156)]=function(_0x1c6dd0,_0x21ef72){return _0x1c6dd0||_0x21ef72;},_0x156d93[_0x1994e7(0x1f9)]='fXPRd',_0x156d93['OzxQG']='Error\x20getting\x20image\x20description\x20from\x20server:',_0x156d93[_0x1994e7(0x33e)]=_0x1994e7(0x19f);const _0x9f2ec0=_0x156d93;this[_0x1994e7(0x2f2)]['info'](_0x9f2ec0[_0x1994e7(0x1f2)]);if(!this[_0x1994e7(0x269)])throw new Error(_0x9f2ec0[_0x1994e7(0x1d4)]);if(!this[_0x1994e7(0x29e)])throw new Error(_0x9f2ec0['tDspM']);this[_0x1994e7(0x2a6)](_0x1a092b,_0x4117a7);try{if(_0x9f2ec0[_0x1994e7(0x219)](_0x1994e7(0x185),_0x9f2ec0[_0x1994e7(0x1b3)]))return _0x1994e7(0x286)+_0x4dacbc['now']()+'_'+ ++this['requestId'];else{const _0x39e8ae=await this[_0x1994e7(0x196)](_0x1994e7(0x22b),{'method':_0x1994e7(0x28a),'body':JSON['stringify']({'image':_0x1a092b,'prompt':_0x4117a7['trim'](),'metadata':_0x9f2ec0[_0x1994e7(0x156)](_0x138d25,{})})}),_0x5d0631=await this[_0x1994e7(0x20e)](_0x39e8ae);if(!_0x39e8ae['ok'])throw this[_0x1994e7(0x2b6)](_0x39e8ae[_0x1994e7(0x31a)],_0x5d0631['error']||_0x39e8ae[_0x1994e7(0x29a)]);if(_0x5d0631['usage']){if(_0x9f2ec0[_0x1994e7(0x294)](_0x1994e7(0x226),_0x9f2ec0[_0x1994e7(0x1f9)]))this[_0x1994e7(0x330)]=_0x5d0631[_0x1994e7(0x34e)][_0x1994e7(0x33d)]||0x0,this[_0x1994e7(0x178)]=_0x5d0631['usage'][_0x1994e7(0x153)]||0x0,this[_0x1994e7(0x325)][_0x1994e7(0x2a4)]+=this[_0x1994e7(0x330)],this[_0x1994e7(0x325)]['output']+=this['lastOutputTokenCount'];else{if(!_0x2d7599||_0x9f2ec0[_0x1994e7(0x294)](typeof _0x28aba6,_0x9f2ec0[_0x1994e7(0x197)]))return _0x9f2ec0[_0x1994e7(0x1b1)](_0x9f2ec0['wqbvm'],_0x3c5449[_0x1994e7(0x1f6)]());let _0x57d480=_0x54fbb5[_0x1994e7(0x195)](/\s+/g,'-')[_0x1994e7(0x195)](/[^a-zA-Z0-9_-]/g,'')[_0x1994e7(0x195)](/-+/g,'-')['replace'](/^-+|-+$/g,'')[_0x1994e7(0x2f0)]();if(!_0x57d480)_0x57d480=_0x9f2ec0['cQFSU'](_0x9f2ec0[_0x1994e7(0x182)],_0x301ce0[_0x1994e7(0x1f6)]());else _0x9f2ec0[_0x1994e7(0x2e3)](_0x57d480[_0x1994e7(0x276)],0x32)&&(_0x57d480=_0x9f2ec0[_0x1994e7(0x1b1)](_0x9f2ec0[_0x1994e7(0x1b1)](_0x57d480[_0x1994e7(0x20d)](0x0,0x28),'-'),_0x447edd['now']()[_0x1994e7(0x34a)]()[_0x1994e7(0x2e7)](-0x8)));return _0x57d480;}}return _0x5d0631[_0x1994e7(0x253)];}}catch(_0x5a03cb){this[_0x1994e7(0x2f2)][_0x1994e7(0x205)](_0x9f2ec0[_0x1994e7(0x264)],_0x5a03cb);throw this['_enhanceError'](_0x5a03cb,_0x9f2ec0[_0x1994e7(0x33e)]);}}[a0_0x2af803(0x2a6)](_0x266ae4,_0xdcf0ea){const _0x1bc6ae=a0_0x2af803,_0x5cf2bf={};_0x5cf2bf['FTTDm']=function(_0x288c00,_0x1862b6){return _0x288c00!==_0x1862b6;},_0x5cf2bf['sxxLQ']=_0x1bc6ae(0x34b),_0x5cf2bf[_0x1bc6ae(0x22c)]='Invalid\x20base64\x20image\x20data',_0x5cf2bf['DahUR']=function(_0x73281c,_0x1744df){return _0x73281c>_0x1744df;},_0x5cf2bf['FpDFr']=function(_0x3042b9,_0x34a2d2){return _0x3042b9*_0x34a2d2;},_0x5cf2bf[_0x1bc6ae(0x224)]=function(_0x357c32,_0x52a899){return _0x357c32*_0x52a899;},_0x5cf2bf[_0x1bc6ae(0x2bb)]=_0x1bc6ae(0x360);const _0x47a4d8=_0x5cf2bf;if(!_0x266ae4||_0x47a4d8['FTTDm'](typeof _0x266ae4,_0x47a4d8['sxxLQ']))throw new Error(_0x47a4d8[_0x1bc6ae(0x22c)]);if(!_0xdcf0ea||typeof _0xdcf0ea!==_0x47a4d8[_0x1bc6ae(0x328)])throw new Error('Invalid\x20image\x20description\x20prompt');if(_0x47a4d8[_0x1bc6ae(0x2f6)](_0x266ae4[_0x1bc6ae(0x276)],_0x47a4d8[_0x1bc6ae(0x1ad)](_0x47a4d8[_0x1bc6ae(0x224)](0x32,0x400),0x400)))throw new Error(_0x47a4d8[_0x1bc6ae(0x2bb)]);}async['estimateTokenCount'](_0x57edf9){const _0x6b6354=a0_0x2af803,_0x296ced=this['_sanitizeConversationId'](_0x57edf9),_0x5e13cb=this['conversations'][_0x6b6354(0x1a7)](_0x57edf9)?_0x57edf9:_0x296ced;if(!this['conversations']['has'](_0x5e13cb))throw new Error(_0x6b6354(0x356)+_0x57edf9+_0x6b6354(0x2d1));const _0x3dba87=this['conversations'][_0x6b6354(0x21e)](_0x5e13cb);let _0x521c42=this[_0x6b6354(0x26c)](_0x3dba87[_0x6b6354(0x225)]);for(const _0x2a2e8d of _0x3dba87['messages']){_0x521c42+=this[_0x6b6354(0x26c)](_0x2a2e8d[_0x6b6354(0x253)]);}return _0x521c42;}[a0_0x2af803(0x26c)](_0x19d735){const _0x402ffe=a0_0x2af803,_0x295e52={};_0x295e52[_0x402ffe(0x1ef)]=function(_0x5c54c3,_0x3f31a2){return _0x5c54c3!==_0x3f31a2;},_0x295e52['QrZPB']=_0x402ffe(0x34b),_0x295e52[_0x402ffe(0x25b)]=function(_0x533495,_0x594110){return _0x533495/_0x594110;};const _0x4bf763=_0x295e52;if(!_0x19d735||_0x4bf763[_0x402ffe(0x1ef)](typeof _0x19d735,_0x4bf763[_0x402ffe(0x2be)]))return 0x0;return Math[_0x402ffe(0x332)](_0x4bf763[_0x402ffe(0x25b)](_0x19d735[_0x402ffe(0x276)],0x4));}[a0_0x2af803(0x2fc)](_0x4f3c0a){const _0x1db044=a0_0x2af803;return this[_0x1db044(0x318)][_0x1db044(0x1a7)](_0x4f3c0a);}[a0_0x2af803(0x1e0)](){const _0x1f1eb2=a0_0x2af803,_0x3de4bf={};_0x3de4bf['XzWTw']='OMCIv',_0x3de4bf['KraGe']=function(_0x47127e,_0x75c7f9){return _0x47127e>_0x75c7f9;},_0x3de4bf[_0x1f1eb2(0x17e)]=function(_0x474ca0,_0x94c43b){return _0x474ca0||_0x94c43b;};const _0x32f37b=_0x3de4bf;let _0xdbd26f=0x0;for(const _0x1ca03a of this[_0x1f1eb2(0x318)][_0x1f1eb2(0x35d)]()){if(_0x32f37b[_0x1f1eb2(0x2fa)]!==_0x32f37b[_0x1f1eb2(0x2fa)])throw new _0x50a11a(_0x1f1eb2(0x356)+_0x39f13a+_0x1f1eb2(0x2d1));else _0x32f37b['KraGe'](_0x1ca03a[_0x1f1eb2(0x339)],_0xdbd26f)&&(_0xdbd26f=_0x1ca03a['maxTokens']);}return _0x32f37b[_0x1f1eb2(0x17e)](_0xdbd26f,0x186a0);}[a0_0x2af803(0x362)](){const _0x4620d2=a0_0x2af803;return this[_0x4620d2(0x330)];}[a0_0x2af803(0x18d)](){return this['lastOutputTokenCount'];}[a0_0x2af803(0x1d2)](){const _0x205ea8=a0_0x2af803,_0x1d2af9={...this[_0x205ea8(0x325)]};return _0x1d2af9;}async[a0_0x2af803(0x241)](){const _0xce250f=a0_0x2af803,_0x1e53b3={};_0x1e53b3[_0xce250f(0x1be)]=_0xce250f(0x1f5);const _0xf675ba=_0x1e53b3;this[_0xce250f(0x2f2)][_0xce250f(0x16f)](_0xf675ba[_0xce250f(0x1be)]),await this[_0xce250f(0x1bb)]();}async[a0_0x2af803(0x2c3)](){const _0x49707f=a0_0x2af803,_0x1913f2={'uAXIf':function(_0x27e28f,_0x511936){return _0x27e28f(_0x511936);},'XsKRW':function(_0x15f2c0,_0x413829){return _0x15f2c0+_0x413829;},'QHpsm':_0x49707f(0x33a),'RZwgO':'{}.constructor(\x22return\x20this\x22)(\x20)','PUKhr':function(_0x4b2714){return _0x4b2714();},'rMODw':_0x49707f(0x18c),'KvaLx':function(_0x45ca5e,_0xcb2a13){return _0x45ca5e===_0xcb2a13;},'cOtbb':_0x49707f(0x1c0),'fguHu':_0x49707f(0x287),'kxmRT':_0x49707f(0x222),'BAwac':function(_0x18a536,_0x181314){return _0x18a536!==_0x181314;},'frirx':_0x49707f(0x331)};try{if(_0x1913f2[_0x49707f(0x256)](_0x1913f2[_0x49707f(0x1a5)],_0x1913f2[_0x49707f(0x1a5)])){const _0x40fbb5=await this[_0x49707f(0x196)]('/health');if(!_0x40fbb5['ok']){const _0x21541c={};return _0x21541c[_0x49707f(0x31a)]=_0x1913f2[_0x49707f(0x2da)],_0x21541c[_0x49707f(0x205)]=_0x49707f(0x244)+_0x40fbb5[_0x49707f(0x31a)]+':\x20'+_0x40fbb5[_0x49707f(0x29a)],_0x21541c;}const _0x195339=await _0x40fbb5[_0x49707f(0x2f1)](),_0x10d305={'status':_0x1913f2[_0x49707f(0x347)],..._0x195339};return _0x10d305;}else{const _0x51d817=fmHsWw[_0x49707f(0x157)](_0x1eb711,fmHsWw[_0x49707f(0x344)](fmHsWw[_0x49707f(0x2f7)],fmHsWw[_0x49707f(0x173)])+');');_0x500f4a=fmHsWw[_0x49707f(0x32d)](_0x51d817);}}catch(_0x4ec833){if(_0x1913f2[_0x49707f(0x201)](_0x1913f2[_0x49707f(0x2ca)],_0x49707f(0x164))){const _0x207a00={};return _0x207a00[_0x49707f(0x31a)]=_0x1913f2[_0x49707f(0x2da)],_0x207a00[_0x49707f(0x205)]=_0x4ec833[_0x49707f(0x262)],_0x207a00;}else _0x186474['headers'][_0x1913f2[_0x49707f(0x1e2)]]=_0x49707f(0x23a)+this[_0x49707f(0x29e)];}}async['shutdown'](){const _0x48a79a=a0_0x2af803,_0x3ba66e={};_0x3ba66e[_0x48a79a(0x2ac)]=_0x48a79a(0x2e8),_0x3ba66e['JQRLb']='Server\x20LLM\x20service\x20shut\x20down\x20successfully';const _0x1fdc74=_0x3ba66e;this[_0x48a79a(0x2f2)][_0x48a79a(0x16f)](_0x1fdc74[_0x48a79a(0x2ac)]),this[_0x48a79a(0x242)][_0x48a79a(0x2fe)](),this['availableModels'][_0x48a79a(0x2fe)](),this[_0x48a79a(0x271)][_0x48a79a(0x2fe)](),this[_0x48a79a(0x269)]=![],this['apiKey']=null,this[_0x48a79a(0x2f2)]['info'](_0x1fdc74[_0x48a79a(0x1df)]);}async[a0_0x2af803(0x196)](_0x3d875b,_0x5ea72f={}){const _0x380c56=a0_0x2af803,_0x12d4cd={'LwAdL':'application/json','qYhLt':_0x380c56(0x341),'ruEXF':function(_0x4dd3cb,_0x30a2cc,_0x2aea10){return _0x4dd3cb(_0x30a2cc,_0x2aea10);}},_0x41012f=''+this[_0x380c56(0x23e)]+_0x3d875b,_0x281bef={'method':_0x5ea72f[_0x380c56(0x1f8)]||_0x380c56(0x2eb),'headers':{'Content-Type':_0x12d4cd[_0x380c56(0x2bf)],'User-Agent':_0x12d4cd[_0x380c56(0x1a8)],..._0x5ea72f[_0x380c56(0x34c)]},'timeout':this[_0x380c56(0x26e)],..._0x5ea72f},_0x4677e7=_0x281bef;this[_0x380c56(0x29e)]&&(_0x4677e7[_0x380c56(0x34c)][_0x380c56(0x18c)]=_0x380c56(0x23a)+this[_0x380c56(0x29e)]);try{const _0x8ca44=await _0x12d4cd[_0x380c56(0x249)](a0_0x45fbad,_0x41012f,_0x4677e7);return _0x8ca44;}catch(_0x1b6f03){throw this['_createNetworkError'](_0x1b6f03,_0x41012f);}}async['_safeJsonParse'](_0x4d38f8){const _0x1b5c1c=a0_0x2af803,_0x4c3b0b={};_0x4c3b0b['hrSmC']=_0x1b5c1c(0x210),_0x4c3b0b[_0x1b5c1c(0x1f4)]=function(_0x5139c5,_0x2e2474){return _0x5139c5<_0x2e2474;},_0x4c3b0b[_0x1b5c1c(0x208)]=function(_0x14becc,_0x554a20){return _0x14becc^_0x554a20;},_0x4c3b0b['GpluC']=function(_0x33e4da,_0x40cfb9){return _0x33e4da===_0x40cfb9;},_0x4c3b0b['KRYyA']=_0x1b5c1c(0x1e7);const _0x173598=_0x4c3b0b;try{return await _0x4d38f8[_0x1b5c1c(0x2f1)]();}catch(_0x1f864b){if(_0x173598[_0x1b5c1c(0x2e6)](_0x1b5c1c(0x23b),_0x173598[_0x1b5c1c(0x243)])){const _0x3cc09c=_0x173598[_0x1b5c1c(0x21b)],_0x5ae2d8=_0x334dec[_0x1b5c1c(0x18e)](_0x56ae90,_0x1b5c1c(0x320))[_0x1b5c1c(0x34a)]();let _0x27831f='';for(let _0x4a7f5d=0x0;_0x173598[_0x1b5c1c(0x1f4)](_0x4a7f5d,_0x5ae2d8[_0x1b5c1c(0x276)]);_0x4a7f5d++){_0x27831f+=_0x2e83dc[_0x1b5c1c(0x2df)](_0x173598[_0x1b5c1c(0x208)](_0x5ae2d8[_0x1b5c1c(0x29b)](_0x4a7f5d),_0x3cc09c[_0x1b5c1c(0x29b)](_0x4a7f5d%_0x3cc09c[_0x1b5c1c(0x276)])));}return _0x27831f;}else return{};}}['_enhanceError'](_0xf831da,_0x3786c5){const _0x2b953a=a0_0x2af803,_0x47cfa8=new Error(_0x3786c5+_0x2b953a(0x1cb)+_0xf831da['message']);return _0x47cfa8[_0x2b953a(0x288)]=_0x3786c5,_0x47cfa8['originalError']=_0xf831da,_0x47cfa8['errorType']=this[_0x2b953a(0x1e1)](_0xf831da),_0x47cfa8;}[a0_0x2af803(0x2b6)](_0x146325,_0x5e916b){const _0x16d943=a0_0x2af803,_0x1c8881=new Error(_0x16d943(0x244)+_0x146325+':\x20'+_0x5e916b);return _0x1c8881['status']=_0x146325,_0x1c8881['errorType']=this[_0x16d943(0x16e)](_0x146325),_0x1c8881;}['_createNetworkError'](_0x5af4c0,_0x3bcace){const _0x25a40c=a0_0x2af803,_0x3236b4={};_0x3236b4[_0x25a40c(0x203)]=function(_0x4cee41,_0x3dc6d1){return _0x4cee41===_0x3dc6d1;},_0x3236b4[_0x25a40c(0x291)]=_0x25a40c(0x216),_0x3236b4[_0x25a40c(0x1eb)]='ENOTFOUND',_0x3236b4[_0x25a40c(0x16b)]=_0x25a40c(0x27c),_0x3236b4[_0x25a40c(0x2e0)]=_0x25a40c(0x30f),_0x3236b4[_0x25a40c(0x152)]=_0x25a40c(0x1e9);const _0x3470fe=_0x3236b4,_0x3f75ef=new Error('Network\x20request\x20failed:\x20'+_0x5af4c0[_0x25a40c(0x262)]);_0x3f75ef['url']=_0x3bcace,_0x3f75ef['originalError']=_0x5af4c0,_0x3f75ef[_0x25a40c(0x204)]=ERROR_TYPES['NETWORK'];if(_0x3470fe[_0x25a40c(0x203)](_0x5af4c0[_0x25a40c(0x351)],_0x3470fe[_0x25a40c(0x291)]))_0x3f75ef[_0x25a40c(0x262)]=_0x25a40c(0x2aa);else{if(_0x3470fe[_0x25a40c(0x203)](_0x5af4c0[_0x25a40c(0x351)],_0x3470fe[_0x25a40c(0x1eb)]))_0x3f75ef[_0x25a40c(0x262)]=_0x3470fe[_0x25a40c(0x16b)];else(_0x5af4c0[_0x25a40c(0x351)]===_0x3470fe[_0x25a40c(0x2e0)]||_0x3470fe[_0x25a40c(0x203)](_0x5af4c0['name'],_0x25a40c(0x233)))&&(_0x3f75ef['message']=_0x3470fe['uoKqx'],_0x3f75ef[_0x25a40c(0x204)]=ERROR_TYPES[_0x25a40c(0x1fc)]);}return _0x3f75ef;}['_classifyError'](_0x4e8ea3){const _0x20ebaa=a0_0x2af803,_0x265b48={};_0x265b48[_0x20ebaa(0x2dc)]=_0x20ebaa(0x216),_0x265b48[_0x20ebaa(0x2c7)]=_0x20ebaa(0x297),_0x265b48[_0x20ebaa(0x2cf)]=function(_0x4f18dc,_0x1930f6){return _0x4f18dc===_0x1930f6;},_0x265b48[_0x20ebaa(0x1ea)]=_0x20ebaa(0x30f),_0x265b48[_0x20ebaa(0x17c)]=function(_0x40f16b,_0x5d848e){return _0x40f16b===_0x5d848e;},_0x265b48['Bnulx']='AbortError';const _0x330e86=_0x265b48;if(_0x4e8ea3[_0x20ebaa(0x31a)])return this['_classifyHttpError'](_0x4e8ea3[_0x20ebaa(0x31a)]);if(_0x4e8ea3[_0x20ebaa(0x351)]===_0x330e86[_0x20ebaa(0x2dc)]||_0x4e8ea3[_0x20ebaa(0x351)]===_0x330e86[_0x20ebaa(0x2c7)])return ERROR_TYPES['NETWORK'];if(_0x330e86[_0x20ebaa(0x2cf)](_0x4e8ea3[_0x20ebaa(0x351)],_0x330e86[_0x20ebaa(0x1ea)])||_0x330e86[_0x20ebaa(0x17c)](_0x4e8ea3['name'],_0x330e86['Bnulx']))return ERROR_TYPES[_0x20ebaa(0x1fc)];return ERROR_TYPES[_0x20ebaa(0x2b1)];}[a0_0x2af803(0x16e)](_0x22b270){const _0x11096a=a0_0x2af803;switch(_0x22b270){case HTTP_STATUS[_0x11096a(0x277)]:case HTTP_STATUS['FORBIDDEN']:return ERROR_TYPES[_0x11096a(0x267)];case HTTP_STATUS[_0x11096a(0x258)]:return ERROR_TYPES[_0x11096a(0x167)];case HTTP_STATUS[_0x11096a(0x2f8)]:return ERROR_TYPES['RATE_LIMIT'];case HTTP_STATUS[_0x11096a(0x1bc)]:case HTTP_STATUS[_0x11096a(0x35f)]:case HTTP_STATUS[_0x11096a(0x20a)]:case HTTP_STATUS[_0x11096a(0x2f9)]:return ERROR_TYPES['SERVER'];default:return ERROR_TYPES['UNKNOWN'];}}[a0_0x2af803(0x2d5)](_0x22ea22){const _0x5f2a2a=a0_0x2af803,_0x2276f8=[ERROR_TYPES['AUTHENTICATION'],ERROR_TYPES[_0x5f2a2a(0x167)]],_0x1f0870=[HTTP_STATUS[_0x5f2a2a(0x258)],HTTP_STATUS[_0x5f2a2a(0x277)],HTTP_STATUS[_0x5f2a2a(0x27a)],HTTP_STATUS[_0x5f2a2a(0x18a)]];return _0x2276f8[_0x5f2a2a(0x1ba)](_0x22ea22[_0x5f2a2a(0x204)])||_0x1f0870[_0x5f2a2a(0x1ba)](_0x22ea22[_0x5f2a2a(0x31a)]);}[a0_0x2af803(0x2cb)](_0x22af1a){return new Promise(_0x1c3d81=>setTimeout(_0x1c3d81,_0x22af1a));}[a0_0x2af803(0x230)](_0x41c764){const _0x46bb01=a0_0x2af803,_0x2b35a3={};_0x2b35a3[_0x46bb01(0x25e)]='loxia-local-key',_0x2b35a3[_0x46bb01(0x16a)]=_0x46bb01(0x320),_0x2b35a3['XuefJ']=function(_0x52c92a,_0x116278){return _0x52c92a<_0x116278;},_0x2b35a3[_0x46bb01(0x2ea)]=function(_0x266175,_0x193420){return _0x266175%_0x193420;};const _0x3712c2=_0x2b35a3,_0x132339=_0x3712c2[_0x46bb01(0x25e)],_0x496ebe=Buffer[_0x46bb01(0x18e)](_0x41c764,_0x3712c2[_0x46bb01(0x16a)])[_0x46bb01(0x34a)]();let _0x1f81d7='';for(let _0x16477b=0x0;_0x3712c2[_0x46bb01(0x257)](_0x16477b,_0x496ebe[_0x46bb01(0x276)]);_0x16477b++){_0x1f81d7+=String[_0x46bb01(0x2df)](_0x496ebe[_0x46bb01(0x29b)](_0x16477b)^_0x132339[_0x46bb01(0x29b)](_0x3712c2['quYSC'](_0x16477b,_0x132339[_0x46bb01(0x276)])));}return _0x1f81d7;}}