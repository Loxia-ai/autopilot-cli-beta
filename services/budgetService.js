const a0_0x22273d=a0_0x13e5;(function(_0x266080,_0x4fd488){const _0x123947=a0_0x13e5,_0x47eef7=_0x266080();while(!![]){try{const _0x49c2dd=parseInt(_0x123947(0x28c))/0x1*(-parseInt(_0x123947(0x1f9))/0x2)+-parseInt(_0x123947(0x214))/0x3*(parseInt(_0x123947(0x20d))/0x4)+-parseInt(_0x123947(0x285))/0x5*(-parseInt(_0x123947(0x2a2))/0x6)+-parseInt(_0x123947(0x2c2))/0x7*(-parseInt(_0x123947(0x2d2))/0x8)+parseInt(_0x123947(0x315))/0x9*(parseInt(_0x123947(0x25f))/0xa)+-parseInt(_0x123947(0x24c))/0xb*(parseInt(_0x123947(0x302))/0xc)+parseInt(_0x123947(0x335))/0xd;if(_0x49c2dd===_0x4fd488)break;else _0x47eef7['push'](_0x47eef7['shift']());}catch(_0x37a74d){_0x47eef7['push'](_0x47eef7['shift']());}}}(a0_0x4e4d,0x88aa5));const a0_0x25f18b=(function(){const _0x43f33c=a0_0x13e5,_0xeebfb8={};_0xeebfb8['GmffW']=function(_0x3a49a1,_0x50a867){return _0x3a49a1!==_0x50a867;},_0xeebfb8['XZueI']=_0x43f33c(0x1b7),_0xeebfb8[_0x43f33c(0x1b8)]=_0x43f33c(0x21f);const _0x169ef1=_0xeebfb8;let _0x59f6bf=!![];return function(_0x1282c3,_0x2de68a){const _0x153c91=_0x59f6bf?function(){const _0x4cf0a7=a0_0x13e5;if(_0x2de68a){if(_0x169ef1['GmffW'](_0x169ef1[_0x4cf0a7(0x1fd)],_0x169ef1[_0x4cf0a7(0x1b8)])){const _0x38738e=_0x2de68a[_0x4cf0a7(0x239)](_0x1282c3,arguments);return _0x2de68a=null,_0x38738e;}else this[_0x4cf0a7(0x292)][_0x4cf0a7(0x2c4)](_0x4cf0a7(0x281)+_0x148539[_0x4cf0a7(0x332)]+'\x20old\x20session\x20files');}}:function(){};return _0x59f6bf=![],_0x153c91;};}()),a0_0x3399ce=a0_0x25f18b(this,function(){const _0x42acb0=a0_0x13e5,_0x325f5a={};_0x325f5a[_0x42acb0(0x1ae)]=_0x42acb0(0x32e);const _0x406468=_0x325f5a;return a0_0x3399ce[_0x42acb0(0x233)]()[_0x42acb0(0x193)](_0x406468[_0x42acb0(0x1ae)])['toString']()['constructor'](a0_0x3399ce)[_0x42acb0(0x193)](_0x406468[_0x42acb0(0x1ae)]);});a0_0x3399ce();const a0_0x22081c=(function(){let _0x725ca2=!![];return function(_0x137c82,_0x30952b){const _0x353d4c=_0x725ca2?function(){if(_0x30952b){const _0x1e0b0b=_0x30952b['apply'](_0x137c82,arguments);return _0x30952b=null,_0x1e0b0b;}}:function(){};return _0x725ca2=![],_0x353d4c;};}()),a0_0xb6298d=a0_0x22081c(this,function(){const _0x5e4ce9=a0_0x13e5,_0x1602ce={'QApRD':function(_0x36b204,_0x4993fa){return _0x36b204-_0x4993fa;},'AOIVp':function(_0x38db69,_0x10fc2e){return _0x38db69>_0x10fc2e;},'NkDTl':function(_0x23459d,_0x2123a6){return _0x23459d*_0x2123a6;},'HFlLD':function(_0x26970c,_0x1eda6a){return _0x26970c/_0x1eda6a;},'BRDEH':'\x0a===\x20BREAKDOWN\x20BY\x20MODEL\x20===\x0a','jScjX':_0x5e4ce9(0x30d),'DJybn':_0x5e4ce9(0x300),'NBCJK':function(_0x37568f,_0x48c776){return _0x37568f(_0x48c776);},'mImgU':function(_0x24e9df,_0x3620ba){return _0x24e9df+_0x3620ba;},'embvM':_0x5e4ce9(0x1df),'fjWzZ':_0x5e4ce9(0x31e),'DFDzP':function(_0x162521){return _0x162521();},'MCHtu':'log','ZQVON':_0x5e4ce9(0x2c4),'vdqIU':_0x5e4ce9(0x1a6),'PLhkI':'exception','JYoNf':_0x5e4ce9(0x2ac),'QDtkd':_0x5e4ce9(0x197),'pCaAw':function(_0x48c99a,_0x4c0fa6){return _0x48c99a<_0x4c0fa6;},'Bzbay':_0x5e4ce9(0x2e2)};let _0x5532ac;try{if(_0x1602ce[_0x5e4ce9(0x20f)]!==_0x1602ce['DJybn']){const _0x5d4b4b=_0x1602ce[_0x5e4ce9(0x2da)](Function,_0x1602ce[_0x5e4ce9(0x1fa)](_0x1602ce[_0x5e4ce9(0x1fa)](_0x1602ce[_0x5e4ce9(0x1ea)],_0x1602ce[_0x5e4ce9(0x225)]),');'));_0x5532ac=_0x1602ce[_0x5e4ce9(0x1fc)](_0x5d4b4b);}else{const _0x2a58ff=this[_0x5e4ce9(0x33e)][_0x5e4ce9(0x17b)]+_0x218565[_0x5e4ce9(0x17b)];_0x530128[_0x5e4ce9(0x19c)]={'currentSpent':this[_0x5e4ce9(0x33e)]['totalCost'],'afterOperation':_0x2a58ff,'remainingAfter':_0x39afd1[_0x5e4ce9(0x220)](0x0,_0x1602ce[_0x5e4ce9(0x1bc)](this[_0x5e4ce9(0x1a2)],_0x2a58ff)),'wouldExceedBudget':_0x1602ce[_0x5e4ce9(0x2a5)](_0x2a58ff,this[_0x5e4ce9(0x1a2)]),'percentageAfter':_0x1602ce[_0x5e4ce9(0x2ff)](_0x1602ce[_0x5e4ce9(0x1e3)](_0x2a58ff,this['budgetLimit']),0x64)};}}catch(_0xf33e86){_0x5532ac=window;}const _0x309751=_0x5532ac[_0x5e4ce9(0x23b)]=_0x5532ac[_0x5e4ce9(0x23b)]||{},_0x204937=[_0x1602ce['MCHtu'],'warn',_0x1602ce['ZQVON'],_0x1602ce[_0x5e4ce9(0x2d5)],_0x1602ce[_0x5e4ce9(0x190)],_0x1602ce[_0x5e4ce9(0x345)],_0x1602ce[_0x5e4ce9(0x258)]];for(let _0x255c5c=0x0;_0x1602ce[_0x5e4ce9(0x1a7)](_0x255c5c,_0x204937['length']);_0x255c5c++){if('DawxH'===_0x1602ce[_0x5e4ce9(0x257)]){_0x4b5d5b+=_0x1602ce['BRDEH'];for(const [_0x50acfc,_0x5e5882]of _0x557508[_0x5e4ce9(0x27a)](_0x30b979[_0x5e4ce9(0x1ec)])){_0x561350+=_0x50acfc+':\x20$'+_0x5e5882[_0x5e4ce9(0x29a)]['toFixed'](0x4)+'\x20('+_0x5e5882[_0x5e4ce9(0x198)]+_0x5e4ce9(0x1c3);}}else{const _0x2a08c9=a0_0x22081c[_0x5e4ce9(0x25d)]['prototype'][_0x5e4ce9(0x1a3)](a0_0x22081c),_0x1760a1=_0x204937[_0x255c5c],_0x21aadc=_0x309751[_0x1760a1]||_0x2a08c9;_0x2a08c9[_0x5e4ce9(0x222)]=a0_0x22081c[_0x5e4ce9(0x1a3)](a0_0x22081c),_0x2a08c9[_0x5e4ce9(0x233)]=_0x21aadc[_0x5e4ce9(0x233)]['bind'](_0x21aadc),_0x309751[_0x1760a1]=_0x2a08c9;}}});a0_0xb6298d();import{promises as a0_0x5b7275}from'fs';function a0_0x13e5(_0x39b6d7,_0x3e8bf0){const _0x64a7e3=a0_0x4e4d();return a0_0x13e5=function(_0xb6298d,_0x22081c){_0xb6298d=_0xb6298d-0x177;let _0x1dec57=_0x64a7e3[_0xb6298d];if(a0_0x13e5['rLYmpd']===undefined){var _0x488f32=function(_0x13e5da){const _0x36e25d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xc6af89='',_0x1aedcf='',_0x2ed91f=_0xc6af89+_0x488f32;for(let _0x22bcb8=0x0,_0x2f86a5,_0x340cc6,_0xe4242a=0x0;_0x340cc6=_0x13e5da['charAt'](_0xe4242a++);~_0x340cc6&&(_0x2f86a5=_0x22bcb8%0x4?_0x2f86a5*0x40+_0x340cc6:_0x340cc6,_0x22bcb8++%0x4)?_0xc6af89+=_0x2ed91f['charCodeAt'](_0xe4242a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2f86a5>>(-0x2*_0x22bcb8&0x6)):_0x22bcb8:0x0){_0x340cc6=_0x36e25d['indexOf'](_0x340cc6);}for(let _0x274f8c=0x0,_0x3746dd=_0xc6af89['length'];_0x274f8c<_0x3746dd;_0x274f8c++){_0x1aedcf+='%'+('00'+_0xc6af89['charCodeAt'](_0x274f8c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1aedcf);};a0_0x13e5['sNvFgi']=_0x488f32,_0x39b6d7=arguments,a0_0x13e5['rLYmpd']=!![];}const _0x3399ce=_0x64a7e3[0x0],_0x25f18b=_0xb6298d+_0x3399ce,_0x4e4db1=_0x39b6d7[_0x25f18b];if(!_0x4e4db1){const _0x33ca04=function(_0x373b7e){this['RqeIzt']=_0x373b7e,this['wqQyWe']=[0x1,0x0,0x0],this['GnqRWX']=function(){return'newState';},this['qQyzgG']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['RIUYgp']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x33ca04['prototype']['uLqlTn']=function(){const _0x2f5ffd=new RegExp(this['qQyzgG']+this['RIUYgp']),_0x4f722d=_0x2f5ffd['test'](this['GnqRWX']['toString']())?--this['wqQyWe'][0x1]:--this['wqQyWe'][0x0];return this['eigATi'](_0x4f722d);},_0x33ca04['prototype']['eigATi']=function(_0x22988e){if(!Boolean(~_0x22988e))return _0x22988e;return this['UKmoRP'](this['RqeIzt']);},_0x33ca04['prototype']['UKmoRP']=function(_0x549c87){for(let _0x1c232f=0x0,_0x520f25=this['wqQyWe']['length'];_0x1c232f<_0x520f25;_0x1c232f++){this['wqQyWe']['push'](Math['round'](Math['random']())),_0x520f25=this['wqQyWe']['length'];}return _0x549c87(this['wqQyWe'][0x0]);},new _0x33ca04(a0_0x13e5)['uLqlTn'](),_0x1dec57=a0_0x13e5['sNvFgi'](_0x1dec57),_0x39b6d7[_0x25f18b]=_0x1dec57;}else _0x1dec57=_0x4e4db1;return _0x1dec57;},a0_0x13e5(_0x39b6d7,_0x3e8bf0);}function a0_0x4e4d(){const _0x33aa7c=['Dw1RDMO','zuTnqwK','zMfSBgjHy2S','Dg90ywXpDxrWDxruB2TLBNm','D0PIr2G','sLLVtMy','q256CMu','te9lwuq','t1fuEeC','su5wquXjrf9btu9vtLq','yuLYvwK','yNjLywTKB3DUqNLtzxj2AwnL','rLDbwhC','y29Kzq','Dg90ywXdB3n0','CvDduMe','CgvYy2vUDgfNzvvZzwq','yKvjEgC','vhn4AgO','vxbAC1q','ELDIDey','AvPbAwW','z2v0qNvKz2v0vxnHz2u','re5rD28','uKXutLK','t2foBfa','C2vYDMLJzvvZywDL','CMjOr1O','tLj5Dg8','thzuAxm','tMD6Cui','uMvJB3jKAw5NihvZywDLigzVCIa','DurzyLq','re5kuKO','AMn2qM0','ueXOA0K','BhLSy24','C3vJy2vZCW','C2vHCMnO','zgvNCMfKzwq','x2XVywrvC2fNzurHDge','ufj1AKS','DhjHy2u','CMvXDwvZDenVDw50','u2H1DhrPBMCGzg93BIbIDwrNzxqGC2vYDMLJzq','qNvKz2v0igXPBwL0oIaK','B3v0Chv0','yNvKz2v0sw1Wywn0','C3rYAw5N','DfzxAhK','BgLZExC','C3rYAw5NAwz5','vvne','yNvKz2v0tgLTAxq','yMLUza','AgfYzeXPBwL0','qxvWsvi','zxjYB3i','CenHqxC','svDNB0G','EwT6zwy','u0r1t3C','CMfUzg9T','Du1et2i','Bfr0r0e','q1H2Bhq','z29xy1y','C2f2zvvZywDLrgf0yq','DLDUu1q','C0XgAfC','z3HSy2e','BgfZDfbYAwnPBMDvCgrHDgu','t252Chu','rMfPBgvKihrVignSzwfUDxaGB2XKihnLC3nPB24GzMLSzxm6','EgXmvwS','Dvzwq1m','ruD3B1m','z1rdwvq','AuLfze0','uufWuKq','uhjPy2LUzYbKyxrHihvUyxzHAwXHyMXLigzVCIbTB2rLBa','sgvOEhi','Dg90ywXnB2rLBhm','ChvZAa','r0fzvhK','ywXS','ihjLCxvLC3rZkqO','DfreC3i','x2LUAxrPywXPEMvvC2fNzurHDge','BNH5CNu','lMPZB24','vg90ywWGB3v0Chv0ihrVA2vUCZOG','AgvHBhrOEq','zujLte0','s3rXveW','AeryD0e','zgvIDwC','wefpu3a','vfDPz3C','thffs1y','C2vYDMvYteXnu2vYDMLJzq','DxnHz2uUANnVBG','su5wquXjrf9ut0TftLm','uMvTB3zLzcbVBgqGC2vZC2LVBIbMAwXLoIa','vw5bAK4','zuL6EuC','Ee5tAMi','zKDcyLi','Bw9KzwXZ','AxnZDwvZ','AhLurvC','CNP0rxu','z2v0','ChjPy2LUz1vWzgf0zuLUuhjVz3jLC3m','CMv0DxjUicHMDw5JDgLVBIGPia','uMvZzxr0Aw5NihvZywDLigrHDge','DffeEeS','rK5buMm','sezSteq','tfDSzfK','rwjozLO','vfLxtu4','cJ09psbcuKvbs0rpv04GqLKGtu9eruWGpt09cG','ALvztvm','qvPSsLC','zw1IDK0','Bw9KzwXZv2L0AfbYAwnPBMC','yNjLywTKB3DUqNLnB2rLBa','B3v0Chv0q29ZDa','wuXyyMG','uhjPy2LUzYbKyxrHigLZihn0ywXLicG+mJqGAg91CNmGB2XKkq','x2DLBMvYyxrLu2vZC2LVBKLK','zM9AwMS','sNLHrMq','C3rHDhvZ','BwfW','CMvZzxrvC2fNzurHDge','y2XLyxi','CgfYC2u','B3zNtwy','nde1mJq2BhbTD25L','BuLTz1u','zMLSDgvY','rezeELa','wfP1zuK','tw9KzwWS','whzkt0i','vxbKyxrPBMCGChjPy2LUzYbKyxrHigzYB20GC2vYDMvY','C3zSsfa','ANv6v0O','rxjYB3iGAw5PDgLHBgL6Aw5NihvZywDLigrHDgeGzgLYzwn0B3j5oG','CMvTywLUAw5NqNvKz2v0','wKzdDwS','CgvezeS','Ahf3Dhi','DwXbugS','sfbzDe4','wKTQyLC','C2v0','qNvKz2v0ia','nfPxsK93vW','CMvHzezPBgu','ALnJALG','D0rxBxy','twziuw8','Dg90ywXtCgvUDa','qKjcyLO','ndm0mdm3swfzrhrx','vg90ywWGAw5WDxqGDg9Rzw5ZoIa','x2nHBgn1Bgf0zunVC3q','y2HLy2TcDwrNzxrgB3jpCgvYyxrPB24','CgHP','CfrWvxm','zK1YzM0','BM93','ChjLC2vYDMvuB3rHBa','AKvRr1m','sMP4BNO','BfbUv0C','Bwf4','cJ09psbcuKvbs0rpv04GqLKGu0vsvKLdrsa9pt0k','x19WCM90B19F','zKX2whG','Cfz3rwC','zMPxELO','zKLNr3G','zxn0Aw1HDgvK','C2XPy2u','C291CMnL','z2v0tw9KzwXqCMLJAw5N','BNncufm','su5wquXjrf9trvjwsunf','quXvtKu','sKDOEwq','CMvJB3jKvxnHz2u','C2vZC2LVBL8','x2DLDevZDgLTyxrLzfbYAwnPBMC','sLbxzfi','Dg9tDhjPBMC','wef4shy','CMvHzgrPCG','uuv1zK0','CMreA1y','lMHLywX0Ac1JAgvJAW','yxbWBhK','q3Divwu','y29UC29Szq','EeTIC0e','vNLqsuS','t3bLCMf0Aw9UihDVDwXKihvZzsbTB3n0ig9MihLVDxiGyNvKz2v0lIbnB25PDg9YihvZywDLignHCMvMDwXSEs4','Ce1jrxy','t3bLCMf0Aw9UihDVDwXKigv4y2vLzcbIDwrNzxqGBgLTAxqUienVBNnPzgvYigLUy3jLyxnPBMCGyNvKz2v0ig9YihvZAw5NigeGBgvZCYbLEhbLBNnPDMuGBw9KzwWU','zwfpzeK','tg9HzgvKihbYzxzPB3vZihvZywDLigrHDge','swDqqxi','t0XrrKi','Ehfnrue','vhzUsLG','DxnHz2veAxi','tw9KzwWGBMfTzsbTDxn0igjLigeGBM9UlwvTChr5ihn0CMLUzW','qNvKz2v0igXPBwL0igv4y2vLzgvK','wwTbq3e','rxjYB3iGzhvYAw5Nigj1zgDLDcbZzxj2AwnLihnODxrKB3DUoG','mtfPzNHTuxO','BM9YBwfS','AgvHBhrOq2HLy2S','ufPzs04','Aw5WDxq','qNvKz2v0igXPBwL0ihnLDcb0BYaK','whvut1C','wufzEu4','swjNBvO','AgzfzMu','Bw9KzwXvC2fNzq','qNPIyxK','uur0A2q','C2vYDMvY','y2jfq0K','C3rHDa','uhjPy2LUzYb1BMf2ywLSywjSzsbMB3iGBw9KzwWG','y29UC3rYDwn0B3i','tvvXyue','nJbPEgXZuMK','rMfPBgvKihrVihjLBw92zsbZzxnZAw9UigzPBguG','y3jPDgLJywW','y3vYCMvUy3K','wLfSCMK','Dg1jshC','Dw5SAw5R','A2v5CW','uez1BMq','ENrPAvy','wxvWDwm','yNvKz2v0','DLvsAg0','DgjeD3q','x3zHBgLKyxrLvxnHz2vjBNb1Dhm','DNHprfm','z2v0uhjPy2LUz0LUzM8','DKTxuhe','DhDnExa','Du9lvgG','qNvKz2v0igfTB3vUDcbTDxn0igjLigeGCg9ZAxrPDMuGBNvTyMvY','twPmBMK','wMnoswm','CMDutgG','rMfPBgvKihrVihvWzgf0zsbWCMLJAw5NigzYB20GC2vYDMvYoG','x3zHBgLKyxrLqNvKz2v0qw1VDw50','z2v0uhjPy2LUz0rHDge','zw50CMLLCW','EKz3B3m','Aw5WDxruB2TLBNm','D2fYBG','Dgj4s2e','t2zKug0','rxHqyMK','q2XLyw5Lzcb1Cca','B0zpAgm','rLD4s20','C2v0qNvKz2v0tgLTAxq','mtC2mZa4mgPjEwDAzW','yNvKz2v0u3rHDhvZ','sfnTt0i','sLrMB0i','EuTVAKC','v0LPr2G','tM8GChjPy2LUzYbKyxrHigf2ywLSywjSzq','nuD2AvPkuW','Cgf0Aa','qMjnufC','DfzbAfG','Bw9fwuW','ChjPy2LUz0LUzM8','Bg9Nz2vY','u3jttgK','txDZEgW','y29UzMLN','qMPPtfK','B3v0Chv0vg9Rzw5Z','txLQvLK','qurYENm','y29ZDa','BxrXAKK','seDrsfi','x2DLDej1zgDLDfjLy29TBwvUzgf0Aw9U','BxrPBwu','qLLkq0m','EfbjDwq','qwvjzvi','nKDstfzSqW','y0nyA0S','Axfprwe','qu9jvNa','wwPhuuG','AeXlzfq','EKXiteu','C2L6zq','uxfAANe','C2vZC2LVBKLK','DgfIBgu','DLPzD2S','yu9svfm','CgLNtva','BgfZDfnHDMvKq29ZDa','EK5qzeC','C3Hysfi','tw9KzwXZihDPDgGGChjPy2LUzZOG','B09Sr08','C2vZC2LVBLn0yxj0','C0z0sMW','BwvZC2fNzq','zNjrEeC','D291BgrfEgnLzwrcDwrNzxq','vw1Hs0S','tM8GChjPy2LUzYbKyxrHihjLy2vPDMvKigzYB20GC2vYDMvY','tgTVvhC','vg90ywWGy29ZDdOGja','D3jPDgvgAwXL','jsb1C2vK','yNPHC1a','vg9Rzw4Gy291BNrZig11C3qGyMuGBM9Ulw5Lz2f0AxzLig51BwjLCNm','mZaWmdiWn1f6t2j1yq','Efvxtvu','Aw5MBW','thHVtLa','BMDkBg0','zNjVBq','BNvTyMvY','wxPOBKy','t3bLCMf0Aw9UigLZihDPDgHPBIbIDwrNzxqGz3vPzgvSAw5LCY4','ywLuB0q','BgfZDfvWzgf0zq','uhjPy2LUzYbPBMzVCM1HDgLVBIb1BMf2ywLSywjSzq','muSGDg9Rzw5Z','DK1Nu2u','wNDqBLy','rKLmrv9twvnuru1Frvjst1i','mtzRqNfHsgK','ufjjq0Lor19vtKfwquLmqujmrq','CLj4DeG','DMrXsvu','x2v4Cg9YDfrVq3n2','qLver0vux0vyq0vfreve','C3bSAxq','Dg9mB2nHBgvtDhjPBMC','tKjdsKS','z055EfC','ANbeCuK','t1zYtue','te92yvC','zw5KC1DPDgG','vxnHz2u6ia','rMLSzsbZExn0zw0GywnJzxnZigLZC3vLCW','sw1iCNm','Bw9fwui','BMfTzq','vxbKyxrLzcbWCMLJAw5NigzVCIa','sw52ywXPzcbTB2rLBcbUyw1LihbYB3zPzgvKigzVCIbWCMLJAw5NigXVB2T1Ca','Ee5tyMO','D2L0AgLUqNvKz2v0','lI8UBg94AweTyNvKz2v0','BwTKAxi','x3nHDMvvC2fNzurHDgfjzK5LzwrLza','sM9LvvC','Aw5WDxrdB3n0','y2f0y2G','r1zVtLm','z2v0q29ZDevZDgLTyxrL','y3n2','uhLPD0q','z2v0vxnHz2vszxbVCNq','u2vYDMLJzsbUyw1Lig11C3qGyMuGysbUB24Tzw1WDhKGC3rYAw5N','uNnAyui','tM8GC2vYDMvYieXmtsbZzxj2AwnLigf2ywLSywjSzsbMB3iGChjPy2LUzYb1CgrHDgvZ','Dg9gAxHLza','vwPLr1q','vePUrgy','qLHpBMi','s21wsNK','A2j1Dvq','x3nOB3vSzfvWzgf0zvbYAwnPBMC','yMvot2u','tMTevgW','DevODKi','sKvsDhu','otm5mZyZnM10wLvPCW','rhLmAK4','x2XVywrcDwrNzxrmAw1PDa','sMrmAvm','x2nOzwnRqNvKz2v0u3rHDhvZ','Dg90ywXjBNb1DfrVA2vUCW','zu9ArKy','v1fVEhK','D2fYBMLUzW','v1j0zxO','x2vUC3vYzvvZywDLrgLYzwn0B3j5','zMvOy2G','BgfZDfvWzgf0zwq','t3bLCMf0Aw9UihDVDwXKihvZzsbZAwDUAwzPy2fUDcbWB3j0Aw9Uig9Migj1zgDLDc4Gq29UC2LKzxiGy29ZDcbVChrPBwL6yxrPB24U','CfPdBLa','DxbKyxrLuhjPy2LUz0zYB21tzxj2zxi','D2fYBMLUz0XLDMvS','AM9PBG','Dw5PDa','mtu5ntiWnxHnyKTjwq','AKrUA1a','EurTCum','v3jpte0','EhfTugW','rMfPBgvKihrVigXVywqGChjLDMLVDxmGDxnHz2uGzgf0ytO','cLbYAwnPBMCGC291CMnLoIa','BgLTAxq','DLvAvw0','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','qunbzum','uhjVy2vLzcb3AxrOig9WzxjHDgLVBI4','vKLkDKq','rMfPBgvKihrVihnHDMuGDxnHz2uGzgf0ytO','Aw5JBhvKzxm','rMLSzsbZExn0zw0GB3bLCMf0Aw9UigzHAwXLza','q2fgquu','x3vWzgf0zvvZywDLrgf0yq','vxnHz2uGCMvJB3jKzwqGC3vJy2vZC2z1BgX5','uhjPy2LUzYb1CgrHDguGywXYzwfKEsbPBIbWCM9NCMvZCW','qNvKz2v0ihnLCNzPy2uGC2H1DcbKB3DUihn1y2nLC3nMDwXSEq','DxDmsKK','igv4y2vLzhmGBgLTAxqGB2yGja','AvPHBeG','oIaK','kcGOlISPkYKRksSK','vhfws3e','C29YDa','ru5kvgi','BgvUz3rO','Dg9ju09tDhjPBMC','C3rHCNrZv2L0Aa','mZi3nZe3mhrOCw9OBG','C2H1DgrVD24','yNbWsvC','DxrMltG','pt09ifvtquDfifjfue9svca9pt0k','ChjPy2LUz0rHDge','CujmtMG','ufbpweu','AxHvEw4','DxnHz2u','renVsvu'];a0_0x4e4d=function(){return _0x33aa7c;};return a0_0x4e4d();}import a0_0x2a3f51 from'path';const DEFAULT_USAGE_DIR=a0_0x22273d(0x2e9),USAGE_FILENAME=a0_0x22273d(0x1d2),SESSION_PREFIX=a0_0x22273d(0x230),PRICING_CACHE_DURATION_MS=0x493e0,PRICING_REFRESH_THRESHOLD_MS=0xea60,MAX_SESSION_FILES=0x64,BUDGET_WARNING_THRESHOLD=0.8,BUDGET_CRITICAL_THRESHOLD=0.95,a0_0x5807df={};a0_0x5807df[a0_0x22273d(0x349)]=a0_0x22273d(0x273),a0_0x5807df[a0_0x22273d(0x1d3)]=a0_0x22273d(0x2c1),a0_0x5807df[a0_0x22273d(0x22c)]=a0_0x22273d(0x2f4),a0_0x5807df[a0_0x22273d(0x2d7)]=a0_0x22273d(0x249),a0_0x5807df[a0_0x22273d(0x2d3)]=a0_0x22273d(0x2cd),a0_0x5807df[a0_0x22273d(0x2d1)]=a0_0x22273d(0x324);const ERROR_MESSAGES=a0_0x5807df;export class BudgetService{constructor(_0x1a5051,_0x55d594,_0x256462=null){const _0x234026=a0_0x22273d,_0x41e8df={};_0x41e8df[_0x234026(0x206)]=_0x234026(0x31a),_0x41e8df[_0x234026(0x282)]='Budget\x20service\x20initialized';const _0x53a51e=_0x41e8df;this[_0x234026(0x295)]=_0x1a5051,this[_0x234026(0x292)]=_0x55d594,this['serverLLMService']=_0x256462,this[_0x234026(0x33e)]=this[_0x234026(0x1c5)](),this[_0x234026(0x1a2)]=this[_0x234026(0x304)](),this[_0x234026(0x1a4)]=_0x1a5051[_0x234026(0x26a)]?.[_0x234026(0x1a4)]||![],this[_0x234026(0x33a)]=new Map(),this[_0x234026(0x1b4)]=null,this[_0x234026(0x1de)]=![],this['usageDir']=_0x1a5051[_0x234026(0x26a)]?.[_0x234026(0x247)]||DEFAULT_USAGE_DIR,this[_0x234026(0x292)][_0x234026(0x2c4)](_0x53a51e[_0x234026(0x282)],{'budgetLimit':this[_0x234026(0x1a2)],'hardLimit':this['hardLimit'],'usageDir':this[_0x234026(0x247)],'hasPricingService':!!this[_0x234026(0x1d1)]}),this[_0x234026(0x195)]()[_0x234026(0x2ee)](_0x440d21=>{const _0x427824=_0x234026;if('dYWlf'!=='dYWlf')return this[_0x427824(0x2d6)](_0x53d5a5);else this['logger'][_0x427824(0x27d)](_0x53a51e[_0x427824(0x206)],_0x440d21);});}[a0_0x22273d(0x1c5)](){const _0x4adfd3=a0_0x22273d;return{'totalInputTokens':0x0,'totalOutputTokens':0x0,'totalCost':0x0,'serviceUsage':{},'modelUsage':{},'sessionStart':new Date()['toISOString'](),'sessionId':this[_0x4adfd3(0x1f0)](),'lastUpdated':new Date()[_0x4adfd3(0x333)]()};}[a0_0x22273d(0x1f0)](){const _0x5583b1=a0_0x22273d,_0x33020c=Date[_0x5583b1(0x21b)]()[_0x5583b1(0x233)](0x24),_0x547931=Math['random']()[_0x5583b1(0x233)](0x24)['slice'](0x2);return _0x33020c+'_'+_0x547931;}[a0_0x22273d(0x304)](){const _0x22b024=a0_0x22273d,_0x4d1145={};_0x4d1145[_0x22b024(0x29b)]=function(_0x36d1ef,_0x3077bb){return _0x36d1ef!==_0x3077bb;};const _0x2dacec=_0x4d1145,_0x47a8c1=this[_0x22b024(0x295)][_0x22b024(0x26a)]?.[_0x22b024(0x31c)];if(_0x2dacec[_0x22b024(0x29b)](_0x47a8c1,undefined)&&_0x2dacec[_0x22b024(0x29b)](_0x47a8c1,null))return this['_validateBudgetAmount'](_0x47a8c1);return null;}async[a0_0x22273d(0x311)](){const _0x3347bf=a0_0x22273d,_0x5d2e21={};_0x5d2e21['ACAeC']=_0x3347bf(0x1cf),_0x5d2e21['fLvXx']=_0x3347bf(0x328),_0x5d2e21[_0x3347bf(0x316)]=function(_0x2630ef,_0x44f8d6){return _0x2630ef===_0x44f8d6;},_0x5d2e21[_0x3347bf(0x294)]=_0x3347bf(0x2bb),_0x5d2e21[_0x3347bf(0x1a5)]=_0x3347bf(0x2ce),_0x5d2e21['riMAC']=_0x3347bf(0x1a1),_0x5d2e21[_0x3347bf(0x1e8)]='Failed\x20to\x20update\x20pricing\x20from\x20server:',_0x5d2e21[_0x3347bf(0x2aa)]=_0x3347bf(0x2b4);const _0x2218f7=_0x5d2e21;if(!this[_0x3347bf(0x1d1)])return this[_0x3347bf(0x292)][_0x3347bf(0x1cd)](_0x3347bf(0x2f6)),![];if(this[_0x3347bf(0x1de)])return _0x2218f7[_0x3347bf(0x31f)]===_0x2218f7[_0x3347bf(0x31f)]?(this[_0x3347bf(0x292)][_0x3347bf(0x1cd)](_0x2218f7[_0x3347bf(0x223)]),![]):{'totalInputTokens':0x0,'totalOutputTokens':0x0,'totalCost':0x0,'serviceUsage':{},'modelUsage':{},'sessionStart':new _0x50cd48()[_0x3347bf(0x333)](),'sessionId':this[_0x3347bf(0x1f0)](),'lastUpdated':new _0x369f64()[_0x3347bf(0x333)]()};if(!this[_0x3347bf(0x2fd)]())return!![];this['pricingUpdateInProgress']=!![];try{this[_0x3347bf(0x292)][_0x3347bf(0x2c4)](_0x3347bf(0x200));const _0x127d61=await this[_0x3347bf(0x1d1)][_0x3347bf(0x279)]();if(_0x2218f7[_0x3347bf(0x316)](_0x127d61[_0x3347bf(0x2a9)],0x0))return this['logger'][_0x3347bf(0x27d)](_0x2218f7[_0x3347bf(0x294)]),![];this[_0x3347bf(0x33a)][_0x3347bf(0x1f6)]();for(const [_0x2fc8a8,_0x3f4cc4]of _0x127d61[_0x3347bf(0x27a)]()){const _0x2f33fc={};_0x2f33fc['input']=_0x3f4cc4[_0x3347bf(0x250)],_0x2f33fc[_0x3347bf(0x19b)]=_0x3f4cc4['output'],_0x2f33fc[_0x3347bf(0x314)]=_0x3f4cc4[_0x3347bf(0x314)]||_0x2218f7[_0x3347bf(0x1a5)],_0x2f33fc[_0x3347bf(0x262)]=_0x3f4cc4[_0x3347bf(0x262)]||_0x2218f7['riMAC'],this[_0x3347bf(0x33a)][_0x3347bf(0x20b)](_0x2fc8a8,_0x2f33fc);}return this['lastPricingUpdate']=new Date()[_0x3347bf(0x333)](),this['logger']['info'](_0x3347bf(0x2e5)+this['pricingData'][_0x3347bf(0x2a9)]+'\x20models\x20from\x20server'),!![];}catch(_0x208c1f){return this['logger'][_0x3347bf(0x1a6)](_0x2218f7[_0x3347bf(0x1e8)],_0x208c1f),![];}finally{'oOlGO'===_0x2218f7[_0x3347bf(0x2aa)]?this[_0x3347bf(0x1de)]=![]:_0x469c21+=_0x2ad233+_0x3347bf(0x32d)+_0x2bfb5[_0x3347bf(0x29a)]['toFixed'](0x4)+'\x20('+_0x34dcf0[_0x3347bf(0x198)]+_0x3347bf(0x1c3);}}[a0_0x22273d(0x2fd)](){const _0xb8b099=a0_0x22273d,_0x3fd777={};_0x3fd777[_0xb8b099(0x189)]=function(_0x48eb1f,_0x37c8a9){return _0x48eb1f>_0x37c8a9;};const _0xc274b6=_0x3fd777;if(!this[_0xb8b099(0x1b4)])return!![];const _0x5b71c8=Date[_0xb8b099(0x21b)]()-new Date(this[_0xb8b099(0x1b4)])['getTime']();return _0xc274b6[_0xb8b099(0x189)](_0x5b71c8,PRICING_REFRESH_THRESHOLD_MS);}['getModelPricing'](_0x544315){const _0x43e1ac=a0_0x22273d,_0xe575f3={};_0xe575f3[_0x43e1ac(0x32c)]=function(_0x45903c,_0xc2140f){return _0x45903c!==_0xc2140f;},_0xe575f3['iIEdM']=_0x43e1ac(0x270),_0xe575f3[_0x43e1ac(0x321)]=_0x43e1ac(0x341),_0xe575f3[_0x43e1ac(0x255)]=_0x43e1ac(0x2e6);const _0x2d2916=_0xe575f3;if(!_0x544315||typeof _0x544315!==_0x43e1ac(0x19d)){if(_0x2d2916[_0x43e1ac(0x32c)](_0x2d2916[_0x43e1ac(0x1bb)],_0x2d2916['VIJvD']))return this[_0x43e1ac(0x292)][_0x43e1ac(0x27d)](_0x2d2916[_0x43e1ac(0x255)]),null;else _0xb24a0c+=_0x176ab0+':\x20$'+_0x21a0a6[_0x43e1ac(0x29a)]['toFixed'](0x4)+'\x20('+_0x588da2[_0x43e1ac(0x198)]+'\x20requests)\x0a';}return this[_0x43e1ac(0x33a)][_0x43e1ac(0x1dd)](_0x544315)||null;}['getAllPricing'](){const _0x2cd469=a0_0x22273d;return this[_0x2cd469(0x1d1)][_0x2cd469(0x279)]();}async[a0_0x22273d(0x22f)](_0x420080,_0x32a26d,_0x251b84,_0x33845c){const _0x10b86e=a0_0x22273d,_0x1b8761={};_0x1b8761['pNapq']=_0x10b86e(0x327);const _0x51d6af=_0x1b8761;this[_0x10b86e(0x292)][_0x10b86e(0x2c4)](_0x10b86e(0x18c)+_0x420080+'/'+_0x32a26d,{'inputTokens':_0x251b84,'outputTokens':_0x33845c,'service':_0x420080,'model':_0x32a26d}),this['_validateUsageInputs'](_0x420080,_0x32a26d,_0x251b84,_0x33845c),await this[_0x10b86e(0x311)]();const _0x530104=this[_0x10b86e(0x216)](_0x32a26d,_0x251b84,_0x33845c);!_0x530104['success']&&this['logger'][_0x10b86e(0x27d)](_0x10b86e(0x25c)+_0x32a26d+',\x20using\x20estimate');this[_0x10b86e(0x326)](_0x420080,_0x32a26d,_0x251b84,_0x33845c,_0x530104[_0x10b86e(0x17b)]);const _0x4f705a=this[_0x10b86e(0x306)]();await this[_0x10b86e(0x2eb)]();const _0x145932={'service':_0x420080,'model':_0x32a26d,'inputTokens':_0x251b84,'outputTokens':_0x33845c,'cost':_0x530104,'budgetStatus':_0x4f705a,'timestamp':new Date()['toISOString']()};return this['logger'][_0x10b86e(0x1cd)](_0x51d6af['pNapq'],_0x145932),_0x145932;}['_validateUsageInputs'](_0x18f40d,_0x36ce22,_0xb6c67a,_0x1d788a){const _0x2bb064=a0_0x22273d,_0x387a3d={};_0x387a3d[_0x2bb064(0x2fc)]=function(_0x2f6a9f,_0x5cd803){return _0x2f6a9f!==_0x5cd803;},_0x387a3d['BXOnb']=_0x2bb064(0x19d),_0x387a3d['bEIxg']=_0x2bb064(0x319),_0x387a3d['PZYKN']=_0x2bb064(0x2ad),_0x387a3d[_0x2bb064(0x348)]=function(_0x8a2c41,_0x29dc7f){return _0x8a2c41!==_0x29dc7f;},_0x387a3d[_0x2bb064(0x1c6)]='number',_0x387a3d[_0x2bb064(0x2b1)]=function(_0x4798a4,_0x19b1d7){return _0x4798a4<_0x19b1d7;};const _0xc46d9d=_0x387a3d;if(!_0x18f40d||_0xc46d9d[_0x2bb064(0x2fc)](typeof _0x18f40d,_0xc46d9d['BXOnb'])){if(_0xc46d9d[_0x2bb064(0x2fc)](_0xc46d9d[_0x2bb064(0x17e)],_0xc46d9d['bEIxg']))return;else throw new Error(ERROR_MESSAGES[_0x2bb064(0x22c)]);}if(!_0x36ce22||_0xc46d9d[_0x2bb064(0x2fc)](typeof _0x36ce22,_0xc46d9d[_0x2bb064(0x2fa)]))throw new Error(_0x2bb064(0x248));if(_0xc46d9d[_0x2bb064(0x2fc)](typeof _0xb6c67a,_0x2bb064(0x2c8))||_0xb6c67a<0x0){if(_0xc46d9d['kbuuT'](_0x2bb064(0x2ad),_0xc46d9d[_0x2bb064(0x24f)]))throw new _0x267353(_0x42fda4['INVALID_TOKENS']);else throw new Error(ERROR_MESSAGES[_0x2bb064(0x1d3)]);}if(_0xc46d9d['OQTxG'](typeof _0x1d788a,_0xc46d9d[_0x2bb064(0x1c6)])||_0xc46d9d['zNPdG'](_0x1d788a,0x0))throw new Error(ERROR_MESSAGES[_0x2bb064(0x1d3)]);}[a0_0x22273d(0x216)](_0x263868,_0x382fb9,_0x4b74ce){const _0x12cfd5=a0_0x22273d,_0x3afe1d={};_0x3afe1d[_0x12cfd5(0x2a3)]=_0x12cfd5(0x2e6),_0x3afe1d[_0x12cfd5(0x33d)]=function(_0x447a2f,_0x28a691){return _0x447a2f!==_0x28a691;},_0x3afe1d[_0x12cfd5(0x2cf)]=_0x12cfd5(0x1cb),_0x3afe1d[_0x12cfd5(0x1ee)]=function(_0x3f2294,_0x141feb){return _0x3f2294*_0x141feb;},_0x3afe1d['XuTOW']=function(_0x39ddd5,_0x56a191){return _0x39ddd5/_0x56a191;},_0x3afe1d['Onvpu']=function(_0x59f857,_0x2a04c7){return _0x59f857+_0x2a04c7;},_0x3afe1d[_0x12cfd5(0x2dd)]=_0x12cfd5(0x1a1),_0x3afe1d[_0x12cfd5(0x182)]=_0x12cfd5(0x2ce),_0x3afe1d[_0x12cfd5(0x188)]=function(_0x51cde9,_0x2bdb37){return _0x51cde9*_0x2bdb37;};const _0x56afb4=_0x3afe1d,_0x3d18d6=this['getModelPricing'](_0x263868);if(!_0x3d18d6){if(_0x56afb4[_0x12cfd5(0x33d)](_0x56afb4['vMgSe'],_0x56afb4[_0x12cfd5(0x2cf)])){if(!_0x43526b||typeof _0x5316a7!==_0x12cfd5(0x19d))return this[_0x12cfd5(0x292)][_0x12cfd5(0x27d)](_0x56afb4[_0x12cfd5(0x2a3)]),null;return this['pricingData'][_0x12cfd5(0x1dd)](_0x499f14)||null;}else{const _0x223b2c=this[_0x12cfd5(0x231)](_0x263868),_0x4617cd=_0x56afb4[_0x12cfd5(0x1ee)](_0x56afb4[_0x12cfd5(0x252)](_0x382fb9,0x3e8),_0x223b2c['input']),_0x4026b0=_0x56afb4[_0x12cfd5(0x1ee)](_0x4b74ce/0x3e8,_0x223b2c[_0x12cfd5(0x19b)]);return{'success':![],'inputCost':_0x4617cd,'outputCost':_0x4026b0,'totalCost':_0x56afb4[_0x12cfd5(0x1b5)](_0x4617cd,_0x4026b0),'currency':_0x56afb4[_0x12cfd5(0x2dd)],'unit':_0x56afb4['iZAil'],'estimated':!![],'reason':_0x12cfd5(0x1bd)};}}const _0x2b51d3=_0x56afb4[_0x12cfd5(0x188)](_0x56afb4[_0x12cfd5(0x252)](_0x382fb9,0x3e8),_0x3d18d6[_0x12cfd5(0x250)]),_0x288575=_0x56afb4[_0x12cfd5(0x1ee)](_0x4b74ce/0x3e8,_0x3d18d6[_0x12cfd5(0x19b)]),_0x26c765={};return _0x26c765['success']=!![],_0x26c765[_0x12cfd5(0x2ed)]=_0x2b51d3,_0x26c765['outputCost']=_0x288575,_0x26c765['totalCost']=_0x2b51d3+_0x288575,_0x26c765[_0x12cfd5(0x262)]=_0x3d18d6['currency'],_0x26c765[_0x12cfd5(0x314)]=_0x3d18d6['unit'],_0x26c765['estimated']=![],_0x26c765;}[a0_0x22273d(0x231)](_0x1dd380){const _0x29be5f=a0_0x22273d,_0x37eae9={};_0x37eae9[_0x29be5f(0x184)]='opus',_0x37eae9[_0x29be5f(0x1ad)]='gpt-4',_0x37eae9['LOvaW']=function(_0x2e5469,_0x2acd6c){return _0x2e5469!==_0x2acd6c;},_0x37eae9[_0x29be5f(0x301)]=_0x29be5f(0x208),_0x37eae9[_0x29be5f(0x31d)]='sonnet',_0x37eae9[_0x29be5f(0x346)]='haiku',_0x37eae9[_0x29be5f(0x347)]=_0x29be5f(0x218),_0x37eae9[_0x29be5f(0x1e1)]=function(_0xf19b60,_0x414d63){return _0xf19b60===_0x414d63;},_0x37eae9['FNARc']='fyyqK',_0x37eae9['kdLwp']='KOudy';const _0x248d49=_0x37eae9,_0x2b9c18=_0x1dd380['toLowerCase']();if(_0x2b9c18[_0x29be5f(0x323)](_0x248d49[_0x29be5f(0x184)])||_0x2b9c18[_0x29be5f(0x323)](_0x248d49[_0x29be5f(0x1ad)])){if(_0x248d49[_0x29be5f(0x2de)](_0x248d49['JERtu'],_0x29be5f(0x25e))){const _0x34a663={};return _0x34a663[_0x29be5f(0x250)]=0.015,_0x34a663['output']=0.075,_0x34a663;}else _0x2e17a8=_0x138f9c;}else{if(_0x2b9c18[_0x29be5f(0x323)](_0x248d49[_0x29be5f(0x31d)])||_0x2b9c18[_0x29be5f(0x323)]('gpt-3.5')){const _0x2c382b={};return _0x2c382b['input']=0.003,_0x2c382b['output']=0.015,_0x2c382b;}else{if(_0x2b9c18[_0x29be5f(0x323)](_0x248d49['Cnzre'])||_0x2b9c18[_0x29be5f(0x323)](_0x248d49[_0x29be5f(0x347)])){if(_0x248d49[_0x29be5f(0x1e1)](_0x248d49[_0x29be5f(0x1e2)],_0x248d49['kdLwp']))this['logger'][_0x29be5f(0x27d)](_0x29be5f(0x20c)+_0x5df1f7[_0x29be5f(0x312)]+':\x20'+_0x31ca67[_0x29be5f(0x17d)]['toFixed'](0x1)+_0x29be5f(0x2bf),{'totalSpent':this['usage']['totalCost'],'budgetLimit':this['budgetLimit'],'remainingBudget':_0x11e88c[_0x29be5f(0x204)]});else{const _0x127a27={};return _0x127a27[_0x29be5f(0x250)]=0.001,_0x127a27[_0x29be5f(0x19b)]=0.004,_0x127a27;}}}}const _0x415750={};return _0x415750[_0x29be5f(0x250)]=0.005,_0x415750['output']=0.02,_0x415750;}[a0_0x22273d(0x326)](_0x2d5ebd,_0x54ad66,_0x584d31,_0x5989e4,_0x4630e2){const _0x50ef7b=a0_0x22273d,_0x8d29e6={};_0x8d29e6['IbgmZ']=_0x50ef7b(0x194),_0x8d29e6['ZwPnV']='No\x20pricing\x20data\x20available',_0x8d29e6[_0x50ef7b(0x2a7)]='xtPNC',_0x8d29e6[_0x50ef7b(0x2a8)]=_0x50ef7b(0x272);const _0x2da6df=_0x8d29e6;this[_0x50ef7b(0x33e)]['totalInputTokens']+=_0x584d31,this[_0x50ef7b(0x33e)][_0x50ef7b(0x343)]+=_0x5989e4,this['usage'][_0x50ef7b(0x17b)]+=_0x4630e2,this[_0x50ef7b(0x33e)][_0x50ef7b(0x30e)]=new Date()[_0x50ef7b(0x333)]();if(!this[_0x50ef7b(0x33e)][_0x50ef7b(0x187)][_0x2d5ebd]){const _0x261d02={};_0x261d02[_0x50ef7b(0x27c)]=0x0,_0x261d02[_0x50ef7b(0x297)]=0x0,_0x261d02[_0x50ef7b(0x29a)]=0x0,_0x261d02[_0x50ef7b(0x198)]=0x0,this['usage'][_0x50ef7b(0x187)][_0x2d5ebd]=_0x261d02;}this[_0x50ef7b(0x33e)][_0x50ef7b(0x187)][_0x2d5ebd]['inputTokens']+=_0x584d31,this['usage'][_0x50ef7b(0x187)][_0x2d5ebd]['outputTokens']+=_0x5989e4,this['usage'][_0x50ef7b(0x187)][_0x2d5ebd][_0x50ef7b(0x29a)]+=_0x4630e2,this[_0x50ef7b(0x33e)]['serviceUsage'][_0x2d5ebd][_0x50ef7b(0x198)]+=0x1;if(!this[_0x50ef7b(0x33e)][_0x50ef7b(0x256)][_0x54ad66]){if(_0x2da6df[_0x50ef7b(0x2a7)]!==_0x2da6df[_0x50ef7b(0x2a8)]){const _0x40ad1c={};_0x40ad1c[_0x50ef7b(0x27c)]=0x0,_0x40ad1c['outputTokens']=0x0,_0x40ad1c[_0x50ef7b(0x29a)]=0x0,_0x40ad1c[_0x50ef7b(0x198)]=0x0,this[_0x50ef7b(0x33e)][_0x50ef7b(0x256)][_0x54ad66]=_0x40ad1c;}else _0x2ec700[_0x50ef7b(0x1f3)]=_0x2da6df[_0x50ef7b(0x254)],_0x31af5f[_0x50ef7b(0x1da)]['push'](_0x2da6df[_0x50ef7b(0x2d0)]);}this['usage'][_0x50ef7b(0x256)][_0x54ad66]['inputTokens']+=_0x584d31,this['usage'][_0x50ef7b(0x256)][_0x54ad66][_0x50ef7b(0x297)]+=_0x5989e4,this[_0x50ef7b(0x33e)][_0x50ef7b(0x256)][_0x54ad66]['cost']+=_0x4630e2,this[_0x50ef7b(0x33e)][_0x50ef7b(0x256)][_0x54ad66][_0x50ef7b(0x198)]+=0x1;}[a0_0x22273d(0x306)](){const _0x1cb60a=a0_0x22273d,_0x1be93d={};_0x1be93d['lisyw']=_0x1cb60a(0x322),_0x1be93d[_0x1cb60a(0x23d)]=function(_0x575112,_0x55e72c){return _0x575112!==_0x55e72c;},_0x1be93d['jcvBm']=function(_0x120743,_0x489ed2){return _0x120743-_0x489ed2;},_0x1be93d[_0x1cb60a(0x191)]=function(_0x1f09de,_0x537bd6){return _0x1f09de<=_0x537bd6;},_0x1be93d['frQxG']=function(_0x3a66a7,_0x4c83a6){return _0x3a66a7>=_0x4c83a6;},_0x1be93d[_0x1cb60a(0x1aa)]=function(_0x595176,_0x26431f){return _0x595176*_0x26431f;},_0x1be93d['AeIeR']=_0x1cb60a(0x261),_0x1be93d[_0x1cb60a(0x2a0)]=function(_0x3bfbee,_0x57d71c){return _0x3bfbee*_0x57d71c;},_0x1be93d[_0x1cb60a(0x1dc)]=_0x1cb60a(0x30a),_0x1be93d['jEkGS']=_0x1cb60a(0x24d);const _0x2af5fa=_0x1be93d,_0xba65f={};_0xba65f['withinBudget']=!![],_0xba65f[_0x1cb60a(0x1a2)]=this[_0x1cb60a(0x1a2)],_0xba65f[_0x1cb60a(0x212)]=this['usage']['totalCost'],_0xba65f['remainingBudget']=null,_0xba65f[_0x1cb60a(0x17d)]=null,_0xba65f[_0x1cb60a(0x312)]=_0x1cb60a(0x24d);const _0x1f5173=_0xba65f;if(_0x2af5fa[_0x1cb60a(0x23d)](this['budgetLimit'],null)){if(_0x2af5fa['VyPIK'](_0x1cb60a(0x27e),'tbxKa')){this[_0x1cb60a(0x292)]['error'](_0x2af5fa[_0x1cb60a(0x19f)],_0x15e672);throw new _0x427682(_0x491080[_0x1cb60a(0x2d1)]+':\x20'+_0x4a5537['message']);}else{_0x1f5173[_0x1cb60a(0x204)]=Math[_0x1cb60a(0x220)](0x0,_0x2af5fa[_0x1cb60a(0x18f)](this[_0x1cb60a(0x1a2)],this[_0x1cb60a(0x33e)][_0x1cb60a(0x17b)])),_0x1f5173[_0x1cb60a(0x17d)]=this[_0x1cb60a(0x33e)][_0x1cb60a(0x17b)]/this[_0x1cb60a(0x1a2)]*0x64,_0x1f5173['withinBudget']=_0x2af5fa[_0x1cb60a(0x191)](this[_0x1cb60a(0x33e)][_0x1cb60a(0x17b)],this[_0x1cb60a(0x1a2)]);if(_0x2af5fa[_0x1cb60a(0x2b8)](_0x1f5173[_0x1cb60a(0x17d)],_0x2af5fa[_0x1cb60a(0x1aa)](BUDGET_CRITICAL_THRESHOLD,0x64)))_0x1f5173[_0x1cb60a(0x312)]=_0x2af5fa[_0x1cb60a(0x2a1)];else _0x1f5173['percentageUsed']>=_0x2af5fa[_0x1cb60a(0x2a0)](BUDGET_WARNING_THRESHOLD,0x64)&&(_0x1f5173[_0x1cb60a(0x312)]=_0x2af5fa[_0x1cb60a(0x1dc)]);_0x1f5173['warningLevel']!==_0x2af5fa[_0x1cb60a(0x21d)]&&(_0x1cb60a(0x309)===_0x1cb60a(0x309)?this[_0x1cb60a(0x292)][_0x1cb60a(0x27d)](_0x1cb60a(0x20c)+_0x1f5173['warningLevel']+':\x20'+_0x1f5173[_0x1cb60a(0x17d)]['toFixed'](0x1)+'%\x20used',{'totalSpent':this[_0x1cb60a(0x33e)][_0x1cb60a(0x17b)],'budgetLimit':this['budgetLimit'],'remainingBudget':_0x1f5173[_0x1cb60a(0x204)]}):this[_0x1cb60a(0x292)][_0x1cb60a(0x27d)](_0x1cb60a(0x31a),_0x1d4b3f));if(!_0x1f5173[_0x1cb60a(0x2e8)]&&this[_0x1cb60a(0x1a4)]){const _0xc7b8b9=new Error(ERROR_MESSAGES[_0x1cb60a(0x2d7)]+_0x1cb60a(0x32d)+this[_0x1cb60a(0x33e)][_0x1cb60a(0x17b)][_0x1cb60a(0x2f7)](0x2)+_0x1cb60a(0x32b)+this[_0x1cb60a(0x1a2)][_0x1cb60a(0x2f7)](0x2));_0xc7b8b9[_0x1cb60a(0x17a)]=_0x1cb60a(0x2d7),_0xc7b8b9[_0x1cb60a(0x286)]=_0x1f5173;throw _0xc7b8b9;}}}return _0x1f5173;}async[a0_0x22273d(0x284)](_0x5140a1){const _0x23f666=a0_0x22273d,_0x580699=this[_0x23f666(0x278)](_0x5140a1);this[_0x23f666(0x1a2)]=_0x580699,this[_0x23f666(0x295)][_0x23f666(0x26a)]=this[_0x23f666(0x295)]['budget']||{},this[_0x23f666(0x295)][_0x23f666(0x26a)][_0x23f666(0x31c)]=_0x580699,this[_0x23f666(0x292)][_0x23f666(0x2c4)](_0x23f666(0x251)+_0x580699[_0x23f666(0x2f7)](0x2),{'previousLimit':this[_0x23f666(0x1a2)],'newLimit':_0x580699}),await this['saveUsageData']();}['_validateBudgetAmount'](_0xccedc4){const _0x5dbe0a=a0_0x22273d,_0x1cc84f={};_0x1cc84f[_0x5dbe0a(0x310)]=_0x5dbe0a(0x240),_0x1cc84f[_0x5dbe0a(0x32a)]=function(_0x2b9766,_0x38b01b){return _0x2b9766!==_0x38b01b;},_0x1cc84f['UjeGT']='number',_0x1cc84f[_0x5dbe0a(0x224)]=function(_0x2ff1de,_0x5bff78){return _0x2ff1de<_0x5bff78;},_0x1cc84f['tnmpL']=_0x5dbe0a(0x288);const _0x2674f6=_0x1cc84f;if(_0x2674f6[_0x5dbe0a(0x32a)](typeof _0xccedc4,_0x2674f6[_0x5dbe0a(0x2f8)])||_0x2674f6[_0x5dbe0a(0x224)](_0xccedc4,0x0)||!isFinite(_0xccedc4)){if(_0x2674f6[_0x5dbe0a(0x32a)]('JTfoB',_0x2674f6['tnmpL']))return _0x2674f6[_0x5dbe0a(0x310)];else throw new Error(ERROR_MESSAGES[_0x5dbe0a(0x349)]);}return _0xccedc4;}async[a0_0x22273d(0x183)](){const _0x336c33=a0_0x22273d,_0x45aacf={};_0x45aacf[_0x336c33(0x271)]=function(_0x36820c,_0x2e07a8){return _0x36820c!==_0x2e07a8;},_0x45aacf[_0x336c33(0x18a)]=function(_0x307715,_0x26354b){return _0x307715-_0x26354b;},_0x45aacf['qJNUb']=function(_0x3de002,_0x596ec9){return _0x3de002/_0x596ec9;},_0x45aacf['TvnJX']='server';const _0x4dce73=_0x45aacf;await this['updatePricingFromServer']();const _0x1ba65b={'totalSpent':this[_0x336c33(0x33e)]['totalCost'],'budgetLimit':this[_0x336c33(0x1a2)],'inputTokens':this[_0x336c33(0x33e)]['totalInputTokens'],'outputTokens':this[_0x336c33(0x33e)][_0x336c33(0x343)],'remainingBudget':_0x4dce73[_0x336c33(0x271)](this['budgetLimit'],null)?Math[_0x336c33(0x220)](0x0,_0x4dce73[_0x336c33(0x18a)](this[_0x336c33(0x1a2)],this['usage'][_0x336c33(0x17b)])):null,'percentageUsed':_0x4dce73[_0x336c33(0x271)](this[_0x336c33(0x1a2)],null)?_0x4dce73['qJNUb'](this[_0x336c33(0x33e)][_0x336c33(0x17b)],this['budgetLimit'])*0x64:null,'sessionStart':this['usage'][_0x336c33(0x2b5)],'lastUpdated':this[_0x336c33(0x33e)][_0x336c33(0x30e)],'breakdownByService':{},'breakdownByModel':{},'pricingInfo':{'lastUpdate':this[_0x336c33(0x1b4)],'modelsWithPricing':this[_0x336c33(0x33a)][_0x336c33(0x2a9)],'source':this['serverLLMService']?_0x4dce73[_0x336c33(0x246)]:'fallback'}};for(const [_0x15726d,_0x12cafe]of Object[_0x336c33(0x27a)](this[_0x336c33(0x33e)][_0x336c33(0x187)])){const _0x2f3a19={};_0x2f3a19[_0x336c33(0x29a)]=_0x12cafe[_0x336c33(0x29a)],_0x2f3a19[_0x336c33(0x27c)]=_0x12cafe[_0x336c33(0x27c)],_0x2f3a19[_0x336c33(0x297)]=_0x12cafe[_0x336c33(0x297)],_0x2f3a19[_0x336c33(0x198)]=_0x12cafe[_0x336c33(0x198)],_0x1ba65b[_0x336c33(0x178)][_0x15726d]=_0x2f3a19;}for(const [_0x1de6bb,_0x40d737]of Object['entries'](this[_0x336c33(0x33e)][_0x336c33(0x256)])){const _0x1aca06={};_0x1aca06[_0x336c33(0x29a)]=_0x40d737['cost'],_0x1aca06['inputTokens']=_0x40d737[_0x336c33(0x27c)],_0x1aca06[_0x336c33(0x297)]=_0x40d737['outputTokens'],_0x1aca06[_0x336c33(0x198)]=_0x40d737[_0x336c33(0x198)],_0x1ba65b[_0x336c33(0x1ec)][_0x1de6bb]=_0x1aca06;}return _0x1ba65b;}async[a0_0x22273d(0x2f3)](){const _0x4d8644=a0_0x22273d,_0x33cac9={};_0x33cac9[_0x4d8644(0x236)]=_0x4d8644(0x2d7),_0x33cac9['BYJCC']=_0x4d8644(0x339),_0x33cac9[_0x4d8644(0x1d7)]=function(_0x5c16a5,_0x3ea698){return _0x5c16a5>_0x3ea698;},_0x33cac9['LkoTw']=function(_0xc9ee5c,_0x3c29a6){return _0xc9ee5c!==_0x3c29a6;},_0x33cac9[_0x4d8644(0x276)]='iZYDm',_0x33cac9[_0x4d8644(0x325)]='\x0a===\x20BREAKDOWN\x20BY\x20SERVICE\x20===\x0a',_0x33cac9['zWbtF']=_0x4d8644(0x1e7);const _0x25560c=_0x33cac9,_0x25dd1c=await this[_0x4d8644(0x183)]();let _0x18146b=_0x25560c[_0x4d8644(0x29f)];_0x18146b+=_0x4d8644(0x2bd)+_0x25dd1c[_0x4d8644(0x212)][_0x4d8644(0x2f7)](0x4)+'\x0a',_0x18146b+=_0x4d8644(0x215)+_0x25dd1c[_0x4d8644(0x27c)][_0x4d8644(0x2d9)]()+'\x0a',_0x18146b+=_0x4d8644(0x1c8)+_0x25dd1c[_0x4d8644(0x297)]['toLocaleString']()+'\x0a';if(_0x25dd1c[_0x4d8644(0x1a2)]!==null){if(_0x4d8644(0x1cc)!=='hDXwA'){const _0xa2eda=new _0x475c31(_0x2624cd[_0x4d8644(0x2d7)]+_0x4d8644(0x32d)+this['usage'][_0x4d8644(0x17b)][_0x4d8644(0x2f7)](0x2)+'\x20exceeds\x20limit\x20of\x20$'+this['budgetLimit']['toFixed'](0x2));_0xa2eda[_0x4d8644(0x17a)]=_0x25560c[_0x4d8644(0x236)],_0xa2eda[_0x4d8644(0x286)]=_0x3b3b61;throw _0xa2eda;}else _0x18146b+=_0x4d8644(0x19a)+_0x25dd1c[_0x4d8644(0x1a2)][_0x4d8644(0x2f7)](0x2)+'\x0a',_0x18146b+='Remaining:\x20$'+_0x25dd1c[_0x4d8644(0x204)][_0x4d8644(0x2f7)](0x4)+'\x0a',_0x18146b+=_0x4d8644(0x2e0)+_0x25dd1c[_0x4d8644(0x17d)][_0x4d8644(0x2f7)](0x1)+'%\x0a';}_0x18146b+=_0x4d8644(0x31b)+_0x25dd1c['pricingInfo'][_0x4d8644(0x229)]+'\x0a',_0x18146b+=_0x4d8644(0x2b3)+_0x25dd1c[_0x4d8644(0x291)][_0x4d8644(0x1eb)]+'\x0a';if(_0x25560c[_0x4d8644(0x1d7)](Object[_0x4d8644(0x266)](_0x25dd1c['breakdownByService'])[_0x4d8644(0x332)],0x0)){if(_0x25560c[_0x4d8644(0x2bc)](_0x25560c['rgTLh'],_0x25560c[_0x4d8644(0x276)])){if(_0xf64a01){const _0xb36081=_0x441f95[_0x4d8644(0x239)](_0x487a46,arguments);return _0x1328a8=null,_0xb36081;}}else{_0x18146b+=_0x25560c['CaFAE'];for(const [_0x8f560d,_0x47186a]of Object[_0x4d8644(0x27a)](_0x25dd1c[_0x4d8644(0x178)])){_0x18146b+=_0x8f560d+':\x20$'+_0x47186a[_0x4d8644(0x29a)]['toFixed'](0x4)+'\x20('+_0x47186a[_0x4d8644(0x198)]+_0x4d8644(0x1c3);}}}if(_0x25560c[_0x4d8644(0x1d7)](Object['keys'](_0x25dd1c[_0x4d8644(0x1ec)])[_0x4d8644(0x332)],0x0)){_0x18146b+=_0x25560c[_0x4d8644(0x181)];for(const [_0x33a205,_0x407b26]of Object[_0x4d8644(0x27a)](_0x25dd1c[_0x4d8644(0x1ec)])){_0x18146b+=_0x33a205+_0x4d8644(0x32d)+_0x407b26['cost'][_0x4d8644(0x2f7)](0x4)+'\x20('+_0x407b26['requestCount']+_0x4d8644(0x1c3);}}return _0x18146b;}async[a0_0x22273d(0x2eb)](){const _0x7c6cd5=a0_0x22273d,_0x28524e={};_0x28524e['qUNqF']=function(_0x18f31d,_0x2954e6){return _0x18f31d>=_0x2954e6;},_0x28524e['hqwtr']=function(_0x281ec5,_0x136822){return _0x281ec5-_0x136822;},_0x28524e[_0x7c6cd5(0x23c)]=function(_0xf3d581,_0x42438c){return _0xf3d581===_0x42438c;},_0x28524e[_0x7c6cd5(0x274)]=_0x7c6cd5(0x241);const _0x4b6bab=_0x28524e,_0x31abd7=0.1,_0x56287c=this[_0x7c6cd5(0x33e)][_0x7c6cd5(0x2b0)]||0x0;if(_0x4b6bab['qUNqF'](_0x4b6bab[_0x7c6cd5(0x207)](this[_0x7c6cd5(0x33e)][_0x7c6cd5(0x17b)],_0x56287c),_0x31abd7)){if(_0x4b6bab['xKbsA'](_0x4b6bab[_0x7c6cd5(0x274)],_0x4b6bab['MjLni']))await this[_0x7c6cd5(0x1b0)](),this[_0x7c6cd5(0x33e)][_0x7c6cd5(0x2b0)]=this['usage'][_0x7c6cd5(0x17b)];else{const _0x64a9d7=_0x38946c[_0x7c6cd5(0x2c7)](this[_0x7c6cd5(0x33a)]['entries']())[_0x7c6cd5(0x1f4)](([_0x183947,_0x2939ed])=>({'model':_0x183947,'inputPrice':_0x2939ed[_0x7c6cd5(0x250)],'outputPrice':_0x2939ed['output'],'unit':_0x2939ed['unit'],'currency':_0x2939ed[_0x7c6cd5(0x262)]})),_0x2d0b6c={};return _0x2d0b6c['models']=_0x64a9d7,_0x2d0b6c[_0x7c6cd5(0x2cc)]=this[_0x7c6cd5(0x1b4)],_0x2d0b6c[_0x7c6cd5(0x229)]=this[_0x7c6cd5(0x1d1)]?'server':_0x7c6cd5(0x342),_0x2d0b6c[_0x7c6cd5(0x1bf)]=this[_0x7c6cd5(0x33a)][_0x7c6cd5(0x2a9)],_0x2d0b6c;}}}async[a0_0x22273d(0x195)](){const _0x48639a=a0_0x22273d,_0x32ed21={};_0x32ed21[_0x48639a(0x269)]='Failed\x20to\x20load\x20usage\x20data:',_0x32ed21['qebDf']=_0x48639a(0x277),_0x32ed21['vWnST']=_0x48639a(0x32f),_0x32ed21[_0x48639a(0x2e7)]='EWogm',_0x32ed21[_0x48639a(0x303)]=function(_0x198499,_0x28962b){return _0x198499!==_0x28962b;},_0x32ed21[_0x48639a(0x201)]=_0x48639a(0x1a9),_0x32ed21[_0x48639a(0x244)]=_0x48639a(0x26c),_0x32ed21[_0x48639a(0x1b3)]=_0x48639a(0x242),_0x32ed21[_0x48639a(0x2cb)]=function(_0xca0fe,_0x549866){return _0xca0fe+_0x549866;},_0x32ed21[_0x48639a(0x293)]='ENOENT';const _0x261c97=_0x32ed21;try{if(_0x261c97[_0x48639a(0x1b1)]===_0x261c97['xNSbj'])this[_0x48639a(0x292)][_0x48639a(0x27d)](_0x261c97[_0x48639a(0x269)],_0xf3a068);else{await this[_0x48639a(0x30c)]();const _0x4778a9=a0_0x2a3f51[_0x48639a(0x313)](this['usageDir'],USAGE_FILENAME);try{if(_0x261c97[_0x48639a(0x303)](_0x261c97[_0x48639a(0x201)],_0x261c97[_0x48639a(0x244)])){const _0x45911e=await a0_0x5b7275[_0x48639a(0x20e)](_0x4778a9,_0x48639a(0x338)),_0x39ef91=JSON[_0x48639a(0x1f7)](_0x45911e);this[_0x48639a(0x33e)][_0x48639a(0x307)]=_0x39ef91[_0x48639a(0x307)]||0x0,this[_0x48639a(0x33e)][_0x48639a(0x343)]=_0x39ef91['totalOutputTokens']||0x0,this[_0x48639a(0x33e)][_0x48639a(0x17b)]=_0x39ef91[_0x48639a(0x17b)]||0x0,this[_0x48639a(0x33e)][_0x48639a(0x187)]=_0x39ef91[_0x48639a(0x187)]||{},this[_0x48639a(0x33e)]['modelUsage']=_0x39ef91['modelUsage']||{},this[_0x48639a(0x292)]['info'](_0x261c97['gxlca'],{'totalCost':this[_0x48639a(0x33e)][_0x48639a(0x17b)],'totalTokens':_0x261c97[_0x48639a(0x2cb)](this[_0x48639a(0x33e)][_0x48639a(0x307)],this[_0x48639a(0x33e)]['totalOutputTokens'])});}else return this[_0x48639a(0x292)][_0x48639a(0x1a6)](_0x261c97['qebDf'],_0xe69112),![];}catch(_0x2810c3){_0x2810c3[_0x48639a(0x17a)]!==_0x261c97[_0x48639a(0x293)]&&this[_0x48639a(0x292)][_0x48639a(0x27d)](_0x261c97[_0x48639a(0x269)],_0x2810c3);}}}catch(_0x315b9d){this[_0x48639a(0x292)][_0x48639a(0x27d)](_0x48639a(0x203),_0x315b9d);}}async['_ensureUsageDirectory'](){const _0x5d08cf=a0_0x22273d,_0x3c06af={};_0x3c06af['rdDkV']=_0x5d08cf(0x221),_0x3c06af[_0x5d08cf(0x2c5)]='No\x20budget\x20limit\x20set.\x20Consider\x20setting\x20a\x20budget\x20for\x20cost\x20control.',_0x3c06af['WRtez']=_0x5d08cf(0x1f1),_0x3c06af[_0x5d08cf(0x280)]=_0x5d08cf(0x1e4),_0x3c06af[_0x5d08cf(0x28e)]='wJMsa';const _0x597447=_0x3c06af;try{if(_0x597447[_0x5d08cf(0x30b)]===_0x597447[_0x5d08cf(0x30b)]){const _0x2b74d6={};_0x2b74d6['recursive']=!![],await a0_0x5b7275[_0x5d08cf(0x2ea)](this[_0x5d08cf(0x247)],_0x2b74d6);}else{_0xac3834+=_0x597447[_0x5d08cf(0x237)];for(const [_0x4f9a0f,_0x200857]of _0x1c8cfb[_0x5d08cf(0x27a)](_0x3d5f2b['breakdownByService'])){_0x279ca6+=_0x4f9a0f+_0x5d08cf(0x32d)+_0x200857['cost'][_0x5d08cf(0x2f7)](0x4)+'\x20('+_0x200857[_0x5d08cf(0x198)]+'\x20requests)\x0a';}}}catch(_0x5f49c7){if(_0x597447['ExPbi']!==_0x597447[_0x5d08cf(0x28e)])throw new Error(ERROR_MESSAGES[_0x5d08cf(0x2d1)]+':\x20'+_0x5f49c7[_0x5d08cf(0x2b7)]);else return _0x597447['LxoNP'];}}async[a0_0x22273d(0x1b0)](){const _0x5cbeb8=a0_0x22273d,_0x3c69f0={};_0x3c69f0[_0x5cbeb8(0x245)]=_0x5cbeb8(0x338),_0x3c69f0[_0x5cbeb8(0x2fe)]='Usage\x20data\x20saved\x20successfully',_0x3c69f0['FWAXw']=function(_0x1f122d,_0x5ee6d4){return _0x1f122d!==_0x5ee6d4;},_0x3c69f0[_0x5cbeb8(0x23a)]=_0x5cbeb8(0x268),_0x3c69f0['pMIEv']=_0x5cbeb8(0x33c),_0x3c69f0[_0x5cbeb8(0x331)]=_0x5cbeb8(0x322);const _0x4b6d77=_0x3c69f0;try{await this[_0x5cbeb8(0x30c)](),this[_0x5cbeb8(0x33e)]['sessionEnd']=new Date()[_0x5cbeb8(0x333)]();const _0x1523c0=a0_0x2a3f51[_0x5cbeb8(0x313)](this['usageDir'],USAGE_FILENAME);await a0_0x5b7275[_0x5cbeb8(0x2be)](_0x1523c0,JSON['stringify'](this[_0x5cbeb8(0x33e)],null,0x2),_0x4b6d77[_0x5cbeb8(0x245)]);const _0x5c2ff0=a0_0x2a3f51['join'](this[_0x5cbeb8(0x247)],''+SESSION_PREFIX+this['usage']['sessionId']+'.json');await a0_0x5b7275['writeFile'](_0x5c2ff0,JSON[_0x5cbeb8(0x1a0)](this[_0x5cbeb8(0x33e)],null,0x2),_0x5cbeb8(0x338)),await this['_cleanupOldSessionFiles'](),this['logger']['info'](_0x4b6d77[_0x5cbeb8(0x2fe)],{'totalCost':this[_0x5cbeb8(0x33e)][_0x5cbeb8(0x17b)],'sessionId':this[_0x5cbeb8(0x33e)][_0x5cbeb8(0x2ab)]});}catch(_0x4d5e38){if(_0x4b6d77[_0x5cbeb8(0x179)](_0x4b6d77[_0x5cbeb8(0x23a)],_0x4b6d77[_0x5cbeb8(0x23f)])){this[_0x5cbeb8(0x292)][_0x5cbeb8(0x1a6)](_0x4b6d77[_0x5cbeb8(0x331)],_0x4d5e38);throw new Error(ERROR_MESSAGES[_0x5cbeb8(0x2d1)]+':\x20'+_0x4d5e38[_0x5cbeb8(0x2b7)]);}else this[_0x5cbeb8(0x292)][_0x5cbeb8(0x27d)](_0x5cbeb8(0x260)+_0x250f83[_0x5cbeb8(0x2e4)]+':',_0x3b58b8);}}async['_cleanupOldSessionFiles'](){const _0x22ff0b=a0_0x22273d,_0x33da1c={};_0x33da1c[_0x22ff0b(0x1f2)]='0|5|11|3|2|6|12|1|13|4|10|7|9|8',_0x33da1c[_0x22ff0b(0x1d0)]=function(_0x5b2bd4,_0x3d47a6){return _0x5b2bd4!==_0x3d47a6;},_0x33da1c[_0x22ff0b(0x1be)]=_0x22ff0b(0x287),_0x33da1c[_0x22ff0b(0x2c0)]=function(_0x929cb9,_0x416845){return _0x929cb9<=_0x416845;},_0x33da1c[_0x22ff0b(0x2db)]=function(_0x349b47,_0x4f88aa){return _0x349b47===_0x4f88aa;},_0x33da1c[_0x22ff0b(0x298)]=_0x22ff0b(0x290),_0x33da1c['KmVJy']=function(_0x2a0743,_0x33a4ca){return _0x2a0743>_0x33a4ca;},_0x33da1c[_0x22ff0b(0x180)]=_0x22ff0b(0x1b6);const _0x4c4cfa=_0x33da1c;try{if(_0x4c4cfa[_0x22ff0b(0x1d0)](_0x4c4cfa[_0x22ff0b(0x1be)],_0x22ff0b(0x287))){const _0x475d2d=_0x233ba0['now']()['toString'](0x24),_0x433843=_0x3054c8[_0x22ff0b(0x1ab)]()['toString'](0x24)['slice'](0x2);return _0x475d2d+'_'+_0x433843;}else{const _0x4f7991=await a0_0x5b7275[_0x22ff0b(0x235)](this[_0x22ff0b(0x247)]),_0x1f4283=_0x4f7991[_0x22ff0b(0x1fb)](_0x22eba=>_0x22eba[_0x22ff0b(0x334)](SESSION_PREFIX)&&_0x22eba[_0x22ff0b(0x2df)](_0x22ff0b(0x1c7)))[_0x22ff0b(0x1f4)](_0x4d1700=>({'name':_0x4d1700,'path':a0_0x2a3f51[_0x22ff0b(0x313)](this[_0x22ff0b(0x247)],_0x4d1700)}));if(_0x4c4cfa[_0x22ff0b(0x2c0)](_0x1f4283['length'],MAX_SESSION_FILES)){if(_0x4c4cfa[_0x22ff0b(0x2db)](_0x22ff0b(0x1ba),_0x4c4cfa['MyjVY'])){const _0x5ca3f2=_0x4c4cfa[_0x22ff0b(0x1f2)][_0x22ff0b(0x2d8)]('|');let _0x242b58=0x0;while(!![]){switch(_0x5ca3f2[_0x242b58++]){case'0':this[_0x22ff0b(0x33e)]['totalInputTokens']+=_0x16d853;continue;case'1':this[_0x22ff0b(0x33e)][_0x22ff0b(0x187)][_0x26905b][_0x22ff0b(0x29a)]+=_0xedaa3d;continue;case'2':if(!this[_0x22ff0b(0x33e)]['serviceUsage'][_0x229ed]){const _0x24d06b={};_0x24d06b[_0x22ff0b(0x27c)]=0x0,_0x24d06b[_0x22ff0b(0x297)]=0x0,_0x24d06b[_0x22ff0b(0x29a)]=0x0,_0x24d06b['requestCount']=0x0,this[_0x22ff0b(0x33e)][_0x22ff0b(0x187)][_0x11b5c5]=_0x24d06b;}continue;case'3':this[_0x22ff0b(0x33e)][_0x22ff0b(0x30e)]=new _0x204404()[_0x22ff0b(0x333)]();continue;case'4':if(!this[_0x22ff0b(0x33e)][_0x22ff0b(0x256)][_0x379c0b]){const _0x5b4202={};_0x5b4202[_0x22ff0b(0x27c)]=0x0,_0x5b4202[_0x22ff0b(0x297)]=0x0,_0x5b4202[_0x22ff0b(0x29a)]=0x0,_0x5b4202[_0x22ff0b(0x198)]=0x0,this[_0x22ff0b(0x33e)]['modelUsage'][_0x35e273]=_0x5b4202;}continue;case'5':this[_0x22ff0b(0x33e)][_0x22ff0b(0x343)]+=_0x45c304;continue;case'6':this[_0x22ff0b(0x33e)][_0x22ff0b(0x187)][_0x4b0b29][_0x22ff0b(0x27c)]+=_0x1baf1c;continue;case'7':this[_0x22ff0b(0x33e)]['modelUsage'][_0x8eef1d][_0x22ff0b(0x297)]+=_0x521aad;continue;case'8':this[_0x22ff0b(0x33e)][_0x22ff0b(0x256)][_0x29f881]['requestCount']+=0x1;continue;case'9':this[_0x22ff0b(0x33e)][_0x22ff0b(0x256)][_0x3b3486]['cost']+=_0x180629;continue;case'10':this[_0x22ff0b(0x33e)][_0x22ff0b(0x256)][_0x348655][_0x22ff0b(0x27c)]+=_0x2e9bee;continue;case'11':this[_0x22ff0b(0x33e)]['totalCost']+=_0x14fedb;continue;case'12':this[_0x22ff0b(0x33e)][_0x22ff0b(0x187)][_0x78ce66][_0x22ff0b(0x297)]+=_0x5593f9;continue;case'13':this[_0x22ff0b(0x33e)][_0x22ff0b(0x187)][_0x28db3d]['requestCount']+=0x1;continue;}break;}}else return;}const _0x1bc94a=await Promise[_0x22ff0b(0x1c2)](_0x1f4283[_0x22ff0b(0x1f4)](async _0x582fb9=>{const _0x5fd915=_0x22ff0b;try{const _0x17808f=await a0_0x5b7275[_0x5fd915(0x25b)](_0x582fb9['path']),_0x51fd47={..._0x582fb9};return _0x51fd47[_0x5fd915(0x29e)]=_0x17808f[_0x5fd915(0x29e)],_0x51fd47;}catch(_0x26e21c){return null;}})),_0x37f4cb=_0x1bc94a[_0x22ff0b(0x1fb)](_0x1a2ae6=>_0x1a2ae6!==null)[_0x22ff0b(0x330)]((_0x551979,_0x38f67e)=>_0x38f67e[_0x22ff0b(0x29e)]-_0x551979[_0x22ff0b(0x29e)]),_0x56fdcf=_0x37f4cb[_0x22ff0b(0x228)](MAX_SESSION_FILES);for(const _0x187165 of _0x56fdcf){try{await a0_0x5b7275[_0x22ff0b(0x265)](_0x187165[_0x22ff0b(0x28d)]),this[_0x22ff0b(0x292)][_0x22ff0b(0x1cd)](_0x22ff0b(0x1d4)+_0x187165[_0x22ff0b(0x2e4)]);}catch(_0x56264b){this[_0x22ff0b(0x292)][_0x22ff0b(0x27d)](_0x22ff0b(0x260)+_0x187165[_0x22ff0b(0x2e4)]+':',_0x56264b);}}_0x4c4cfa[_0x22ff0b(0x2fb)](_0x56fdcf[_0x22ff0b(0x332)],0x0)&&this[_0x22ff0b(0x292)]['info'](_0x22ff0b(0x281)+_0x56fdcf[_0x22ff0b(0x332)]+'\x20old\x20session\x20files');}}catch(_0x2e5dcd){this[_0x22ff0b(0x292)][_0x22ff0b(0x27d)](_0x4c4cfa[_0x22ff0b(0x180)],_0x2e5dcd);}}async[a0_0x22273d(0x1f5)](_0x2018a3=![]){const _0x25ac28=a0_0x22273d,_0x27c3b4={};_0x27c3b4[_0x25ac28(0x1e5)]=_0x25ac28(0x1e0);const _0x29b5d6=_0x27c3b4,_0x1f866d={};_0x1f866d[_0x25ac28(0x21c)]=_0x2018a3,this[_0x25ac28(0x292)][_0x25ac28(0x2c4)](_0x29b5d6[_0x25ac28(0x1e5)],_0x1f866d);if(!_0x2018a3)this['usage']=this[_0x25ac28(0x1c5)]();else{const _0x52f713=this['usage'][_0x25ac28(0x17b)],_0x4fc85e=this[_0x25ac28(0x33e)][_0x25ac28(0x307)],_0x2cbd01=this['usage'][_0x25ac28(0x343)];this[_0x25ac28(0x33e)]=this['_initializeUsageData'](),this['usage']['totalCost']=_0x52f713,this['usage'][_0x25ac28(0x307)]=_0x4fc85e,this[_0x25ac28(0x33e)][_0x25ac28(0x343)]=_0x2cbd01;}await this[_0x25ac28(0x1b0)]();}async['exportUsageData'](_0x443e12='json'){const _0x4f2d4d=a0_0x22273d,_0xbab9cf={};_0xbab9cf[_0x4f2d4d(0x196)]=_0x4f2d4d(0x23e),_0xbab9cf[_0x4f2d4d(0x2b2)]=function(_0x908d08,_0x43515c){return _0x908d08===_0x43515c;},_0xbab9cf[_0x4f2d4d(0x21a)]=_0x4f2d4d(0x2f1),_0xbab9cf[_0x4f2d4d(0x20a)]=function(_0x3d41d2,_0x4be129){return _0x3d41d2!==_0x4be129;},_0xbab9cf['vxODS']=_0x4f2d4d(0x2ba),_0xbab9cf['bppIW']='VHiHb';const _0x2161a3=_0xbab9cf,_0x44a836=await this['getBudgetUsage']();if(_0x2161a3['sxXHR'](_0x443e12,_0x2161a3[_0x4f2d4d(0x21a)]))return _0x2161a3[_0x4f2d4d(0x20a)](_0x2161a3[_0x4f2d4d(0x26e)],_0x2161a3[_0x4f2d4d(0x337)])?this[_0x4f2d4d(0x2d6)](_0x44a836):_0x2161a3['PRujK'];return JSON[_0x4f2d4d(0x1a0)](_0x44a836,null,0x2);}[a0_0x22273d(0x2d6)](_0x21b9cb){const _0xe7b34a=a0_0x22273d,_0x3a8de8={};_0x3a8de8[_0xe7b34a(0x21e)]=_0xe7b34a(0x2ce),_0x3a8de8[_0xe7b34a(0x1c4)]=_0xe7b34a(0x1a1),_0x3a8de8[_0xe7b34a(0x24a)]='Category,Service/Model,Cost,InputTokens,OutputTokens,RequestCount',_0x3a8de8[_0xe7b34a(0x1ac)]=function(_0x23d694,_0x3d33fa){return _0x23d694===_0x3d33fa;},_0x3a8de8['vZOZo']=_0xe7b34a(0x1b9),_0x3a8de8['GKSTp']=function(_0x557ec7,_0x37bc3d){return _0x557ec7!==_0x37bc3d;},_0x3a8de8[_0xe7b34a(0x2e3)]=_0xe7b34a(0x1d8),_0x3a8de8[_0xe7b34a(0x177)]=_0xe7b34a(0x22d);const _0x1651dd=_0x3a8de8,_0x2e0359=[_0x1651dd[_0xe7b34a(0x24a)]];for(const [_0xd60e74,_0x119ca0]of Object['entries'](_0x21b9cb[_0xe7b34a(0x178)])){if(_0x1651dd[_0xe7b34a(0x1ac)](_0x1651dd['vZOZo'],_0xe7b34a(0x26b))){const _0x4d22e2={};_0x4d22e2[_0xe7b34a(0x250)]=_0x2c9007[_0xe7b34a(0x250)],_0x4d22e2['output']=_0x460b19[_0xe7b34a(0x19b)],_0x4d22e2[_0xe7b34a(0x314)]=_0x5ba004[_0xe7b34a(0x314)]||_0x1651dd['Jjxnz'],_0x4d22e2[_0xe7b34a(0x262)]=_0x5be4a3[_0xe7b34a(0x262)]||_0x1651dd[_0xe7b34a(0x1c4)],this[_0xe7b34a(0x33a)][_0xe7b34a(0x20b)](_0x3ab72c,_0x4d22e2);}else _0x2e0359[_0xe7b34a(0x1c0)]('Service,'+_0xd60e74+','+_0x119ca0[_0xe7b34a(0x29a)]+','+_0x119ca0[_0xe7b34a(0x27c)]+','+_0x119ca0[_0xe7b34a(0x297)]+','+_0x119ca0[_0xe7b34a(0x198)]);}for(const [_0x31be63,_0x1f181e]of Object[_0xe7b34a(0x27a)](_0x21b9cb['breakdownByModel'])){if(_0x1651dd['GKSTp'](_0x1651dd[_0xe7b34a(0x2e3)],_0x1651dd[_0xe7b34a(0x177)]))_0x2e0359[_0xe7b34a(0x1c0)](_0xe7b34a(0x1fe)+_0x31be63+','+_0x1f181e[_0xe7b34a(0x29a)]+','+_0x1f181e[_0xe7b34a(0x27c)]+','+_0x1f181e['outputTokens']+','+_0x1f181e[_0xe7b34a(0x198)]);else return!![];}return _0x2e0359['join']('\x0a');}['getCostEstimate'](_0x408fc8,_0x146b1b,_0x2d7396){const _0x2ead98=a0_0x22273d,_0x550b63={};_0x550b63[_0x2ead98(0x22b)]='estimate',_0x550b63['hyTEW']=function(_0x49d39f,_0x30b9a4){return _0x49d39f+_0x30b9a4;},_0x550b63['yDmqC']=function(_0x44d6ce,_0x2fd025){return _0x44d6ce-_0x2fd025;},_0x550b63[_0x2ead98(0x186)]=function(_0x3a38b5,_0x32f5fb){return _0x3a38b5*_0x32f5fb;},_0x550b63[_0x2ead98(0x1e9)]=function(_0x3870ab,_0xa0b5){return _0x3870ab/_0xa0b5;};const _0x5da1f6=_0x550b63;this[_0x2ead98(0x26d)](_0x5da1f6[_0x2ead98(0x22b)],_0x408fc8,_0x146b1b,_0x2d7396);const _0x434a05=this[_0x2ead98(0x216)](_0x408fc8,_0x146b1b,_0x2d7396),_0x27adfb={'model':_0x408fc8,'estimatedInputTokens':_0x146b1b,'estimatedOutputTokens':_0x2d7396,'estimatedCost':_0x434a05[_0x2ead98(0x17b)],..._0x434a05};_0x27adfb['budgetImpact']=null;const _0x46382a=_0x27adfb;if(this['budgetLimit']!==null){const _0x103b6a=_0x5da1f6[_0x2ead98(0x1db)](this[_0x2ead98(0x33e)][_0x2ead98(0x17b)],_0x434a05['totalCost']);_0x46382a['budgetImpact']={'currentSpent':this[_0x2ead98(0x33e)]['totalCost'],'afterOperation':_0x103b6a,'remainingAfter':Math[_0x2ead98(0x220)](0x0,_0x5da1f6[_0x2ead98(0x317)](this[_0x2ead98(0x1a2)],_0x103b6a)),'wouldExceedBudget':_0x103b6a>this[_0x2ead98(0x1a2)],'percentageAfter':_0x5da1f6[_0x2ead98(0x186)](_0x5da1f6[_0x2ead98(0x1e9)](_0x103b6a,this[_0x2ead98(0x1a2)]),0x64)};}return _0x46382a;}[a0_0x22273d(0x217)](_0x5a2334,_0x46f944,_0x5e5e54){const _0xb2a0c=a0_0x22273d,_0x19cde3={};_0x19cde3[_0xb2a0c(0x211)]=function(_0x44d509,_0x59e24b){return _0x44d509===_0x59e24b;};const _0x450e12=_0x19cde3,_0x2fbeab=this[_0xb2a0c(0x2f0)](_0x5a2334,_0x46f944,_0x5e5e54);return{'canProceed':_0x450e12[_0xb2a0c(0x211)](this[_0xb2a0c(0x1a2)],null)||!_0x2fbeab['budgetImpact']?.[_0xb2a0c(0x2b9)],'estimate':_0x2fbeab,'recommendation':this[_0xb2a0c(0x29d)](_0x2fbeab)};}[a0_0x22273d(0x29d)](_0x324473){const _0x11eb20=a0_0x22273d,_0x166804={};_0x166804[_0x11eb20(0x264)]=function(_0x401f88,_0x250669){return _0x401f88*_0x250669;},_0x166804[_0x11eb20(0x210)]=function(_0x3fcf0c,_0x59e18f){return _0x3fcf0c*_0x59e18f;},_0x166804[_0x11eb20(0x2ae)]=function(_0x35c28d,_0x27288a){return _0x35c28d/_0x27288a;},_0x166804[_0x11eb20(0x1a8)]=function(_0x4d7881,_0x1cd81a){return _0x4d7881+_0x1cd81a;},_0x166804[_0x11eb20(0x263)]=_0x11eb20(0x2ce),_0x166804[_0x11eb20(0x289)]=function(_0x567dae,_0x81f0e2){return _0x567dae*_0x81f0e2;},_0x166804[_0x11eb20(0x267)]=function(_0x370f1f,_0x457f5d){return _0x370f1f/_0x457f5d;},_0x166804[_0x11eb20(0x2b6)]=function(_0x177dcd,_0x130c9e){return _0x177dcd/_0x130c9e;},_0x166804['ADrzs']=function(_0x5350d4,_0x2ec703){return _0x5350d4===_0x2ec703;},_0x166804[_0x11eb20(0x1d6)]=function(_0x1d15eb,_0x296af5){return _0x1d15eb!==_0x296af5;},_0x166804['HGQHR']='zFwos',_0x166804[_0x11eb20(0x2d4)]='No\x20budget\x20limit\x20set.\x20Consider\x20setting\x20a\x20budget\x20for\x20cost\x20control.',_0x166804['JdLiS']=_0x11eb20(0x219),_0x166804[_0x11eb20(0x2c3)]=_0x11eb20(0x240),_0x166804['BBBbZ']=function(_0x339607,_0x3db2fc){return _0x339607>_0x3db2fc;},_0x166804['MkDiJ']=function(_0x392387,_0x2ec380){return _0x392387*_0x2ec380;},_0x166804['Tsxhj']=_0x11eb20(0x308),_0x166804['xrWHW']=_0x11eb20(0x23e),_0x166804['pigMP']=function(_0x136992,_0x475ff4){return _0x136992*_0x475ff4;},_0x166804[_0x11eb20(0x283)]=_0x11eb20(0x30f),_0x166804[_0x11eb20(0x25a)]=_0x11eb20(0x2ca);const _0x3987d6=_0x166804;if(_0x3987d6[_0x11eb20(0x299)](this[_0x11eb20(0x1a2)],null)){if(_0x3987d6[_0x11eb20(0x1d6)](_0x11eb20(0x27b),_0x3987d6[_0x11eb20(0x29c)])){const _0x5c1d2a=this[_0x11eb20(0x22a)](_0x4a5ed0);if(!_0x5c1d2a){const _0x2ed84c=this[_0x11eb20(0x231)](_0xdd1581),_0x4cb96a=_0x3987d6[_0x11eb20(0x264)](_0x396a63/0x3e8,_0x2ed84c[_0x11eb20(0x250)]),_0x29b14f=_0x3987d6['wDWmv'](_0x3987d6[_0x11eb20(0x2ae)](_0x4301ed,0x3e8),_0x2ed84c[_0x11eb20(0x19b)]);return{'success':![],'inputCost':_0x4cb96a,'outputCost':_0x29b14f,'totalCost':_0x3987d6[_0x11eb20(0x1a8)](_0x4cb96a,_0x29b14f),'currency':_0x11eb20(0x1a1),'unit':_0x3987d6['ZQlri'],'estimated':!![],'reason':_0x11eb20(0x1bd)};}const _0x5f114a=_0x3987d6[_0x11eb20(0x289)](_0x3987d6[_0x11eb20(0x267)](_0x1d1b00,0x3e8),_0x5c1d2a[_0x11eb20(0x250)]),_0x27836a=_0x3987d6[_0x11eb20(0x289)](_0x3987d6[_0x11eb20(0x2b6)](_0x311d04,0x3e8),_0x5c1d2a['output']),_0x135820={};return _0x135820[_0x11eb20(0x192)]=!![],_0x135820[_0x11eb20(0x2ed)]=_0x5f114a,_0x135820[_0x11eb20(0x1ed)]=_0x27836a,_0x135820[_0x11eb20(0x17b)]=_0x5f114a+_0x27836a,_0x135820[_0x11eb20(0x262)]=_0x5c1d2a['currency'],_0x135820['unit']=_0x5c1d2a[_0x11eb20(0x314)],_0x135820[_0x11eb20(0x227)]=![],_0x135820;}else return _0x3987d6[_0x11eb20(0x2d4)];}if(!_0x324473[_0x11eb20(0x19c)]){if(_0x3987d6[_0x11eb20(0x299)](_0x3987d6[_0x11eb20(0x305)],_0x3987d6[_0x11eb20(0x305)]))return _0x11eb20(0x320);else{const _0x44e7d8=_0x2f5ffd?function(){const _0x1116c2=_0x11eb20;if(_0x2219a8){const _0x14ab44=_0x50f1dd[_0x1116c2(0x239)](_0x540caa,arguments);return _0x1188d3=null,_0x14ab44;}}:function(){};return _0x520f25=![],_0x44e7d8;}}const {percentageAfter:_0x1bbda5,wouldExceedBudget:_0x7bf39b}=_0x324473['budgetImpact'];if(_0x7bf39b)return _0x3987d6['xUWMU'];if(_0x3987d6[_0x11eb20(0x213)](_0x1bbda5,_0x3987d6['MkDiJ'](BUDGET_CRITICAL_THRESHOLD,0x64))){if(_0x3987d6['Tsxhj']===_0x3987d6[_0x11eb20(0x17f)])return _0x3987d6['xrWHW'];else this[_0x11eb20(0x33e)]=this[_0x11eb20(0x1c5)]();}if(_0x1bbda5>_0x3987d6[_0x11eb20(0x2af)](BUDGET_WARNING_THRESHOLD,0x64))return _0x3987d6[_0x11eb20(0x283)];return _0x3987d6['cbECI'];}[a0_0x22273d(0x26f)](){const _0x2dafc9=a0_0x22273d,_0x2eab14={};_0x2eab14[_0x2dafc9(0x28f)]=_0x2dafc9(0x259),_0x2eab14[_0x2dafc9(0x205)]=_0x2dafc9(0x342);const _0x22cb61=_0x2eab14,_0x36cb4f=Array[_0x2dafc9(0x2c7)](this['pricingData']['entries']())[_0x2dafc9(0x1f4)](([_0x651b3d,_0x52f921])=>({'model':_0x651b3d,'inputPrice':_0x52f921[_0x2dafc9(0x250)],'outputPrice':_0x52f921[_0x2dafc9(0x19b)],'unit':_0x52f921[_0x2dafc9(0x314)],'currency':_0x52f921[_0x2dafc9(0x262)]})),_0x23a964={};return _0x23a964[_0x2dafc9(0x1d9)]=_0x36cb4f,_0x23a964['lastUpdate']=this[_0x2dafc9(0x1b4)],_0x23a964[_0x2dafc9(0x229)]=this['serverLLMService']?_0x22cb61['tVAhX']:_0x22cb61[_0x2dafc9(0x205)],_0x23a964['totalModels']=this[_0x2dafc9(0x33a)]['size'],_0x23a964;}async[a0_0x22273d(0x24e)](){const _0x5612e7=a0_0x22273d,_0x14ee24={};_0x14ee24[_0x5612e7(0x243)]=function(_0x464889,_0x4c530c){return _0x464889!==_0x4c530c;},_0x14ee24['juzWJ']=function(_0x111be4,_0x362e42){return _0x111be4!==_0x362e42;},_0x14ee24[_0x5612e7(0x18d)]=_0x5612e7(0x328),_0x14ee24['UnAjN']=function(_0x4b6fdd,_0x42e83c){return _0x4b6fdd+_0x42e83c;},_0x14ee24[_0x5612e7(0x22e)]=_0x5612e7(0x185),_0x14ee24[_0x5612e7(0x209)]=_0x5612e7(0x28a),_0x14ee24[_0x5612e7(0x2c6)]=_0x5612e7(0x238),_0x14ee24['wJbGh']='test',_0x14ee24[_0x5612e7(0x33b)]=_0x5612e7(0x2dc),_0x14ee24[_0x5612e7(0x27f)]=_0x5612e7(0x194),_0x14ee24[_0x5612e7(0x253)]=_0x5612e7(0x2e1),_0x14ee24[_0x5612e7(0x296)]=_0x5612e7(0x28b),_0x14ee24['TJnDf']=function(_0x474779,_0x7a4a9b){return _0x474779!==_0x7a4a9b;},_0x14ee24[_0x5612e7(0x2ef)]=_0x5612e7(0x17c),_0x14ee24[_0x5612e7(0x2f2)]=function(_0x30ca51,_0x508d56){return _0x30ca51/_0x508d56;},_0x14ee24[_0x5612e7(0x1ff)]=function(_0x1656b4,_0x5b2e65){return _0x1656b4*_0x5b2e65;},_0x14ee24[_0x5612e7(0x2ec)]=function(_0x287b77,_0x4296b5){return _0x287b77>_0x4296b5;},_0x14ee24[_0x5612e7(0x340)]=function(_0x304a0d,_0x5d944f){return _0x304a0d===_0x5d944f;},_0x14ee24[_0x5612e7(0x18b)]=_0x5612e7(0x318),_0x14ee24[_0x5612e7(0x1f8)]='ZSUhN',_0x14ee24[_0x5612e7(0x19e)]=_0x5612e7(0x1ef),_0x14ee24[_0x5612e7(0x226)]=function(_0x415763,_0x24e3c4){return _0x415763!==_0x24e3c4;},_0x14ee24['eBeLM']=_0x5612e7(0x2a4),_0x14ee24['weNSG']=function(_0x2cab73,_0x2b4f91){return _0x2cab73!==_0x2b4f91;},_0x14ee24[_0x5612e7(0x1e6)]=_0x5612e7(0x24d),_0x14ee24[_0x5612e7(0x234)]=_0x5612e7(0x30a);const _0x79c704=_0x14ee24,_0xbb3499={'status':_0x5612e7(0x1c9),'issues':[],'metrics':{'totalCost':this['usage'][_0x5612e7(0x17b)],'totalTokens':_0x79c704[_0x5612e7(0x1d5)](this['usage'][_0x5612e7(0x307)],this[_0x5612e7(0x33e)]['totalOutputTokens']),'modelsWithPricing':this[_0x5612e7(0x33a)][_0x5612e7(0x2a9)],'budgetLimit':this[_0x5612e7(0x1a2)]}};try{if(_0x79c704[_0x5612e7(0x22e)]!==_0x79c704[_0x5612e7(0x209)]){await this[_0x5612e7(0x30c)]();const _0x258857=a0_0x2a3f51['join'](this[_0x5612e7(0x247)],_0x79c704[_0x5612e7(0x2c6)]);await a0_0x5b7275[_0x5612e7(0x2be)](_0x258857,_0x79c704[_0x5612e7(0x344)]),await a0_0x5b7275[_0x5612e7(0x265)](_0x258857);}else{const _0x374588=_0x9be9db[_0x5612e7(0x239)](_0x3c0594,arguments);return _0x3c099a=null,_0x374588;}}catch(_0x552a9b){if(_0x79c704[_0x5612e7(0x243)](_0x79c704[_0x5612e7(0x33b)],_0x79c704[_0x5612e7(0x33b)])){const _0x2bbaf4=this['config'][_0x5612e7(0x26a)]?.[_0x5612e7(0x31c)];if(_0x79c704[_0x5612e7(0x243)](_0x2bbaf4,_0x4eb6dc)&&_0x79c704[_0x5612e7(0x202)](_0x2bbaf4,null))return this[_0x5612e7(0x278)](_0x2bbaf4);return null;}else _0xbb3499[_0x5612e7(0x1f3)]=_0x79c704[_0x5612e7(0x27f)],_0xbb3499[_0x5612e7(0x1da)][_0x5612e7(0x1c0)](_0x79c704[_0x5612e7(0x253)]);}this['pricingData'][_0x5612e7(0x2a9)]===0x0&&(_0xbb3499[_0x5612e7(0x1f3)]=_0x79c704[_0x5612e7(0x27f)],_0xbb3499['issues'][_0x5612e7(0x1c0)](_0x79c704[_0x5612e7(0x296)]));if(this[_0x5612e7(0x1b4)]){if(_0x79c704[_0x5612e7(0x2f9)](_0x79c704[_0x5612e7(0x2ef)],_0x79c704[_0x5612e7(0x2ef)]))return this[_0x5612e7(0x292)][_0x5612e7(0x1cd)](_0x79c704[_0x5612e7(0x18d)]),![];else{const _0xa1abfa=_0x79c704['PyiwD'](Date[_0x5612e7(0x21b)]()-new Date(this[_0x5612e7(0x1b4)])['getTime'](),_0x79c704[_0x5612e7(0x1ff)](_0x79c704[_0x5612e7(0x1ff)](0x3e8,0x3c),0x3c));if(_0x79c704[_0x5612e7(0x2ec)](_0xa1abfa,0x18)){if(_0x79c704['umkvj'](_0x79c704[_0x5612e7(0x18b)],_0x79c704[_0x5612e7(0x1f8)]))throw new _0x2a654e(_0x5612e7(0x248));else _0xbb3499['issues'][_0x5612e7(0x1c0)](_0x79c704[_0x5612e7(0x19e)]);}}}if(_0x79c704[_0x5612e7(0x226)](this[_0x5612e7(0x1a2)],null)){if(_0x79c704[_0x5612e7(0x1ca)]===_0x79c704[_0x5612e7(0x1ca)]){const _0x3494b5=this[_0x5612e7(0x306)]();_0x79c704['weNSG'](_0x3494b5[_0x5612e7(0x312)],_0x79c704[_0x5612e7(0x1e6)])&&_0xbb3499[_0x5612e7(0x1da)][_0x5612e7(0x1c0)]('Budget\x20'+_0x3494b5[_0x5612e7(0x312)]+':\x20'+_0x3494b5['percentageUsed'][_0x5612e7(0x2f7)](0x1)+_0x5612e7(0x2bf));}else{const _0x15968e=this[_0x5612e7(0x33e)][_0x5612e7(0x17b)],_0x116884=this[_0x5612e7(0x33e)][_0x5612e7(0x307)],_0x7c7c70=this['usage'][_0x5612e7(0x343)];this['usage']=this[_0x5612e7(0x1c5)](),this[_0x5612e7(0x33e)][_0x5612e7(0x17b)]=_0x15968e,this[_0x5612e7(0x33e)][_0x5612e7(0x307)]=_0x116884,this['usage'][_0x5612e7(0x343)]=_0x7c7c70;}}return _0xbb3499['issues'][_0x5612e7(0x332)]>0x0&&_0x79c704['umkvj'](_0xbb3499[_0x5612e7(0x1f3)],_0x5612e7(0x1c9))&&(_0xbb3499[_0x5612e7(0x1f3)]=_0x79c704[_0x5612e7(0x234)]),_0xbb3499;}async[a0_0x22273d(0x336)](){const _0x4c2539=a0_0x22273d,_0x236951={};_0x236951[_0x4c2539(0x33f)]=function(_0x2645d3,_0xaf897d){return _0x2645d3!==_0xaf897d;},_0x236951['goWcV']='normal',_0x236951[_0x4c2539(0x2a6)]=function(_0x1fd8af,_0xa20536){return _0x1fd8af===_0xa20536;},_0x236951[_0x4c2539(0x275)]=_0x4c2539(0x1c1),_0x236951[_0x4c2539(0x2f5)]=_0x4c2539(0x18e),_0x236951[_0x4c2539(0x1ce)]=_0x4c2539(0x1b2),_0x236951[_0x4c2539(0x2c9)]=_0x4c2539(0x24b);const _0x545674=_0x236951;this[_0x4c2539(0x292)]['info'](_0x4c2539(0x199));try{if(_0x545674[_0x4c2539(0x2a6)](_0x4c2539(0x232),_0x545674[_0x4c2539(0x275)])){const _0xc10720=this[_0x4c2539(0x306)]();_0x545674[_0x4c2539(0x33f)](_0xc10720[_0x4c2539(0x312)],_0x545674[_0x4c2539(0x1af)])&&_0x4073ee[_0x4c2539(0x1da)][_0x4c2539(0x1c0)](_0x4c2539(0x20c)+_0xc10720['warningLevel']+':\x20'+_0xc10720[_0x4c2539(0x17d)][_0x4c2539(0x2f7)](0x1)+_0x4c2539(0x2bf));}else await this['saveUsageData'](),this[_0x4c2539(0x33a)][_0x4c2539(0x1f6)](),this[_0x4c2539(0x292)]['info'](_0x4c2539(0x329));}catch(_0x413884){if(_0x545674[_0x4c2539(0x2a6)](_0x545674[_0x4c2539(0x2f5)],_0x545674[_0x4c2539(0x1ce)]))_0x56c5fa[_0x4c2539(0x1f3)]='warning';else{this['logger'][_0x4c2539(0x1a6)](_0x545674[_0x4c2539(0x2c9)],_0x413884);throw _0x413884;}}}}