function a0_0x41e5(_0x31aaac,_0xe26eb9){const _0x10f729=a0_0x3e0c();return a0_0x41e5=function(_0x195a04,_0x36696d){_0x195a04=_0x195a04-0xf1;let _0x2f4214=_0x10f729[_0x195a04];if(a0_0x41e5['IMWGVX']===undefined){var _0x3bed4b=function(_0x41e53d){const _0x24e05e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x18a093='',_0x55bbcd='',_0x5dbf11=_0x18a093+_0x3bed4b;for(let _0x2d1f6e=0x0,_0x4f93a4,_0x3cd7fb,_0x1ac67a=0x0;_0x3cd7fb=_0x41e53d['charAt'](_0x1ac67a++);~_0x3cd7fb&&(_0x4f93a4=_0x2d1f6e%0x4?_0x4f93a4*0x40+_0x3cd7fb:_0x3cd7fb,_0x2d1f6e++%0x4)?_0x18a093+=_0x5dbf11['charCodeAt'](_0x1ac67a+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4f93a4>>(-0x2*_0x2d1f6e&0x6)):_0x2d1f6e:0x0){_0x3cd7fb=_0x24e05e['indexOf'](_0x3cd7fb);}for(let _0x3f5af3=0x0,_0x3726a8=_0x18a093['length'];_0x3f5af3<_0x3726a8;_0x3f5af3++){_0x55bbcd+='%'+('00'+_0x18a093['charCodeAt'](_0x3f5af3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x55bbcd);};a0_0x41e5['qQQrTC']=_0x3bed4b,_0x31aaac=arguments,a0_0x41e5['IMWGVX']=!![];}const _0x3c1034=_0x10f729[0x0],_0x3db7a4=_0x195a04+_0x3c1034,_0x3e0cb8=_0x31aaac[_0x3db7a4];if(!_0x3e0cb8){const _0x5d8e34=function(_0x3e99da){this['dBZSff']=_0x3e99da,this['PtTvGB']=[0x1,0x0,0x0],this['VRPDas']=function(){return'newState';},this['EOqEOc']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['NWuwIk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5d8e34['prototype']['lUSNSR']=function(){const _0x4577fd=new RegExp(this['EOqEOc']+this['NWuwIk']),_0x3cae2b=_0x4577fd['test'](this['VRPDas']['toString']())?--this['PtTvGB'][0x1]:--this['PtTvGB'][0x0];return this['zjPbCK'](_0x3cae2b);},_0x5d8e34['prototype']['zjPbCK']=function(_0x35ca2d){if(!Boolean(~_0x35ca2d))return _0x35ca2d;return this['VQVOwZ'](this['dBZSff']);},_0x5d8e34['prototype']['VQVOwZ']=function(_0x2a3645){for(let _0x3ba72f=0x0,_0x54b28e=this['PtTvGB']['length'];_0x3ba72f<_0x54b28e;_0x3ba72f++){this['PtTvGB']['push'](Math['round'](Math['random']())),_0x54b28e=this['PtTvGB']['length'];}return _0x2a3645(this['PtTvGB'][0x0]);},new _0x5d8e34(a0_0x41e5)['lUSNSR'](),_0x2f4214=a0_0x41e5['qQQrTC'](_0x2f4214),_0x31aaac[_0x3db7a4]=_0x2f4214;}else _0x2f4214=_0x3e0cb8;return _0x2f4214;},a0_0x41e5(_0x31aaac,_0xe26eb9);}const a0_0x33efcf=a0_0x41e5;(function(_0x55175b,_0x39f958){const _0x45c3f1=a0_0x41e5,_0x537a7d=_0x55175b();while(!![]){try{const _0x15cc7e=parseInt(_0x45c3f1(0x1f5))/0x1*(parseInt(_0x45c3f1(0x21b))/0x2)+parseInt(_0x45c3f1(0x1a1))/0x3+-parseInt(_0x45c3f1(0x2d3))/0x4*(parseInt(_0x45c3f1(0x12b))/0x5)+parseInt(_0x45c3f1(0x104))/0x6+parseInt(_0x45c3f1(0x257))/0x7*(-parseInt(_0x45c3f1(0x2cc))/0x8)+parseInt(_0x45c3f1(0x1fa))/0x9+parseInt(_0x45c3f1(0x159))/0xa*(-parseInt(_0x45c3f1(0x1d1))/0xb);if(_0x15cc7e===_0x39f958)break;else _0x537a7d['push'](_0x537a7d['shift']());}catch(_0x3ac210){_0x537a7d['push'](_0x537a7d['shift']());}}}(a0_0x3e0c,0x58ea2));const a0_0x3db7a4=(function(){const _0x4dbbcd=a0_0x41e5,_0x263060={};_0x263060[_0x4dbbcd(0x112)]=function(_0x11c11d,_0x37b754){return _0x11c11d!==_0x37b754;},_0x263060['QmsVw']=_0x4dbbcd(0x2a0);const _0x53822a=_0x263060;let _0x319c15=!![];return function(_0x408e49,_0x4d8802){const _0x26b628=_0x319c15?function(){const _0x36ca6a=a0_0x41e5;if(_0x4d8802){if(_0x53822a['kAfhP'](_0x36ca6a(0x2a0),_0x53822a[_0x36ca6a(0x262)]))return this[_0x36ca6a(0x2c4)](_0x49f569);else{const _0x51a343=_0x4d8802[_0x36ca6a(0x1e4)](_0x408e49,arguments);return _0x4d8802=null,_0x51a343;}}}:function(){};return _0x319c15=![],_0x26b628;};}()),a0_0x3c1034=a0_0x3db7a4(this,function(){const _0x5debb7=a0_0x41e5,_0x4d6178={};_0x4d6178[_0x5debb7(0x280)]='(((.+)+)+)+$';const _0x40b2cc=_0x4d6178;return a0_0x3c1034[_0x5debb7(0x22e)]()[_0x5debb7(0x27b)](_0x5debb7(0x161))[_0x5debb7(0x22e)]()[_0x5debb7(0x272)](a0_0x3c1034)['search'](_0x40b2cc[_0x5debb7(0x280)]);});a0_0x3c1034();const a0_0x36696d=(function(){const _0x37424b=a0_0x41e5,_0x1edc18={};_0x1edc18[_0x37424b(0x209)]=function(_0x3a30da,_0x5dee1f){return _0x3a30da!==_0x5dee1f;},_0x1edc18[_0x37424b(0x194)]=_0x37424b(0x269),_0x1edc18['mBTow']='degraded',_0x1edc18[_0x37424b(0x1fb)]='File\x20system\x20access\x20issues',_0x1edc18['VklWa']=function(_0x187507,_0x5dd39b){return _0x187507===_0x5dd39b;},_0x1edc18[_0x37424b(0x241)]=_0x37424b(0x10f);const _0x3eb1dd=_0x1edc18;let _0x1bee91=!![];return function(_0x35e715,_0x50ad8e){const _0x150175=_0x37424b,_0x2f254d={};_0x2f254d[_0x150175(0x10e)]=_0x3eb1dd['mBTow'],_0x2f254d[_0x150175(0x1a2)]=_0x3eb1dd[_0x150175(0x1fb)];const _0x16d3aa=_0x2f254d;if(_0x3eb1dd[_0x150175(0x238)](_0x150175(0x100),_0x3eb1dd[_0x150175(0x241)]))_0xd6cbb3[_0x150175(0x284)]=_0x16d3aa['moNCy'],_0x2914c5['issues']['push'](_0x16d3aa[_0x150175(0x1a2)]);else{const _0x3c0193=_0x1bee91?function(){const _0x97835c=_0x150175;if(_0x50ad8e){if(_0x3eb1dd[_0x97835c(0x209)](_0x3eb1dd[_0x97835c(0x194)],_0x3eb1dd['biRzw']))this[_0x97835c(0x2ac)]=this['_initializeUsageData']();else{const _0x598f7e=_0x50ad8e['apply'](_0x35e715,arguments);return _0x50ad8e=null,_0x598f7e;}}}:function(){};return _0x1bee91=![],_0x3c0193;}};}()),a0_0x195a04=a0_0x36696d(this,function(){const _0x1ba0c4=a0_0x41e5,_0x33504b={'EInos':function(_0x217dea,_0x50f002){return _0x217dea-_0x50f002;},'Wrugs':function(_0x42ed25,_0x23f929){return _0x42ed25>_0x23f929;},'MRMmj':'eMEVR','TwRzu':function(_0x1c1f06,_0x72d8c5){return _0x1c1f06(_0x72d8c5);},'FIZjI':function(_0xc2ef3f,_0x2fa9b5){return _0xc2ef3f+_0x2fa9b5;},'vFimQ':function(_0x8cae48,_0x3e0c62){return _0x8cae48+_0x3e0c62;},'pGgPO':_0x1ba0c4(0x1b9),'JYCBT':function(_0x4aecca){return _0x4aecca();},'mcgGh':function(_0x5c21b3,_0x2c99b4){return _0x5c21b3===_0x2c99b4;},'yiinH':_0x1ba0c4(0x1a0),'ursDv':_0x1ba0c4(0x1aa),'wmCAb':_0x1ba0c4(0x1f2),'IbArH':'table','ogKNH':_0x1ba0c4(0x1b6),'ilgNW':function(_0x2ebf76,_0x5d7458){return _0x2ebf76<_0x5d7458;},'qNpuS':function(_0x148f44,_0x2f012c){return _0x148f44===_0x2f012c;}};let _0x2e217d;try{if(_0x33504b[_0x1ba0c4(0x128)]!==_0x33504b[_0x1ba0c4(0x128)])return this[_0x1ba0c4(0x1fe)][_0x1ba0c4(0x189)]();else{const _0x3649ba=_0x33504b[_0x1ba0c4(0x1d4)](Function,_0x33504b[_0x1ba0c4(0x298)](_0x33504b[_0x1ba0c4(0x12e)](_0x1ba0c4(0x276),_0x33504b[_0x1ba0c4(0x235)]),');'));_0x2e217d=_0x33504b['JYCBT'](_0x3649ba);}}catch(_0x5a738e){if(_0x33504b['mcgGh'](_0x33504b[_0x1ba0c4(0x16f)],_0x33504b[_0x1ba0c4(0x2bf)])){if(!this[_0x1ba0c4(0x253)])return!![];const _0x1287e8=_0x33504b[_0x1ba0c4(0xf1)](_0x572339[_0x1ba0c4(0x26a)](),new _0x346057(this[_0x1ba0c4(0x253)])[_0x1ba0c4(0x166)]());return _0x33504b[_0x1ba0c4(0x26b)](_0x1287e8,_0x176dbd);}else _0x2e217d=window;}const _0x3c8585=_0x2e217d[_0x1ba0c4(0x14a)]=_0x2e217d[_0x1ba0c4(0x14a)]||{},_0x11fe38=['log',_0x1ba0c4(0x184),_0x1ba0c4(0x2d5),_0x1ba0c4(0x102),_0x33504b['wmCAb'],_0x33504b[_0x1ba0c4(0x266)],_0x33504b[_0x1ba0c4(0x248)]];for(let _0x4a8575=0x0;_0x33504b['ilgNW'](_0x4a8575,_0x11fe38['length']);_0x4a8575++){if(_0x33504b[_0x1ba0c4(0x2cb)](_0x1ba0c4(0x124),_0x1ba0c4(0x124))){const _0x252268=a0_0x36696d[_0x1ba0c4(0x272)]['prototype'][_0x1ba0c4(0x175)](a0_0x36696d),_0x5b35bd=_0x11fe38[_0x4a8575],_0x58d153=_0x3c8585[_0x5b35bd]||_0x252268;_0x252268[_0x1ba0c4(0x126)]=a0_0x36696d[_0x1ba0c4(0x175)](a0_0x36696d),_0x252268['toString']=_0x58d153[_0x1ba0c4(0x22e)][_0x1ba0c4(0x175)](_0x58d153),_0x3c8585[_0x5b35bd]=_0x252268;}else{const _0x544340=_0x11bb2a?function(){if(_0x3e86e8){const _0x224e03=_0x585efc['apply'](_0x41ac06,arguments);return _0x2d7644=null,_0x224e03;}}:function(){};return _0x56e4d9=![],_0x544340;}}});a0_0x195a04();import{promises as a0_0x1c2951}from'fs';import a0_0x389d0e from'path';const DEFAULT_USAGE_DIR=a0_0x33efcf(0x169),USAGE_FILENAME='usage.json',SESSION_PREFIX=a0_0x33efcf(0x1f1),PRICING_CACHE_DURATION_MS=0x493e0,PRICING_REFRESH_THRESHOLD_MS=0xea60,MAX_SESSION_FILES=0x64,BUDGET_WARNING_THRESHOLD=0.8,BUDGET_CRITICAL_THRESHOLD=0.95,a0_0x421994={};a0_0x421994['INVALID_AMOUNT']=a0_0x33efcf(0x28a),a0_0x421994[a0_0x33efcf(0x129)]=a0_0x33efcf(0x1fc),a0_0x421994[a0_0x33efcf(0xf4)]=a0_0x33efcf(0x205),a0_0x421994[a0_0x33efcf(0x229)]=a0_0x33efcf(0x1d9),a0_0x421994[a0_0x33efcf(0x222)]=a0_0x33efcf(0x29f),a0_0x421994[a0_0x33efcf(0x195)]=a0_0x33efcf(0x288);const ERROR_MESSAGES=a0_0x421994;function a0_0x3e0c(){const _0x289772=['mJm4nJbxD2H0Efy','CeLqrxu','v25RvNy','EwnoAu8','DvbOqKu','rMfPBgvKihrVignSzwfUDxaGB2XKihnLC3nPB24GzMLSzxm6','s1rOBha','tvnmz2q','kcGOlISPkYKRksSK','AwLXtue','sNnbyue','y3rZsxe','DxD6DvG','z2v0vgLTzq','EervAeS','Dg9ju09tDhjPBMC','lI8UBg94AweTyNvKz2v0','vKjgDNK','sK9owMu','u1DAt2u','Dg90ywXjBNb1DfrVA2vUCW','wffbANi','EwLPBKG','x3vWzgf0zvvZywDLrgf0yq','DhrftM0','BwTKAxi','vwnewgy','sMXHthC','yMLUza','t3bLCMf0Aw9UihDVDwXKigv4y2vLzcbIDwrNzxqGBgLTAxqUienVBNnPzgvYigLUy3jLyxnPBMCGyNvKz2v0ig9YihvZAw5NigeGBgvZCYbLEhbLBNnPDMuGBw9KzwWU','BM9YBwfS','t0v3reO','x2nHBgn1Bgf0zunVC3q','B1vRrKm','AgvHBhrOEq','lMHLywX0Ac1JAgvJAW','vKvpCxm','uhjPy2LUzYbKyxrHihvUyxzHAwXHyMXLigzVCIbTB2rLBa','vgzoB3u','sLPvtNa','sxDRAvG','BLPmENm','vLLKDMO','D2fYBG','DLvXsgG','CwPUBe8','CNn2r3q','qLnLreK','z2v0uhjPy2LUz0rHDge','yuvKr0e','rxjYB3iGzhvYAw5Nigj1zgDLDcbZzxj2AwnLihnODxrKB3DUoG','sg5cvK8','ChjVDg90ExbL','qNvKz2v0igXPBwL0oIaK','ww16u1O','Dg90ywXtCgvUDa','u1nKtKS','A0Tvz2W','DxbKyxrLuhjPy2LUz0zYB21tzxj2zxi','yMLsENC','rKLmrv9twvnuru1Frvjst1i','z3b0ltq','BgfZDfnHDMvKq29ZDa','Bw9KzwXZv2L0AfbYAwnPBMC','z2v0','C29UBMv0','t1fhCei','qNvKz2v0ihnLCNzPy2uGC2H1DcbKB3DUihn1y2nLC3nMDwXSEq','yMryywK','CgvYy2vUDgfNzvvZzwq','zw1ztu4','uMjeuMW','mtGWodq0oe53DMnAuW','A3DTAwu','serIqK4','uKHdvwK','q0zVvLG','CxndB2G','we1XChK','C21vwwm','zMfSBgjHy2S','BNH1zxe','vLnJA2y','EgLvyLi','C2vZC2LVBKvUza','tfnSqKy','CMvHzgrPCG','EurbvLu','DgDjvKi','uMvTB3zLzcbVBgqGC2vZC2LVBIbMAwXLoIa','zw50CMLLCW','zvnrtMe','x2DLDevZDgLTyxrLzfbYAwnPBMC','DhjHy2u','Cgf0Aa','vezrDvu','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','vvnuzgG','shzdtwK','AxPZvfy','vMrACem','A1r2CNy','yNvbtKK','uvDtD20','C3rHCNrZv2L0Aa','Dxvss04','x3zHBgLKyxrLqNvKz2v0qw1VDw50','se9YDgu','tfr0s0m','s3HcyMS','y2f0y2G','z2v0qNvKz2v0vxnHz2u','yKvKwgi','tMHvvgW','ugjPDwW','qw1UwgC','vMvlDvO','x3zHBgLKyxrLvxnHz2vjBNb1Dhm','tNzhr2C','y3LTB3i','mZmYmKPQz0rrBa','zgDJsw0','DevXz0K','vhDsENu','vgzesKm','rejNyNa','uM1YwgG','C2H1DgrVD24','qNvKz2v0igXPBwL0igv4y2vLzgvK','x3nHDMvvC2fNzurHDgfjzK5LzwrLza','C2XPy2u','DxnqsMe','CxrTq2q','AujLugi','zMvmCfq','yNz2yMK','DeveAgW','Dw5vDe0','rLj4wui','yxbWBhK','pt09ifvtquDfifjfue9svca9pt0k','y3n2','ywXS','z3nrrM8','AxPAtei','sMHNA3i','z2v0uhjPy2LUz0LUzM8','s0zsqMe','zxHWB3j0vxnHz2veyxrH','z3b0ltmUnq','Cvjqy2G','x2XVywrvC2fNzurHDge','C2vZC2LVBL8','zxHJzxb0Aw9U','uhjPy2LUzYbKyxrHigLZihn0ywXLicG+mJqGAg91CNmGB2XKkq','zxPxrhy','mtm3mwnHu1zbAa','Dg90ywXpDxrWDxruB2TLBNm','Dg9gAxHLza','wMH0rvq','BMfTzq','ntCWndq0m05PC0PsAG','zxbrBem','vg9Rzw4Gy291BNrZig11C3qGyMuGBM9Ulw5Lz2f0AxzLig51BwjLCNm','C1vRuKu','C2vYDMvYteXnu2vYDMLJzq','vgrIsg8','zNLfqMG','r3nkyuu','EwLrs1u','DxrMltG','BNPgC1G','u2vYDMLJzsbUyw1Lig11C3qGyMuGysbUB24Tzw1WDhKGC3rYAw5N','shrsyxC','rMfPBgvKihrVihjLBw92zsbZzxnZAw9UigzPBguG','uLjpDhe','ww5YDfi','C2v6u3K','x2LUAxrPywXPEMvvC2fNzurHDge','Bw9KzwXvC2fNzq','cJ09psbcuKvbs0rpv04GqLKGtu9eruWGpt09cG','Bg9Nz2vY','C3rYAw5N','uMzuv0i','C3rYAw5NAwz5','y3vYCMvUy3K','BM1ju24','DwvlEMm','zgrTtLG','wLvwCgK','ru5by0S','rxjYB3iGAw5PDgLHBgL6Aw5NihvZywDLigrHDgeGzgLYzwn0B3j5oG','C2vZC2LVBKLK','x2nSzwfUDxbpBgrtzxnZAw9UrMLSzxm','ndbeCuTbD1e','suLyr1m','s0Diy2G','CMfKBfO','B3P6B1m','CuzNANq','z3LlEgy','ufjjq0Lor19vtKfwquLmqujmrq','q2D6z2i','cJ09psbcuKvbs0rpv04GqLKGu0vsvKLdrsa9pt0k','BxHXA1i','z2Tov3y','rursvw0','zePzELe','qLver0vux0vyq0vfreve','D3jPDgvgAwXL','Bw54t1O','vxnHz2uGzgf0ysbZyxzLzcbZDwnJzxnZzNvSBhK','whboD1e','Dg9tDhjPBMC','tvHVreS','CKHoruu','Cuz6ExG','y2XLyxi','A2v5CW','txDbwwu','CeDNue8','CMfUzg9T','CgHP','vMTSv2e','tKXSBM4','ELb2Cfe','uND1rK0','y29Kzq','C2L6zq','wM9UDxe','sw52ywXPzcbTB2rLBcbUyw1LihbYB3zPzgvKigzVCIbWCMLJAw5NigXVB2T1Ca','Bw9KzwXZ','CMPUDKG','AxnmrMO','ru5pru5u','ChjLC2vYDMvuB3rHBa','q0zqA1u','zMLSDgvY','B3v0Chv0vg9Rzw5Z','B2DltKG','Aw5WDxq','uKjxsMm','zgvIDwC','B3b1CW','AhbfAMq','DLfcwwi','A1jiDwK','y29UzMLN','yvnNsLi','rM1pzuG','BgfZDfbYAwnPBMDvCgrHDgu','wxfetMe','t3fpvKy','AKfrvhG','mtr3AgLNzMu','yM1vzMG','C2f2zvvZywDLrgf0yq','re1oyK4','lcb1C2LUzYbLC3rPBwf0zq','uMvZzxr0Aw5NihvZywDLigrHDge','rMfPBgvKihrVihvWzgf0zsbWCMLJAw5NigzYB20GC2vYDMvYoG','y3jPDgLJywW','t3bLCMf0Aw9UigLZihDPDgHPBIbIDwrNzxqGz3vPzgvSAw5LCY4','t3P2qwq','C2vYDMLJzvvZywDL','uw1ZvNC','AgvHBhrOq2HLy2S','qNvKz2v0igXPBwL0ihnLDcb0BYaK','B3nJwLC','swjbCKG','C1zyyLy','B1P1sLK','qxr2zvu','BM93','v3j1z3m','BgfZDfvWzgf0zwq','Ae5ltfu','C291CMnL','Bwf4','x2XVywrcDwrNzxrmAw1PDa','tw9KzwWS','y29UC3rYDwn0B3i','CMvTywLUAw5NqNvKz2v0','rfDyCwK','Evrmr1y','CMv0DxjUicHMDw5JDgLVBIGPia','vg90ywWGAw5WDxqGDg9Rzw5ZoIa','we1bBe4','zxn0Aw1HDgu','s0rdqwG','C2vHCMnO','yuDIrMy','u2vYDMLJzsW','svPhEw4','s3fyB0S','BwnvEwW','jsb1C2vK','qvHvs1e','ig9SzcbZzxnZAw9UigzPBgvZ','C3rHDhvZ','qNzLuu4','BgfZDfvWzgf0zq','z0j1ufm','rMLSzsbZExn0zw0GB3bLCMf0Aw9UigzHAwXLza','tw9KzwXZihDPDgGGChjPy2LUzZOG','qNvKz2v0igfTB3vUDcbTDxn0igjLigeGCg9ZAxrPDMuGBNvTyMvY','AM9PBG','x2vUC3vYzvvZywDLrgLYzwn0B3j5','q1P5A1K','CLPjq2K','yNjLywTKB3DUqNLnB2rLBa','AwPQuM0','CMvXDwvZDenVDw50','BwvZC2fNzq','ChvZAa','Bxrty3q','DeDuuK4','vfnQEfa','vg90ywWGB3v0Chv0ihrVA2vUCZOG','rKLAAKK','DxnHz2veAxi','zNjVBq','whH1tMm','wgTiqwS','DufQB1i','CgnssLq','uhjPy2LUzYbPBMzVCM1HDgLVBIb1BMf2ywLSywjSzq','EK9jyxe','D291BgrfEgnLzwrcDwrNzxq','Exf6B0O','C2D3ELq','BfHHwNq','zKXvthO','vxnHz2u6ia','cLbYAwnPBMCGC291CMnLoIa','muSGDg9Rzw5Z','AgfPA3u','C0fcBLq','z2v0q29ZDevZDgLTyxrL','DxnHz2u','Dwjctuu','EvLht2G','AeL6CLO','BNvTyMvY','Dw5PDa','vg1NBMO','ChjPy2LUz0rHDge','CwrRt3C','Dg90ywXnB2rLBhm','BwfW','zLHYy3u','qxjzzeS','BxrPBwu','rgnqreu','BMHtzfy','rg9lvg8','BgvUz3rO','quTIzfi','DxjZrhy','DNjcBxC','qNvKz2v0ia','DgfIBgu','u1zwv3y','x2v4Cg9YDfrVq3n2','BeTgywi','D2zsuvy','D2fYBMLUzW','Au91wue','lMPZB24','Afzlr2O','Cu5WDvm','mtq5mdGYneT5DMjuDa','tM8GChjPy2LUzYbKyxrHigf2ywLSywjSzq','Dw5SAw5R','Dg90ywXdB3n0','z01lzMi','rMfPBgvKihrVigXVywqGChjLDMLVDxmGDxnHz2uGzgf0ytO','rxfhyK8','mZa4mtG4wuHjq0vr','vg90ywWGy29ZDdOGja','Aw5MBW','yNjLywTKB3DUqNLtzxj2AwnL','ChjPy2LUz1vWzgf0zuLUuhjVz3jLC3m','yNvKz2v0sw1Wywn0','ruLUB3m','zgvNCMfKzwq','BgLTAxq','su5wquXjrf9trvjwsunf','y29ZDa','zw5KC1DPDgG','x2DLDej1zgDLDfjLy29TBwvUzgf0Aw9U','Cxnkz2i','B3v0Chv0','su1HDMG','Eevxs28','su5wquXjrf9btu9vtLq','CMvJDxjZAxzL','t1zKAuG','rMfPBgvKihrVigXVywqGDxnHz2uGzgf0ytO','zKfUDwS','Exjfr3u','zxjYB3i','t2rMENu','mZq3mtG2ngfbrfz4Dq','Aw5JBhvKzxm','z1Dey1K','u2H1DhrPBMCGzg93BIbIDwrNzxqGC2vYDMLJzq','rgDwywy','D2L0AgLUqNvKz2v0','B1rwtwK','rMfPBgvKihrVihnHDMuGDxnHz2uGzgf0ytO','q2XLyw5Lzcb1Cca','CwLPA0C','Bw9oq3K','wNHSyue','C2vYDMvY','D2fYBMLUz0XLDMvS','A0fMAfa','D1nXsKu','zxz2sum','t3fRsMm','Dg9mB2nHBgvtDhjPBMC','C2v0qNvKz2v0tgLTAxq','vxnHz2uGCMvJB3jKzwqGC3vJy2vZC2z1BgX5','uMXcy0u','q0zVugC','D0XHwLq','yNvKz2v0','x3nOB3vSzfvWzgf0zvbYAwnPBMC','v2Detxi','ig1VzgvSCYbMCM9TihnLCNzLCG','sfv4z00','q3fbq3K','AMrov1O','yKHPs1e','r29qBwC','wMnWC2m','x19WCM90B19F','oIaK','tvjnBwO','su5wquXjrf9ut0TftLm','Dg9mB3DLCKnHC2u','mJvytLfAB3a','EwPhv1O','yNvKz2v0tgLTAxq','DKzPBve','Egz4BLK','C1jpsNy','t25HqMi','DLnjqvC','AgfYzeXPBwL0','ihjLCxvLC3rZkqO','veTWD04','vvne','s1HPCvy','igv4y2vLzhmGBgLTAxqGB2yGja','rLfxqK0','ANvZtfe','mtn8mtf8nxWWFdr8m3WYFdeWFdf8nNWXmNW5FdD8oa','qxnJqvC','AhPRr1K','yNvKz2v0u3rHDhvZ','x2nOzwnRqNvKz2v0u3rHDhvZ','BwfcBKi','Aw5WDxruB2TLBNm','wKHXu1e','ChPVC04','uKr1tuG','wxngvMu','wwfqsNO','quDkzfO','Ee5WsNO','De1hAeK','y29UC29Szq','DKPbBwS','C2v0','x2DLBMvYyxrLu2vZC2LVBKLK','D2X1z2u','rurXEve','vKDdz2K','vxbKyxrPBMCGChjPy2LUzYbKyxrHigzYB20GC2vYDMvY','AxnZDwvZ','C3rHDa','t05uq3y','tKzSzu0','ChngELC','uMvJB3jKAw5NihvZywDLigzVCIa','Bg9N'];a0_0x3e0c=function(){return _0x289772;};return a0_0x3e0c();}export class BudgetService{constructor(_0x35f6c4,_0x2afa98,_0x4f8fc0=null){const _0xd83fac=a0_0x33efcf,_0x25e860={};_0x25e860[_0xd83fac(0x24e)]=_0xd83fac(0x2d1),_0x25e860[_0xd83fac(0x24f)]='Budget\x20service\x20initialized';const _0x330a49=_0x25e860;this[_0xd83fac(0x250)]=_0x35f6c4,this[_0xd83fac(0x20e)]=_0x2afa98,this['serverLLMService']=_0x4f8fc0,this[_0xd83fac(0x2ac)]=this[_0xd83fac(0x20b)](),this[_0xd83fac(0x12d)]=this[_0xd83fac(0x270)](),this['hardLimit']=_0x35f6c4[_0xd83fac(0x11c)]?.[_0xd83fac(0x133)]||![],this['pricingData']=new Map(),this[_0xd83fac(0x253)]=null,this[_0xd83fac(0x2d7)]=![],this['usageDir']=_0x35f6c4[_0xd83fac(0x11c)]?.[_0xd83fac(0x299)]||DEFAULT_USAGE_DIR,this[_0xd83fac(0x20e)]['info'](_0x330a49[_0xd83fac(0x24f)],{'budgetLimit':this[_0xd83fac(0x12d)],'hardLimit':this['hardLimit'],'usageDir':this[_0xd83fac(0x299)],'hasPricingService':!!this[_0xd83fac(0x1fe)]}),this[_0xd83fac(0x1f0)]()[_0xd83fac(0x1c7)](_0x138c61=>{const _0x42039d=_0xd83fac;this[_0x42039d(0x20e)][_0x42039d(0x184)](_0x330a49[_0x42039d(0x24e)],_0x138c61);});}[a0_0x33efcf(0x20b)](){const _0x718eca=a0_0x33efcf;return{'totalInputTokens':0x0,'totalOutputTokens':0x0,'totalCost':0x0,'serviceUsage':{},'modelUsage':{},'sessionStart':new Date()[_0x718eca(0x168)](),'sessionId':this[_0x718eca(0x14d)](),'lastUpdated':new Date()['toISOString']()};}[a0_0x33efcf(0x14d)](){const _0xd97f08=a0_0x33efcf,_0x3232c6=Date[_0xd97f08(0x26a)]()['toString'](0x24),_0x45630d=Math[_0xd97f08(0x236)]()['toString'](0x24)[_0xd97f08(0x1db)](0x2);return _0x3232c6+'_'+_0x45630d;}[a0_0x33efcf(0x270)](){const _0x3b0df4=a0_0x33efcf,_0x18ed1e={};_0x18ed1e[_0x3b0df4(0x245)]=function(_0xbf4b4d,_0x223e80){return _0xbf4b4d!==_0x223e80;},_0x18ed1e['xfxnY']=function(_0x423688,_0x312391){return _0x423688!==_0x312391;},_0x18ed1e['HtRaw']=function(_0x2b4617,_0x2e6a13){return _0x2b4617!==_0x2e6a13;},_0x18ed1e['yjGWZ']='lSzDW';const _0x5751df=_0x18ed1e,_0x3b5380=this[_0x3b0df4(0x250)][_0x3b0df4(0x11c)]?.[_0x3b0df4(0xf3)];if(_0x5751df[_0x3b0df4(0x245)](_0x3b5380,undefined)&&_0x5751df[_0x3b0df4(0x12f)](_0x3b5380,null))return _0x5751df[_0x3b0df4(0x206)](_0x5751df[_0x3b0df4(0x12c)],_0x5751df[_0x3b0df4(0x12c)])?null:this[_0x3b0df4(0x1c3)](_0x3b5380);return null;}async['updatePricingFromServer'](){const _0x2b4502=a0_0x33efcf,_0x55b0ad={};_0x55b0ad[_0x2b4502(0x11e)]='fallback',_0x55b0ad[_0x2b4502(0x1c4)]=_0x2b4502(0x2cd),_0x55b0ad['vJAmk']='Pricing\x20update\x20already\x20in\x20progress',_0x55b0ad['DcPDE']=function(_0x2efbb3,_0x4996c8){return _0x2efbb3!==_0x4996c8;},_0x55b0ad[_0x2b4502(0x2bb)]=_0x2b4502(0x27a),_0x55b0ad['XxuNc']=function(_0xe97011,_0x27d1c0){return _0xe97011===_0x27d1c0;},_0x55b0ad['CqACy']=_0x2b4502(0x278),_0x55b0ad['ctsIq']=function(_0x39d984,_0x4552b8){return _0x39d984!==_0x4552b8;},_0x55b0ad[_0x2b4502(0x1a3)]=_0x2b4502(0x191),_0x55b0ad[_0x2b4502(0x18c)]=_0x2b4502(0x282),_0x55b0ad['vUqHh']='No\x20pricing\x20data\x20received\x20from\x20server',_0x55b0ad['DBgbp']=_0x2b4502(0x2a8),_0x55b0ad[_0x2b4502(0x216)]=_0x2b4502(0xf8),_0x55b0ad[_0x2b4502(0x2c5)]=_0x2b4502(0x16b),_0x55b0ad['oZuJY']='zEndU';const _0x10e19d=_0x55b0ad;if(!this[_0x2b4502(0x1fe)])return this['logger'][_0x2b4502(0x24b)]('No\x20server\x20LLM\x20service\x20available\x20for\x20pricing\x20updates'),![];if(this['pricingUpdateInProgress'])return this[_0x2b4502(0x20e)]['debug'](_0x10e19d[_0x2b4502(0x14b)]),![];if(!this[_0x2b4502(0x11d)]()){if(_0x10e19d[_0x2b4502(0x2ba)](_0x10e19d[_0x2b4502(0x2bb)],_0x10e19d[_0x2b4502(0x2bb)]))_0x4f43ae+=_0xaa6c65+_0x2b4502(0x127)+_0xc2efcf[_0x2b4502(0xf5)][_0x2b4502(0x1f7)](0x4)+'\x20('+_0x267530[_0x2b4502(0x291)]+'\x20requests)\x0a';else return!![];}this[_0x2b4502(0x2d7)]=!![];try{if(_0x10e19d[_0x2b4502(0x29b)](_0x10e19d[_0x2b4502(0x121)],'toBoC')){this[_0x2b4502(0x20e)]['error'](_0x2b4502(0x10b),_0x577d57);throw new _0x37a9c2(_0x358c4a[_0x2b4502(0x195)]+':\x20'+_0x164917['message']);}else{this[_0x2b4502(0x20e)]['info'](_0x2b4502(0x151));const _0x4fed3a=await this[_0x2b4502(0x1fe)]['getPricingData']();if(_0x10e19d[_0x2b4502(0x29b)](_0x4fed3a[_0x2b4502(0x23d)],0x0)){if(_0x10e19d[_0x2b4502(0x164)](_0x10e19d[_0x2b4502(0x1a3)],_0x10e19d[_0x2b4502(0x18c)]))return this[_0x2b4502(0x20e)][_0x2b4502(0x184)](_0x10e19d[_0x2b4502(0x185)]),![];else return;}this[_0x2b4502(0x2b3)]['clear']();for(const [_0x438e7a,_0x55cfb9]of _0x4fed3a['entries']()){const _0x28528c={};_0x28528c['input']=_0x55cfb9[_0x2b4502(0x249)],_0x28528c[_0x2b4502(0xf9)]=_0x55cfb9[_0x2b4502(0xf9)],_0x28528c[_0x2b4502(0x2b1)]=_0x55cfb9[_0x2b4502(0x2b1)]||_0x10e19d[_0x2b4502(0x1d6)],_0x28528c['currency']=_0x55cfb9[_0x2b4502(0x212)]||_0x2b4502(0x136),this[_0x2b4502(0x2b3)][_0x2b4502(0x14c)](_0x438e7a,_0x28528c);}return this[_0x2b4502(0x253)]=new Date()[_0x2b4502(0x168)](),this['logger'][_0x2b4502(0x2d5)]('Updated\x20pricing\x20for\x20'+this[_0x2b4502(0x2b3)]['size']+_0x2b4502(0x11f)),!![];}}catch(_0x41f94c){if(_0x10e19d[_0x2b4502(0x29b)](_0x10e19d[_0x2b4502(0x216)],_0x10e19d[_0x2b4502(0x2c5)])){const _0x544e70=_0x14adff[_0x2b4502(0x29a)](this[_0x2b4502(0x2b3)][_0x2b4502(0x1b3)]())['map'](([_0x5ad695,_0x2ed5e1])=>({'model':_0x5ad695,'inputPrice':_0x2ed5e1[_0x2b4502(0x249)],'outputPrice':_0x2ed5e1[_0x2b4502(0xf9)],'unit':_0x2ed5e1[_0x2b4502(0x2b1)],'currency':_0x2ed5e1[_0x2b4502(0x212)]})),_0x1ff6f6={};return _0x1ff6f6[_0x2b4502(0x240)]=_0x544e70,_0x1ff6f6[_0x2b4502(0x286)]=this['lastPricingUpdate'],_0x1ff6f6['source']=this['serverLLMService']?'server':_0x10e19d[_0x2b4502(0x11e)],_0x1ff6f6[_0x2b4502(0x2b5)]=this[_0x2b4502(0x2b3)][_0x2b4502(0x23d)],_0x1ff6f6;}else return this[_0x2b4502(0x20e)]['error'](_0x2b4502(0x25d),_0x41f94c),![];}finally{_0x10e19d[_0x2b4502(0x268)]===_0x10e19d['oZuJY']?this['pricingUpdateInProgress']=![]:(_0x31d603['status']='degraded',_0x1a55e9[_0x2b4502(0x152)][_0x2b4502(0x293)](_0x10e19d[_0x2b4502(0x1c4)]));}}[a0_0x33efcf(0x11d)](){const _0x34c190=a0_0x33efcf,_0x12dee7={};_0x12dee7[_0x34c190(0x156)]=function(_0x4684b3,_0x33cab1){return _0x4684b3-_0x33cab1;};const _0x147c19=_0x12dee7;if(!this[_0x34c190(0x253)])return!![];const _0x5ad72e=_0x147c19[_0x34c190(0x156)](Date[_0x34c190(0x26a)](),new Date(this[_0x34c190(0x253)])['getTime']());return _0x5ad72e>PRICING_REFRESH_THRESHOLD_MS;}['getModelPricing'](_0x4e5690){const _0x568647=a0_0x33efcf,_0x7e9f3={};_0x7e9f3[_0x568647(0x22d)]=function(_0x280a98,_0x1f77bf){return _0x280a98-_0x1f77bf;},_0x7e9f3['RgRzp']=function(_0xac8a23,_0x5155f5){return _0xac8a23*_0x5155f5;},_0x7e9f3[_0x568647(0x18f)]=function(_0x3c92b3,_0x28903f){return _0x3c92b3*_0x28903f;},_0x7e9f3['OqOVF']=function(_0x469aa4,_0x30ee3e){return _0x469aa4>_0x30ee3e;},_0x7e9f3[_0x568647(0x16e)]=function(_0x197427,_0x66586f){return _0x197427!==_0x66586f;},_0x7e9f3['oTGuM']=_0x568647(0x20f),_0x7e9f3[_0x568647(0x106)]=_0x568647(0x239);const _0x4d608f=_0x7e9f3;if(!_0x4e5690||_0x4d608f['XQAjr'](typeof _0x4e5690,_0x4d608f['oTGuM'])){if(_0x4d608f[_0x568647(0x16e)](_0x4d608f[_0x568647(0x106)],_0x4d608f[_0x568647(0x106)])){const _0x141fa2=_0x4d608f[_0x568647(0x22d)](_0x554bdb[_0x568647(0x26a)](),new _0x242824(this[_0x568647(0x253)])[_0x568647(0x166)]())/_0x4d608f['RgRzp'](_0x4d608f[_0x568647(0x18f)](0x3e8,0x3c),0x3c);_0x4d608f[_0x568647(0x255)](_0x141fa2,0x18)&&_0x4704cc[_0x568647(0x152)][_0x568647(0x293)](_0x568647(0x1f3));}else return this['logger'][_0x568647(0x184)](_0x568647(0x23f)),null;}return this[_0x568647(0x2b3)][_0x568647(0x199)](_0x4e5690)||null;}['getAllPricing'](){return this['serverLLMService']['getPricingData']();}async['recordUsage'](_0x552022,_0x2b8a0a,_0x4dbcdc,_0x18f408){const _0x326731=a0_0x33efcf,_0x26388c={};_0x26388c[_0x326731(0x28e)]=function(_0x4c01df,_0x1d6d40){return _0x4c01df!==_0x1d6d40;},_0x26388c[_0x326731(0x254)]=_0x326731(0x210),_0x26388c[_0x326731(0x1a4)]=_0x326731(0x118);const _0xc308ad=_0x26388c;this[_0x326731(0x20e)][_0x326731(0x2d5)](_0x326731(0x157)+_0x552022+'/'+_0x2b8a0a,{'inputTokens':_0x4dbcdc,'outputTokens':_0x18f408,'service':_0x552022,'model':_0x2b8a0a}),this[_0x326731(0x1ce)](_0x552022,_0x2b8a0a,_0x4dbcdc,_0x18f408),await this[_0x326731(0x193)]();const _0x4909aa=this['_calculateCost'](_0x2b8a0a,_0x4dbcdc,_0x18f408);if(!_0x4909aa['success']){if(_0xc308ad[_0x326731(0x28e)](_0x326731(0x210),_0xc308ad[_0x326731(0x254)])){const _0x15bdcc=_0x5008a3[_0x326731(0x26a)]()[_0x326731(0x22e)](0x24),_0x1df96c=_0x55e4b6[_0x326731(0x236)]()[_0x326731(0x22e)](0x24)[_0x326731(0x1db)](0x2);return _0x15bdcc+'_'+_0x1df96c;}else this[_0x326731(0x20e)][_0x326731(0x184)]('Pricing\x20unavailable\x20for\x20model\x20'+_0x2b8a0a+_0x326731(0x25b));}this['_updateUsageData'](_0x552022,_0x2b8a0a,_0x4dbcdc,_0x18f408,_0x4909aa[_0x326731(0x2cf)]);const _0x739b36=this[_0x326731(0x13f)]();await this[_0x326731(0x1da)]();const _0x5207fb={'service':_0x552022,'model':_0x2b8a0a,'inputTokens':_0x4dbcdc,'outputTokens':_0x18f408,'cost':_0x4909aa,'budgetStatus':_0x739b36,'timestamp':new Date()[_0x326731(0x168)]()};return this[_0x326731(0x20e)][_0x326731(0x24b)](_0xc308ad['RHCUi'],_0x5207fb),_0x5207fb;}['_validateUsageInputs'](_0x2d94e6,_0x3ee19e,_0x3f9d88,_0x4d61ab){const _0x50dfb4=a0_0x33efcf,_0x8e7e43={};_0x8e7e43[_0x50dfb4(0x149)]=function(_0x168d68,_0x5c3d84){return _0x168d68+_0x5c3d84;},_0x8e7e43['gMKfb']=function(_0xc8cc10,_0x7f014c){return _0xc8cc10-_0x7f014c;},_0x8e7e43[_0x50dfb4(0x19b)]=function(_0x58ed57,_0x5d70ee){return _0x58ed57>_0x5d70ee;},_0x8e7e43[_0x50dfb4(0x13c)]=function(_0x1a4238,_0x359571){return _0x1a4238*_0x359571;},_0x8e7e43[_0x50dfb4(0x2b4)]=function(_0x54c626,_0x2c7e82){return _0x54c626/_0x2c7e82;},_0x8e7e43[_0x50dfb4(0x1d3)]=function(_0x38c833,_0x3d3880){return _0x38c833!==_0x3d3880;},_0x8e7e43[_0x50dfb4(0x267)]='string',_0x8e7e43[_0x50dfb4(0x167)]=function(_0x16faad,_0x4fb904){return _0x16faad!==_0x4fb904;},_0x8e7e43[_0x50dfb4(0x1e3)]='Model\x20name\x20must\x20be\x20a\x20non-empty\x20string',_0x8e7e43[_0x50dfb4(0x21e)]=function(_0x4ee18b,_0x286cdb){return _0x4ee18b<_0x286cdb;},_0x8e7e43['DoKTo']=function(_0x5af95c,_0xee1ef3){return _0x5af95c!==_0xee1ef3;},_0x8e7e43[_0x50dfb4(0x2d2)]=_0x50dfb4(0x15d),_0x8e7e43[_0x50dfb4(0x14e)]=function(_0x3a605b,_0x17dc0b){return _0x3a605b<_0x17dc0b;};const _0xf9d2d9=_0x8e7e43;if(!_0x2d94e6||_0xf9d2d9[_0x50dfb4(0x1d3)](typeof _0x2d94e6,_0xf9d2d9[_0x50dfb4(0x267)]))throw new Error(ERROR_MESSAGES[_0x50dfb4(0xf4)]);if(!_0x3ee19e||_0xf9d2d9[_0x50dfb4(0x167)](typeof _0x3ee19e,_0xf9d2d9[_0x50dfb4(0x267)]))throw new Error(_0xf9d2d9['FRxYB']);if(typeof _0x3f9d88!=='number'||_0xf9d2d9[_0x50dfb4(0x21e)](_0x3f9d88,0x0)){if(_0xf9d2d9[_0x50dfb4(0x2bc)](_0xf9d2d9['EqGbO'],_0xf9d2d9[_0x50dfb4(0x2d2)])){const _0xa0926f=_0xf9d2d9[_0x50dfb4(0x149)](this[_0x50dfb4(0x2ac)]['totalCost'],_0x3d6e76[_0x50dfb4(0x2cf)]);_0x48eafc['budgetImpact']={'currentSpent':this[_0x50dfb4(0x2ac)][_0x50dfb4(0x2cf)],'afterOperation':_0xa0926f,'remainingAfter':_0x2fa0ce[_0x50dfb4(0x26f)](0x0,_0xf9d2d9[_0x50dfb4(0x2d0)](this[_0x50dfb4(0x12d)],_0xa0926f)),'wouldExceedBudget':_0xf9d2d9[_0x50dfb4(0x19b)](_0xa0926f,this['budgetLimit']),'percentageAfter':_0xf9d2d9['AscAW'](_0xf9d2d9[_0x50dfb4(0x2b4)](_0xa0926f,this[_0x50dfb4(0x12d)]),0x64)};}else throw new Error(ERROR_MESSAGES[_0x50dfb4(0x129)]);}if(_0xf9d2d9[_0x50dfb4(0x167)](typeof _0x4d61ab,'number')||_0xf9d2d9['wluge'](_0x4d61ab,0x0))throw new Error(ERROR_MESSAGES[_0x50dfb4(0x129)]);}[a0_0x33efcf(0x179)](_0x42ae54,_0x21ff27,_0x51f844){const _0x50e7c0=a0_0x33efcf,_0x27349a={};_0x27349a[_0x50e7c0(0x294)]=function(_0x576f83,_0x233307){return _0x576f83!==_0x233307;},_0x27349a[_0x50e7c0(0x125)]=_0x50e7c0(0x25a),_0x27349a[_0x50e7c0(0x2af)]=_0x50e7c0(0x180),_0x27349a[_0x50e7c0(0x1cd)]=function(_0xceafa2,_0x5dd2da){return _0xceafa2*_0x5dd2da;},_0x27349a[_0x50e7c0(0x1df)]=function(_0x285f22,_0x2ca1e7){return _0x285f22/_0x2ca1e7;},_0x27349a[_0x50e7c0(0x200)]=function(_0x3c54b5,_0x46ff85){return _0x3c54b5+_0x46ff85;},_0x27349a['jDDuJ']=_0x50e7c0(0x136),_0x27349a[_0x50e7c0(0x1f4)]=_0x50e7c0(0x2a8),_0x27349a[_0x50e7c0(0x2c0)]=_0x50e7c0(0x17e),_0x27349a['xNpJz']=function(_0x82806,_0x25feeb){return _0x82806+_0x25feeb;};const _0x5399f4=_0x27349a,_0x31adc9=this['getModelPricing'](_0x42ae54);if(!_0x31adc9){if(_0x5399f4['mtSct'](_0x5399f4['Zcpsc'],_0x5399f4[_0x50e7c0(0x2af)])){const _0x2f896f=this['_getEstimatedPricing'](_0x42ae54),_0x5ec52a=_0x5399f4[_0x50e7c0(0x1cd)](_0x5399f4[_0x50e7c0(0x1df)](_0x21ff27,0x3e8),_0x2f896f[_0x50e7c0(0x249)]),_0x66e66b=_0x5399f4[_0x50e7c0(0x1df)](_0x51f844,0x3e8)*_0x2f896f['output'];return{'success':![],'inputCost':_0x5ec52a,'outputCost':_0x66e66b,'totalCost':_0x5399f4[_0x50e7c0(0x200)](_0x5ec52a,_0x66e66b),'currency':_0x5399f4['jDDuJ'],'unit':_0x5399f4[_0x50e7c0(0x1f4)],'estimated':!![],'reason':_0x5399f4['vrBmw']};}else{_0x1f3181+=_0x50e7c0(0x224);for(const [_0x7caf77,_0x27d24f]of _0x4299bc[_0x50e7c0(0x1b3)](_0x4c94d5[_0x50e7c0(0x2d6)])){_0x168de4+=_0x7caf77+_0x50e7c0(0x127)+_0x27d24f[_0x50e7c0(0xf5)][_0x50e7c0(0x1f7)](0x4)+'\x20('+_0x27d24f[_0x50e7c0(0x291)]+_0x50e7c0(0x134);}}}const _0x4dc209=_0x5399f4[_0x50e7c0(0x1cd)](_0x21ff27/0x3e8,_0x31adc9['input']),_0x4b3057=_0x5399f4[_0x50e7c0(0x1cd)](_0x51f844/0x3e8,_0x31adc9[_0x50e7c0(0xf9)]);return{'success':!![],'inputCost':_0x4dc209,'outputCost':_0x4b3057,'totalCost':_0x5399f4[_0x50e7c0(0x148)](_0x4dc209,_0x4b3057),'currency':_0x31adc9[_0x50e7c0(0x212)],'unit':_0x31adc9[_0x50e7c0(0x2b1)],'estimated':![]};}[a0_0x33efcf(0x1b5)](_0x1a4eb3){const _0x219e91=a0_0x33efcf,_0x4b10c6={};_0x4b10c6[_0x219e91(0x228)]=function(_0x19fcf5,_0x611fbd){return _0x19fcf5/_0x611fbd;},_0x4b10c6[_0x219e91(0x1ab)]=function(_0x19752d,_0x3e5337){return _0x19752d*_0x3e5337;},_0x4b10c6[_0x219e91(0x1e0)]=function(_0x335fd1,_0x4741c9){return _0x335fd1+_0x4741c9;},_0x4b10c6[_0x219e91(0x1ba)]=_0x219e91(0x136),_0x4b10c6['GBZLP']=_0x219e91(0x2a8),_0x4b10c6[_0x219e91(0x174)]=_0x219e91(0x17e),_0x4b10c6[_0x219e91(0x186)]=function(_0x47ce43,_0x49f121){return _0x47ce43*_0x49f121;},_0x4b10c6[_0x219e91(0x15b)]=function(_0x1fa7e9,_0x4ebe8f){return _0x1fa7e9/_0x4ebe8f;},_0x4b10c6[_0x219e91(0x1f8)]=function(_0x17c6df,_0xfe6e89){return _0x17c6df/_0xfe6e89;},_0x4b10c6['yrEGu']='opus',_0x4b10c6[_0x219e91(0x1ea)]=function(_0x114c77,_0x70263e){return _0x114c77!==_0x70263e;},_0x4b10c6[_0x219e91(0x14f)]=_0x219e91(0x145),_0x4b10c6[_0x219e91(0x131)]=_0x219e91(0x19a),_0x4b10c6[_0x219e91(0x120)]=function(_0x3b3248,_0x3b6a72){return _0x3b3248===_0x3b6a72;},_0x4b10c6[_0x219e91(0x10a)]=_0x219e91(0x20a),_0x4b10c6[_0x219e91(0x258)]=_0x219e91(0x2be),_0x4b10c6[_0x219e91(0x1dd)]=_0x219e91(0x2a9),_0x4b10c6[_0x219e91(0x1cb)]=_0x219e91(0x237);const _0x57face=_0x4b10c6,_0xfa36b5=_0x1a4eb3['toLowerCase']();if(_0xfa36b5['includes'](_0x57face[_0x219e91(0x101)])||_0xfa36b5[_0x219e91(0x105)](_0x219e91(0x196))){if(_0x57face[_0x219e91(0x1ea)](_0x57face['EDqyQ'],_0x57face['EDqyQ'])){if(_0x246628){const _0x455798=_0x4bcbed[_0x219e91(0x1e4)](_0x2698b9,arguments);return _0xb70f86=null,_0x455798;}}else{const _0x100276={};return _0x100276[_0x219e91(0x249)]=0.015,_0x100276[_0x219e91(0xf9)]=0.075,_0x100276;}}else{if(_0xfa36b5['includes'](_0x57face[_0x219e91(0x131)])||_0xfa36b5[_0x219e91(0x105)](_0x219e91(0x1ee))){if(_0x57face[_0x219e91(0x120)](_0x57face[_0x219e91(0x10a)],_0x57face[_0x219e91(0x258)])){const _0x23b7c6=this['getModelPricing'](_0x587d08);if(!_0x23b7c6){const _0xa04cb1=this[_0x219e91(0x1b5)](_0x3913d1),_0x37b8dc=_0x57face['dJYzQ'](_0x1e376f,0x3e8)*_0xa04cb1['input'],_0x2139b1=_0x57face['VSckf'](_0x57face['dJYzQ'](_0x3d44e5,0x3e8),_0xa04cb1[_0x219e91(0xf9)]);return{'success':![],'inputCost':_0x37b8dc,'outputCost':_0x2139b1,'totalCost':_0x57face['bvvbi'](_0x37b8dc,_0x2139b1),'currency':_0x57face[_0x219e91(0x1ba)],'unit':_0x57face['GBZLP'],'estimated':!![],'reason':_0x57face[_0x219e91(0x174)]};}const _0x23ee02=_0x57face[_0x219e91(0x186)](_0x57face[_0x219e91(0x15b)](_0x40300b,0x3e8),_0x23b7c6[_0x219e91(0x249)]),_0x347f44=_0x57face[_0x219e91(0x186)](_0x57face[_0x219e91(0x1f8)](_0x875bf8,0x3e8),_0x23b7c6[_0x219e91(0xf9)]);return{'success':!![],'inputCost':_0x23ee02,'outputCost':_0x347f44,'totalCost':_0x57face[_0x219e91(0x1e0)](_0x23ee02,_0x347f44),'currency':_0x23b7c6['currency'],'unit':_0x23b7c6[_0x219e91(0x2b1)],'estimated':![]};}else{const _0x4b89e9={};return _0x4b89e9[_0x219e91(0x249)]=0.003,_0x4b89e9[_0x219e91(0xf9)]=0.015,_0x4b89e9;}}else{if(_0xfa36b5[_0x219e91(0x105)](_0x57face['qtmCd'])||_0xfa36b5[_0x219e91(0x105)](_0x57face[_0x219e91(0x1cb)])){const _0x5e6125={};return _0x5e6125['input']=0.001,_0x5e6125[_0x219e91(0xf9)]=0.004,_0x5e6125;}}}const _0x5aed42={};return _0x5aed42[_0x219e91(0x249)]=0.005,_0x5aed42[_0x219e91(0xf9)]=0.02,_0x5aed42;}[a0_0x33efcf(0x170)](_0x2330cc,_0x56ec80,_0xd4f6da,_0x5deb60,_0x136da9){const _0x2de12c=a0_0x33efcf,_0x765b75={};_0x765b75[_0x2de12c(0x2a5)]=function(_0x20f2f8,_0x13c294){return _0x20f2f8*_0x13c294;},_0x765b75[_0x2de12c(0xfa)]=function(_0x5534b6,_0x32cf79){return _0x5534b6/_0x32cf79;},_0x765b75[_0x2de12c(0x11a)]=function(_0x2edc7b,_0x59f30d){return _0x2edc7b*_0x59f30d;},_0x765b75['ycNiO']=function(_0x52aade,_0x4384b3){return _0x52aade+_0x4384b3;},_0x765b75[_0x2de12c(0x1ec)]=_0x2de12c(0x136),_0x765b75['qFzyx']=_0x2de12c(0x2a8),_0x765b75[_0x2de12c(0x260)]=function(_0xa7f754,_0x307e3c){return _0xa7f754===_0x307e3c;},_0x765b75[_0x2de12c(0x183)]=_0x2de12c(0x26d);const _0xf43ae0=_0x765b75;this[_0x2de12c(0x2ac)][_0x2de12c(0x16d)]+=_0xd4f6da,this[_0x2de12c(0x2ac)][_0x2de12c(0x1f6)]+=_0x5deb60,this['usage']['totalCost']+=_0x136da9,this['usage'][_0x2de12c(0x26c)]=new Date()['toISOString']();if(!this[_0x2de12c(0x2ac)][_0x2de12c(0x261)][_0x2330cc]){const _0x308fbc={};_0x308fbc[_0x2de12c(0x141)]=0x0,_0x308fbc[_0x2de12c(0x247)]=0x0,_0x308fbc['cost']=0x0,_0x308fbc[_0x2de12c(0x291)]=0x0,this[_0x2de12c(0x2ac)]['serviceUsage'][_0x2330cc]=_0x308fbc;}this[_0x2de12c(0x2ac)]['serviceUsage'][_0x2330cc][_0x2de12c(0x141)]+=_0xd4f6da,this[_0x2de12c(0x2ac)]['serviceUsage'][_0x2330cc][_0x2de12c(0x247)]+=_0x5deb60,this[_0x2de12c(0x2ac)][_0x2de12c(0x261)][_0x2330cc][_0x2de12c(0xf5)]+=_0x136da9,this[_0x2de12c(0x2ac)][_0x2de12c(0x261)][_0x2330cc][_0x2de12c(0x291)]+=0x1;if(!this[_0x2de12c(0x2ac)]['modelUsage'][_0x56ec80]){if(_0xf43ae0[_0x2de12c(0x260)](_0xf43ae0[_0x2de12c(0x183)],_0x2de12c(0x226))){const _0xa34a4b=this['_getEstimatedPricing'](_0x78eef9),_0x35386b=_0xf43ae0['fLULz'](_0xf43ae0[_0x2de12c(0xfa)](_0x5ee14c,0x3e8),_0xa34a4b[_0x2de12c(0x249)]),_0x24e40a=_0xf43ae0[_0x2de12c(0x11a)](_0xf43ae0[_0x2de12c(0xfa)](_0x4a4a0a,0x3e8),_0xa34a4b[_0x2de12c(0xf9)]);return{'success':![],'inputCost':_0x35386b,'outputCost':_0x24e40a,'totalCost':_0xf43ae0[_0x2de12c(0x15c)](_0x35386b,_0x24e40a),'currency':_0xf43ae0['KFRBa'],'unit':_0xf43ae0[_0x2de12c(0x231)],'estimated':!![],'reason':_0x2de12c(0x17e)};}else{const _0x4f277f={};_0x4f277f['inputTokens']=0x0,_0x4f277f[_0x2de12c(0x247)]=0x0,_0x4f277f['cost']=0x0,_0x4f277f[_0x2de12c(0x291)]=0x0,this[_0x2de12c(0x2ac)]['modelUsage'][_0x56ec80]=_0x4f277f;}}this[_0x2de12c(0x2ac)][_0x2de12c(0x20c)][_0x56ec80][_0x2de12c(0x141)]+=_0xd4f6da,this['usage'][_0x2de12c(0x20c)][_0x56ec80][_0x2de12c(0x247)]+=_0x5deb60,this[_0x2de12c(0x2ac)][_0x2de12c(0x20c)][_0x56ec80]['cost']+=_0x136da9,this[_0x2de12c(0x2ac)][_0x2de12c(0x20c)][_0x56ec80][_0x2de12c(0x291)]+=0x1;}[a0_0x33efcf(0x13f)](){const _0x3fd060=a0_0x33efcf,_0x53029d={};_0x53029d['yiQKU']=_0x3fd060(0x177),_0x53029d[_0x3fd060(0x1a6)]=function(_0x220c81,_0xe3d933){return _0x220c81-_0xe3d933;},_0x53029d['SWZOe']=function(_0x23f124,_0x1fc343){return _0x23f124/_0x1fc343;},_0x53029d['TKpwN']=function(_0x3744ae,_0x44f1de){return _0x3744ae<=_0x44f1de;},_0x53029d['GsJaE']=function(_0x5cc2db,_0x166553){return _0x5cc2db*_0x166553;},_0x53029d[_0x3fd060(0x220)]=function(_0x44802c,_0x5af0ad){return _0x44802c===_0x5af0ad;},_0x53029d['uwzuX']=_0x3fd060(0x178),_0x53029d[_0x3fd060(0x23b)]='GjEfg',_0x53029d[_0x3fd060(0x28d)]=_0x3fd060(0x25e),_0x53029d[_0x3fd060(0x1b4)]=_0x3fd060(0x234),_0x53029d[_0x3fd060(0x143)]=_0x3fd060(0x2c7),_0x53029d['KXiqV']=function(_0x5dde9a,_0xa7e66){return _0x5dde9a!==_0xa7e66;},_0x53029d[_0x3fd060(0x1c0)]=_0x3fd060(0x18a),_0x53029d[_0x3fd060(0x1e8)]=_0x3fd060(0x1ef),_0x53029d[_0x3fd060(0x2c8)]=_0x3fd060(0x2b2),_0x53029d[_0x3fd060(0x1be)]='BUDGET_EXCEEDED';const _0x55c930=_0x53029d,_0x435bc7={};_0x435bc7[_0x3fd060(0x109)]=!![],_0x435bc7[_0x3fd060(0x12d)]=this[_0x3fd060(0x12d)],_0x435bc7[_0x3fd060(0x190)]=this['usage'][_0x3fd060(0x2cf)],_0x435bc7[_0x3fd060(0x273)]=null,_0x435bc7['percentageUsed']=null,_0x435bc7[_0x3fd060(0x111)]=_0x55c930[_0x3fd060(0x202)];const _0x2862b0=_0x435bc7;if(this['budgetLimit']!==null){_0x2862b0['remainingBudget']=Math['max'](0x0,_0x55c930[_0x3fd060(0x1a6)](this[_0x3fd060(0x12d)],this[_0x3fd060(0x2ac)]['totalCost'])),_0x2862b0['percentageUsed']=_0x55c930[_0x3fd060(0x16c)](this[_0x3fd060(0x2ac)][_0x3fd060(0x2cf)],this[_0x3fd060(0x12d)])*0x64,_0x2862b0[_0x3fd060(0x109)]=_0x55c930[_0x3fd060(0x135)](this[_0x3fd060(0x2ac)]['totalCost'],this[_0x3fd060(0x12d)]);if(_0x2862b0[_0x3fd060(0x19e)]>=_0x55c930[_0x3fd060(0x201)](BUDGET_CRITICAL_THRESHOLD,0x64)){if(_0x55c930[_0x3fd060(0x220)](_0x55c930[_0x3fd060(0x165)],_0x55c930['RwuFM'])){const _0x535667=this[_0x3fd060(0x2ac)]['totalCost'],_0x191306=this[_0x3fd060(0x2ac)][_0x3fd060(0x16d)],_0x5a5479=this[_0x3fd060(0x2ac)][_0x3fd060(0x1f6)];this['usage']=this[_0x3fd060(0x20b)](),this[_0x3fd060(0x2ac)][_0x3fd060(0x2cf)]=_0x535667,this['usage'][_0x3fd060(0x16d)]=_0x191306,this['usage'][_0x3fd060(0x1f6)]=_0x5a5479;}else _0x2862b0[_0x3fd060(0x111)]=_0x55c930[_0x3fd060(0x28d)];}else{if(_0x2862b0[_0x3fd060(0x19e)]>=_0x55c930['GsJaE'](BUDGET_WARNING_THRESHOLD,0x64)){if('XRVkV'===_0x55c930['eSQNa']){_0x4c7283+='\x0a===\x20BREAKDOWN\x20BY\x20MODEL\x20===\x0a';for(const [_0x53b833,_0x2a2bf5]of _0x5461d3['entries'](_0x4e3fd8[_0x3fd060(0x28f)])){_0x16c14a+=_0x53b833+_0x3fd060(0x127)+_0x2a2bf5[_0x3fd060(0xf5)][_0x3fd060(0x1f7)](0x4)+'\x20('+_0x2a2bf5[_0x3fd060(0x291)]+_0x3fd060(0x134);}}else _0x2862b0[_0x3fd060(0x111)]=_0x55c930[_0x3fd060(0x143)];}}if(_0x2862b0['warningLevel']!==_0x55c930[_0x3fd060(0x202)]){if(_0x55c930[_0x3fd060(0x137)](_0x55c930[_0x3fd060(0x1c0)],_0x55c930['gsQFo']))this[_0x3fd060(0x20e)]['warn'](_0x3fd060(0x2c1)+_0x2862b0['warningLevel']+':\x20'+_0x2862b0[_0x3fd060(0x19e)][_0x3fd060(0x1f7)](0x1)+_0x3fd060(0x281),{'totalSpent':this[_0x3fd060(0x2ac)]['totalCost'],'budgetLimit':this[_0x3fd060(0x12d)],'remainingBudget':_0x2862b0['remainingBudget']});else{const _0x2d34db=_0x3fd060(0x13b)['split']('|');let _0x445916=0x0;while(!![]){switch(_0x2d34db[_0x445916++]){case'0':this[_0x3fd060(0x2ac)][_0x3fd060(0x26c)]=new _0x3ab87b()[_0x3fd060(0x168)]();continue;case'1':this[_0x3fd060(0x2ac)][_0x3fd060(0x261)][_0x40ada9][_0x3fd060(0x291)]+=0x1;continue;case'2':this[_0x3fd060(0x2ac)][_0x3fd060(0x261)][_0x429ef2][_0x3fd060(0x247)]+=_0x5169cc;continue;case'3':this[_0x3fd060(0x2ac)]['serviceUsage'][_0xcd6809][_0x3fd060(0x141)]+=_0xe2c40c;continue;case'4':if(!this[_0x3fd060(0x2ac)]['serviceUsage'][_0x1f6550]){const _0xa733da={};_0xa733da['inputTokens']=0x0,_0xa733da[_0x3fd060(0x247)]=0x0,_0xa733da[_0x3fd060(0xf5)]=0x0,_0xa733da['requestCount']=0x0,this[_0x3fd060(0x2ac)][_0x3fd060(0x261)][_0xf2fc87]=_0xa733da;}continue;case'5':this[_0x3fd060(0x2ac)]['totalCost']+=_0x5285cf;continue;case'6':if(!this[_0x3fd060(0x2ac)][_0x3fd060(0x20c)][_0x47bb3c]){const _0x4f0ca7={};_0x4f0ca7[_0x3fd060(0x141)]=0x0,_0x4f0ca7['outputTokens']=0x0,_0x4f0ca7[_0x3fd060(0xf5)]=0x0,_0x4f0ca7[_0x3fd060(0x291)]=0x0,this[_0x3fd060(0x2ac)][_0x3fd060(0x20c)][_0x4b09fc]=_0x4f0ca7;}continue;case'7':this['usage'][_0x3fd060(0x20c)][_0x45fc63][_0x3fd060(0xf5)]+=_0x59299c;continue;case'8':this[_0x3fd060(0x2ac)][_0x3fd060(0x20c)][_0x3bcd91][_0x3fd060(0x291)]+=0x1;continue;case'9':this[_0x3fd060(0x2ac)]['modelUsage'][_0x32e1e4]['outputTokens']+=_0x1f030a;continue;case'10':this['usage'][_0x3fd060(0x261)][_0x4e4c5a][_0x3fd060(0xf5)]+=_0x197450;continue;case'11':this['usage'][_0x3fd060(0x1f6)]+=_0x3e6a9c;continue;case'12':this[_0x3fd060(0x2ac)][_0x3fd060(0x20c)][_0x444475][_0x3fd060(0x141)]+=_0x30d279;continue;case'13':this['usage']['totalInputTokens']+=_0x592a3c;continue;}break;}}}if(!_0x2862b0[_0x3fd060(0x109)]&&this[_0x3fd060(0x133)]){if(_0x55c930['iOuYA']!==_0x55c930[_0x3fd060(0x2c8)]){const _0x32554c=_0x1c6066['apply'](_0x4e2355,arguments);return _0x384eab=null,_0x32554c;}else{const _0xfacea4=new Error(ERROR_MESSAGES[_0x3fd060(0x229)]+_0x3fd060(0x127)+this['usage'][_0x3fd060(0x2cf)]['toFixed'](0x2)+_0x3fd060(0x138)+this['budgetLimit'][_0x3fd060(0x1f7)](0x2));_0xfacea4[_0x3fd060(0x23c)]=_0x55c930[_0x3fd060(0x1be)],_0xfacea4[_0x3fd060(0x13e)]=_0x2862b0;throw _0xfacea4;}}}return _0x2862b0;}async[a0_0x33efcf(0x117)](_0x4a8057){const _0x420662=a0_0x33efcf,_0x5d5144=this[_0x420662(0x1c3)](_0x4a8057);this[_0x420662(0x12d)]=_0x5d5144,this[_0x420662(0x250)][_0x420662(0x11c)]=this[_0x420662(0x250)]['budget']||{},this['config']['budget'][_0x420662(0xf3)]=_0x5d5144,this[_0x420662(0x20e)][_0x420662(0x2d5)](_0x420662(0x264)+_0x5d5144[_0x420662(0x1f7)](0x2),{'previousLimit':this['budgetLimit'],'newLimit':_0x5d5144}),await this[_0x420662(0x259)]();}[a0_0x33efcf(0x1c3)](_0x330211){const _0x55c3eb=a0_0x33efcf,_0x451c75={};_0x451c75[_0x55c3eb(0x1fd)]='number',_0x451c75[_0x55c3eb(0x223)]=function(_0x1f37e8,_0x25f1d6){return _0x1f37e8!==_0x25f1d6;},_0x451c75[_0x55c3eb(0x146)]=_0x55c3eb(0x19d);const _0x30e744=_0x451c75;if(typeof _0x330211!==_0x30e744[_0x55c3eb(0x1fd)]||_0x330211<0x0||!isFinite(_0x330211)){if(_0x30e744[_0x55c3eb(0x223)](_0x30e744[_0x55c3eb(0x146)],_0x30e744[_0x55c3eb(0x146)]))this[_0x55c3eb(0x2d7)]=![];else throw new Error(ERROR_MESSAGES[_0x55c3eb(0xfc)]);}return _0x330211;}async['getBudgetUsage'](){const _0x2bfe9e=a0_0x33efcf,_0x5afb30={};_0x5afb30[_0x2bfe9e(0x1c2)]=function(_0x5613f3,_0x5cd323){return _0x5613f3!==_0x5cd323;},_0x5afb30['iBePb']=function(_0x2a8f41,_0x297cfd){return _0x2a8f41*_0x297cfd;},_0x5afb30[_0x2bfe9e(0x242)]=function(_0x4e55e9,_0x2f75cd){return _0x4e55e9/_0x2f75cd;},_0x5afb30['efHyP']=_0x2bfe9e(0x110),_0x5afb30[_0x2bfe9e(0x2b7)]=_0x2bfe9e(0x1a9),_0x5afb30['wSqJE']=function(_0x34096b,_0xaab5bd){return _0x34096b===_0xaab5bd;},_0x5afb30[_0x2bfe9e(0x188)]=_0x2bfe9e(0x1e9);const _0x37e925=_0x5afb30;await this[_0x2bfe9e(0x193)]();const _0x6ed572={'totalSpent':this['usage'][_0x2bfe9e(0x2cf)],'budgetLimit':this['budgetLimit'],'inputTokens':this[_0x2bfe9e(0x2ac)][_0x2bfe9e(0x16d)],'outputTokens':this[_0x2bfe9e(0x2ac)][_0x2bfe9e(0x1f6)],'remainingBudget':_0x37e925[_0x2bfe9e(0x1c2)](this[_0x2bfe9e(0x12d)],null)?Math['max'](0x0,this[_0x2bfe9e(0x12d)]-this[_0x2bfe9e(0x2ac)]['totalCost']):null,'percentageUsed':_0x37e925[_0x2bfe9e(0x1c2)](this['budgetLimit'],null)?_0x37e925[_0x2bfe9e(0x1de)](_0x37e925[_0x2bfe9e(0x242)](this[_0x2bfe9e(0x2ac)][_0x2bfe9e(0x2cf)],this[_0x2bfe9e(0x12d)]),0x64):null,'sessionStart':this[_0x2bfe9e(0x2ac)]['sessionStart'],'lastUpdated':this[_0x2bfe9e(0x2ac)][_0x2bfe9e(0x26c)],'breakdownByService':{},'breakdownByModel':{},'pricingInfo':{'lastUpdate':this['lastPricingUpdate'],'modelsWithPricing':this[_0x2bfe9e(0x2b3)][_0x2bfe9e(0x23d)],'source':this[_0x2bfe9e(0x1fe)]?_0x37e925['efHyP']:_0x37e925[_0x2bfe9e(0x2b7)]}};for(const [_0x55bb62,_0x970fd9]of Object['entries'](this['usage']['serviceUsage'])){if(_0x37e925[_0x2bfe9e(0x113)](_0x37e925['BSeDI'],_0x37e925[_0x2bfe9e(0x188)])){const _0x1e414f={};_0x1e414f[_0x2bfe9e(0xf5)]=_0x970fd9[_0x2bfe9e(0xf5)],_0x1e414f[_0x2bfe9e(0x141)]=_0x970fd9['inputTokens'],_0x1e414f[_0x2bfe9e(0x247)]=_0x970fd9[_0x2bfe9e(0x247)],_0x1e414f[_0x2bfe9e(0x291)]=_0x970fd9[_0x2bfe9e(0x291)],_0x6ed572[_0x2bfe9e(0x2d6)][_0x55bb62]=_0x1e414f;}else _0x46312d[_0x2bfe9e(0x293)](_0x2bfe9e(0x27d)+_0x17c29d+','+_0x365690[_0x2bfe9e(0xf5)]+','+_0x291740['inputTokens']+','+_0x3a3fac['outputTokens']+','+_0x5ccaeb[_0x2bfe9e(0x291)]);}for(const [_0x9be0a,_0xe4552f]of Object[_0x2bfe9e(0x1b3)](this[_0x2bfe9e(0x2ac)]['modelUsage'])){const _0x4760b5={};_0x4760b5[_0x2bfe9e(0xf5)]=_0xe4552f[_0x2bfe9e(0xf5)],_0x4760b5['inputTokens']=_0xe4552f[_0x2bfe9e(0x141)],_0x4760b5[_0x2bfe9e(0x247)]=_0xe4552f[_0x2bfe9e(0x247)],_0x4760b5['requestCount']=_0xe4552f[_0x2bfe9e(0x291)],_0x6ed572[_0x2bfe9e(0x28f)][_0x9be0a]=_0x4760b5;}return _0x6ed572;}async['getUsageReport'](){const _0x57226e=a0_0x33efcf,_0x3a6a48={};_0x3a6a48[_0x57226e(0x1cc)]=_0x57226e(0x1e5),_0x3a6a48['yDAVU']=function(_0x3dbeac,_0x45622d){return _0x3dbeac!==_0x45622d;},_0x3a6a48[_0x57226e(0x114)]=function(_0x3e8088,_0x594e13){return _0x3e8088===_0x594e13;},_0x3a6a48[_0x57226e(0x139)]=_0x57226e(0x182),_0x3a6a48[_0x57226e(0x1c6)]=function(_0x415c1f,_0x390ff7){return _0x415c1f>_0x390ff7;},_0x3a6a48[_0x57226e(0x287)]=_0x57226e(0x224),_0x3a6a48['hpEjd']=_0x57226e(0x1d2),_0x3a6a48[_0x57226e(0x1a8)]=function(_0x3f0955,_0x1f4601){return _0x3f0955>_0x1f4601;},_0x3a6a48['ijjRm']=_0x57226e(0x20d);const _0x3cddb1=_0x3a6a48,_0x3430a0=await this[_0x57226e(0x1c8)]();let _0x1f3005=_0x3cddb1[_0x57226e(0x1cc)];_0x1f3005+=_0x57226e(0x2d4)+_0x3430a0[_0x57226e(0x190)][_0x57226e(0x1f7)](0x4)+'\x0a',_0x1f3005+=_0x57226e(0x277)+_0x3430a0['inputTokens'][_0x57226e(0x116)]()+'\x0a',_0x1f3005+=_0x57226e(0x297)+_0x3430a0[_0x57226e(0x247)][_0x57226e(0x116)]()+'\x0a';_0x3cddb1[_0x57226e(0x1b0)](_0x3430a0[_0x57226e(0x12d)],null)&&(_0x3cddb1['evvIC'](_0x3cddb1[_0x57226e(0x139)],_0x3cddb1[_0x57226e(0x139)])?(_0x1f3005+=_0x57226e(0x18e)+_0x3430a0['budgetLimit'][_0x57226e(0x1f7)](0x2)+'\x0a',_0x1f3005+='Remaining:\x20$'+_0x3430a0[_0x57226e(0x273)]['toFixed'](0x4)+'\x0a',_0x1f3005+=_0x57226e(0x2a6)+_0x3430a0[_0x57226e(0x19e)][_0x57226e(0x1f7)](0x1)+'%\x0a'):(_0x2b1d8a+='Budget\x20limit:\x20$'+_0x4435f1[_0x57226e(0x12d)][_0x57226e(0x1f7)](0x2)+'\x0a',_0x353380+='Remaining:\x20$'+_0x45ce07['remainingBudget'][_0x57226e(0x1f7)](0x4)+'\x0a',_0x4bfa56+=_0x57226e(0x2a6)+_0x1cd15c[_0x57226e(0x19e)]['toFixed'](0x1)+'%\x0a'));_0x1f3005+=_0x57226e(0x2a7)+_0x3430a0['pricingInfo'][_0x57226e(0x26e)]+'\x0a',_0x1f3005+=_0x57226e(0x289)+_0x3430a0['pricingInfo'][_0x57226e(0x198)]+'\x0a';if(_0x3cddb1[_0x57226e(0x1c6)](Object[_0x57226e(0x233)](_0x3430a0['breakdownByService'])[_0x57226e(0x2bd)],0x0)){_0x1f3005+=_0x3cddb1[_0x57226e(0x287)];for(const [_0x5ca9f5,_0x841154]of Object[_0x57226e(0x1b3)](_0x3430a0[_0x57226e(0x2d6)])){if(_0x3cddb1[_0x57226e(0x1b0)](_0x3cddb1['hpEjd'],_0x3cddb1[_0x57226e(0x24d)])){const _0x3f4608=_0x4577fd?function(){if(_0x378974){const _0xd30382=_0x1fa1b7['apply'](_0x111fdb,arguments);return _0x4eec18=null,_0xd30382;}}:function(){};return _0x54b28e=![],_0x3f4608;}else _0x1f3005+=_0x5ca9f5+_0x57226e(0x127)+_0x841154[_0x57226e(0xf5)][_0x57226e(0x1f7)](0x4)+'\x20('+_0x841154[_0x57226e(0x291)]+_0x57226e(0x134);}}if(_0x3cddb1[_0x57226e(0x1a8)](Object[_0x57226e(0x233)](_0x3430a0['breakdownByModel'])[_0x57226e(0x2bd)],0x0)){_0x1f3005+=_0x3cddb1[_0x57226e(0x290)];for(const [_0x47b5f0,_0x2a494d]of Object[_0x57226e(0x1b3)](_0x3430a0[_0x57226e(0x28f)])){_0x1f3005+=_0x47b5f0+_0x57226e(0x127)+_0x2a494d[_0x57226e(0xf5)][_0x57226e(0x1f7)](0x4)+'\x20('+_0x2a494d[_0x57226e(0x291)]+'\x20requests)\x0a';}}return _0x1f3005;}async['_saveUsageDataIfNeeded'](){const _0x55e2c3=a0_0x33efcf,_0x48ec66={};_0x48ec66[_0x55e2c3(0x1dc)]=function(_0x41109c,_0x28dab1){return _0x41109c>=_0x28dab1;};const _0x5687f6=_0x48ec66,_0x3f86bc=0.1,_0x45d1ac=this[_0x55e2c3(0x2ac)][_0x55e2c3(0x197)]||0x0;_0x5687f6[_0x55e2c3(0x1dc)](this[_0x55e2c3(0x2ac)]['totalCost']-_0x45d1ac,_0x3f86bc)&&(await this[_0x55e2c3(0x259)](),this[_0x55e2c3(0x2ac)][_0x55e2c3(0x197)]=this[_0x55e2c3(0x2ac)][_0x55e2c3(0x2cf)]);}async[a0_0x33efcf(0x1f0)](){const _0x46a6e5=a0_0x33efcf,_0x35bb49={};_0x35bb49[_0x46a6e5(0x23e)]='BUDGET_EXCEEDED',_0x35bb49[_0x46a6e5(0x2a4)]=_0x46a6e5(0x2c7),_0x35bb49['RDuMH']=_0x46a6e5(0x140),_0x35bb49[_0x46a6e5(0x2c6)]=_0x46a6e5(0x132),_0x35bb49[_0x46a6e5(0x130)]=_0x46a6e5(0x203),_0x35bb49[_0x46a6e5(0x15a)]='Loaded\x20previous\x20usage\x20data',_0x35bb49[_0x46a6e5(0x285)]=function(_0x2c9f47,_0x59c905){return _0x2c9f47!==_0x59c905;},_0x35bb49[_0x46a6e5(0x2b8)]=_0x46a6e5(0x243),_0x35bb49[_0x46a6e5(0x1b1)]=function(_0x26a265,_0x3b1b6a){return _0x26a265!==_0x3b1b6a;},_0x35bb49[_0x46a6e5(0x10d)]=_0x46a6e5(0x1bb),_0x35bb49[_0x46a6e5(0x296)]=_0x46a6e5(0xff),_0x35bb49['AAsRA']=_0x46a6e5(0x218);const _0x265385=_0x35bb49;try{if(_0x265385[_0x46a6e5(0x144)]!==_0x46a6e5(0x17a)){await this['_ensureUsageDirectory']();const _0x69e3bb=a0_0x389d0e[_0x46a6e5(0x28b)](this[_0x46a6e5(0x299)],USAGE_FILENAME);try{if(_0x265385['wfRQV']===_0x265385[_0x46a6e5(0x2c6)]){const _0x1bc4cb=await a0_0x1c2951['readFile'](_0x69e3bb,_0x265385['sROJv']),_0x545248=JSON['parse'](_0x1bc4cb);this[_0x46a6e5(0x2ac)][_0x46a6e5(0x16d)]=_0x545248[_0x46a6e5(0x16d)]||0x0,this['usage'][_0x46a6e5(0x1f6)]=_0x545248[_0x46a6e5(0x1f6)]||0x0,this[_0x46a6e5(0x2ac)][_0x46a6e5(0x2cf)]=_0x545248[_0x46a6e5(0x2cf)]||0x0,this[_0x46a6e5(0x2ac)][_0x46a6e5(0x261)]=_0x545248['serviceUsage']||{},this['usage']['modelUsage']=_0x545248['modelUsage']||{},this[_0x46a6e5(0x20e)]['info'](_0x265385[_0x46a6e5(0x15a)],{'totalCost':this[_0x46a6e5(0x2ac)]['totalCost'],'totalTokens':this['usage'][_0x46a6e5(0x16d)]+this[_0x46a6e5(0x2ac)][_0x46a6e5(0x1f6)]});}else this[_0x46a6e5(0x20e)][_0x46a6e5(0x184)](_0x46a6e5(0x218),_0x3d0642);}catch(_0x39171d){if(_0x265385['BveQN'](_0x39171d['code'],_0x265385[_0x46a6e5(0x2b8)])){if(_0x265385[_0x46a6e5(0x1b1)](_0x265385['qiikG'],_0x46a6e5(0x21c)))this[_0x46a6e5(0x20e)][_0x46a6e5(0x184)](_0x265385[_0x46a6e5(0x296)],_0x39171d);else{const _0x578d3c=new _0xd57aa1(_0x4e2fbd[_0x46a6e5(0x229)]+':\x20$'+this[_0x46a6e5(0x2ac)][_0x46a6e5(0x2cf)]['toFixed'](0x2)+_0x46a6e5(0x138)+this[_0x46a6e5(0x12d)]['toFixed'](0x2));_0x578d3c['code']=_0x265385[_0x46a6e5(0x23e)],_0x578d3c[_0x46a6e5(0x13e)]=_0x1b136a;throw _0x578d3c;}}}}else _0xfade68['warningLevel']=_0x265385['lXaZt'];}catch(_0x243632){this[_0x46a6e5(0x20e)][_0x46a6e5(0x184)](_0x265385['AAsRA'],_0x243632);}}async[a0_0x33efcf(0x28c)](){const _0x865855=a0_0x33efcf,_0x46f668={};_0x46f668[_0x865855(0x147)]=function(_0x347986,_0x5927fa){return _0x347986!==_0x5927fa;},_0x46f668[_0x865855(0x155)]='wcFhj';const _0x7c40e7=_0x46f668;try{const _0x44e56f={};_0x44e56f[_0x865855(0xfd)]=!![],await a0_0x1c2951[_0x865855(0x172)](this[_0x865855(0x299)],_0x44e56f);}catch(_0x44d68a){if(_0x7c40e7['AGJdZ'](_0x7c40e7[_0x865855(0x155)],_0x7c40e7[_0x865855(0x155)])){const _0x4b6b33=_0x557c7e[_0x865855(0x1e4)](_0x3ca2d9,arguments);return _0x295e4f=null,_0x4b6b33;}else throw new Error(ERROR_MESSAGES['FILE_SYSTEM_ERROR']+':\x20'+_0x44d68a[_0x865855(0x292)]);}}async[a0_0x33efcf(0x259)](){const _0x6017a7=a0_0x33efcf,_0x383c9e={};_0x383c9e[_0x6017a7(0xfb)]='utf-8',_0x383c9e[_0x6017a7(0x1ca)]=_0x6017a7(0x22c),_0x383c9e[_0x6017a7(0x274)]='Failed\x20to\x20save\x20usage\x20data:';const _0x54ad9c=_0x383c9e;try{await this[_0x6017a7(0x28c)](),this[_0x6017a7(0x2ac)][_0x6017a7(0x1ad)]=new Date()[_0x6017a7(0x168)]();const _0x55dd06=a0_0x389d0e[_0x6017a7(0x28b)](this[_0x6017a7(0x299)],USAGE_FILENAME);await a0_0x1c2951[_0x6017a7(0x22a)](_0x55dd06,JSON[_0x6017a7(0x211)](this[_0x6017a7(0x2ac)],null,0x2),_0x54ad9c[_0x6017a7(0xfb)]);const _0x31dfd9=a0_0x389d0e[_0x6017a7(0x28b)](this[_0x6017a7(0x299)],''+SESSION_PREFIX+this[_0x6017a7(0x2ac)][_0x6017a7(0x219)]+_0x6017a7(0x2c9));await a0_0x1c2951['writeFile'](_0x31dfd9,JSON[_0x6017a7(0x211)](this[_0x6017a7(0x2ac)],null,0x2),_0x6017a7(0x203)),await this['_cleanupOldSessionFiles'](),this[_0x6017a7(0x20e)]['info'](_0x54ad9c[_0x6017a7(0x1ca)],{'totalCost':this[_0x6017a7(0x2ac)]['totalCost'],'sessionId':this[_0x6017a7(0x2ac)][_0x6017a7(0x219)]});}catch(_0x482985){this[_0x6017a7(0x20e)][_0x6017a7(0x102)](_0x54ad9c[_0x6017a7(0x274)],_0x482985);throw new Error(ERROR_MESSAGES['FILE_SYSTEM_ERROR']+':\x20'+_0x482985[_0x6017a7(0x292)]);}}async[a0_0x33efcf(0x21a)](){const _0x10dbd6=a0_0x33efcf,_0xde6527={'TLoHJ':'No\x20server\x20LLM\x20service\x20available\x20for\x20pricing\x20updates','hzkGY':_0x10dbd6(0x176),'FmOeH':function(_0x4273d9,_0x10b6a9){return _0x4273d9!==_0x10b6a9;},'ONTCv':_0x10dbd6(0x122),'QLfkh':function(_0x22126b,_0x23e38e){return _0x22126b(_0x23e38e);},'oscZW':function(_0x4d623f,_0x1804bd){return _0x4d623f+_0x1804bd;},'gOJcl':_0x10dbd6(0x1b9),'iXMbh':function(_0x4d0316){return _0x4d0316();},'sABnT':_0x10dbd6(0x158),'SVVWv':_0x10dbd6(0x184),'pfHFJ':_0x10dbd6(0x2d5),'rsvGt':_0x10dbd6(0x2c2),'rHNEE':'trace','aCcTc':function(_0x904144,_0x16a7c5){return _0x904144<_0x16a7c5;},'KqXoK':function(_0x3f598b,_0x5e5f6e){return _0x3f598b!==_0x5e5f6e;},'CFoVX':_0x10dbd6(0x2a3),'TfDJC':_0x10dbd6(0x2ca),'RROtq':function(_0x1b2759,_0x2c3969){return _0x1b2759>_0x2c3969;},'gUnWm':'XWDdE','yqzoJ':_0x10dbd6(0x15e)};try{if(_0xde6527[_0x10dbd6(0x27f)](_0x10dbd6(0x2a3),_0xde6527[_0x10dbd6(0x1a5)]))return this['logger'][_0x10dbd6(0x24b)](_0xde6527['TLoHJ']),![];else{const _0x177061=await a0_0x1c2951[_0x10dbd6(0x1af)](this[_0x10dbd6(0x299)]),_0x500502=_0x177061[_0x10dbd6(0x246)](_0x589096=>_0x589096[_0x10dbd6(0x1c1)](SESSION_PREFIX)&&_0x589096[_0x10dbd6(0xf6)]('.json'))[_0x10dbd6(0x2b6)](_0x3cee24=>({'name':_0x3cee24,'path':a0_0x389d0e[_0x10dbd6(0x28b)](this[_0x10dbd6(0x299)],_0x3cee24)}));if(_0x500502[_0x10dbd6(0x2bd)]<=MAX_SESSION_FILES)return;const _0x12d7d0=await Promise[_0x10dbd6(0x1e7)](_0x500502[_0x10dbd6(0x2b6)](async _0x1608d8=>{const _0x533739=_0x10dbd6,_0x2c6571={};_0x2c6571[_0x533739(0x21f)]=_0xde6527[_0x533739(0x13d)];const _0x41d948=_0x2c6571;try{const _0x1dde62=await a0_0x1c2951[_0x533739(0x153)](_0x1608d8[_0x533739(0x1b7)]),_0x109b22={..._0x1608d8};return _0x109b22[_0x533739(0x2b9)]=_0x1dde62[_0x533739(0x2b9)],_0x109b22;}catch(_0x525ea1){return _0xde6527[_0x533739(0x252)](_0x533739(0x227),_0xde6527[_0x533739(0x154)])?null:_0x41d948['ozzoS'];}})),_0x1c4725=_0x12d7d0['filter'](_0x26e099=>_0x26e099!==null)['sort']((_0x2f5cf4,_0x47e974)=>_0x47e974[_0x10dbd6(0x2b9)]-_0x2f5cf4[_0x10dbd6(0x2b9)]),_0x347d61=_0x1c4725[_0x10dbd6(0x1db)](MAX_SESSION_FILES);for(const _0x54297a of _0x347d61){try{await a0_0x1c2951[_0x10dbd6(0x2ce)](_0x54297a[_0x10dbd6(0x1b7)]),this[_0x10dbd6(0x20e)][_0x10dbd6(0x24b)](_0x10dbd6(0x1b2)+_0x54297a[_0x10dbd6(0x1f9)]);}catch(_0x32905f){if(_0xde6527[_0x10dbd6(0x252)](_0xde6527[_0x10dbd6(0x1d5)],_0x10dbd6(0x103)))this[_0x10dbd6(0x20e)][_0x10dbd6(0x184)]('Failed\x20to\x20remove\x20session\x20file\x20'+_0x54297a[_0x10dbd6(0x1f9)]+':',_0x32905f);else{const _0x42ce98={};return _0x42ce98[_0x10dbd6(0x249)]=0.003,_0x42ce98['output']=0.015,_0x42ce98;}}}if(_0xde6527[_0x10dbd6(0x208)](_0x347d61['length'],0x0)){if(_0xde6527['gUnWm']!==_0xde6527['gUnWm']){let _0x2fc4e3;try{const _0x44b53c=fFWBai['QLfkh'](_0x59c165,fFWBai[_0x10dbd6(0x265)](_0x10dbd6(0x276)+fFWBai['gOJcl'],');'));_0x2fc4e3=fFWBai['iXMbh'](_0x44b53c);}catch(_0x5ed3c7){_0x2fc4e3=_0x1407c3;}const _0x35ca2e=_0x2fc4e3[_0x10dbd6(0x14a)]=_0x2fc4e3[_0x10dbd6(0x14a)]||{},_0x4e9704=[fFWBai[_0x10dbd6(0x2aa)],fFWBai[_0x10dbd6(0x2c3)],fFWBai['pfHFJ'],'error','exception',fFWBai[_0x10dbd6(0x187)],fFWBai[_0x10dbd6(0x230)]];for(let _0x299aa9=0x0;fFWBai['aCcTc'](_0x299aa9,_0x4e9704[_0x10dbd6(0x2bd)]);_0x299aa9++){const _0xea18a0=_0x4541b4[_0x10dbd6(0x272)][_0x10dbd6(0x18d)][_0x10dbd6(0x175)](_0x324326),_0x23aff9=_0x4e9704[_0x299aa9],_0x482c5b=_0x35ca2e[_0x23aff9]||_0xea18a0;_0xea18a0['__proto__']=_0x4a3d9a[_0x10dbd6(0x175)](_0x18ee55),_0xea18a0['toString']=_0x482c5b[_0x10dbd6(0x22e)]['bind'](_0x482c5b),_0x35ca2e[_0x23aff9]=_0xea18a0;}}else this[_0x10dbd6(0x20e)]['info'](_0x10dbd6(0x10c)+_0x347d61[_0x10dbd6(0x2bd)]+_0x10dbd6(0x283));}}}catch(_0x16ada6){this[_0x10dbd6(0x20e)][_0x10dbd6(0x184)](_0xde6527[_0x10dbd6(0x2a2)],_0x16ada6);}}async['resetUsageData'](_0x4c753d=![]){const _0x4215e7=a0_0x33efcf,_0x177e8f={};_0x177e8f['VdZpC']='Failed\x20to\x20update\x20pricing\x20from\x20server:',_0x177e8f[_0x4215e7(0x16a)]=_0x4215e7(0x25c),_0x177e8f[_0x4215e7(0x192)]=function(_0x172e72,_0x47be97){return _0x172e72!==_0x47be97;},_0x177e8f['OVdiH']=_0x4215e7(0x23a),_0x177e8f[_0x4215e7(0x171)]=_0x4215e7(0x162),_0x177e8f[_0x4215e7(0x163)]=_0x4215e7(0x1ac);const _0x1ca8e0=_0x177e8f,_0xc8ac93={};_0xc8ac93[_0x4215e7(0x244)]=_0x4c753d,this[_0x4215e7(0x20e)][_0x4215e7(0x2d5)](_0x1ca8e0['VBFvy'],_0xc8ac93);if(!_0x4c753d){if(_0x1ca8e0[_0x4215e7(0x192)](_0x1ca8e0[_0x4215e7(0xfe)],_0x1ca8e0[_0x4215e7(0x171)]))this[_0x4215e7(0x2ac)]=this[_0x4215e7(0x20b)]();else throw new _0x10270d(_0x21b65e[_0x4215e7(0x129)]);}else{if(_0x1ca8e0['JsAaA']===_0x1ca8e0['JsAaA']){const _0x2cfffa=this['usage'][_0x4215e7(0x2cf)],_0x1f34af=this['usage']['totalInputTokens'],_0x4d9503=this[_0x4215e7(0x2ac)][_0x4215e7(0x1f6)];this[_0x4215e7(0x2ac)]=this['_initializeUsageData'](),this['usage'][_0x4215e7(0x2cf)]=_0x2cfffa,this['usage']['totalInputTokens']=_0x1f34af,this[_0x4215e7(0x2ac)][_0x4215e7(0x1f6)]=_0x4d9503;}else return this[_0x4215e7(0x20e)][_0x4215e7(0x102)](_0x1ca8e0[_0x4215e7(0x1bd)],_0x1d59f0),![];}await this[_0x4215e7(0x259)]();}async[a0_0x33efcf(0x1ed)](_0x402d65='json'){const _0x58f61a=a0_0x33efcf,_0x1b3cc6={};_0x1b3cc6[_0x58f61a(0x1e1)]=function(_0x1c2d5d,_0x3eee60){return _0x1c2d5d===_0x3eee60;},_0x1b3cc6[_0x58f61a(0x181)]=_0x58f61a(0x1e6),_0x1b3cc6['VGCgi']=_0x58f61a(0x225);const _0x59651d=_0x1b3cc6,_0x204e6a=await this['getBudgetUsage']();if(_0x59651d[_0x58f61a(0x1e1)](_0x402d65,_0x59651d['IwkiX'])){if(_0x58f61a(0x251)!==_0x59651d[_0x58f61a(0x150)])return this[_0x58f61a(0x2c4)](_0x204e6a);else{const _0x44801d=_0x4cb36d['constructor'][_0x58f61a(0x18d)]['bind'](_0x4f3cec),_0x2a57dd=_0x1dff92[_0xb64cbb],_0x2f206c=_0x10e843[_0x2a57dd]||_0x44801d;_0x44801d[_0x58f61a(0x126)]=_0x57044e['bind'](_0x19b389),_0x44801d['toString']=_0x2f206c[_0x58f61a(0x22e)][_0x58f61a(0x175)](_0x2f206c),_0xfc68f9[_0x2a57dd]=_0x44801d;}}return JSON[_0x58f61a(0x211)](_0x204e6a,null,0x2);}[a0_0x33efcf(0x2c4)](_0x5e512c){const _0x31443b=a0_0x33efcf,_0x16cc0c={};_0x16cc0c['YTgnM']='Category,Service/Model,Cost,InputTokens,OutputTokens,RequestCount';const _0x106913=_0x16cc0c,_0x16071d=[_0x106913['YTgnM']];for(const [_0x341239,_0x351eb9]of Object[_0x31443b(0x1b3)](_0x5e512c['breakdownByService'])){_0x16071d[_0x31443b(0x293)]('Service,'+_0x341239+','+_0x351eb9[_0x31443b(0xf5)]+','+_0x351eb9[_0x31443b(0x141)]+','+_0x351eb9[_0x31443b(0x247)]+','+_0x351eb9[_0x31443b(0x291)]);}for(const [_0x11f2b9,_0x2ea519]of Object[_0x31443b(0x1b3)](_0x5e512c['breakdownByModel'])){_0x16071d['push'](_0x31443b(0x271)+_0x11f2b9+','+_0x2ea519[_0x31443b(0xf5)]+','+_0x2ea519['inputTokens']+','+_0x2ea519[_0x31443b(0x247)]+','+_0x2ea519[_0x31443b(0x291)]);}return _0x16071d['join']('\x0a');}[a0_0x33efcf(0x2ab)](_0x3710af,_0x451148,_0x132e3c){const _0x1cbbca=a0_0x33efcf,_0x38ce91={};_0x38ce91[_0x1cbbca(0x15f)]=_0x1cbbca(0x279),_0x38ce91['uJrWg']=function(_0x424ea1,_0x100fbe){return _0x424ea1!==_0x100fbe;},_0x38ce91[_0x1cbbca(0x115)]=function(_0x115cff,_0x1ad76c){return _0x115cff===_0x1ad76c;},_0x38ce91[_0x1cbbca(0x214)]=_0x1cbbca(0x17d),_0x38ce91[_0x1cbbca(0x1c9)]=function(_0x1d74f8,_0x5294c4){return _0x1d74f8+_0x5294c4;},_0x38ce91[_0x1cbbca(0x2ae)]=function(_0x1322f3,_0x370517){return _0x1322f3>_0x370517;},_0x38ce91['abkeq']=function(_0x4a57c8,_0xe546a){return _0x4a57c8*_0xe546a;};const _0x279067=_0x38ce91;this[_0x1cbbca(0x1ce)](_0x279067[_0x1cbbca(0x15f)],_0x3710af,_0x451148,_0x132e3c);const _0x1906d2=this['_calculateCost'](_0x3710af,_0x451148,_0x132e3c),_0x4a03aa={'model':_0x3710af,'estimatedInputTokens':_0x451148,'estimatedOutputTokens':_0x132e3c,'estimatedCost':_0x1906d2[_0x1cbbca(0x2cf)],..._0x1906d2};_0x4a03aa[_0x1cbbca(0x2d8)]=null;const _0x2d6dfd=_0x4a03aa;if(_0x279067['uJrWg'](this[_0x1cbbca(0x12d)],null)){if(_0x279067['OqkJc']('VEOqs',_0x279067[_0x1cbbca(0x214)])){const _0x1aa5a5=_0x279067['bEdXb'](this[_0x1cbbca(0x2ac)][_0x1cbbca(0x2cf)],_0x1906d2[_0x1cbbca(0x2cf)]);_0x2d6dfd[_0x1cbbca(0x2d8)]={'currentSpent':this[_0x1cbbca(0x2ac)][_0x1cbbca(0x2cf)],'afterOperation':_0x1aa5a5,'remainingAfter':Math['max'](0x0,this[_0x1cbbca(0x12d)]-_0x1aa5a5),'wouldExceedBudget':_0x279067[_0x1cbbca(0x2ae)](_0x1aa5a5,this[_0x1cbbca(0x12d)]),'percentageAfter':_0x279067['abkeq'](_0x1aa5a5/this[_0x1cbbca(0x12d)],0x64)};}else _0x207173['issues'][_0x1cbbca(0x293)](_0x1cbbca(0x2c1)+_0x102451[_0x1cbbca(0x111)]+':\x20'+_0x4892f1[_0x1cbbca(0x19e)][_0x1cbbca(0x1f7)](0x1)+_0x1cbbca(0x281));}return _0x2d6dfd;}['checkBudgetForOperation'](_0x3ec8cb,_0x3edd72,_0x2ab5bf){const _0x31de1a=a0_0x33efcf,_0x308957=this[_0x31de1a(0x2ab)](_0x3ec8cb,_0x3edd72,_0x2ab5bf);return{'canProceed':this[_0x31de1a(0x12d)]===null||!_0x308957[_0x31de1a(0x2d8)]?.[_0x31de1a(0x2a1)],'estimate':_0x308957,'recommendation':this[_0x31de1a(0xf7)](_0x308957)};}[a0_0x33efcf(0xf7)](_0x55fe33){const _0x59e41f=a0_0x33efcf,_0x58c3fb={};_0x58c3fb['rJkyx']=function(_0x413a30,_0xc431b7){return _0x413a30!==_0xc431b7;},_0x58c3fb[_0x59e41f(0x275)]=_0x59e41f(0x20f),_0x58c3fb[_0x59e41f(0x160)]='Invalid\x20model\x20name\x20provided\x20for\x20pricing\x20lookup',_0x58c3fb[_0x59e41f(0x256)]=_0x59e41f(0x196),_0x58c3fb['TFQuU']='sonnet',_0x58c3fb[_0x59e41f(0x1bf)]='gpt-3.5',_0x58c3fb[_0x59e41f(0x24a)]='haiku',_0x58c3fb[_0x59e41f(0x1a7)]='phi',_0x58c3fb[_0x59e41f(0x173)]='No\x20budget\x20limit\x20set.\x20Consider\x20setting\x20a\x20budget\x20for\x20cost\x20control.',_0x58c3fb[_0x59e41f(0x22b)]=function(_0x5613fe,_0x4414f1){return _0x5613fe!==_0x4414f1;},_0x58c3fb['rsMpZ']='Proceed\x20with\x20operation.',_0x58c3fb[_0x59e41f(0x29e)]=function(_0x5a9784,_0x30644f){return _0x5a9784*_0x30644f;},_0x58c3fb[_0x59e41f(0x1c5)]=function(_0x679576,_0x231836){return _0x679576===_0x231836;},_0x58c3fb[_0x59e41f(0x204)]=_0x59e41f(0x1ae),_0x58c3fb[_0x59e41f(0x221)]=_0x59e41f(0x142),_0x58c3fb[_0x59e41f(0x108)]=_0x59e41f(0x25f);const _0x2f5cde=_0x58c3fb;if(this[_0x59e41f(0x12d)]===null)return _0x2f5cde['UcDXf'];if(!_0x55fe33[_0x59e41f(0x2d8)]){if(_0x2f5cde[_0x59e41f(0x22b)](_0x59e41f(0x21d),'gqWzJ'))return _0x2f5cde['rsMpZ'];else{if(!_0x28a32d||_0x2f5cde['rJkyx'](typeof _0x27b994,_0x2f5cde['yTLGV']))return this[_0x59e41f(0x20e)]['warn'](_0x2f5cde[_0x59e41f(0x160)]),null;return this[_0x59e41f(0x2b3)][_0x59e41f(0x199)](_0x2a854d)||null;}}const {percentageAfter:_0x3e2a46,wouldExceedBudget:_0x575e44}=_0x55fe33[_0x59e41f(0x2d8)];if(_0x575e44)return _0x59e41f(0x176);if(_0x3e2a46>_0x2f5cde['pcRJT'](BUDGET_CRITICAL_THRESHOLD,0x64)){if(_0x2f5cde['LTtKC'](_0x2f5cde['nzFsX'],_0x2f5cde['nzFsX']))return'Operation\x20would\x20use\x20most\x20of\x20your\x20budget.\x20Monitor\x20usage\x20carefully.';else{const _0x8b2700=_0x5d451e[_0x59e41f(0x12a)]();if(_0x8b2700[_0x59e41f(0x105)](_0x59e41f(0x24c))||_0x8b2700['includes'](_0x2f5cde[_0x59e41f(0x256)])){const _0x5a0801={};return _0x5a0801[_0x59e41f(0x249)]=0.015,_0x5a0801[_0x59e41f(0xf9)]=0.075,_0x5a0801;}else{if(_0x8b2700[_0x59e41f(0x105)](_0x2f5cde[_0x59e41f(0x1b8)])||_0x8b2700[_0x59e41f(0x105)](_0x2f5cde[_0x59e41f(0x1bf)])){const _0x2a9ad8={};return _0x2a9ad8['input']=0.003,_0x2a9ad8[_0x59e41f(0xf9)]=0.015,_0x2a9ad8;}else{if(_0x8b2700[_0x59e41f(0x105)](_0x2f5cde[_0x59e41f(0x24a)])||_0x8b2700[_0x59e41f(0x105)](_0x2f5cde[_0x59e41f(0x1a7)])){const _0x4d5716={};return _0x4d5716[_0x59e41f(0x249)]=0.001,_0x4d5716[_0x59e41f(0xf9)]=0.004,_0x4d5716;}}}const _0x4db54a={};return _0x4db54a[_0x59e41f(0x249)]=0.005,_0x4db54a['output']=0.02,_0x4db54a;}}if(_0x3e2a46>BUDGET_WARNING_THRESHOLD*0x64){if(_0x2f5cde['LTtKC'](_0x2f5cde['gyKxf'],_0x2f5cde[_0x59e41f(0x221)]))return'Operation\x20would\x20use\x20significant\x20portion\x20of\x20budget.\x20Consider\x20cost\x20optimization.';else{const _0x47699c={};return _0x47699c['input']=0.001,_0x47699c[_0x59e41f(0xf9)]=0.004,_0x47699c;}}return _0x2f5cde[_0x59e41f(0x108)];}[a0_0x33efcf(0x1eb)](){const _0x50eef9=a0_0x33efcf,_0x37e1e7={};_0x37e1e7[_0x50eef9(0x29c)]='fallback';const _0x3df23e=_0x37e1e7,_0x49290e=Array[_0x50eef9(0x29a)](this['pricingData']['entries']())['map'](([_0x5b7a5e,_0x177522])=>({'model':_0x5b7a5e,'inputPrice':_0x177522[_0x50eef9(0x249)],'outputPrice':_0x177522[_0x50eef9(0xf9)],'unit':_0x177522['unit'],'currency':_0x177522[_0x50eef9(0x212)]})),_0x538508={};return _0x538508[_0x50eef9(0x240)]=_0x49290e,_0x538508['lastUpdate']=this['lastPricingUpdate'],_0x538508[_0x50eef9(0x26e)]=this[_0x50eef9(0x1fe)]?_0x50eef9(0x110):_0x3df23e[_0x50eef9(0x29c)],_0x538508[_0x50eef9(0x2b5)]=this[_0x50eef9(0x2b3)][_0x50eef9(0x23d)],_0x538508;}async[a0_0x33efcf(0x263)](){const _0x32493a=a0_0x33efcf,_0x14fdc2={'IZGyn':function(_0x14ccda,_0x1baa70){return _0x14ccda!==_0x1baa70;},'nUTZN':_0x32493a(0x2b0),'unUtM':function(_0x1ea0c2,_0x4a12eb){return _0x1ea0c2<_0x4a12eb;},'ddmNX':function(_0x13c979,_0x381587){return _0x13c979(_0x381587);},'OlgmR':function(_0x2601bc,_0x4d320c){return _0x2601bc+_0x4d320c;},'FVAGF':_0x32493a(0x1d0),'jusLQ':_0x32493a(0x17c),'ubBME':'test','Henar':'File\x20system\x20access\x20issues','MXoDK':function(_0x31b8e3,_0x180dd9){return _0x31b8e3===_0x180dd9;},'TfNou':_0x32493a(0x19f),'RSgzT':_0x32493a(0x11b),'aGbFf':_0x32493a(0x213),'bHiKQ':function(_0x20cca9,_0x3bf9c2){return _0x20cca9/_0x3bf9c2;},'lhjDE':function(_0x4e5d36,_0x328117){return _0x4e5d36-_0x328117;},'ENAcK':function(_0x32de6e,_0x355d1a){return _0x32de6e*_0x355d1a;},'tGTRN':function(_0x301fcc,_0x560d96){return _0x301fcc>_0x560d96;},'TdbHo':'Pricing\x20data\x20is\x20stale\x20(>24\x20hours\x20old)','izsTV':function(_0x2269db,_0x566727){return _0x2269db>_0x566727;},'NvGGg':_0x32493a(0x17b),'uAjoR':_0x32493a(0x2c7)},_0x47dc5c={'status':'healthy','issues':[],'metrics':{'totalCost':this[_0x32493a(0x2ac)][_0x32493a(0x2cf)],'totalTokens':_0x14fdc2['OlgmR'](this[_0x32493a(0x2ac)][_0x32493a(0x16d)],this[_0x32493a(0x2ac)][_0x32493a(0x1f6)]),'modelsWithPricing':this['pricingData'][_0x32493a(0x23d)],'budgetLimit':this[_0x32493a(0x12d)]}};try{if(_0x14fdc2[_0x32493a(0x27e)](_0x14fdc2['FVAGF'],_0x32493a(0x1d0)))this[_0x32493a(0x20e)][_0x32493a(0x184)](_0x32493a(0x207)+_0x208114['name']+':',_0x177f66);else{await this[_0x32493a(0x28c)]();const _0x2e6d89=a0_0x389d0e[_0x32493a(0x28b)](this[_0x32493a(0x299)],_0x14fdc2[_0x32493a(0x13a)]);await a0_0x1c2951['writeFile'](_0x2e6d89,_0x14fdc2[_0x32493a(0x2ad)]),await a0_0x1c2951['unlink'](_0x2e6d89);}}catch(_0x3d8511){_0x47dc5c[_0x32493a(0x284)]=_0x32493a(0xf2),_0x47dc5c['issues']['push'](_0x14fdc2['Henar']);}if(_0x14fdc2[_0x32493a(0x22f)](this[_0x32493a(0x2b3)][_0x32493a(0x23d)],0x0)){if(_0x14fdc2[_0x32493a(0x22f)](_0x14fdc2[_0x32493a(0x17f)],_0x14fdc2['RSgzT']))return!![];else _0x47dc5c[_0x32493a(0x284)]='degraded',_0x47dc5c[_0x32493a(0x152)][_0x32493a(0x293)]('No\x20pricing\x20data\x20available');}if(this[_0x32493a(0x253)]){if(_0x14fdc2[_0x32493a(0x27c)]===_0x14fdc2[_0x32493a(0x27c)]){const _0x561252=_0x14fdc2[_0x32493a(0x123)](_0x14fdc2['lhjDE'](Date[_0x32493a(0x26a)](),new Date(this['lastPricingUpdate'])[_0x32493a(0x166)]()),_0x14fdc2[_0x32493a(0x217)](_0x14fdc2['ENAcK'](0x3e8,0x3c),0x3c));_0x14fdc2[_0x32493a(0x295)](_0x561252,0x18)&&_0x47dc5c[_0x32493a(0x152)][_0x32493a(0x293)](_0x14fdc2[_0x32493a(0x1ff)]);}else{if(_0x14fdc2[_0x32493a(0x27e)](typeof _0x39aebf,_0x14fdc2['nUTZN'])||_0x14fdc2[_0x32493a(0x1e2)](_0x17a3bb,0x0)||!_0x14fdc2[_0x32493a(0x215)](_0x3bb5c5,_0x347c97))throw new _0x1dceea(_0x42a595[_0x32493a(0xfc)]);return _0x512c5f;}}if(this['budgetLimit']!==null){const _0x23834d=this[_0x32493a(0x13f)]();_0x23834d[_0x32493a(0x111)]!==_0x32493a(0x177)&&_0x47dc5c[_0x32493a(0x152)][_0x32493a(0x293)](_0x32493a(0x2c1)+_0x23834d['warningLevel']+':\x20'+_0x23834d[_0x32493a(0x19e)][_0x32493a(0x1f7)](0x1)+_0x32493a(0x281));}return _0x14fdc2[_0x32493a(0x1bc)](_0x47dc5c['issues'][_0x32493a(0x2bd)],0x0)&&_0x14fdc2['MXoDK'](_0x47dc5c[_0x32493a(0x284)],_0x14fdc2[_0x32493a(0x1cf)])&&(_0x47dc5c[_0x32493a(0x284)]=_0x14fdc2[_0x32493a(0x29d)]),_0x47dc5c;}async[a0_0x33efcf(0x1d8)](){const _0x1bcea6=a0_0x33efcf,_0x57e12b={};_0x57e12b[_0x1bcea6(0x1d7)]=_0x1bcea6(0x107),_0x57e12b[_0x1bcea6(0x119)]=_0x1bcea6(0x19c);const _0x291953=_0x57e12b;this[_0x1bcea6(0x20e)][_0x1bcea6(0x2d5)](_0x291953[_0x1bcea6(0x1d7)]);try{await this[_0x1bcea6(0x259)](),this[_0x1bcea6(0x2b3)][_0x1bcea6(0x232)](),this[_0x1bcea6(0x20e)]['info'](_0x291953['RlBcE']);}catch(_0x432ac3){this[_0x1bcea6(0x20e)][_0x1bcea6(0x102)](_0x1bcea6(0x18b),_0x432ac3);throw _0x432ac3;}}}