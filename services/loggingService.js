const a0_0x385e66=a0_0xfc3e;(function(_0x2ec5e0,_0x3d6037){const _0xe3ff59=a0_0xfc3e,_0x444f9d=_0x2ec5e0();while(!![]){try{const _0x2a485b=-parseInt(_0xe3ff59(0x19d))/0x1*(-parseInt(_0xe3ff59(0x1a1))/0x2)+parseInt(_0xe3ff59(0x1bf))/0x3+-parseInt(_0xe3ff59(0x19b))/0x4*(parseInt(_0xe3ff59(0x18b))/0x5)+-parseInt(_0xe3ff59(0x186))/0x6+parseInt(_0xe3ff59(0x1a3))/0x7*(parseInt(_0xe3ff59(0x1a0))/0x8)+-parseInt(_0xe3ff59(0x17e))/0x9+parseInt(_0xe3ff59(0x173))/0xa*(parseInt(_0xe3ff59(0x19a))/0xb);if(_0x2a485b===_0x3d6037)break;else _0x444f9d['push'](_0x444f9d['shift']());}catch(_0x4ec24d){_0x444f9d['push'](_0x444f9d['shift']());}}}(a0_0x252d,0x748c9));import a0_0xb878f3 from'winston';import a0_0x5a795e from'path';import a0_0x336fcc from'fs/promises';import a0_0x44ad07 from'ora';function a0_0xfc3e(_0x438b3a,_0x1e2c39){const _0x252d7d=a0_0x252d();return a0_0xfc3e=function(_0xfc3ea8,_0x3d5367){_0xfc3ea8=_0xfc3ea8-0x16f;let _0x5815bc=_0x252d7d[_0xfc3ea8];if(a0_0xfc3e['ZzVzEp']===undefined){var _0x1291b5=function(_0xb878f3){const _0x5a795e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x336fcc='',_0x44ad07='';for(let _0x341aa8=0x0,_0x57463d,_0x65d5f5,_0x94c8a9=0x0;_0x65d5f5=_0xb878f3['charAt'](_0x94c8a9++);~_0x65d5f5&&(_0x57463d=_0x341aa8%0x4?_0x57463d*0x40+_0x65d5f5:_0x65d5f5,_0x341aa8++%0x4)?_0x336fcc+=String['fromCharCode'](0xff&_0x57463d>>(-0x2*_0x341aa8&0x6)):0x0){_0x65d5f5=_0x5a795e['indexOf'](_0x65d5f5);}for(let _0x31f85f=0x0,_0x4189b0=_0x336fcc['length'];_0x31f85f<_0x4189b0;_0x31f85f++){_0x44ad07+='%'+('00'+_0x336fcc['charCodeAt'](_0x31f85f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x44ad07);};a0_0xfc3e['YeouVm']=_0x1291b5,_0x438b3a=arguments,a0_0xfc3e['ZzVzEp']=!![];}const _0x2d9ea3=_0x252d7d[0x0],_0x5908df=_0xfc3ea8+_0x2d9ea3,_0x5ce708=_0x438b3a[_0x5908df];return!_0x5ce708?(_0x5815bc=a0_0xfc3e['YeouVm'](_0x5815bc),_0x438b3a[_0x5908df]=_0x5815bc):_0x5815bc=_0x5ce708,_0x5815bc;},a0_0xfc3e(_0x438b3a,_0x1e2c39);}import a0_0x341aa8 from'chalk';import{outputFormatter}from'./outputFormatting.js';export class LoggingService{constructor(_0x57463d={}){const _0x4ab799=a0_0xfc3e;this[_0x4ab799(0x1ac)]={'logLevel':_0x57463d['logLevel']||_0x4ab799(0x176),'logDir':_0x57463d['logDir']||'./logs','console':_0x57463d[_0x4ab799(0x1c1)]!==undefined?_0x57463d['console']:'errors-only','file':_0x57463d['file']!==undefined?_0x57463d['file']:!![],'silent':_0x57463d[_0x4ab799(0x18c)]!==undefined?_0x57463d['silent']:![]},this['spinner']=a0_0x44ad07({'color':'cyan','spinner':'dots','interval':0x50}),this[_0x4ab799(0x180)]=![],this[_0x4ab799(0x1be)]=null,this['taskStartTime']=null;}async[a0_0x385e66(0x1b1)](){const _0x1bc44c=a0_0x385e66;if(this['options']['file'])try{await a0_0x336fcc[_0x1bc44c(0x1a7)](this[_0x1bc44c(0x1ac)]['logDir'],{'recursive':!![]});}catch(_0x4189b0){console['error']('Error\x20creating\x20log\x20directory:\x20'+_0x4189b0[_0x1bc44c(0x199)]),this['options']['file']=![];}const _0x65d5f5=a0_0xb878f3[_0x1bc44c(0x195)]['combine'](a0_0xb878f3[_0x1bc44c(0x195)]['timestamp']({'format':_0x1bc44c(0x1b3)}),a0_0xb878f3['format']['errors']({'stack':![]}),a0_0xb878f3[_0x1bc44c(0x195)]['splat'](),a0_0xb878f3[_0x1bc44c(0x195)][_0x1bc44c(0x191)]()),_0x94c8a9=a0_0xb878f3[_0x1bc44c(0x195)]['combine'](a0_0xb878f3['format'][_0x1bc44c(0x1a5)](),a0_0xb878f3['format']['timestamp']({'format':_0x1bc44c(0x183)}),a0_0xb878f3['format']['printf'](({level:_0xd9e61d,message:_0x3600de,timestamp:_0x6e976d,..._0x5a4506})=>{const _0x47c4f5=_0x1bc44c,_0x478832=Object['keys'](_0x5a4506)['length']?'\x0a'+JSON[_0x47c4f5(0x197)](_0x5a4506,null,0x2):'';return _0x6e976d+'\x20'+_0xd9e61d+':\x20'+_0x3600de+_0x478832;})),_0x31f85f=[];if(this[_0x1bc44c(0x1ac)]['console']&&!this['options']['silent']){let _0x2bf724=this['options'][_0x1bc44c(0x1b7)];this['options'][_0x1bc44c(0x1c1)]==='errors-only'&&(_0x2bf724=_0x1bc44c(0x185)),_0x31f85f['push'](new a0_0xb878f3[(_0x1bc44c(0x1a8))][(_0x1bc44c(0x196))]({'format':_0x94c8a9,'level':_0x2bf724,'silent':this['options']['silent']}));}if(this[_0x1bc44c(0x1ac)]['file']){const _0x4c5d74=a0_0x5a795e['join'](this['options'][_0x1bc44c(0x175)],_0x1bc44c(0x1af)),_0x2df655=a0_0x5a795e[_0x1bc44c(0x1a9)](this[_0x1bc44c(0x1ac)][_0x1bc44c(0x175)],'error.log');_0x31f85f['push'](new a0_0xb878f3['transports']['File']({'filename':_0x4c5d74,'format':_0x65d5f5,'level':this[_0x1bc44c(0x1ac)][_0x1bc44c(0x1b7)],'maxsize':0x500000,'maxFiles':0x5}),new a0_0xb878f3['transports'][(_0x1bc44c(0x16f))]({'filename':_0x2df655,'format':_0x65d5f5,'level':_0x1bc44c(0x185),'maxsize':0x500000,'maxFiles':0x5}));}this[_0x1bc44c(0x17c)]=a0_0xb878f3['createLogger']({'level':this[_0x1bc44c(0x1ac)]['logLevel'],'levels':a0_0xb878f3[_0x1bc44c(0x17f)][_0x1bc44c(0x172)][_0x1bc44c(0x18f)],'format':_0x65d5f5,'transports':_0x31f85f}),this['logger']['on']('error',_0x4ecde0=>{const _0x4afeba=_0x1bc44c;console[_0x4afeba(0x185)](_0x4afeba(0x171),_0x4ecde0);});}[a0_0x385e66(0x176)](_0x1a3b8a,_0x484dc2,_0xb65cb8=![]){const _0x347a6a=a0_0x385e66;this['logger']['info'](_0x1a3b8a,_0x484dc2);const _0x38fe97=_0xb65cb8||this[_0x347a6a(0x1ac)][_0x347a6a(0x1c1)]===!![]||this[_0x347a6a(0x1ac)][_0x347a6a(0x1c1)]==='errors-only'&&_0xb65cb8;if(this['spinnerActive']&&_0x38fe97&&!this['options']['silent'])this[_0x347a6a(0x182)]['text']=_0x1a3b8a;else _0x38fe97&&!this['options']['silent']&&(this['stopSpinner'](),console[_0x347a6a(0x177)](a0_0x341aa8[_0x347a6a(0x1b9)](outputFormatter['symbols'][_0x347a6a(0x176)]),a0_0x341aa8['cyan'](_0x1a3b8a)));}[a0_0x385e66(0x185)](_0x1cecb2,_0x17f305,_0x25fc24=![]){const _0x5009ac=a0_0x385e66;this[_0x5009ac(0x178)](),this['logger']['error'](_0x1cecb2,_0x17f305);if(!this['options'][_0x5009ac(0x18c)]){console[_0x5009ac(0x185)](a0_0x341aa8[_0x5009ac(0x1a6)](outputFormatter[_0x5009ac(0x194)]['error']),a0_0x341aa8['red']['bold'](_0x1cecb2));if(_0x17f305 instanceof Error)console[_0x5009ac(0x185)](a0_0x341aa8['red']('\x20\x20\x20'+_0x17f305['message'])),_0x17f305['stack']&&_0x25fc24&&console[_0x5009ac(0x185)](a0_0x341aa8[_0x5009ac(0x1c3)](_0x5009ac(0x193)+_0x17f305[_0x5009ac(0x1ad)]['split']('\x0a')[_0x5009ac(0x17a)](0x1)['join']('\x0a\x20\x20\x20')));else _0x17f305&&console[_0x5009ac(0x185)](a0_0x341aa8[_0x5009ac(0x1a6)]('\x20\x20\x20'+JSON[_0x5009ac(0x197)](_0x17f305)));}}[a0_0x385e66(0x18d)](_0x50a8db,_0x17f3f1){const _0x34a8a0=a0_0x385e66;this[_0x34a8a0(0x178)](),this['logger']['warn'](_0x50a8db,_0x17f3f1),this['options']['console']===!![]&&!this[_0x34a8a0(0x1ac)]['silent']&&console[_0x34a8a0(0x18d)](a0_0x341aa8[_0x34a8a0(0x19f)](outputFormatter['symbols'][_0x34a8a0(0x1bc)]),a0_0x341aa8[_0x34a8a0(0x19f)](_0x50a8db));}[a0_0x385e66(0x198)](_0x5ddcc2,_0x17619f){const _0x36838b=a0_0x385e66;this['logger']['debug'](_0x5ddcc2,_0x17619f),this[_0x36838b(0x1ac)][_0x36838b(0x1b7)]===_0x36838b(0x198)&&this['options']['console']===!![]&&!this[_0x36838b(0x1ac)][_0x36838b(0x18c)]&&(this[_0x36838b(0x178)](),console['debug'](a0_0x341aa8[_0x36838b(0x179)](outputFormatter['symbols'][_0x36838b(0x1b0)]),a0_0x341aa8['blue'](_0x36838b(0x18a)+_0x5ddcc2)));}[a0_0x385e66(0x1bd)](_0x5cc8e1,_0x2f5191){this['logger']['verbose'](_0x5cc8e1,_0x2f5191);}['startTask'](_0x5127a8,_0x4de062=''){const _0x2a3d9f=a0_0x385e66;this['currentTask']=_0x5127a8,this[_0x2a3d9f(0x1aa)]=Date[_0x2a3d9f(0x1c4)](),this['logger'][_0x2a3d9f(0x176)]('Starting\x20task:\x20'+_0x5127a8+'\x0a'+_0x4de062),!this['options']['silent']&&(this[_0x2a3d9f(0x178)](),this[_0x2a3d9f(0x1ac)]['console']===!![]&&console[_0x2a3d9f(0x177)](outputFormatter[_0x2a3d9f(0x19e)](_0x5127a8,_0x2a3d9f(0x1ae),_0x4de062)));}[a0_0x385e66(0x1c0)](_0x1b7718,_0xda7153=!![],_0x102668={}){const _0x2f9f22=a0_0x385e66,_0x2c13ba=_0xda7153?_0x2f9f22(0x17d):'error',_0x201d35=this[_0x2f9f22(0x1aa)]?Date[_0x2f9f22(0x1c4)]()-this['taskStartTime']:null;this[_0x2f9f22(0x17c)][_0x2f9f22(0x176)]('Completed\x20task:\x20'+_0x1b7718,{'status':_0x2c13ba,'duration':_0x201d35,..._0x102668});if(!this['options'][_0x2f9f22(0x18c)]){this['stopSpinner']();const _0x3f6efb={..._0x102668,'duration':_0x201d35},_0x4120c3=this['options'][_0x2f9f22(0x1c1)]===!![]||this[_0x2f9f22(0x1ac)][_0x2f9f22(0x1c1)]==='errors-only'&&!_0xda7153;_0x4120c3&&(_0xda7153?console[_0x2f9f22(0x177)](outputFormatter['formatTaskStatus'](_0x1b7718,'completed','Completed\x20in\x20'+outputFormatter['formatDuration'](_0x201d35))):console[_0x2f9f22(0x177)](outputFormatter[_0x2f9f22(0x19e)](_0x1b7718,_0x2f9f22(0x1b8),_0x102668[_0x2f9f22(0x185)]||'Task\x20failed')));}this['currentTask']=null,this['taskStartTime']=null;}[a0_0x385e66(0x1a2)](_0x595968,_0x5db15b,_0x36da94,_0x421127={}){const _0x54e470=a0_0x385e66;this[_0x54e470(0x17c)]['info']('Tool\x20operation:\x20'+_0x595968+'\x20'+_0x5db15b,{'toolName':_0x595968,'operation':_0x5db15b,'status':_0x36da94,'details':_0x421127}),!this[_0x54e470(0x1ac)]['silent']&&this['options']['console']===!![]&&(this['stopSpinner'](),console[_0x54e470(0x177)](outputFormatter['formatToolOperation'](_0x595968,_0x5db15b,_0x36da94,_0x421127)));}[a0_0x385e66(0x188)](_0x332923,_0x5cfd44,_0x175484,_0x1ef035={}){const _0x447744=a0_0x385e66;this['logger']['info'](_0x447744(0x1ab)+_0x332923+'\x20'+_0x5cfd44,{'operation':_0x332923,'filePath':_0x5cfd44,'status':_0x175484,'details':_0x1ef035}),!this[_0x447744(0x1ac)][_0x447744(0x18c)]&&this['options']['console']===!![]&&(this['stopSpinner'](),console[_0x447744(0x177)](outputFormatter['formatFileOperation'](_0x332923,_0x5cfd44,_0x175484,_0x1ef035)));}[a0_0x385e66(0x189)](_0x1d0417){const _0x55094d=a0_0x385e66;if(this[_0x55094d(0x1ac)]['silent'])return this['spinner'];return this['stopSpinner'](),this['spinner'][_0x55094d(0x19c)]=_0x1d0417,this['spinner'][_0x55094d(0x1b5)](),this['spinnerActive']=!![],this[_0x55094d(0x182)];}[a0_0x385e66(0x187)](_0x1cb1b7){const _0x589cd7=a0_0x385e66;if(this[_0x589cd7(0x1ac)][_0x589cd7(0x18c)])return;this[_0x589cd7(0x180)]?this[_0x589cd7(0x182)][_0x589cd7(0x19c)]=_0x1cb1b7:this['startSpinner'](_0x1cb1b7);}[a0_0x385e66(0x181)](_0x192de5,_0x49176b){const _0x487d8e=a0_0x385e66;if(this['options']['silent'])return;this[_0x487d8e(0x178)](),this['options']['console']===!![]&&console[_0x487d8e(0x177)](outputFormatter['formatProgress'](this['currentTask']||'Task',_0x49176b,_0x192de5)),this['startSpinner'](Math[_0x487d8e(0x1a4)](_0x49176b)+_0x487d8e(0x18e));}['stopSpinner'](){const _0x1e7703=a0_0x385e66;this['spinnerActive']&&(this[_0x1e7703(0x182)]['stop'](),this[_0x1e7703(0x180)]=![]);}['succeedSpinner'](_0x740660){const _0x13ffef=a0_0x385e66;if(this['options']['silent'])return;this[_0x13ffef(0x180)]&&(this['spinner'][_0x13ffef(0x1b2)](_0x740660),this[_0x13ffef(0x180)]=![]);}[a0_0x385e66(0x1c2)](_0x254c03){const _0x152197=a0_0x385e66;if(this['options']['silent'])return;this[_0x152197(0x180)]&&(this[_0x152197(0x182)]['fail'](_0x254c03),this['spinnerActive']=![]);}[a0_0x385e66(0x1b6)](){const _0x4fc205=a0_0x385e66;if(this[_0x4fc205(0x1ac)]['silent'])return;console['log'](outputFormatter[_0x4fc205(0x1b4)]());}[a0_0x385e66(0x1bb)](_0x1d0801){const _0x119f1c=a0_0x385e66;if(this['options']['silent'])return;console['log'](outputFormatter[_0x119f1c(0x184)](_0x1d0801));}[a0_0x385e66(0x192)](_0x10514f){const _0x42f51d=a0_0x385e66,_0x4ed855=new LoggingService(this['options']);return _0x4ed855[_0x42f51d(0x17c)]=this['logger']['child'](_0x10514f),_0x4ed855;}['setLevel'](_0x20e515){const _0xa3241c=a0_0x385e66;this[_0xa3241c(0x17c)][_0xa3241c(0x17b)]=_0x20e515,this['options']['logLevel']=_0x20e515,this[_0xa3241c(0x17c)]['transports']['forEach'](_0x3095fd=>{_0x3095fd['name']!=='console'&&(_0x3095fd['level']=_0x20e515);});}['setConsoleMode'](_0x1a2f1d){const _0x3592e4=a0_0x385e66;this['options'][_0x3592e4(0x1c1)]=_0x1a2f1d,this['logger']['transports']['forEach'](_0x526cca=>{const _0x7c8548=_0x3592e4;if(_0x526cca['name']==='console'){if(_0x1a2f1d===_0x7c8548(0x1ba))_0x526cca[_0x7c8548(0x17b)]=_0x7c8548(0x185);else{if(_0x1a2f1d===!![])_0x526cca['level']=this[_0x7c8548(0x1ac)][_0x7c8548(0x1b7)];else _0x1a2f1d===![]&&(_0x526cca['silent']=!![]);}}});}[a0_0x385e66(0x190)](_0x27f523,_0x43cec4=a0_0x385e66(0x176)){const _0x509811=a0_0x385e66;this['logger'][_0x43cec4](_0x27f523);if(!this[_0x509811(0x1ac)]['silent']){this[_0x509811(0x178)]();switch(_0x43cec4){case _0x509811(0x185):console[_0x509811(0x185)](a0_0x341aa8['red'](outputFormatter['symbols']['error']),a0_0x341aa8[_0x509811(0x1a6)]['bold'](_0x27f523));break;case'warn':console[_0x509811(0x18d)](a0_0x341aa8['yellow'](outputFormatter['symbols'][_0x509811(0x1bc)]),a0_0x341aa8['yellow'](_0x27f523));break;default:console['log'](a0_0x341aa8[_0x509811(0x1b9)](outputFormatter['symbols'][_0x509811(0x176)]),a0_0x341aa8[_0x509811(0x1b9)](_0x27f523));break;}}}[a0_0x385e66(0x174)](){const _0x3fde5f=a0_0x385e66;return{...this['options'],'currentTask':this[_0x3fde5f(0x1be)],'spinnerActive':this['spinnerActive']};}[a0_0x385e66(0x170)](_0x5a0621){const _0x119a69=a0_0x385e66;if(this[_0x119a69(0x1ac)][_0x119a69(0x18c)]||!this['options']['console'])return![];if(this['options'][_0x119a69(0x1c1)]==='errors-only')return _0x5a0621==='error';return!![];}}function a0_0x252d(){const _0x163cea=['zMfPBgvK','y3LHBG','zxjYB3jZlw9UBhK','zgLZCgXHEuHLBha','D2fYBMLUzW','DMvYyM9Zzq','y3vYCMvUDfrHC2S','mty5mJqXnfzOCKTAAa','y29TCgXLDgvuyxnR','y29UC29Szq','zMfPBfnWAw5Uzxi','z3jHEq','BM93','rMLSzq','AxndB25ZB2XLrw5HyMXLza','tg9Nz2vYigvYCM9YoG','BNbT','ndaWnZbQBfrYAee','z2v0q29UzMLN','Bg9NrgLY','Aw5MBW','Bg9N','C3rVCfnWAw5Uzxi','yMX1zq','C2XPy2u','Bgv2zwW','Bg9Nz2vY','C3vJy2vZCW','ntK5mtGWnfretw5Mza','y29UzMLN','C3bPBM5LCKfJDgL2zq','DxbKyxrLuhjVz3jLC3m','C3bPBM5LCG','seG6Bw06C3m','zM9YBwf0sgvSCa','zxjYB3i','mtm1ndu0oeDhrKjOCq','DxbKyxrLu3bPBM5LCG','zMLSzu9WzxjHDgLVBG','C3rHCNrtCgLUBMvY','revcvuC6ia','mZC1mZq0mfL6zLvjwq','C2LSzw50','D2fYBG','jsbJB21WBgv0zs4UlG','Bgv2zwXZ','zM9Yy2vdB25ZB2XL','ANnVBG','y2HPBgq','icaG','C3LTyM9SCW','zM9YBwf0','q29UC29Szq','C3rYAw5NAwz5','zgvIDwC','BwvZC2fNzq','mtaYm3nmtgv3uW','nhPcEgzQCq','Dgv4Da','m29Qte5pzq','zM9YBwf0vgfZA1n0yxr1CW','EwvSBg93','nZq2mZGZmMX6zhnwqq','mty2ntq2EhbXyu5M','Dg9VBe9WzxjHDgLVBG','n0LnwhLKsW','zMXVB3i','y29SB3jPEMu','CMvK','BwTKAxi','DhjHBNnWB3j0CW','AM9PBG','DgfZA1n0yxj0vgLTzq','rMLSzsbVCgvYyxrPB246ia','B3b0Aw9UCW','C3rHy2S','ChjVy2vZC2LUzW','Bg94AweUBg9N','yNvSBgv0','Aw5PDeXVz2DLCG','C3vJy2vLza','wvLzws1nts1ercbisdPTBtPZCW','zM9YBwf0v2vSy29Tzq','C3rHCNq','zgLZCgXHEvDLBgnVBwu','Bg9Ntgv2zwW'];a0_0x252d=function(){return _0x163cea;};return a0_0x252d();}export default LoggingService;