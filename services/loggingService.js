const a0_0x5e5870=a0_0xca81;(function(_0x707d91,_0xc6ef4e){const _0x3d5687=a0_0xca81,_0x2ecf2e=_0x707d91();while(!![]){try{const _0x276853=parseInt(_0x3d5687(0x20f))/0x1+-parseInt(_0x3d5687(0x203))/0x2+-parseInt(_0x3d5687(0x225))/0x3+parseInt(_0x3d5687(0x1f5))/0x4+parseInt(_0x3d5687(0x216))/0x5*(-parseInt(_0x3d5687(0x1e9))/0x6)+-parseInt(_0x3d5687(0x215))/0x7*(-parseInt(_0x3d5687(0x1f1))/0x8)+parseInt(_0x3d5687(0x21a))/0x9;if(_0x276853===_0xc6ef4e)break;else _0x2ecf2e['push'](_0x2ecf2e['shift']());}catch(_0x226fd9){_0x2ecf2e['push'](_0x2ecf2e['shift']());}}}(a0_0x50a4,0x3bfe5));function a0_0x50a4(){const _0x3d6e3b=['ote4mZKZm1Pcz0PACW','zxjYB3i','DgfZA1n0yxj0vgLTzq','Bgv2zwW','icaG','C3bPBM5LCG','C3bPBM5LCKfJDgL2zq','C3rVCa','zgLZCgXHEvDLBgnVBwu','zgvIDwC','y29UzMLN','mte1mtu3muPxy1DKrG','Bg9NrgLY','zM9YBwf0vg9VBe9WzxjHDgLVBG','C3rHy2S','Bg9Nz2vY','ANnVBG','EwvSBg93','BMfTzq','q29UC29Szq','Dgv4Da','BwvZC2fNzq','zM9YBwf0v2vSy29Tzq','nZyYmdmWs0fJwKrf','A2v5CW','zM9YrwfJAa','Bg9N','C2v0q29UC29Szu1Vzgu','Aw5MBW','BwTKAxi','C2LSzw50','mtK1nZzlvNbLy0W','C3rVCfnWAw5Uzxi','yMX1zq','D2fYBG','nZi3mtjYwvjUt2e','zxjYB3jZlw9UBhK','y3LHBG','vgfZAYbMywLSzwq','zMLSzq','ChjVy2vZC2LUzW','C3rHCNrtCgLUBMvY','rMLSzq','C3LTyM9SCW','C3bSAxq','y29UC29Szq','C3rYAw5NAwz5','rMLSzsbVCgvYyxrPB246ia','DhjHBNnWB3j0CW','nJKZndy4sePbAKvU','B3b0Aw9UCW','y3vYCMvUDfrHC2S','C3bSyxq','AM9PBG','Bgv2zwXZ','seG6Bw06C3m','wvLzws1nts1ercbisdPTBtPZCW','zM9YBwf0','y29TyMLUzq','vgfZAW','z3jHEq','mti1ndeXvwr1Aw5w','D2fYBMLUzW','CMvK','q29TCgXLDgvKihrHC2S6ia','zxjYB3jZ','Bg9Ntgv2zwW','ntuZuNDvDwz0','mtv1v1bzDeG','DgLTzxn0yw1W','yNvSBgv0','DxbKyxrLuhjVz3jLC3m'];a0_0x50a4=function(){return _0x3d6e3b;};return a0_0x50a4();}import a0_0x13fa49 from'winston';import a0_0x10101d from'path';import a0_0x49ca58 from'fs/promises';import a0_0x1b5e2c from'ora';import a0_0x50c59a from'chalk';import{outputFormatter}from'./outputFormatting.js';function a0_0xca81(_0x595fed,_0x2095c4){const _0x50a43c=a0_0x50a4();return a0_0xca81=function(_0xca8112,_0x2d6ba3){_0xca8112=_0xca8112-0x1e1;let _0x4755c4=_0x50a43c[_0xca8112];if(a0_0xca81['hdwvxO']===undefined){var _0x3725a9=function(_0x13fa49){const _0x10101d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x49ca58='',_0x1b5e2c='';for(let _0x50c59a=0x0,_0x50adb1,_0x577036,_0x879bfa=0x0;_0x577036=_0x13fa49['charAt'](_0x879bfa++);~_0x577036&&(_0x50adb1=_0x50c59a%0x4?_0x50adb1*0x40+_0x577036:_0x577036,_0x50c59a++%0x4)?_0x49ca58+=String['fromCharCode'](0xff&_0x50adb1>>(-0x2*_0x50c59a&0x6)):0x0){_0x577036=_0x10101d['indexOf'](_0x577036);}for(let _0x156d0c=0x0,_0x4f8db3=_0x49ca58['length'];_0x156d0c<_0x4f8db3;_0x156d0c++){_0x1b5e2c+='%'+('00'+_0x49ca58['charCodeAt'](_0x156d0c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1b5e2c);};a0_0xca81['CwjTcI']=_0x3725a9,_0x595fed=arguments,a0_0xca81['hdwvxO']=!![];}const _0x1bc735=_0x50a43c[0x0],_0x4b2c5e=_0xca8112+_0x1bc735,_0x24f368=_0x595fed[_0x4b2c5e];return!_0x24f368?(_0x4755c4=a0_0xca81['CwjTcI'](_0x4755c4),_0x595fed[_0x4b2c5e]=_0x4755c4):_0x4755c4=_0x24f368,_0x4755c4;},a0_0xca81(_0x595fed,_0x2095c4);}export class LoggingService{constructor(_0x50adb1={}){const _0x3d3fd5=a0_0xca81;this['options']={'logLevel':_0x50adb1['logLevel']||'info','logDir':_0x50adb1[_0x3d3fd5(0x226)]||'./logs','console':_0x50adb1['console']!==undefined?_0x50adb1['console']:'errors-only','file':_0x50adb1['file']!==undefined?_0x50adb1['file']:!![],'silent':_0x50adb1[_0x3d3fd5(0x1f0)]!==undefined?_0x50adb1[_0x3d3fd5(0x1f0)]:![]},this[_0x3d3fd5(0x21f)]=a0_0x1b5e2c({'color':_0x3d3fd5(0x1f7),'spinner':'dots','interval':0x50}),this['spinnerActive']=![],this[_0x3d3fd5(0x205)]=null,this[_0x3d3fd5(0x21c)]=null;}async['initLogger'](){const _0x4b761b=a0_0xca81;if(this['options'][_0x4b761b(0x1f9)])try{await a0_0x49ca58[_0x4b761b(0x1ef)](this[_0x4b761b(0x204)]['logDir'],{'recursive':!![]});}catch(_0x4f8db3){console['error']('Error\x20creating\x20log\x20directory:\x20'+_0x4f8db3[_0x4b761b(0x1e7)]),this['options'][_0x4b761b(0x1f9)]=![];}const _0x577036=a0_0x13fa49[_0x4b761b(0x20b)]['combine'](a0_0x13fa49['format'][_0x4b761b(0x217)]({'format':_0x4b761b(0x20a)}),a0_0x13fa49['format'][_0x4b761b(0x213)]({'stack':![]}),a0_0x13fa49[_0x4b761b(0x20b)][_0x4b761b(0x206)](),a0_0x13fa49['format'][_0x4b761b(0x1e2)]()),_0x879bfa=a0_0x13fa49[_0x4b761b(0x20b)][_0x4b761b(0x20c)](a0_0x13fa49[_0x4b761b(0x20b)]['colorize'](),a0_0x13fa49['format']['timestamp']({'format':_0x4b761b(0x209)}),a0_0x13fa49[_0x4b761b(0x20b)]['printf'](({level:_0x5d5968,message:_0x50abc9,timestamp:_0x489af5,..._0x522413})=>{const _0x32c3bf=_0x4b761b,_0x49f1cf=Object[_0x32c3bf(0x1ea)](_0x522413)['length']?'\x0a'+JSON[_0x32c3bf(0x200)](_0x522413,null,0x2):'';return _0x489af5+'\x20'+_0x5d5968+':\x20'+_0x50abc9+_0x49f1cf;})),_0x156d0c=[];if(this[_0x4b761b(0x204)][_0x4b761b(0x1ff)]&&!this[_0x4b761b(0x204)][_0x4b761b(0x1f0)]){let _0x2ccd28=this[_0x4b761b(0x204)][_0x4b761b(0x214)];this[_0x4b761b(0x204)]['console']==='errors-only'&&(_0x2ccd28=_0x4b761b(0x21b)),_0x156d0c['push'](new a0_0x13fa49[(_0x4b761b(0x202))][(_0x4b761b(0x1e5))]({'format':_0x879bfa,'level':_0x2ccd28,'silent':this['options']['silent']}));}if(this[_0x4b761b(0x204)][_0x4b761b(0x1f9)]){const _0x2c035d=a0_0x10101d[_0x4b761b(0x207)](this[_0x4b761b(0x204)]['logDir'],'loxia.log'),_0x34662d=a0_0x10101d[_0x4b761b(0x207)](this[_0x4b761b(0x204)]['logDir'],'error.log');_0x156d0c['push'](new a0_0x13fa49['transports']['File']({'filename':_0x2c035d,'format':_0x577036,'level':this['options'][_0x4b761b(0x214)],'maxsize':0x500000,'maxFiles':0x5}),new a0_0x13fa49['transports'][(_0x4b761b(0x1fc))]({'filename':_0x34662d,'format':_0x577036,'level':_0x4b761b(0x21b),'maxsize':0x500000,'maxFiles':0x5}));}this['logger']=a0_0x13fa49['createLogger']({'level':this['options'][_0x4b761b(0x214)],'levels':a0_0x13fa49[_0x4b761b(0x224)]['npm'][_0x4b761b(0x208)],'format':_0x577036,'transports':_0x156d0c}),this[_0x4b761b(0x1e1)]['on'](_0x4b761b(0x21b),_0x50349d=>{console['error']('Logger\x20error:',_0x50349d);});}[a0_0x5e5870(0x1ee)](_0xd6e2e6,_0x2dad6f,_0x936a18=![]){const _0x24dca6=a0_0x5e5870;this['logger']['info'](_0xd6e2e6,_0x2dad6f);const _0xf38a94=_0x936a18||this['options']['console']===!![]||this[_0x24dca6(0x204)][_0x24dca6(0x1ff)]==='errors-only'&&_0x936a18;if(this[_0x24dca6(0x220)]&&_0xf38a94&&!this['options'][_0x24dca6(0x1f0)])this['spinner']['text']=_0xd6e2e6;else _0xf38a94&&!this['options']['silent']&&(this['stopSpinner'](),console['log'](a0_0x50c59a[_0x24dca6(0x1f7)](outputFormatter['symbols']['info']),a0_0x50c59a['cyan'](_0xd6e2e6)));}['error'](_0x3793c9,_0x3c1b39,_0x226f4a=![]){const _0xdabe19=a0_0x5e5870;this[_0xdabe19(0x1f2)](),this[_0xdabe19(0x1e1)][_0xdabe19(0x21b)](_0x3793c9,_0x3c1b39);if(!this['options']['silent']){console[_0xdabe19(0x21b)](a0_0x50c59a['red'](outputFormatter[_0xdabe19(0x1fd)]['error']),a0_0x50c59a['red']['bold'](_0x3793c9));if(_0x3c1b39 instanceof Error)console['error'](a0_0x50c59a['red']('\x20\x20\x20'+_0x3c1b39[_0xdabe19(0x1e7)])),_0x3c1b39[_0xdabe19(0x228)]&&_0x226f4a&&console['error'](a0_0x50c59a[_0xdabe19(0x20e)](_0xdabe19(0x21e)+_0x3c1b39[_0xdabe19(0x228)][_0xdabe19(0x1fe)]('\x0a')['slice'](0x1)[_0xdabe19(0x207)]('\x0a\x20\x20\x20')));else _0x3c1b39&&console['error'](a0_0x50c59a[_0xdabe19(0x211)](_0xdabe19(0x21e)+JSON[_0xdabe19(0x200)](_0x3c1b39)));}}[a0_0x5e5870(0x1f4)](_0x1e6d44,_0x15b58f){const _0xe85a5=a0_0x5e5870;this['stopSpinner'](),this[_0xe85a5(0x1e1)][_0xe85a5(0x1f4)](_0x1e6d44,_0x15b58f),this['options'][_0xe85a5(0x1ff)]===!![]&&!this[_0xe85a5(0x204)][_0xe85a5(0x1f0)]&&console['warn'](a0_0x50c59a[_0xe85a5(0x1e3)](outputFormatter[_0xe85a5(0x1fd)][_0xe85a5(0x210)]),a0_0x50c59a[_0xe85a5(0x1e3)](_0x1e6d44));}['debug'](_0xf45346,_0x466362){const _0x14b0b5=a0_0x5e5870;this['logger']['debug'](_0xf45346,_0x466362),this['options'][_0x14b0b5(0x214)]===_0x14b0b5(0x223)&&this['options']['console']===!![]&&!this[_0x14b0b5(0x204)][_0x14b0b5(0x1f0)]&&(this[_0x14b0b5(0x1f2)](),console[_0x14b0b5(0x223)](a0_0x50c59a[_0x14b0b5(0x1f3)](outputFormatter['symbols'][_0x14b0b5(0x218)]),a0_0x50c59a['blue']('DEBUG:\x20'+_0xf45346)));}['verbose'](_0x286b37,_0x9598ad){this['logger']['verbose'](_0x286b37,_0x9598ad);}['startTask'](_0x4d2081,_0x6ed6a7=''){const _0x58469c=a0_0x5e5870;this[_0x58469c(0x205)]=_0x4d2081,this[_0x58469c(0x21c)]=Date['now'](),this['logger']['info']('Starting\x20task:\x20'+_0x4d2081+'\x0a'+_0x6ed6a7),!this[_0x58469c(0x204)]['silent']&&(this['stopSpinner'](),this[_0x58469c(0x204)][_0x58469c(0x1ff)]===!![]&&console[_0x58469c(0x1ec)](outputFormatter['formatTaskStatus'](_0x4d2081,_0x58469c(0x1fa),_0x6ed6a7)));}['completeTask'](_0x333a83,_0x165f99=!![],_0x3de160={}){const _0x327dcf=a0_0x5e5870,_0x54c33b=_0x165f99?'success':'error',_0x5f0774=this[_0x327dcf(0x21c)]?Date['now']()-this[_0x327dcf(0x21c)]:null;this['logger'][_0x327dcf(0x1ee)](_0x327dcf(0x212)+_0x333a83,{'status':_0x54c33b,'duration':_0x5f0774,..._0x3de160});if(!this['options'][_0x327dcf(0x1f0)]){this['stopSpinner']();const _0x867e41={..._0x3de160,'duration':_0x5f0774},_0x3f21f6=this[_0x327dcf(0x204)][_0x327dcf(0x1ff)]===!![]||this[_0x327dcf(0x204)][_0x327dcf(0x1ff)]==='errors-only'&&!_0x165f99;_0x3f21f6&&(_0x165f99?console[_0x327dcf(0x1ec)](outputFormatter['formatTaskStatus'](_0x333a83,'completed','Completed\x20in\x20'+outputFormatter['formatDuration'](_0x5f0774))):console[_0x327dcf(0x1ec)](outputFormatter['formatTaskStatus'](_0x333a83,'failed',_0x3de160['error']||_0x327dcf(0x1f8))));}this[_0x327dcf(0x205)]=null,this[_0x327dcf(0x21c)]=null;}['toolOperation'](_0x372cdf,_0x436254,_0x291ded,_0x3fedbb={}){const _0x52c406=a0_0x5e5870;this[_0x52c406(0x1e1)]['info']('Tool\x20operation:\x20'+_0x372cdf+'\x20'+_0x436254,{'toolName':_0x372cdf,'operation':_0x436254,'status':_0x291ded,'details':_0x3fedbb}),!this[_0x52c406(0x204)][_0x52c406(0x1f0)]&&this[_0x52c406(0x204)]['console']===!![]&&(this['stopSpinner'](),console['log'](outputFormatter[_0x52c406(0x227)](_0x372cdf,_0x436254,_0x291ded,_0x3fedbb)));}['fileOperation'](_0xb27ac4,_0x14c754,_0x3ed1e9,_0x49bb7b={}){const _0x4b6068=a0_0x5e5870;this['logger']['info'](_0x4b6068(0x201)+_0xb27ac4+'\x20'+_0x14c754,{'operation':_0xb27ac4,'filePath':_0x14c754,'status':_0x3ed1e9,'details':_0x49bb7b}),!this['options']['silent']&&this[_0x4b6068(0x204)][_0x4b6068(0x1ff)]===!![]&&(this[_0x4b6068(0x1f2)](),console['log'](outputFormatter['formatFileOperation'](_0xb27ac4,_0x14c754,_0x3ed1e9,_0x49bb7b)));}['startSpinner'](_0x38ad2e){const _0x1db18f=a0_0x5e5870;if(this['options'][_0x1db18f(0x1f0)])return this['spinner'];return this['stopSpinner'](),this[_0x1db18f(0x21f)][_0x1db18f(0x1e6)]=_0x38ad2e,this[_0x1db18f(0x21f)]['start'](),this['spinnerActive']=!![],this[_0x1db18f(0x21f)];}['updateSpinner'](_0x45d509){const _0x31ff2e=a0_0x5e5870;if(this[_0x31ff2e(0x204)]['silent'])return;this[_0x31ff2e(0x220)]?this[_0x31ff2e(0x21f)][_0x31ff2e(0x1e6)]=_0x45d509:this[_0x31ff2e(0x1fb)](_0x45d509);}[a0_0x5e5870(0x219)](_0x2abccf,_0x7b88c4){const _0x59c4cf=a0_0x5e5870;if(this['options']['silent'])return;this['stopSpinner'](),this['options'][_0x59c4cf(0x1ff)]===!![]&&console[_0x59c4cf(0x1ec)](outputFormatter['formatProgress'](this['currentTask']||_0x59c4cf(0x20d),_0x7b88c4,_0x2abccf)),this['startSpinner'](Math['floor'](_0x7b88c4)+'%\x20complete...');}['stopSpinner'](){const _0xb6ca1b=a0_0x5e5870;this[_0xb6ca1b(0x220)]&&(this[_0xb6ca1b(0x21f)][_0xb6ca1b(0x221)](),this[_0xb6ca1b(0x220)]=![]);}['succeedSpinner'](_0x256331){const _0x5b35c6=a0_0x5e5870;if(this[_0x5b35c6(0x204)][_0x5b35c6(0x1f0)])return;this['spinnerActive']&&(this[_0x5b35c6(0x21f)]['succeed'](_0x256331),this['spinnerActive']=![]);}['failSpinner'](_0x51d989){const _0x14fac6=a0_0x5e5870;if(this['options'][_0x14fac6(0x1f0)])return;this['spinnerActive']&&(this[_0x14fac6(0x21f)]['fail'](_0x51d989),this['spinnerActive']=![]);}[a0_0x5e5870(0x222)](){const _0x32c92f=a0_0x5e5870;if(this['options'][_0x32c92f(0x1f0)])return;console[_0x32c92f(0x1ec)](outputFormatter[_0x32c92f(0x1e8)]());}['displayHelp'](_0x3c758e){const _0x97c270=a0_0x5e5870;if(this[_0x97c270(0x204)]['silent'])return;console['log'](outputFormatter['formatHelp'](_0x3c758e));}['child'](_0x2ba2fc){const _0x2c38dc=new LoggingService(this['options']);return _0x2c38dc['logger']=this['logger']['child'](_0x2ba2fc),_0x2c38dc;}['setLevel'](_0x1921bb){const _0x5d8001=a0_0x5e5870;this['logger'][_0x5d8001(0x21d)]=_0x1921bb,this['options']['logLevel']=_0x1921bb,this['logger']['transports'][_0x5d8001(0x1eb)](_0xf01815=>{const _0x3f0bc4=_0x5d8001;_0xf01815['name']!=='console'&&(_0xf01815[_0x3f0bc4(0x21d)]=_0x1921bb);});}[a0_0x5e5870(0x1ed)](_0x3f49ed){const _0x250be9=a0_0x5e5870;this['options'][_0x250be9(0x1ff)]=_0x3f49ed,this[_0x250be9(0x1e1)]['transports']['forEach'](_0x480f5b=>{const _0x4c1d2c=_0x250be9;if(_0x480f5b[_0x4c1d2c(0x1e4)]===_0x4c1d2c(0x1ff)){if(_0x3f49ed==='errors-only')_0x480f5b[_0x4c1d2c(0x21d)]=_0x4c1d2c(0x21b);else{if(_0x3f49ed===!![])_0x480f5b[_0x4c1d2c(0x21d)]=this[_0x4c1d2c(0x204)]['logLevel'];else _0x3f49ed===![]&&(_0x480f5b[_0x4c1d2c(0x1f0)]=!![]);}}});}['forceConsole'](_0x1e0093,_0x300a25='info'){const _0x33a415=a0_0x5e5870;this['logger'][_0x300a25](_0x1e0093);if(!this['options']['silent']){this['stopSpinner']();switch(_0x300a25){case'error':console[_0x33a415(0x21b)](a0_0x50c59a[_0x33a415(0x211)](outputFormatter['symbols'][_0x33a415(0x21b)]),a0_0x50c59a['red']['bold'](_0x1e0093));break;case'warn':console['warn'](a0_0x50c59a[_0x33a415(0x1e3)](outputFormatter['symbols'][_0x33a415(0x210)]),a0_0x50c59a[_0x33a415(0x1e3)](_0x1e0093));break;default:console[_0x33a415(0x1ec)](a0_0x50c59a[_0x33a415(0x1f7)](outputFormatter['symbols']['info']),a0_0x50c59a['cyan'](_0x1e0093));break;}}}['getConfig'](){const _0x3c0a45=a0_0x5e5870;return{...this[_0x3c0a45(0x204)],'currentTask':this[_0x3c0a45(0x205)],'spinnerActive':this[_0x3c0a45(0x220)]};}['isConsoleEnabled'](_0x232f9b){const _0x273b17=a0_0x5e5870;if(this[_0x273b17(0x204)][_0x273b17(0x1f0)]||!this['options']['console'])return![];if(this['options']['console']===_0x273b17(0x1f6))return _0x232f9b===_0x273b17(0x21b);return!![];}}export default LoggingService;