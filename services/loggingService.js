const a0_0x142648=a0_0x187f;(function(_0x4b6897,_0x52852a){const _0x2a5efd=a0_0x187f,_0x4e9da9=_0x4b6897();while(!![]){try{const _0x37cfd2=parseInt(_0x2a5efd(0xf6))/0x1*(-parseInt(_0x2a5efd(0x10f))/0x2)+parseInt(_0x2a5efd(0x122))/0x3+parseInt(_0x2a5efd(0x12f))/0x4+parseInt(_0x2a5efd(0xf0))/0x5*(-parseInt(_0x2a5efd(0x12e))/0x6)+parseInt(_0x2a5efd(0xf5))/0x7+parseInt(_0x2a5efd(0x119))/0x8+-parseInt(_0x2a5efd(0xe7))/0x9;if(_0x37cfd2===_0x52852a)break;else _0x4e9da9['push'](_0x4e9da9['shift']());}catch(_0x17918b){_0x4e9da9['push'](_0x4e9da9['shift']());}}}(a0_0x3719,0x52f2d));import a0_0x4e54c3 from'winston';import a0_0x3692e4 from'path';import a0_0x7d9678 from'fs/promises';import a0_0x1321e9 from'ora';import a0_0x32af30 from'chalk';import{outputFormatter}from'./outputFormatting.js';function a0_0x187f(_0x2c0b57,_0x502ea3){const _0x371952=a0_0x3719();return a0_0x187f=function(_0x187fce,_0x12d08c){_0x187fce=_0x187fce-0xe3;let _0x3da9a7=_0x371952[_0x187fce];if(a0_0x187f['QJZGJz']===undefined){var _0x5811c8=function(_0x4e54c3){const _0x3692e4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x7d9678='',_0x1321e9='';for(let _0x32af30=0x0,_0x495204,_0x32ab44,_0x345068=0x0;_0x32ab44=_0x4e54c3['charAt'](_0x345068++);~_0x32ab44&&(_0x495204=_0x32af30%0x4?_0x495204*0x40+_0x32ab44:_0x32ab44,_0x32af30++%0x4)?_0x7d9678+=String['fromCharCode'](0xff&_0x495204>>(-0x2*_0x32af30&0x6)):0x0){_0x32ab44=_0x3692e4['indexOf'](_0x32ab44);}for(let _0x5ad771=0x0,_0x4aa103=_0x7d9678['length'];_0x5ad771<_0x4aa103;_0x5ad771++){_0x1321e9+='%'+('00'+_0x7d9678['charCodeAt'](_0x5ad771)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1321e9);};a0_0x187f['uLXSTl']=_0x5811c8,_0x2c0b57=arguments,a0_0x187f['QJZGJz']=!![];}const _0x29ce55=_0x371952[0x0],_0x3ba500=_0x187fce+_0x29ce55,_0x37ccc8=_0x2c0b57[_0x3ba500];return!_0x37ccc8?(_0x3da9a7=a0_0x187f['uLXSTl'](_0x3da9a7),_0x2c0b57[_0x3ba500]=_0x3da9a7):_0x3da9a7=_0x37ccc8,_0x3da9a7;},a0_0x187f(_0x2c0b57,_0x502ea3);}function a0_0x3719(){const _0x4f4659=['Bg9Nz2vY','C3LTyM9SCW','zM9YBwf0','mtmXmdyZmKPUr21mAG','ChvZAa','C2v0q29UC29Szu1Vzgu','DMvYyM9Zzq','zxjYB3jZlw9UBhK','zxjYB3i','AM9PBG','C3rHCNrtCgLUBMvY','Bg9N','mtC4otKWogfAB1zysa','q29UC29Szq','DNnJB2rL','Aw5MBW','zM9YBwf0sgvSCa','y29UC29Szq','icaG','yxbWzw5KtgLUzq','C2LSzw50','DgfZA1n0yxj0vgLTzq','Bgv2zwW','zM9YBwf0uhjVz3jLC3m','mZuZnfjHq2n2ua','mJa4nteXmLHTCxnZqG','D2LUzg93','w1DbuK5Dia','zM9YrwfJAa','C3rVCfnWAw5Uzxi','yNvSBgv0','EwvSBg93','C3vJy2vLzfnWAw5Uzxi','vgfZAYbMywLSzwq','yMX1zq','Bg9NrgLY','mZuZndG1ohHIvwrMta','DhjHBNnWB3j0CW','D2fYBMLUzW','zgvIDwC','Bg9Ntgv2zwW','BMfTzq','BwvZC2fNzq','y3LHBG','zgLZCgXHEuHLBha','nde2nuvorMfhtG','yM9Sza','C3bPBM5LCKfJDgL2zq','B3v0Chv0q2HHBM5LBa','BgvUz3rO','ndG4ndi1qNvzvuLU','nJqXodfmD2DRvwe','C3rVCa','ChjVy2vZC2LUzW','C3rHCNruyxnR','zM9YBwf0vgfZA1n0yxr1CW','z3jHEq','zM9YBwf0v2vSy29Tzq','y3jLyxrLt3v0Chv0q2HHBM5LBa','B3b0Aw9UCW','D2fYBG','CMvK','zMfPBa','q29TCgXLDgvKigLUia','C3bPBM5LCG','C3rHCNq','vg9VBcbVCgvYyxrPB246ia','seG6Bw06C3m','z2v0q29UzMLN','vLmGq29KzsbUB3qGyxzHAwXHyMXLlcbMywXSAw5NigjHy2SGDg8Gy29UC29SzsbSB2DNAw5N','A2v5CW','y3vYCMvUDfrHC2S','DgLTzxn0yw1W','u3rHCNrPBMCGDgfZAZOG','zMLSzq','y29UzMLN','neH4sxLVtq','C2v0tgv2zwW','rxjYB3iGy3jLyxrPBMCGBg9NigrPCMvJDg9YEtOG','Dgv4Da','q29TCgXLDgvKihrHC2S6ia','C3rHy2S','y2HPBgq'];a0_0x3719=function(){return _0x4f4659;};return a0_0x3719();}export class LoggingService{constructor(_0x495204={}){const _0x5a4cd7=a0_0x187f;this[_0x5a4cd7(0xfe)]={'logLevel':_0x495204[_0x5a4cd7(0xeb)]||'info','logDir':_0x495204[_0x5a4cd7(0xe6)]||'./logs','console':_0x495204['console']!==undefined?_0x495204[_0x5a4cd7(0x127)]:_0x5a4cd7(0x11d),'file':_0x495204[_0x5a4cd7(0x10d)]!==undefined?_0x495204['file']:!![],'silent':_0x495204['silent']!==undefined?_0x495204[_0x5a4cd7(0x12a)]:![],'vscode':_0x495204[_0x5a4cd7(0x124)]!==undefined?_0x495204[_0x5a4cd7(0x124)]:![]},this['outputChannel']=null;if(this[_0x5a4cd7(0xfe)][_0x5a4cd7(0x124)])try{const _0x32ab44=require(_0x5a4cd7(0x124));this['outputChannel']=_0x32ab44[_0x5a4cd7(0x130)][_0x5a4cd7(0xfd)]('Loxia\x20AI');}catch(_0x345068){console['warn'](_0x5a4cd7(0x108)),this[_0x5a4cd7(0xfe)][_0x5a4cd7(0x124)]=![];}this['spinner']=a0_0x1321e9({'color':_0x5a4cd7(0xee),'spinner':'dots','interval':0x50}),this['spinnerActive']=![],this[_0x5a4cd7(0x10a)]=null,this[_0x5a4cd7(0x12b)]=null;}async['initLogger'](){const _0x3ce56a=a0_0x187f;if(this['options']['file'])try{await a0_0x7d9678['mkdir'](this['options'][_0x3ce56a(0xe6)],{'recursive':!![]});}catch(_0x1f6a1c){console['error'](_0x3ce56a(0x111)+_0x1f6a1c['message']),this['options'][_0x3ce56a(0x10d)]=![];}const _0x5ad771=a0_0x4e54c3['format']['combine'](a0_0x4e54c3['format'][_0x3ce56a(0x10b)]({'format':'YYYY-MM-DD\x20HH:mm:ss'}),a0_0x4e54c3[_0x3ce56a(0x118)]['errors']({'stack':![]}),a0_0x4e54c3['format']['splat'](),a0_0x4e54c3['format']['json']()),_0x4aa103=a0_0x4e54c3['format']['combine'](a0_0x4e54c3['format']['colorize'](),a0_0x4e54c3['format']['timestamp']({'format':_0x3ce56a(0x106)}),a0_0x4e54c3['format']['printf'](({level:_0x29b018,message:_0xb278be,timestamp:_0x4acf1,..._0x288819})=>{const _0x30a0c5=_0x3ce56a,_0xfa7a23=Object[_0x30a0c5(0x109)](_0x288819)[_0x30a0c5(0xf4)]?'\x0a'+JSON['stringify'](_0x288819,null,0x2):'';return _0x4acf1+'\x20'+_0x29b018+':\x20'+_0xb278be+_0xfa7a23;})),_0x2bcfba=[];if(this['options'][_0x3ce56a(0x127)]&&!this[_0x3ce56a(0xfe)]['silent']){let _0x45e934=this[_0x3ce56a(0xfe)]['logLevel'];this['options']['console']===_0x3ce56a(0x11d)&&(_0x45e934='error'),_0x2bcfba['push'](new a0_0x4e54c3[(_0x3ce56a(0xe8))][(_0x3ce56a(0x123))]({'format':_0x4aa103,'level':_0x45e934,'silent':this['options'][_0x3ce56a(0x12a)]}));}if(this[_0x3ce56a(0xfe)][_0x3ce56a(0x10d)]){const _0x3f829d=a0_0x3692e4[_0x3ce56a(0x11f)](this['options']['logDir'],'loxia.log'),_0x41ba2b=a0_0x3692e4[_0x3ce56a(0x11f)](this['options'][_0x3ce56a(0xe6)],'error.log');_0x2bcfba[_0x3ce56a(0x11a)](new a0_0x4e54c3['transports']['File']({'filename':_0x3f829d,'format':_0x5ad771,'level':this[_0x3ce56a(0xfe)]['logLevel'],'maxsize':0x500000,'maxFiles':0x5}),new a0_0x4e54c3[(_0x3ce56a(0xe8))]['File']({'filename':_0x41ba2b,'format':_0x5ad771,'level':'error','maxsize':0x500000,'maxFiles':0x5}));}this[_0x3ce56a(0x116)]=a0_0x4e54c3['createLogger']({'level':this[_0x3ce56a(0xfe)][_0x3ce56a(0xeb)],'levels':a0_0x4e54c3[_0x3ce56a(0x10e)]['npm']['levels'],'format':_0x5ad771,'transports':_0x2bcfba}),this[_0x3ce56a(0x116)]['on']('error',_0x2428c2=>{const _0x3c8fb3=_0x3ce56a;console[_0x3c8fb3(0x11e)]('Logger\x20error:',_0x2428c2);});}['info'](_0x2c8d12,_0x175be0,_0x12e340=![]){const _0x1e6a8c=a0_0x187f;this[_0x1e6a8c(0x116)][_0x1e6a8c(0x125)](_0x2c8d12,_0x175be0);this[_0x1e6a8c(0xf3)]&&this[_0x1e6a8c(0xf3)][_0x1e6a8c(0x129)]('[INFO]\x20'+_0x2c8d12);const _0x2eaa81=_0x12e340||this[_0x1e6a8c(0xfe)]['console']===!![]||this['options']['console']==='errors-only'&&_0x12e340;if(this['spinnerActive']&&_0x2eaa81&&!this['options']['silent'])this[_0x1e6a8c(0x103)][_0x1e6a8c(0x112)]=_0x2c8d12;else _0x2eaa81&&!this['options']['silent']&&(this[_0x1e6a8c(0x133)](),console['log'](a0_0x32af30['cyan'](outputFormatter[_0x1e6a8c(0x117)][_0x1e6a8c(0x125)]),a0_0x32af30['cyan'](_0x2c8d12)));}['error'](_0x212577,_0x43a169,_0x1c05f3=![]){const _0x479f21=a0_0x187f;this[_0x479f21(0x133)](),this[_0x479f21(0x116)][_0x479f21(0x11e)](_0x212577,_0x43a169);if(this[_0x479f21(0xf3)]){this['outputChannel'][_0x479f21(0x129)]('[ERROR]\x20'+_0x212577);if(_0x43a169 instanceof Error)this[_0x479f21(0xf3)]['appendLine'](_0x479f21(0x128)+_0x43a169[_0x479f21(0xed)]),_0x43a169[_0x479f21(0x114)]&&_0x1c05f3&&this['outputChannel'][_0x479f21(0x129)](_0x479f21(0x128)+_0x43a169[_0x479f21(0x114)]);else _0x43a169&&this[_0x479f21(0xf3)][_0x479f21(0x129)](_0x479f21(0x128)+JSON['stringify'](_0x43a169));}if(!this[_0x479f21(0xfe)][_0x479f21(0x12a)]){console[_0x479f21(0x11e)](a0_0x32af30[_0x479f21(0x100)](outputFormatter[_0x479f21(0x117)]['error']),a0_0x32af30[_0x479f21(0x100)]['bold'](_0x212577));if(_0x43a169 instanceof Error)console['error'](a0_0x32af30[_0x479f21(0x100)]('\x20\x20\x20'+_0x43a169['message'])),_0x43a169['stack']&&_0x1c05f3&&console[_0x479f21(0x11e)](a0_0x32af30[_0x479f21(0xfb)]('\x20\x20\x20'+_0x43a169[_0x479f21(0x114)]['split']('\x0a')['slice'](0x1)['join']('\x0a\x20\x20\x20')));else _0x43a169&&console[_0x479f21(0x11e)](a0_0x32af30[_0x479f21(0x100)]('\x20\x20\x20'+JSON['stringify'](_0x43a169)));}}[a0_0x142648(0xff)](_0x113647,_0x3c433c){const _0x9ded6f=a0_0x142648;this['stopSpinner'](),this[_0x9ded6f(0x116)][_0x9ded6f(0xff)](_0x113647,_0x3c433c),this[_0x9ded6f(0xf3)]&&this['outputChannel']['appendLine'](_0x9ded6f(0x131)+_0x113647),this['options']['console']===!![]&&!this['options']['silent']&&console['warn'](a0_0x32af30['yellow'](outputFormatter[_0x9ded6f(0x117)][_0x9ded6f(0xe9)]),a0_0x32af30[_0x9ded6f(0x135)](_0x113647));}['debug'](_0x19d7c9,_0xcef03a){const _0x466fad=a0_0x142648;this['logger'][_0x466fad(0xea)](_0x19d7c9,_0xcef03a),this[_0x466fad(0xfe)][_0x466fad(0xeb)]==='debug'&&this['options'][_0x466fad(0x127)]===!![]&&!this[_0x466fad(0xfe)][_0x466fad(0x12a)]&&(this[_0x466fad(0x133)](),console[_0x466fad(0xea)](a0_0x32af30['blue'](outputFormatter[_0x466fad(0x117)][_0x466fad(0x134)]),a0_0x32af30[_0x466fad(0xe5)]('DEBUG:\x20'+_0x19d7c9)));}[a0_0x142648(0x11c)](_0x9f4e4a,_0xc9b36f){this['logger']['verbose'](_0x9f4e4a,_0xc9b36f);}[a0_0x142648(0xf9)](_0x135892,_0xb62e4=''){const _0x13418e=a0_0x142648;this[_0x13418e(0x10a)]=_0x135892,this[_0x13418e(0x12b)]=Date['now'](),this[_0x13418e(0x116)]['info'](_0x13418e(0x10c)+_0x135892+'\x0a'+_0xb62e4),!this[_0x13418e(0xfe)][_0x13418e(0x12a)]&&(this['stopSpinner'](),this['options'][_0x13418e(0x127)]===!![]&&console['log'](outputFormatter[_0x13418e(0xfa)](_0x135892,_0x13418e(0xf8),_0xb62e4)));}['completeTask'](_0x99a853,_0x463cee=!![],_0x502d1b={}){const _0x25644e=a0_0x142648,_0x404920=_0x463cee?'success':'error',_0x58a55c=this[_0x25644e(0x12b)]?Date['now']()-this['taskStartTime']:null;this['logger']['info'](_0x25644e(0x113)+_0x99a853,{'status':_0x404920,'duration':_0x58a55c,..._0x502d1b});if(!this[_0x25644e(0xfe)][_0x25644e(0x12a)]){this[_0x25644e(0x133)]();const _0x1a7a80={..._0x502d1b,'duration':_0x58a55c},_0xf8c8cb=this[_0x25644e(0xfe)]['console']===!![]||this[_0x25644e(0xfe)]['console']===_0x25644e(0x11d)&&!_0x463cee;_0xf8c8cb&&(_0x463cee?console[_0x25644e(0x121)](outputFormatter[_0x25644e(0xfa)](_0x99a853,'completed',_0x25644e(0x102)+outputFormatter['formatDuration'](_0x58a55c))):console['log'](outputFormatter[_0x25644e(0xfa)](_0x99a853,'failed',_0x502d1b[_0x25644e(0x11e)]||_0x25644e(0xe4))));}this[_0x25644e(0x10a)]=null,this['taskStartTime']=null;}['toolOperation'](_0x420147,_0x3b7c9c,_0x3202cd,_0x43ead8={}){const _0x1e6412=a0_0x142648;this[_0x1e6412(0x116)]['info'](_0x1e6412(0x105)+_0x420147+'\x20'+_0x3b7c9c,{'toolName':_0x420147,'operation':_0x3b7c9c,'status':_0x3202cd,'details':_0x43ead8}),!this['options']['silent']&&this['options']['console']===!![]&&(this[_0x1e6412(0x133)](),console[_0x1e6412(0x121)](outputFormatter['formatToolOperation'](_0x420147,_0x3b7c9c,_0x3202cd,_0x43ead8)));}['fileOperation'](_0x4782bc,_0x5a0cac,_0x5c6584,_0x5bf47c={}){const _0x5c07ce=a0_0x142648;this[_0x5c07ce(0x116)][_0x5c07ce(0x125)]('File\x20operation:\x20'+_0x4782bc+'\x20'+_0x5a0cac,{'operation':_0x4782bc,'filePath':_0x5a0cac,'status':_0x5c6584,'details':_0x5bf47c}),!this[_0x5c07ce(0xfe)]['silent']&&this[_0x5c07ce(0xfe)][_0x5c07ce(0x127)]===!![]&&(this['stopSpinner'](),console[_0x5c07ce(0x121)](outputFormatter['formatFileOperation'](_0x4782bc,_0x5a0cac,_0x5c6584,_0x5bf47c)));}['startSpinner'](_0x516b9f){const _0x48d9d0=a0_0x142648;if(this['options']['silent'])return this['spinner'];return this[_0x48d9d0(0x133)](),this['spinner'][_0x48d9d0(0x112)]=_0x516b9f,this[_0x48d9d0(0x103)][_0x48d9d0(0x104)](),this['spinnerActive']=!![],this[_0x48d9d0(0x103)];}['updateSpinner'](_0x205845){const _0xc0337b=a0_0x142648;if(this['options']['silent'])return;this[_0xc0337b(0xf2)]?this[_0xc0337b(0x103)]['text']=_0x205845:this[_0xc0337b(0x120)](_0x205845);}['updateProgress'](_0x233bb0,_0x4ddd40){const _0x14a045=a0_0x142648;if(this[_0x14a045(0xfe)][_0x14a045(0x12a)])return;this['stopSpinner'](),this[_0x14a045(0xfe)][_0x14a045(0x127)]===!![]&&console['log'](outputFormatter[_0x14a045(0x12d)](this['currentTask']||'Task',_0x4ddd40,_0x233bb0)),this[_0x14a045(0x120)](Math['floor'](_0x4ddd40)+'%\x20complete...');}[a0_0x142648(0x133)](){const _0x176632=a0_0x142648;this[_0x176632(0xf2)]&&(this[_0x176632(0x103)][_0x176632(0xf7)](),this[_0x176632(0xf2)]=![]);}[a0_0x142648(0xe3)](_0x33100d){const _0x25de9f=a0_0x142648;if(this['options'][_0x25de9f(0x12a)])return;this['spinnerActive']&&(this['spinner']['succeed'](_0x33100d),this[_0x25de9f(0xf2)]=![]);}['failSpinner'](_0x488a6a){const _0x9c618c=a0_0x142648;if(this['options']['silent'])return;this[_0x9c618c(0xf2)]&&(this[_0x9c618c(0x103)][_0x9c618c(0x101)](_0x488a6a),this[_0x9c618c(0xf2)]=![]);}['displayWelcome'](){const _0x506514=a0_0x142648;if(this[_0x506514(0xfe)]['silent'])return;console['log'](outputFormatter[_0x506514(0xfc)]());}[a0_0x142648(0xef)](_0x3a3619){const _0x14b95=a0_0x142648;if(this[_0x14b95(0xfe)]['silent'])return;console[_0x14b95(0x121)](outputFormatter[_0x14b95(0x126)](_0x3a3619));}[a0_0x142648(0x115)](_0x45f4d6){const _0x4f25f5=a0_0x142648,_0x324d45=new LoggingService(this[_0x4f25f5(0xfe)]);return _0x324d45[_0x4f25f5(0x116)]=this['logger']['child'](_0x45f4d6),_0x324d45;}[a0_0x142648(0x110)](_0x501922){const _0x1f0e7c=a0_0x142648;this[_0x1f0e7c(0x116)][_0x1f0e7c(0x12c)]=_0x501922,this['options'][_0x1f0e7c(0xeb)]=_0x501922,this[_0x1f0e7c(0x116)]['transports']['forEach'](_0x2fd1b9=>{_0x2fd1b9['name']!=='console'&&(_0x2fd1b9['level']=_0x501922);});}[a0_0x142648(0x11b)](_0x532188){const _0x5498f3=a0_0x142648;this['options'][_0x5498f3(0x127)]=_0x532188,this[_0x5498f3(0x116)]['transports'][_0x5498f3(0x132)](_0x4825f1=>{const _0x497f1e=_0x5498f3;if(_0x4825f1[_0x497f1e(0xec)]==='console'){if(_0x532188===_0x497f1e(0x11d))_0x4825f1['level']='error';else{if(_0x532188===!![])_0x4825f1[_0x497f1e(0x12c)]=this[_0x497f1e(0xfe)][_0x497f1e(0xeb)];else _0x532188===![]&&(_0x4825f1['silent']=!![]);}}});}['forceConsole'](_0x4e8df6,_0x74606b=a0_0x142648(0x125)){const _0xe162ed=a0_0x142648;this['logger'][_0x74606b](_0x4e8df6);if(!this[_0xe162ed(0xfe)]['silent']){this[_0xe162ed(0x133)]();switch(_0x74606b){case _0xe162ed(0x11e):console[_0xe162ed(0x11e)](a0_0x32af30[_0xe162ed(0x100)](outputFormatter['symbols']['error']),a0_0x32af30['red'][_0xe162ed(0xf1)](_0x4e8df6));break;case _0xe162ed(0xff):console[_0xe162ed(0xff)](a0_0x32af30[_0xe162ed(0x135)](outputFormatter[_0xe162ed(0x117)]['warning']),a0_0x32af30['yellow'](_0x4e8df6));break;default:console[_0xe162ed(0x121)](a0_0x32af30[_0xe162ed(0xee)](outputFormatter[_0xe162ed(0x117)]['info']),a0_0x32af30[_0xe162ed(0xee)](_0x4e8df6));break;}}}[a0_0x142648(0x107)](){const _0x42ad5f=a0_0x142648;return{...this['options'],'currentTask':this['currentTask'],'spinnerActive':this[_0x42ad5f(0xf2)]};}['isConsoleEnabled'](_0x5334d0){const _0x5a9a16=a0_0x142648;if(this['options'][_0x5a9a16(0x12a)]||!this['options'][_0x5a9a16(0x127)])return![];if(this[_0x5a9a16(0xfe)]['console']==='errors-only')return _0x5334d0==='error';return!![];}}export default LoggingService;