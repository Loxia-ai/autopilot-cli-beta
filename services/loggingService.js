const a0_0x30a6db=a0_0x20ea;(function(_0x108adf,_0x47a734){const _0x4a2c1a=a0_0x20ea,_0x48d590=_0x108adf();while(!![]){try{const _0x320250=-parseInt(_0x4a2c1a(0xa0))/0x1*(parseInt(_0x4a2c1a(0x90))/0x2)+-parseInt(_0x4a2c1a(0xba))/0x3+parseInt(_0x4a2c1a(0x97))/0x4*(-parseInt(_0x4a2c1a(0x8e))/0x5)+parseInt(_0x4a2c1a(0xb0))/0x6+-parseInt(_0x4a2c1a(0xa7))/0x7*(parseInt(_0x4a2c1a(0x74))/0x8)+-parseInt(_0x4a2c1a(0x93))/0x9+parseInt(_0x4a2c1a(0x7a))/0xa*(parseInt(_0x4a2c1a(0x9c))/0xb);if(_0x320250===_0x47a734)break;else _0x48d590['push'](_0x48d590['shift']());}catch(_0x10e256){_0x48d590['push'](_0x48d590['shift']());}}}(a0_0x5c61,0xbde67));import a0_0x44f403 from'winston';import a0_0x33712e from'path';import a0_0x540606 from'fs/promises';function a0_0x5c61(){const _0x57b608=['lI9SB2DZ','zgLZCgXHEuHLBha','y29TyMLUzq','Bg9NrgLY','Bgv2zwXZ','zMLSzq','zM9YBwf0rMLSzu9WzxjHDgLVBG','rxjYB3iGy3jLyxrPBMCGBg9NigrPCMvJDg9YEtOG','zgvIDwC','C2LSzw50','ANnVBG','C3rHCNq','y29SB3jPEMu','EwvSBg93','Bg9Ntgv2zwW','yMX1zq','zM9YBwf0sgvSCa','otGXmhH3DvvWtG','y3jLyxrLtg9Nz2vY','mJe0z0nbsKz6','Dgv4Da','D2fYBMLUzW','odm3nZqWn0vrBLPxDW','zM9YBwf0','y3vYCMvUDfrHC2S','C3rHy2S','nta4ywfHEhLo','DMvYyM9Zzq','zxjYB3iUBg9N','B3b0Aw9UCW','y29TCgXLDgvK','mJKXmJHiDgXvz0y','C3bPBM5LCKfJDgL2zq','BMfTzq','C3rHCNrtCgLUBMvY','mZGZsM5OzvDv','q29TCgXLDgvKigLUia','DgfZA1n0yxj0vgLTzq','C3rVCfnWAw5Uzxi','Aw5MBW','ChvZAa','zM9YrwfJAa','mJyXmZq3mxbrCurZta','zM9YBwf0uhjVz3jLC3m','Bg94AweUBg9N','Bgv2zwW','y3LHBG','C3LTyM9SCW','zM9YBwf0vgfZA1n0yxr1CW','BwvZC2fNzq','zMXVB3i','ndeWotu5ofDgA2rzAq','Bg9N','zxjYB3i','C3bSAxq','BwTKAxi','C3rVCa','y29UC29Szq','seG6Bw06C3m','y2HPBgq','icaG','mJi0nJGZoezzAKDPqq','AxndB25ZB2XLrw5HyMXLza','ChjPBNrM','C2XPy2u','Bg9Nz2vY','cIaGia','zxjYB3jZlw9UBhK','mtzhy3LnDey','DhjHBNnWB3j0CW','BgvUz3rO','tg9Nz2vYigvYCM9YoG','D2fYBG','y29TCgXLDgvuyxnR','mta2mtbmwuLOs0i','C3bPBM5LCG','CMvK'];a0_0x5c61=function(){return _0x57b608;};return a0_0x5c61();}import a0_0x2297c7 from'ora';function a0_0x20ea(_0x47a80b,_0x528883){const _0x5c611e=a0_0x5c61();return a0_0x20ea=function(_0x20ea1d,_0x13ddf6){_0x20ea1d=_0x20ea1d-0x73;let _0x2a4d94=_0x5c611e[_0x20ea1d];if(a0_0x20ea['hCtqCS']===undefined){var _0x16f519=function(_0x44f403){const _0x33712e='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x540606='',_0x2297c7='';for(let _0x49e5b9=0x0,_0x970a60,_0x581de2,_0x4b2a9e=0x0;_0x581de2=_0x44f403['charAt'](_0x4b2a9e++);~_0x581de2&&(_0x970a60=_0x49e5b9%0x4?_0x970a60*0x40+_0x581de2:_0x581de2,_0x49e5b9++%0x4)?_0x540606+=String['fromCharCode'](0xff&_0x970a60>>(-0x2*_0x49e5b9&0x6)):0x0){_0x581de2=_0x33712e['indexOf'](_0x581de2);}for(let _0xe9dff5=0x0,_0x2a750c=_0x540606['length'];_0xe9dff5<_0x2a750c;_0xe9dff5++){_0x2297c7+='%'+('00'+_0x540606['charCodeAt'](_0xe9dff5)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2297c7);};a0_0x20ea['lSXyuj']=_0x16f519,_0x47a80b=arguments,a0_0x20ea['hCtqCS']=!![];}const _0x44fade=_0x5c611e[0x0],_0x2404cd=_0x20ea1d+_0x44fade,_0x1801f8=_0x47a80b[_0x2404cd];return!_0x1801f8?(_0x2a4d94=a0_0x20ea['lSXyuj'](_0x2a4d94),_0x47a80b[_0x2404cd]=_0x2a4d94):_0x2a4d94=_0x1801f8,_0x2a4d94;},a0_0x20ea(_0x47a80b,_0x528883);}import a0_0x49e5b9 from'chalk';import{outputFormatter}from'./outputFormatting.js';export class LoggingService{constructor(_0x970a60={}){const _0x13bbe8=a0_0x20ea;this[_0x13bbe8(0x9a)]={'logLevel':_0x970a60[_0x13bbe8(0x8b)]||_0x13bbe8(0xa4),'logDir':_0x970a60['logDir']||_0x13bbe8(0x7d),'console':_0x970a60[_0x13bbe8(0xb6)]!==undefined?_0x970a60[_0x13bbe8(0xb6)]:_0x13bbe8(0x73),'file':_0x970a60[_0x13bbe8(0x82)]!==undefined?_0x970a60[_0x13bbe8(0x82)]:!![],'silent':_0x970a60['silent']!==undefined?_0x970a60['silent']:![]},this['spinner']=a0_0x2297c7({'color':_0x13bbe8(0xab),'spinner':'dots','interval':0x50}),this[_0x13bbe8(0x9d)]=![],this[_0x13bbe8(0x95)]=null,this['taskStartTime']=null;}async['initLogger'](){const _0x2d675a=a0_0x20ea;if(this['options']['file'])try{await a0_0x540606[_0x2d675a(0xb4)](this[_0x2d675a(0x9a)][_0x2d675a(0x80)],{'recursive':!![]});}catch(_0x2a750c){console['error'](_0x2d675a(0x84)+_0x2a750c[_0x2d675a(0xae)]),this['options'][_0x2d675a(0x82)]=![];}const _0x581de2=a0_0x44f403['format'][_0x2d675a(0x7f)](a0_0x44f403[_0x2d675a(0x94)]['timestamp']({'format':'YYYY-MM-DD\x20HH:mm:ss'}),a0_0x44f403['format']['errors']({'stack':![]}),a0_0x44f403[_0x2d675a(0x94)]['splat'](),a0_0x44f403[_0x2d675a(0x94)][_0x2d675a(0x87)]()),_0x4b2a9e=a0_0x44f403['format'][_0x2d675a(0x7f)](a0_0x44f403[_0x2d675a(0x94)][_0x2d675a(0x89)](),a0_0x44f403['format']['timestamp']({'format':_0x2d675a(0xb7)}),a0_0x44f403[_0x2d675a(0x94)][_0x2d675a(0xbc)](({level:_0x509297,message:_0x37df0d,timestamp:_0x48ce1e,..._0x1f238e})=>{const _0x4da416=_0x2d675a,_0x22a205=Object['keys'](_0x1f238e)[_0x4da416(0x76)]?'\x0a'+JSON['stringify'](_0x1f238e,null,0x2):'';return _0x48ce1e+'\x20'+_0x509297+':\x20'+_0x37df0d+_0x22a205;})),_0xe9dff5=[];if(this[_0x2d675a(0x9a)][_0x2d675a(0xb6)]&&!this[_0x2d675a(0x9a)][_0x2d675a(0x86)]){let _0x271448=this['options'][_0x2d675a(0x8b)];this[_0x2d675a(0x9a)]['console']==='errors-only'&&(_0x271448='error'),_0xe9dff5[_0x2d675a(0xa5)](new a0_0x44f403['transports']['Console']({'format':_0x4b2a9e,'level':_0x271448,'silent':this[_0x2d675a(0x9a)][_0x2d675a(0x86)]}));}if(this[_0x2d675a(0x9a)][_0x2d675a(0x82)]){const _0x106ae5=a0_0x33712e['join'](this['options']['logDir'],_0x2d675a(0xa9)),_0x97bb51=a0_0x33712e['join'](this['options'][_0x2d675a(0x80)],_0x2d675a(0x99));_0xe9dff5['push'](new a0_0x44f403['transports']['File']({'filename':_0x106ae5,'format':_0x581de2,'level':this[_0x2d675a(0x9a)][_0x2d675a(0x8b)],'maxsize':0x500000,'maxFiles':0x5}),new a0_0x44f403[(_0x2d675a(0x75))]['File']({'filename':_0x97bb51,'format':_0x581de2,'level':_0x2d675a(0xb2),'maxsize':0x500000,'maxFiles':0x5}));}this['logger']=a0_0x44f403[_0x2d675a(0x8f)]({'level':this[_0x2d675a(0x9a)][_0x2d675a(0x8b)],'levels':a0_0x44f403['config']['npm'][_0x2d675a(0x81)],'format':_0x581de2,'transports':_0xe9dff5}),this[_0x2d675a(0xbe)]['on']('error',_0xafff2c=>{const _0x147cbf=_0x2d675a;console['error'](_0x147cbf(0x77),_0xafff2c);});}[a0_0x30a6db(0xa4)](_0x1521c4,_0x364356,_0x58d877=![]){const _0x1f70d8=a0_0x30a6db;this['logger']['info'](_0x1521c4,_0x364356);const _0x3ab40b=_0x58d877||this['options']['console']===!![]||this[_0x1f70d8(0x9a)]['console']===_0x1f70d8(0x73)&&_0x58d877;if(this['spinnerActive']&&_0x3ab40b&&!this['options']['silent'])this['spinner']['text']=_0x1521c4;else _0x3ab40b&&!this[_0x1f70d8(0x9a)]['silent']&&(this[_0x1f70d8(0xa3)](),console['log'](a0_0x49e5b9[_0x1f70d8(0xab)](outputFormatter['symbols'][_0x1f70d8(0xa4)]),a0_0x49e5b9['cyan'](_0x1521c4)));}[a0_0x30a6db(0xb2)](_0x32de65,_0x211111,_0x33ad28=![]){const _0xbb94e7=a0_0x30a6db;this[_0xbb94e7(0xa3)](),this['logger']['error'](_0x32de65,_0x211111);if(!this[_0xbb94e7(0x9a)][_0xbb94e7(0x86)]){console['error'](a0_0x49e5b9[_0xbb94e7(0x7c)](outputFormatter['symbols'][_0xbb94e7(0xb2)]),a0_0x49e5b9[_0xbb94e7(0x7c)]['bold'](_0x32de65));if(_0x211111 instanceof Error)console[_0xbb94e7(0xb2)](a0_0x49e5b9['red']('\x20\x20\x20'+_0x211111[_0xbb94e7(0xae)])),_0x211111['stack']&&_0x33ad28&&console[_0xbb94e7(0xb2)](a0_0x49e5b9['gray'](_0xbb94e7(0xb9)+_0x211111[_0xbb94e7(0x96)][_0xbb94e7(0xb3)]('\x0a')[_0xbb94e7(0xbd)](0x1)['join'](_0xbb94e7(0xbf))));else _0x211111&&console[_0xbb94e7(0xb2)](a0_0x49e5b9[_0xbb94e7(0x7c)]('\x20\x20\x20'+JSON['stringify'](_0x211111)));}}['warn'](_0x11db09,_0x327015){const _0xbd6cba=a0_0x30a6db;this[_0xbd6cba(0xa3)](),this['logger'][_0xbd6cba(0x78)](_0x11db09,_0x327015),this[_0xbd6cba(0x9a)]['console']===!![]&&!this[_0xbd6cba(0x9a)]['silent']&&console[_0xbd6cba(0x78)](a0_0x49e5b9[_0xbd6cba(0x8a)](outputFormatter['symbols'][_0xbd6cba(0x92)]),a0_0x49e5b9[_0xbd6cba(0x8a)](_0x11db09));}['debug'](_0x24c791,_0x4f5666){const _0x465677=a0_0x30a6db;this[_0x465677(0xbe)]['debug'](_0x24c791,_0x4f5666),this[_0x465677(0x9a)][_0x465677(0x8b)]==='debug'&&this[_0x465677(0x9a)][_0x465677(0xb6)]===!![]&&!this[_0x465677(0x9a)][_0x465677(0x86)]&&(this[_0x465677(0xa3)](),console[_0x465677(0x85)](a0_0x49e5b9[_0x465677(0x8c)](outputFormatter[_0x465677(0xac)]['bullet']),a0_0x49e5b9[_0x465677(0x8c)]('DEBUG:\x20'+_0x24c791)));}['verbose'](_0x36e803,_0x42a41c){const _0x157095=a0_0x30a6db;this[_0x157095(0xbe)][_0x157095(0x98)](_0x36e803,_0x42a41c);}['startTask'](_0x2d5e1a,_0x2184b6=''){const _0x344444=a0_0x30a6db;this['currentTask']=_0x2d5e1a,this[_0x344444(0xa2)]=Date['now'](),this[_0x344444(0xbe)]['info']('Starting\x20task:\x20'+_0x2d5e1a+'\x0a'+_0x2184b6),!this[_0x344444(0x9a)]['silent']&&(this[_0x344444(0xa3)](),this['options']['console']===!![]&&console['log'](outputFormatter['formatTaskStatus'](_0x2d5e1a,'processing',_0x2184b6)));}[a0_0x30a6db(0x79)](_0x1471c2,_0x1e9050=!![],_0x3ed666={}){const _0x261f46=a0_0x30a6db,_0x45507d=_0x1e9050?'success':_0x261f46(0xb2),_0x2da11a=this[_0x261f46(0xa2)]?Date['now']()-this['taskStartTime']:null;this['logger'][_0x261f46(0xa4)]('Completed\x20task:\x20'+_0x1471c2,{'status':_0x45507d,'duration':_0x2da11a,..._0x3ed666});if(!this[_0x261f46(0x9a)]['silent']){this['stopSpinner']();const _0xd3b720={..._0x3ed666,'duration':_0x2da11a},_0x2e569f=this['options']['console']===!![]||this[_0x261f46(0x9a)][_0x261f46(0xb6)]===_0x261f46(0x73)&&!_0x1e9050;_0x2e569f&&(_0x1e9050?console[_0x261f46(0xb1)](outputFormatter[_0x261f46(0xad)](_0x1471c2,_0x261f46(0x9b),_0x261f46(0xa1)+outputFormatter['formatDuration'](_0x2da11a))):console[_0x261f46(0xb1)](outputFormatter['formatTaskStatus'](_0x1471c2,'failed',_0x3ed666['error']||'Task\x20failed')));}this['currentTask']=null,this[_0x261f46(0xa2)]=null;}['toolOperation'](_0x5c6026,_0x2aaae7,_0x40f4fa,_0x20b007={}){const _0x91c53=a0_0x30a6db;this['logger'][_0x91c53(0xa4)]('Tool\x20operation:\x20'+_0x5c6026+'\x20'+_0x2aaae7,{'toolName':_0x5c6026,'operation':_0x2aaae7,'status':_0x40f4fa,'details':_0x20b007}),!this[_0x91c53(0x9a)][_0x91c53(0x86)]&&this['options'][_0x91c53(0xb6)]===!![]&&(this['stopSpinner'](),console['log'](outputFormatter['formatToolOperation'](_0x5c6026,_0x2aaae7,_0x40f4fa,_0x20b007)));}['fileOperation'](_0x38ef31,_0x402d93,_0x4e9805,_0x1227a9={}){const _0xb791ee=a0_0x30a6db;this[_0xb791ee(0xbe)][_0xb791ee(0xa4)]('File\x20operation:\x20'+_0x38ef31+'\x20'+_0x402d93,{'operation':_0x38ef31,'filePath':_0x402d93,'status':_0x4e9805,'details':_0x1227a9}),!this['options']['silent']&&this['options']['console']===!![]&&(this[_0xb791ee(0xa3)](),console['log'](outputFormatter[_0xb791ee(0x83)](_0x38ef31,_0x402d93,_0x4e9805,_0x1227a9)));}[a0_0x30a6db(0x9f)](_0x264b7d){const _0xa16555=a0_0x30a6db;if(this[_0xa16555(0x9a)][_0xa16555(0x86)])return this[_0xa16555(0x7b)];return this['stopSpinner'](),this['spinner'][_0xa16555(0x91)]=_0x264b7d,this['spinner'][_0xa16555(0x88)](),this['spinnerActive']=!![],this[_0xa16555(0x7b)];}['updateSpinner'](_0x4e2d83){const _0x12afbd=a0_0x30a6db;if(this[_0x12afbd(0x9a)]['silent'])return;this['spinnerActive']?this[_0x12afbd(0x7b)]['text']=_0x4e2d83:this[_0x12afbd(0x9f)](_0x4e2d83);}['updateProgress'](_0x4165e2,_0x20ae8f){const _0x5851bf=a0_0x30a6db;if(this['options']['silent'])return;this[_0x5851bf(0xa3)](),this[_0x5851bf(0x9a)][_0x5851bf(0xb6)]===!![]&&console[_0x5851bf(0xb1)](outputFormatter[_0x5851bf(0xa8)](this[_0x5851bf(0x95)]||'Task',_0x20ae8f,_0x4165e2)),this[_0x5851bf(0x9f)](Math[_0x5851bf(0xaf)](_0x20ae8f)+'%\x20complete...');}['stopSpinner'](){const _0xeca7b1=a0_0x30a6db;this[_0xeca7b1(0x9d)]&&(this[_0xeca7b1(0x7b)][_0xeca7b1(0xb5)](),this['spinnerActive']=![]);}['succeedSpinner'](_0x19ef6b){const _0x924fca=a0_0x30a6db;if(this[_0x924fca(0x9a)]['silent'])return;this['spinnerActive']&&(this['spinner']['succeed'](_0x19ef6b),this[_0x924fca(0x9d)]=![]);}['failSpinner'](_0x5f1653){const _0x1aa49a=a0_0x30a6db;if(this[_0x1aa49a(0x9a)][_0x1aa49a(0x86)])return;this[_0x1aa49a(0x9d)]&&(this['spinner']['fail'](_0x5f1653),this['spinnerActive']=![]);}['displayWelcome'](){const _0x32d28d=a0_0x30a6db;if(this[_0x32d28d(0x9a)][_0x32d28d(0x86)])return;console['log'](outputFormatter['formatWelcome']());}[a0_0x30a6db(0x7e)](_0x1dcb64){const _0x3f4d11=a0_0x30a6db;if(this[_0x3f4d11(0x9a)][_0x3f4d11(0x86)])return;console['log'](outputFormatter[_0x3f4d11(0x8d)](_0x1dcb64));}[a0_0x30a6db(0xb8)](_0x485f3b){const _0x9a2583=a0_0x30a6db,_0x30d8e4=new LoggingService(this[_0x9a2583(0x9a)]);return _0x30d8e4[_0x9a2583(0xbe)]=this['logger'][_0x9a2583(0xb8)](_0x485f3b),_0x30d8e4;}['setLevel'](_0x5e8ee8){const _0x5bf26e=a0_0x30a6db;this[_0x5bf26e(0xbe)][_0x5bf26e(0xaa)]=_0x5e8ee8,this[_0x5bf26e(0x9a)][_0x5bf26e(0x8b)]=_0x5e8ee8,this[_0x5bf26e(0xbe)]['transports']['forEach'](_0x4c9b60=>{const _0x1d2ee3=_0x5bf26e;_0x4c9b60[_0x1d2ee3(0x9e)]!==_0x1d2ee3(0xb6)&&(_0x4c9b60['level']=_0x5e8ee8);});}['setConsoleMode'](_0x5adbc0){const _0x4c2afc=a0_0x30a6db;this['options'][_0x4c2afc(0xb6)]=_0x5adbc0,this['logger'][_0x4c2afc(0x75)][_0x4c2afc(0xa6)](_0x1eddee=>{const _0x1f034d=_0x4c2afc;if(_0x1eddee['name']===_0x1f034d(0xb6)){if(_0x5adbc0==='errors-only')_0x1eddee[_0x1f034d(0xaa)]=_0x1f034d(0xb2);else{if(_0x5adbc0===!![])_0x1eddee[_0x1f034d(0xaa)]=this['options']['logLevel'];else _0x5adbc0===![]&&(_0x1eddee[_0x1f034d(0x86)]=!![]);}}});}['forceConsole'](_0x3af6c8,_0x1634c2='info'){const _0x3f9d24=a0_0x30a6db;this['logger'][_0x1634c2](_0x3af6c8);if(!this[_0x3f9d24(0x9a)][_0x3f9d24(0x86)]){this['stopSpinner']();switch(_0x1634c2){case'error':console['error'](a0_0x49e5b9['red'](outputFormatter[_0x3f9d24(0xac)]['error']),a0_0x49e5b9[_0x3f9d24(0x7c)]['bold'](_0x3af6c8));break;case _0x3f9d24(0x78):console['warn'](a0_0x49e5b9[_0x3f9d24(0x8a)](outputFormatter['symbols'][_0x3f9d24(0x92)]),a0_0x49e5b9['yellow'](_0x3af6c8));break;default:console['log'](a0_0x49e5b9[_0x3f9d24(0xab)](outputFormatter['symbols'][_0x3f9d24(0xa4)]),a0_0x49e5b9[_0x3f9d24(0xab)](_0x3af6c8));break;}}}['getConfig'](){const _0x15438d=a0_0x30a6db;return{...this[_0x15438d(0x9a)],'currentTask':this['currentTask'],'spinnerActive':this[_0x15438d(0x9d)]};}[a0_0x30a6db(0xbb)](_0x29f3de){const _0x57cac9=a0_0x30a6db;if(this['options'][_0x57cac9(0x86)]||!this['options'][_0x57cac9(0xb6)])return![];if(this['options']['console']==='errors-only')return _0x29f3de==='error';return!![];}}export default LoggingService;