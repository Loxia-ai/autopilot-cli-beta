const a0_0x3f72c7=a0_0xc5fd;(function(_0x293713,_0x1b6002){const _0x23b08c=a0_0xc5fd,_0x2902d4=_0x293713();while(!![]){try{const _0x1e1857=parseInt(_0x23b08c(0x1ec))/0x1*(-parseInt(_0x23b08c(0x1f9))/0x2)+parseInt(_0x23b08c(0x1ff))/0x3+parseInt(_0x23b08c(0x222))/0x4+parseInt(_0x23b08c(0x1e2))/0x5*(parseInt(_0x23b08c(0x1e8))/0x6)+parseInt(_0x23b08c(0x20b))/0x7*(-parseInt(_0x23b08c(0x215))/0x8)+parseInt(_0x23b08c(0x225))/0x9+-parseInt(_0x23b08c(0x218))/0xa*(parseInt(_0x23b08c(0x213))/0xb);if(_0x1e1857===_0x1b6002)break;else _0x2902d4['push'](_0x2902d4['shift']());}catch(_0x2cbae1){_0x2902d4['push'](_0x2902d4['shift']());}}}(a0_0xc542,0x874a5));import a0_0x209b99 from'winston';import a0_0x35d39a from'path';import a0_0x2f366d from'fs/promises';function a0_0xc542(){const _0x1973cc=['Bg9N','zMLSzu9WzxjHDgLVBG','oti5mtaWqK1RshvJ','DgLTzxn0yw1W','C2XPy2u','Bg9Ntgv2zwW','C3bSyxq','DgfZA1n0yxj0vgLTzq','zgLZCgXHEvDLBgnVBwu','AM9PBG','icaG','BM93','revcvuC6ia','Bg9Nz2vY','mtaZodfUs1Dduw4','wvLzws1nts1ercbisdPTBtPZCW','u3rHCNrPBMCGDgfZAZOG','C3rHy2S','zM9YBwf0vg9VBe9WzxjHDgLVBG','D2fYBMLUzW','B3b0Aw9UCW','DxbKyxrLu3bPBM5LCG','mtCYn3Dnu3fvqG','zMfPBfnWAw5Uzxi','mZeXmKjmveTqzG','zxjYB3jZlw9UBhK','y3vYCMvUDfrHC2S','mZe3meDnu09eDG','Bgv2zwW','D2fYBG','zM9YBwf0','EwvSBg93','C3vJy2vLzfnWAw5Uzxi','Dgv4Da','Aw5PDeXVz2DLCG','Bg9NrgLY','ChvZAa','odi3ntiWA0DNALjP','zM9YBwf0vgfZA1n0yxr1CW','zxjYB3iUBg9N','mZG2ntC2muLAzxvXzG','y2HPBgq','C3rVCfnWAw5Uzxi','q29UC29Szq','Bgv2zwXZ','C3rHCNrtCgLUBMvY','vgfZAYbMywLSzwq','C3bPBM5LCKfJDgL2zq','C3rYAw5NAwz5','C2v0q29UC29Szu1Vzgu','C3rVCa','mtbuD09XEwK','zgLZCgXHEuHLBha','rMLSzsbVCgvYyxrPB246ia','C3bPBM5LCG','y29UC29Szq','q29TCgXLDgvKihrHC2S6ia','mty1mZu2nhbHEurUtq','zM9YBwf0v2vSy29Tzq','zM9YrwfJAa','zxjYB3i','mtu4mJq2Dhfhz2P6','zgvIDwC','zMfPBa','y29TyMLUzq','Bg94AweUBg9N','y3LHBG','Aw5MBW','zM9YBwf0sgvSCa','zM9Yy2vdB25ZB2XL','C3LTyM9SCW','rMLSzq','ChjVy2vZC2LUzW','C3vJy2vZCW','ngPvENjtsq','zMLSzq','C2LSzw50','DMvYyM9Zzq'];a0_0xc542=function(){return _0x1973cc;};return a0_0xc542();}import a0_0x77b25b from'ora';import a0_0x92fa1d from'chalk';function a0_0xc5fd(_0x43271f,_0x447ef2){const _0xc5426a=a0_0xc542();return a0_0xc5fd=function(_0xc5fd10,_0x4db9b7){_0xc5fd10=_0xc5fd10-0x1e0;let _0x2b8002=_0xc5426a[_0xc5fd10];if(a0_0xc5fd['udBhtu']===undefined){var _0x423e6a=function(_0x209b99){const _0x35d39a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2f366d='',_0x77b25b='';for(let _0x92fa1d=0x0,_0x27315b,_0x490c4a,_0x1a83eb=0x0;_0x490c4a=_0x209b99['charAt'](_0x1a83eb++);~_0x490c4a&&(_0x27315b=_0x92fa1d%0x4?_0x27315b*0x40+_0x490c4a:_0x490c4a,_0x92fa1d++%0x4)?_0x2f366d+=String['fromCharCode'](0xff&_0x27315b>>(-0x2*_0x92fa1d&0x6)):0x0){_0x490c4a=_0x35d39a['indexOf'](_0x490c4a);}for(let _0x5f30e8=0x0,_0x5b5035=_0x2f366d['length'];_0x5f30e8<_0x5b5035;_0x5f30e8++){_0x77b25b+='%'+('00'+_0x2f366d['charCodeAt'](_0x5f30e8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x77b25b);};a0_0xc5fd['wFTIYd']=_0x423e6a,_0x43271f=arguments,a0_0xc5fd['udBhtu']=!![];}const _0x2f3921=_0xc5426a[0x0],_0x151d14=_0xc5fd10+_0x2f3921,_0x564455=_0x43271f[_0x151d14];return!_0x564455?(_0x2b8002=a0_0xc5fd['wFTIYd'](_0x2b8002),_0x43271f[_0x151d14]=_0x2b8002):_0x2b8002=_0x564455,_0x2b8002;},a0_0xc5fd(_0x43271f,_0x447ef2);}import{outputFormatter}from'./outputFormatting.js';export class LoggingService{constructor(_0x27315b={}){const _0x2737c4=a0_0xc5fd;this[_0x2737c4(0x211)]={'logLevel':_0x27315b[_0x2737c4(0x202)]||'info','logDir':_0x27315b[_0x2737c4(0x220)]||'./logs','console':_0x27315b['console']!==undefined?_0x27315b[_0x2737c4(0x1e6)]:'errors-only','file':_0x27315b[_0x2737c4(0x1fa)]!==undefined?_0x27315b[_0x2737c4(0x1fa)]:!![],'silent':_0x27315b['silent']!==undefined?_0x27315b['silent']:![]},this[_0x2737c4(0x1e5)]=a0_0x77b25b({'color':'cyan','spinner':'dots','interval':0x50}),this[_0x2737c4(0x22c)]=![],this['currentTask']=null,this[_0x2737c4(0x204)]=null;}async[a0_0x3f72c7(0x21f)](){const _0x2ce077=a0_0x3f72c7;if(this['options']['file'])try{await a0_0x2f366d['mkdir'](this[_0x2ce077(0x211)][_0x2ce077(0x220)],{'recursive':!![]});}catch(_0x5b5035){console['error']('Error\x20creating\x20log\x20directory:\x20'+_0x5b5035['message']),this[_0x2ce077(0x211)]['file']=![];}const _0x490c4a=a0_0x209b99['format'][_0x2ce077(0x1ef)](a0_0x209b99[_0x2ce077(0x21b)][_0x2ce077(0x200)]({'format':_0x2ce077(0x20c)}),a0_0x209b99[_0x2ce077(0x21b)]['errors']({'stack':![]}),a0_0x209b99['format'][_0x2ce077(0x203)](),a0_0x209b99['format']['json']()),_0x1a83eb=a0_0x209b99[_0x2ce077(0x21b)][_0x2ce077(0x1ef)](a0_0x209b99[_0x2ce077(0x21b)]['colorize'](),a0_0x209b99['format']['timestamp']({'format':'HH:mm:ss'}),a0_0x209b99[_0x2ce077(0x21b)]['printf'](({level:_0x295ae2,message:_0x2b4a44,timestamp:_0x1c5a7b,..._0x3fd814})=>{const _0x522d19=_0x2ce077,_0x4808e2=Object['keys'](_0x3fd814)['length']?'\x0a'+JSON[_0x522d19(0x22d)](_0x3fd814,null,0x2):'';return _0x1c5a7b+'\x20'+_0x295ae2+':\x20'+_0x2b4a44+_0x4808e2;})),_0x5f30e8=[];if(this['options']['console']&&!this['options']['silent']){let _0x163c8e=this['options'][_0x2ce077(0x202)];this['options'][_0x2ce077(0x1e6)]===_0x2ce077(0x216)&&(_0x163c8e='error'),_0x5f30e8[_0x2ce077(0x221)](new a0_0x209b99['transports'][(_0x2ce077(0x228))]({'format':_0x1a83eb,'level':_0x163c8e,'silent':this['options']['silent']}));}if(this['options'][_0x2ce077(0x1fa)]){const _0x93e879=a0_0x35d39a['join'](this[_0x2ce077(0x211)]['logDir'],_0x2ce077(0x1f0)),_0x4a4f00=a0_0x35d39a[_0x2ce077(0x206)](this['options']['logDir'],_0x2ce077(0x224));_0x5f30e8['push'](new a0_0x209b99['transports'][(_0x2ce077(0x1f6))]({'filename':_0x93e879,'format':_0x490c4a,'level':this[_0x2ce077(0x211)][_0x2ce077(0x202)],'maxsize':0x500000,'maxFiles':0x5}),new a0_0x209b99['transports'][(_0x2ce077(0x1f6))]({'filename':_0x4a4f00,'format':_0x490c4a,'level':'error','maxsize':0x500000,'maxFiles':0x5}));}this['logger']=a0_0x209b99['createLogger']({'level':this[_0x2ce077(0x211)]['logLevel'],'levels':a0_0x209b99['config']['npm'][_0x2ce077(0x229)],'format':_0x490c4a,'transports':_0x5f30e8}),this['logger']['on']('error',_0x4ab22d=>{console['error']('Logger\x20error:',_0x4ab22d);});}[a0_0x3f72c7(0x1f2)](_0x314ca4,_0x4b30d6,_0x5887e6=![]){const _0x4c6502=a0_0x3f72c7;this['logger'][_0x4c6502(0x1f2)](_0x314ca4,_0x4b30d6);const _0xd37362=_0x5887e6||this[_0x4c6502(0x211)]['console']===!![]||this[_0x4c6502(0x211)][_0x4c6502(0x1e6)]==='errors-only'&&_0x5887e6;if(this[_0x4c6502(0x22c)]&&_0xd37362&&!this[_0x4c6502(0x211)][_0x4c6502(0x1fb)])this['spinner']['text']=_0x314ca4;else _0xd37362&&!this['options'][_0x4c6502(0x1fb)]&&(this['stopSpinner'](),console[_0x4c6502(0x1fd)](a0_0x92fa1d[_0x4c6502(0x1f1)](outputFormatter['symbols'][_0x4c6502(0x1f2)]),a0_0x92fa1d['cyan'](_0x314ca4)));}[a0_0x3f72c7(0x1eb)](_0x242995,_0x363422,_0x534e7d=![]){const _0x4ce94b=a0_0x3f72c7;this['stopSpinner'](),this[_0x4ce94b(0x20a)]['error'](_0x242995,_0x363422);if(!this['options']['silent']){console['error'](a0_0x92fa1d['red'](outputFormatter[_0x4ce94b(0x1f5)]['error']),a0_0x92fa1d['red']['bold'](_0x242995));if(_0x363422 instanceof Error)console[_0x4ce94b(0x1eb)](a0_0x92fa1d['red']('\x20\x20\x20'+_0x363422['message'])),_0x363422['stack']&&_0x534e7d&&console[_0x4ce94b(0x1eb)](a0_0x92fa1d['gray']('\x20\x20\x20'+_0x363422[_0x4ce94b(0x20e)]['split']('\x0a')[_0x4ce94b(0x201)](0x1)['join']('\x0a\x20\x20\x20')));else _0x363422&&console[_0x4ce94b(0x1eb)](a0_0x92fa1d['red'](_0x4ce94b(0x207)+JSON[_0x4ce94b(0x22d)](_0x363422)));}}['warn'](_0x52ece8,_0x3affd7){const _0x30e1f4=a0_0x3f72c7;this['stopSpinner'](),this[_0x30e1f4(0x20a)][_0x30e1f4(0x21a)](_0x52ece8,_0x3affd7),this['options']['console']===!![]&&!this[_0x30e1f4(0x211)]['silent']&&console['warn'](a0_0x92fa1d['yellow'](outputFormatter[_0x30e1f4(0x1f5)][_0x30e1f4(0x210)]),a0_0x92fa1d['yellow'](_0x52ece8));}[a0_0x3f72c7(0x1ed)](_0x52816d,_0x4d29a1){const _0x24aafc=a0_0x3f72c7;this[_0x24aafc(0x20a)]['debug'](_0x52816d,_0x4d29a1),this['options']['logLevel']==='debug'&&this[_0x24aafc(0x211)]['console']===!![]&&!this['options'][_0x24aafc(0x1fb)]&&(this['stopSpinner'](),console['debug'](a0_0x92fa1d['blue'](outputFormatter[_0x24aafc(0x1f5)]['bullet']),a0_0x92fa1d['blue'](_0x24aafc(0x209)+_0x52816d)));}[a0_0x3f72c7(0x1fc)](_0x4ed93a,_0x3f2a46){this['logger']['verbose'](_0x4ed93a,_0x3f2a46);}['startTask'](_0x2d4890,_0x3a9499=''){const _0x34cb82=a0_0x3f72c7;this['currentTask']=_0x2d4890,this['taskStartTime']=Date[_0x34cb82(0x208)](),this['logger'][_0x34cb82(0x1f2)](_0x34cb82(0x20d)+_0x2d4890+'\x0a'+_0x3a9499),!this[_0x34cb82(0x211)][_0x34cb82(0x1fb)]&&(this['stopSpinner'](),this[_0x34cb82(0x211)][_0x34cb82(0x1e6)]===!![]&&console[_0x34cb82(0x1fd)](outputFormatter['formatTaskStatus'](_0x2d4890,_0x34cb82(0x1f7),_0x3a9499)));}['completeTask'](_0x25b00b,_0x2c3935=!![],_0x1f28fe={}){const _0x3df110=a0_0x3f72c7,_0x4f4b14=_0x2c3935?_0x3df110(0x1f8):'error',_0x2a0075=this[_0x3df110(0x204)]?Date[_0x3df110(0x208)]()-this['taskStartTime']:null;this[_0x3df110(0x20a)][_0x3df110(0x1f2)](_0x3df110(0x1e7)+_0x25b00b,{'status':_0x4f4b14,'duration':_0x2a0075,..._0x1f28fe});if(!this['options'][_0x3df110(0x1fb)]){this[_0x3df110(0x227)]();const _0x59fe61={..._0x1f28fe,'duration':_0x2a0075},_0x414602=this[_0x3df110(0x211)]['console']===!![]||this[_0x3df110(0x211)]['console']==='errors-only'&&!_0x2c3935;_0x414602&&(_0x2c3935?console[_0x3df110(0x1fd)](outputFormatter['formatTaskStatus'](_0x25b00b,'completed','Completed\x20in\x20'+outputFormatter['formatDuration'](_0x2a0075))):console['log'](outputFormatter[_0x3df110(0x223)](_0x25b00b,'failed',_0x1f28fe[_0x3df110(0x1eb)]||_0x3df110(0x22b))));}this['currentTask']=null,this[_0x3df110(0x204)]=null;}['toolOperation'](_0x420e7c,_0xe6bb3,_0x2f8f9b,_0x401d35={}){const _0x1623d6=a0_0x3f72c7;this[_0x1623d6(0x20a)][_0x1623d6(0x1f2)]('Tool\x20operation:\x20'+_0x420e7c+'\x20'+_0xe6bb3,{'toolName':_0x420e7c,'operation':_0xe6bb3,'status':_0x2f8f9b,'details':_0x401d35}),!this[_0x1623d6(0x211)][_0x1623d6(0x1fb)]&&this['options'][_0x1623d6(0x1e6)]===!![]&&(this[_0x1623d6(0x227)](),console[_0x1623d6(0x1fd)](outputFormatter[_0x1623d6(0x20f)](_0x420e7c,_0xe6bb3,_0x2f8f9b,_0x401d35)));}[a0_0x3f72c7(0x1fe)](_0x16245d,_0x3970e8,_0x3cb64a,_0x28de9c={}){const _0x22c0d6=a0_0x3f72c7;this[_0x22c0d6(0x20a)]['info'](_0x22c0d6(0x1e4)+_0x16245d+'\x20'+_0x3970e8,{'operation':_0x16245d,'filePath':_0x3970e8,'status':_0x3cb64a,'details':_0x28de9c}),!this['options']['silent']&&this[_0x22c0d6(0x211)][_0x22c0d6(0x1e6)]===!![]&&(this[_0x22c0d6(0x227)](),console['log'](outputFormatter['formatFileOperation'](_0x16245d,_0x3970e8,_0x3cb64a,_0x28de9c)));}[a0_0x3f72c7(0x22a)](_0x47f9e6){const _0x5946e4=a0_0x3f72c7;if(this[_0x5946e4(0x211)][_0x5946e4(0x1fb)])return this[_0x5946e4(0x1e5)];return this[_0x5946e4(0x227)](),this[_0x5946e4(0x1e5)][_0x5946e4(0x21e)]=_0x47f9e6,this[_0x5946e4(0x1e5)]['start'](),this[_0x5946e4(0x22c)]=!![],this['spinner'];}[a0_0x3f72c7(0x212)](_0x1fbae2){const _0x371c15=a0_0x3f72c7;if(this['options'][_0x371c15(0x1fb)])return;this[_0x371c15(0x22c)]?this[_0x371c15(0x1e5)]['text']=_0x1fbae2:this['startSpinner'](_0x1fbae2);}['updateProgress'](_0x21086d,_0x2042b9){const _0x183b5a=a0_0x3f72c7;if(this['options'][_0x183b5a(0x1fb)])return;this['stopSpinner'](),this[_0x183b5a(0x211)][_0x183b5a(0x1e6)]===!![]&&console['log'](outputFormatter['formatProgress'](this['currentTask']||'Task',_0x2042b9,_0x21086d)),this[_0x183b5a(0x22a)](Math['floor'](_0x2042b9)+'%\x20complete...');}[a0_0x3f72c7(0x227)](){const _0x4c721e=a0_0x3f72c7;this[_0x4c721e(0x22c)]&&(this[_0x4c721e(0x1e5)][_0x4c721e(0x1e1)](),this[_0x4c721e(0x22c)]=![]);}[a0_0x3f72c7(0x21d)](_0x1af1a7){const _0x53b281=a0_0x3f72c7;if(this['options']['silent'])return;this[_0x53b281(0x22c)]&&(this['spinner']['succeed'](_0x1af1a7),this['spinnerActive']=![]);}[a0_0x3f72c7(0x214)](_0x2b7d24){const _0x42f165=a0_0x3f72c7;if(this['options'][_0x42f165(0x1fb)])return;this['spinnerActive']&&(this[_0x42f165(0x1e5)][_0x42f165(0x1ee)](_0x2b7d24),this['spinnerActive']=![]);}[a0_0x3f72c7(0x205)](){const _0x4d4af1=a0_0x3f72c7;if(this[_0x4d4af1(0x211)]['silent'])return;console[_0x4d4af1(0x1fd)](outputFormatter[_0x4d4af1(0x1e9)]());}[a0_0x3f72c7(0x1e3)](_0x458579){const _0x24b042=a0_0x3f72c7;if(this['options']['silent'])return;console['log'](outputFormatter[_0x24b042(0x1f3)](_0x458579));}[a0_0x3f72c7(0x226)](_0x2accd0){const _0x1f96a8=a0_0x3f72c7,_0x206398=new LoggingService(this[_0x1f96a8(0x211)]);return _0x206398[_0x1f96a8(0x20a)]=this['logger'][_0x1f96a8(0x226)](_0x2accd0),_0x206398;}['setLevel'](_0x36f93b){const _0x11f609=a0_0x3f72c7;this['logger']['level']=_0x36f93b,this[_0x11f609(0x211)][_0x11f609(0x202)]=_0x36f93b,this[_0x11f609(0x20a)]['transports'][_0x11f609(0x1ea)](_0x1d3795=>{const _0x1d334a=_0x11f609;_0x1d3795['name']!==_0x1d334a(0x1e6)&&(_0x1d3795['level']=_0x36f93b);});}[a0_0x3f72c7(0x1e0)](_0x37cd15){const _0x3727a9=a0_0x3f72c7;this['options'][_0x3727a9(0x1e6)]=_0x37cd15,this['logger']['transports']['forEach'](_0x2a6562=>{const _0x37d595=_0x3727a9;if(_0x2a6562['name']==='console'){if(_0x37cd15===_0x37d595(0x216))_0x2a6562[_0x37d595(0x219)]='error';else{if(_0x37cd15===!![])_0x2a6562[_0x37d595(0x219)]=this['options']['logLevel'];else _0x37cd15===![]&&(_0x2a6562['silent']=!![]);}}});}[a0_0x3f72c7(0x1f4)](_0x27ce9f,_0xfcb4c8='info'){const _0x414185=a0_0x3f72c7;this[_0x414185(0x20a)][_0xfcb4c8](_0x27ce9f);if(!this['options']['silent']){this['stopSpinner']();switch(_0xfcb4c8){case'error':console['error'](a0_0x92fa1d['red'](outputFormatter['symbols'][_0x414185(0x1eb)]),a0_0x92fa1d['red']['bold'](_0x27ce9f));break;case'warn':console['warn'](a0_0x92fa1d[_0x414185(0x21c)](outputFormatter[_0x414185(0x1f5)][_0x414185(0x210)]),a0_0x92fa1d[_0x414185(0x21c)](_0x27ce9f));break;default:console[_0x414185(0x1fd)](a0_0x92fa1d[_0x414185(0x1f1)](outputFormatter[_0x414185(0x1f5)]['info']),a0_0x92fa1d[_0x414185(0x1f1)](_0x27ce9f));break;}}}['getConfig'](){const _0x5d1860=a0_0x3f72c7;return{...this['options'],'currentTask':this[_0x5d1860(0x217)],'spinnerActive':this[_0x5d1860(0x22c)]};}['isConsoleEnabled'](_0x3492ab){const _0x33a06b=a0_0x3f72c7;if(this[_0x33a06b(0x211)][_0x33a06b(0x1fb)]||!this[_0x33a06b(0x211)]['console'])return![];if(this['options'][_0x33a06b(0x1e6)]==='errors-only')return _0x3492ab===_0x33a06b(0x1eb);return!![];}}export default LoggingService;