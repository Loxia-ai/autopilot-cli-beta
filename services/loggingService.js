const a0_0x46273d=a0_0x4186;(function(_0x543bba,_0x490cd0){const _0x10a40d=a0_0x4186,_0x43ebbc=_0x543bba();while(!![]){try{const _0x5bf8f3=-parseInt(_0x10a40d(0x103))/0x1+parseInt(_0x10a40d(0xfb))/0x2+parseInt(_0x10a40d(0x102))/0x3+parseInt(_0x10a40d(0xee))/0x4*(-parseInt(_0x10a40d(0xb7))/0x5)+-parseInt(_0x10a40d(0xdb))/0x6+-parseInt(_0x10a40d(0x105))/0x7*(-parseInt(_0x10a40d(0xe8))/0x8)+parseInt(_0x10a40d(0xcb))/0x9*(-parseInt(_0x10a40d(0x10a))/0xa);if(_0x5bf8f3===_0x490cd0)break;else _0x43ebbc['push'](_0x43ebbc['shift']());}catch(_0x2aba13){_0x43ebbc['push'](_0x43ebbc['shift']());}}}(a0_0x3ae3,0x52bd1));import a0_0x275aa0 from'winston';import a0_0x74fdd8 from'path';import a0_0x3a2ca9 from'fs/promises';import a0_0x2d176b from'ora';import a0_0x472336 from'chalk';import{outputFormatter}from'./outputFormatting.js';function a0_0x3ae3(){const _0x11bba8=['Dgv4Da','zxjYB3i','C3rHCNrtCgLUBMvY','Bg9Nz2vY','B3v0Chv0q2HHBM5LBa','DxbKyxrLuhjVz3jLC3m','zM9YrwfJAa','mta2ndmWoejzuMvoqG','y2HPBgq','rMLSzq','zMLSzq','Bg9Ntgv2zwW','Aw5PDeXVz2DLCG','zM9YBwf0rMLSzu9WzxjHDgLVBG','ndG2nJq4CfDWB01M','mtaXnJu3BKLrB3Pu','icaG','mZG5mZmZsejSyxLQ','y29UzMLN','w1DbuK5Dia','yxbWzw5KtgLUzq','BwvZC2fNzq','mtbRzuz2t2m','BM93','D2LUzg93','C3bPBM5LCG','y29TyMLUzq','D2fYBMLUzW','DgLTzxn0yw1W','Aw5MBW','AM9PBG','DNnJB2rL','revcvuC6ia','zgvIDwC','ntKWBK5Suxr0','yM9Sza','zM9YBwf0rhvYyxrPB24','y3LHBG','yNvSBgv0','ANnVBG','zxjYB3jZlw9UBhK','zgLZCgXHEvDLBgnVBwu','DhjHBNnWB3j0CW','y29TCgXLDgvK','y3jLyxrLt3v0Chv0q2HHBM5LBa','BMfTzq','C3rVCfnWAw5Uzxi','z2v0q29UzMLN','C3bSyxq','vLmGq29KzsbUB3qGyxzHAwXHyMXLlcbMywXSAw5NigjHy2SGDg8Gy29UC29SzsbSB2DNAw5N','Bg9N','C3rHCNruyxnR','Dg9VBe9WzxjHDgLVBG','Bg9NrgLY','ndG4nJa3m1zwqxrvCW','A2v5CW','vgfZAYbMywLSzwq','zxjYB3iUBg9N','CMvK','DMvYyM9Zzq','C3bPBM5LCKfJDgL2zq','zMLSzu9WzxjHDgLVBG','zM9Yy2vdB25ZB2XL','C3vJy2vLzfnWAw5Uzxi','C3rVCa','y29UC29Szq','jsbJB21WBgv0zs4UlG','C3rHy2S','C3LTyM9SCW','B3b0Aw9UCW','nZi2mZK2wKrruMD5','zM9YBwf0vg9VBe9WzxjHDgLVBG','C2LSzw50','C3rHCNq','BwTKAxi','C3rYAw5NAwz5','zM9YBwf0','C2v0q29UC29Szu1Vzgu','zM9YBwf0vgfZA1n0yxr1CW','EwvSBg93','ChjVy2vZC2LUzW','C3vJy2vLza','zM9YBwf0v2vSy29Tzq','odHirfj0AKG','ChvZAa','Bgv2zwW','y3vYCMvUDfrHC2S','DgfZA1n0yxj0vgLTzq','zM9YBwf0uhjVz3jLC3m','nJGZnLfTDwT5ua','z3jHEq','tg94AweGquK','y3jLyxrLtg9Nz2vY','D2fYBG','u3rHCNrPBMCGDgfZAZOG'];a0_0x3ae3=function(){return _0x11bba8;};return a0_0x3ae3();}export class LoggingService{constructor(_0x37ffc1={}){const _0xb7f01c=a0_0x4186;this['options']={'logLevel':_0x37ffc1[_0xb7f01c(0xff)]||'info','logDir':_0x37ffc1['logDir']||'./logs','console':_0x37ffc1[_0xb7f01c(0xd6)]!==undefined?_0x37ffc1['console']:_0xb7f01c(0xbd),'file':_0x37ffc1['file']!==undefined?_0x37ffc1['file']:!![],'silent':_0x37ffc1['silent']!==undefined?_0x37ffc1[_0xb7f01c(0xdd)]:![],'vscode':_0x37ffc1[_0xb7f01c(0xb4)]!==undefined?_0x37ffc1[_0xb7f01c(0xb4)]:![]},this['outputChannel']=null;if(this[_0xb7f01c(0xda)][_0xb7f01c(0xb4)])try{const _0x4fa5d4=require(_0xb7f01c(0xb4));this['outputChannel']=_0x4fa5d4[_0xb7f01c(0x10c)][_0xb7f01c(0xc1)](_0xb7f01c(0xf0));}catch(_0x54648a){console['warn'](_0xb7f01c(0xc6)),this['options'][_0xb7f01c(0xb4)]=![];}this['spinner']=a0_0x2d176b({'color':_0xb7f01c(0xba),'spinner':'dots','interval':0x50}),this['spinnerActive']=![],this[_0xb7f01c(0xeb)]=null,this['taskStartTime']=null;}async[a0_0x46273d(0x100)](){const _0x21b096=a0_0x46273d;if(this['options']['file'])try{await a0_0x3a2ca9[_0x21b096(0xdf)](this[_0x21b096(0xda)][_0x21b096(0xca)],{'recursive':!![]});}catch(_0x5c2f6){console[_0x21b096(0xf5)]('Error\x20creating\x20log\x20directory:\x20'+_0x5c2f6['message']),this['options'][_0x21b096(0xfe)]=![];}const _0x4686fa=a0_0x275aa0[_0x21b096(0xe1)][_0x21b096(0xaf)](a0_0x275aa0[_0x21b096(0xe1)][_0x21b096(0xb1)]({'format':'YYYY-MM-DD\x20HH:mm:ss'}),a0_0x275aa0['format']['errors']({'stack':![]}),a0_0x275aa0[_0x21b096(0xe1)][_0x21b096(0xc5)](),a0_0x275aa0[_0x21b096(0xe1)][_0x21b096(0xbc)]()),_0x308e5d=a0_0x275aa0['format'][_0x21b096(0xaf)](a0_0x275aa0['format']['colorize'](),a0_0x275aa0['format']['timestamp']({'format':'HH:mm:ss'}),a0_0x275aa0['format']['printf'](({level:_0x3b8826,message:_0x59413b,timestamp:_0x2a8fa7,..._0x12c305})=>{const _0x323b73=_0x21b096,_0x229a32=Object[_0x323b73(0xcc)](_0x12c305)['length']?'\x0a'+JSON[_0x323b73(0xe0)](_0x12c305,null,0x2):'';return _0x2a8fa7+'\x20'+_0x3b8826+':\x20'+_0x59413b+_0x229a32;})),_0x5a5639=[];if(this['options']['console']&&!this[_0x21b096(0xda)][_0x21b096(0xdd)]){let _0x2cb706=this['options']['logLevel'];this['options']['console']==='errors-only'&&(_0x2cb706=_0x21b096(0xf5)),_0x5a5639[_0x21b096(0xe9)](new a0_0x275aa0['transports']['Console']({'format':_0x308e5d,'level':_0x2cb706,'silent':this['options'][_0x21b096(0xdd)]}));}if(this[_0x21b096(0xda)][_0x21b096(0xfe)]){const _0x49d2f5=a0_0x74fdd8[_0x21b096(0xb3)](this['options']['logDir'],'loxia.log'),_0x1737b4=a0_0x74fdd8[_0x21b096(0xb3)](this['options'][_0x21b096(0xca)],_0x21b096(0xce));_0x5a5639['push'](new a0_0x275aa0['transports'][(_0x21b096(0xfd))]({'filename':_0x49d2f5,'format':_0x4686fa,'level':this[_0x21b096(0xda)]['logLevel'],'maxsize':0x500000,'maxFiles':0x5}),new a0_0x275aa0[(_0x21b096(0xbf))][(_0x21b096(0xfd))]({'filename':_0x1737b4,'format':_0x4686fa,'level':_0x21b096(0xf5),'maxsize':0x500000,'maxFiles':0x5}));}this[_0x21b096(0xf7)]=a0_0x275aa0[_0x21b096(0xf1)]({'level':this['options']['logLevel'],'levels':a0_0x275aa0[_0x21b096(0x106)]['npm']['levels'],'format':_0x4686fa,'transports':_0x5a5639}),this['logger']['on'](_0x21b096(0xf5),_0x2f3c2a=>{const _0x35e34d=_0x21b096;console[_0x35e34d(0xf5)]('Logger\x20error:',_0x2f3c2a);});}['info'](_0x2295c3,_0x258250,_0x38c58d=![]){const _0x52f08c=a0_0x46273d;this['logger'][_0x52f08c(0xb2)](_0x2295c3,_0x258250);this[_0x52f08c(0xf8)]&&this[_0x52f08c(0xf8)][_0x52f08c(0x108)]('[INFO]\x20'+_0x2295c3);const _0x4f47b6=_0x38c58d||this[_0x52f08c(0xda)]['console']===!![]||this['options'][_0x52f08c(0xd6)]===_0x52f08c(0xbd)&&_0x38c58d;if(this[_0x52f08c(0xd1)]&&_0x4f47b6&&!this[_0x52f08c(0xda)]['silent'])this['spinner'][_0x52f08c(0xf4)]=_0x2295c3;else _0x4f47b6&&!this[_0x52f08c(0xda)]['silent']&&(this[_0x52f08c(0xc3)](),console[_0x52f08c(0xc7)](a0_0x472336[_0x52f08c(0xba)](outputFormatter[_0x52f08c(0xd9)]['info']),a0_0x472336['cyan'](_0x2295c3)));}['error'](_0x54abab,_0xaf6355,_0x5bae02=![]){const _0x3294cc=a0_0x46273d;this[_0x3294cc(0xc3)](),this['logger'][_0x3294cc(0xf5)](_0x54abab,_0xaf6355);if(this[_0x3294cc(0xf8)]){this[_0x3294cc(0xf8)][_0x3294cc(0x108)]('[ERROR]\x20'+_0x54abab);if(_0xaf6355 instanceof Error)this['outputChannel']['appendLine'](_0x3294cc(0x104)+_0xaf6355[_0x3294cc(0x109)]),_0xaf6355[_0x3294cc(0xd8)]&&_0x5bae02&&this[_0x3294cc(0xf8)]['appendLine'](_0x3294cc(0x104)+_0xaf6355[_0x3294cc(0xd8)]);else _0xaf6355&&this['outputChannel'][_0x3294cc(0x108)](_0x3294cc(0x104)+JSON['stringify'](_0xaf6355));}if(!this['options'][_0x3294cc(0xdd)]){console['error'](a0_0x472336[_0x3294cc(0xcf)](outputFormatter[_0x3294cc(0xd9)]['error']),a0_0x472336[_0x3294cc(0xcf)]['bold'](_0x54abab));if(_0xaf6355 instanceof Error)console[_0x3294cc(0xf5)](a0_0x472336['red']('\x20\x20\x20'+_0xaf6355[_0x3294cc(0x109)])),_0xaf6355['stack']&&_0x5bae02&&console['error'](a0_0x472336[_0x3294cc(0xef)](_0x3294cc(0x104)+_0xaf6355['stack']['split']('\x0a')['slice'](0x1)[_0x3294cc(0xb3)]('\x0a\x20\x20\x20')));else _0xaf6355&&console['error'](a0_0x472336['red']('\x20\x20\x20'+JSON[_0x3294cc(0xe0)](_0xaf6355)));}}['warn'](_0x4a5d68,_0x4fd262){const _0x303417=a0_0x46273d;this['stopSpinner'](),this[_0x303417(0xf7)][_0x303417(0xf2)](_0x4a5d68,_0x4fd262),this['outputChannel']&&this['outputChannel']['appendLine'](_0x303417(0x107)+_0x4a5d68),this['options'][_0x303417(0xd6)]===!![]&&!this[_0x303417(0xda)]['silent']&&console[_0x303417(0xf2)](a0_0x472336['yellow'](outputFormatter[_0x303417(0xd9)][_0x303417(0xb0)]),a0_0x472336[_0x303417(0xe4)](_0x4a5d68));}[a0_0x46273d(0xb6)](_0x43f57c,_0x5cc8f0){const _0x4ee160=a0_0x46273d;this[_0x4ee160(0xf7)]['debug'](_0x43f57c,_0x5cc8f0),this['options']['logLevel']===_0x4ee160(0xb6)&&this[_0x4ee160(0xda)][_0x4ee160(0xd6)]===!![]&&!this['options'][_0x4ee160(0xdd)]&&(this[_0x4ee160(0xc3)](),console['debug'](a0_0x472336['blue'](outputFormatter['symbols'][_0x4ee160(0xbb)]),a0_0x472336['blue'](_0x4ee160(0xb5)+_0x43f57c)));}[a0_0x46273d(0xd0)](_0x5a128b,_0x4cb5ac){const _0x573bdf=a0_0x46273d;this['logger'][_0x573bdf(0xd0)](_0x5a128b,_0x4cb5ac);}[a0_0x46273d(0xc8)](_0x265c88,_0x4d085d=''){const _0x30a1e5=a0_0x46273d;this[_0x30a1e5(0xeb)]=_0x265c88,this[_0x30a1e5(0xec)]=Date['now'](),this['logger']['info'](_0x30a1e5(0xf3)+_0x265c88+'\x0a'+_0x4d085d),!this[_0x30a1e5(0xda)]['silent']&&(this['stopSpinner'](),this['options']['console']===!![]&&console['log'](outputFormatter[_0x30a1e5(0xe3)](_0x265c88,_0x30a1e5(0xe5),_0x4d085d)));}['completeTask'](_0x2fca0b,_0x236392=!![],_0xee9a82={}){const _0xf1ab=a0_0x46273d,_0x2eca21=_0x236392?'success':'error',_0x4141d6=this['taskStartTime']?Date[_0xf1ab(0x10b)]()-this[_0xf1ab(0xec)]:null;this[_0xf1ab(0xf7)][_0xf1ab(0xb2)]('Completed\x20task:\x20'+_0x2fca0b,{'status':_0x2eca21,'duration':_0x4141d6,..._0xee9a82});if(!this[_0xf1ab(0xda)][_0xf1ab(0xdd)]){this['stopSpinner']();const _0x4090cb={..._0xee9a82,'duration':_0x4141d6},_0x52bd38=this[_0xf1ab(0xda)]['console']===!![]||this[_0xf1ab(0xda)][_0xf1ab(0xd6)]==='errors-only'&&!_0x236392;_0x52bd38&&(_0x236392?console[_0xf1ab(0xc7)](outputFormatter[_0xf1ab(0xe3)](_0x2fca0b,_0xf1ab(0xc0),'Completed\x20in\x20'+outputFormatter[_0xf1ab(0xb9)](_0x4141d6))):console['log'](outputFormatter[_0xf1ab(0xe3)](_0x2fca0b,'failed',_0xee9a82[_0xf1ab(0xf5)]||_0xf1ab(0xcd))));}this['currentTask']=null,this['taskStartTime']=null;}[a0_0x46273d(0xc9)](_0x9b13f6,_0x26d828,_0x6862af,_0x5cb2e4={}){const _0x3388b8=a0_0x46273d;this['logger'][_0x3388b8(0xb2)]('Tool\x20operation:\x20'+_0x9b13f6+'\x20'+_0x26d828,{'toolName':_0x9b13f6,'operation':_0x26d828,'status':_0x6862af,'details':_0x5cb2e4}),!this[_0x3388b8(0xda)]['silent']&&this['options'][_0x3388b8(0xd6)]===!![]&&(this['stopSpinner'](),console[_0x3388b8(0xc7)](outputFormatter[_0x3388b8(0xdc)](_0x9b13f6,_0x26d828,_0x6862af,_0x5cb2e4)));}[a0_0x46273d(0xd2)](_0x1a2f72,_0x312280,_0x52ea32,_0x4666f5={}){const _0x3172fc=a0_0x46273d;this['logger'][_0x3172fc(0xb2)]('File\x20operation:\x20'+_0x1a2f72+'\x20'+_0x312280,{'operation':_0x1a2f72,'filePath':_0x312280,'status':_0x52ea32,'details':_0x4666f5}),!this['options'][_0x3172fc(0xdd)]&&this[_0x3172fc(0xda)][_0x3172fc(0xd6)]===!![]&&(this['stopSpinner'](),console['log'](outputFormatter[_0x3172fc(0x101)](_0x1a2f72,_0x312280,_0x52ea32,_0x4666f5)));}['startSpinner'](_0x3335a0){const _0x4d61a9=a0_0x46273d;if(this['options']['silent'])return this['spinner'];return this[_0x4d61a9(0xc3)](),this[_0x4d61a9(0x10d)][_0x4d61a9(0xf4)]=_0x3335a0,this['spinner'][_0x4d61a9(0xde)](),this[_0x4d61a9(0xd1)]=!![],this['spinner'];}['updateSpinner'](_0x58fa08){const _0x244b8f=a0_0x46273d;if(this[_0x244b8f(0xda)][_0x244b8f(0xdd)])return;this['spinnerActive']?this['spinner']['text']=_0x58fa08:this[_0x244b8f(0xf6)](_0x58fa08);}[a0_0x46273d(0xf9)](_0x452c4b,_0x5a6dd4){const _0x46d186=a0_0x46273d;if(this[_0x46d186(0xda)]['silent'])return;this['stopSpinner'](),this['options']['console']===!![]&&console['log'](outputFormatter[_0x46d186(0xed)](this[_0x46d186(0xeb)]||'Task',_0x5a6dd4,_0x452c4b)),this[_0x46d186(0xf6)](Math['floor'](_0x5a6dd4)+_0x46d186(0xd7));}[a0_0x46273d(0xc3)](){const _0x2230da=a0_0x46273d;this[_0x2230da(0xd1)]&&(this['spinner'][_0x2230da(0xd5)](),this['spinnerActive']=![]);}[a0_0x46273d(0xd4)](_0x28417a){const _0x699119=a0_0x46273d;if(this['options'][_0x699119(0xdd)])return;this['spinnerActive']&&(this[_0x699119(0x10d)][_0x699119(0xe6)](_0x28417a),this[_0x699119(0xd1)]=![]);}['failSpinner'](_0x4cf5b6){const _0x47ae67=a0_0x46273d;if(this['options']['silent'])return;this[_0x47ae67(0xd1)]&&(this[_0x47ae67(0x10d)]['fail'](_0x4cf5b6),this[_0x47ae67(0xd1)]=![]);}[a0_0x46273d(0xbe)](){const _0x31c572=a0_0x46273d;if(this['options'][_0x31c572(0xdd)])return;console['log'](outputFormatter[_0x31c572(0xe7)]());}['displayHelp'](_0x197dd9){const _0x33525e=a0_0x46273d;if(this[_0x33525e(0xda)]['silent'])return;console['log'](outputFormatter['formatHelp'](_0x197dd9));}['child'](_0x210073){const _0x1264aa=a0_0x46273d,_0x4339e6=new LoggingService(this['options']);return _0x4339e6[_0x1264aa(0xf7)]=this[_0x1264aa(0xf7)][_0x1264aa(0xfc)](_0x210073),_0x4339e6;}['setLevel'](_0x376a3a){const _0x38c0e8=a0_0x46273d;this[_0x38c0e8(0xf7)][_0x38c0e8(0xea)]=_0x376a3a,this['options']['logLevel']=_0x376a3a,this['logger']['transports']['forEach'](_0x5b11d0=>{const _0x58b4cc=_0x38c0e8;_0x5b11d0[_0x58b4cc(0xc2)]!==_0x58b4cc(0xd6)&&(_0x5b11d0['level']=_0x376a3a);});}[a0_0x46273d(0xe2)](_0x248830){const _0x39230b=a0_0x46273d;this['options'][_0x39230b(0xd6)]=_0x248830,this['logger']['transports'][_0x39230b(0xfa)](_0x2c71cd=>{const _0x303115=_0x39230b;if(_0x2c71cd['name']==='console'){if(_0x248830==='errors-only')_0x2c71cd['level']='error';else{if(_0x248830===!![])_0x2c71cd['level']=this[_0x303115(0xda)]['logLevel'];else _0x248830===![]&&(_0x2c71cd[_0x303115(0xdd)]=!![]);}}});}[a0_0x46273d(0xd3)](_0x360771,_0x4b3a29='info'){const _0x4346b5=a0_0x46273d;this[_0x4346b5(0xf7)][_0x4b3a29](_0x360771);if(!this['options']['silent']){this[_0x4346b5(0xc3)]();switch(_0x4b3a29){case'error':console['error'](a0_0x472336['red'](outputFormatter['symbols']['error']),a0_0x472336['red'][_0x4346b5(0xb8)](_0x360771));break;case'warn':console['warn'](a0_0x472336[_0x4346b5(0xe4)](outputFormatter['symbols'][_0x4346b5(0xb0)]),a0_0x472336[_0x4346b5(0xe4)](_0x360771));break;default:console['log'](a0_0x472336['cyan'](outputFormatter[_0x4346b5(0xd9)][_0x4346b5(0xb2)]),a0_0x472336[_0x4346b5(0xba)](_0x360771));break;}}}[a0_0x46273d(0xc4)](){const _0x5424d5=a0_0x46273d;return{...this['options'],'currentTask':this[_0x5424d5(0xeb)],'spinnerActive':this[_0x5424d5(0xd1)]};}['isConsoleEnabled'](_0x9d6db1){const _0x21864c=a0_0x46273d;if(this['options'][_0x21864c(0xdd)]||!this[_0x21864c(0xda)]['console'])return![];if(this['options']['console']==='errors-only')return _0x9d6db1===_0x21864c(0xf5);return!![];}}function a0_0x4186(_0x384602,_0x2616ee){const _0x3ae3e6=a0_0x3ae3();return a0_0x4186=function(_0x418698,_0x58580c){_0x418698=_0x418698-0xaf;let _0x32d08e=_0x3ae3e6[_0x418698];if(a0_0x4186['kaNTJZ']===undefined){var _0xb4899f=function(_0x275aa0){const _0x74fdd8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3a2ca9='',_0x2d176b='';for(let _0x472336=0x0,_0x37ffc1,_0x4fa5d4,_0x54648a=0x0;_0x4fa5d4=_0x275aa0['charAt'](_0x54648a++);~_0x4fa5d4&&(_0x37ffc1=_0x472336%0x4?_0x37ffc1*0x40+_0x4fa5d4:_0x4fa5d4,_0x472336++%0x4)?_0x3a2ca9+=String['fromCharCode'](0xff&_0x37ffc1>>(-0x2*_0x472336&0x6)):0x0){_0x4fa5d4=_0x74fdd8['indexOf'](_0x4fa5d4);}for(let _0x4686fa=0x0,_0x308e5d=_0x3a2ca9['length'];_0x4686fa<_0x308e5d;_0x4686fa++){_0x2d176b+='%'+('00'+_0x3a2ca9['charCodeAt'](_0x4686fa)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2d176b);};a0_0x4186['QWDVTH']=_0xb4899f,_0x384602=arguments,a0_0x4186['kaNTJZ']=!![];}const _0x42ef54=_0x3ae3e6[0x0],_0x2dc81d=_0x418698+_0x42ef54,_0x25d431=_0x384602[_0x2dc81d];return!_0x25d431?(_0x32d08e=a0_0x4186['QWDVTH'](_0x32d08e),_0x384602[_0x2dc81d]=_0x32d08e):_0x32d08e=_0x25d431,_0x32d08e;},a0_0x4186(_0x384602,_0x2616ee);}export default LoggingService;