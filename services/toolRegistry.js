const a0_0x3f7aeb=a0_0x46c0;(function(_0x166e28,_0x3cde66){const _0x1b0973=a0_0x46c0,_0x5a5003=_0x166e28();while(!![]){try{const _0x50f47a=parseInt(_0x1b0973(0x182))/0x1*(parseInt(_0x1b0973(0x16b))/0x2)+-parseInt(_0x1b0973(0x145))/0x3+parseInt(_0x1b0973(0x177))/0x4+parseInt(_0x1b0973(0x186))/0x5+parseInt(_0x1b0973(0x107))/0x6*(parseInt(_0x1b0973(0x171))/0x7)+parseInt(_0x1b0973(0x122))/0x8+parseInt(_0x1b0973(0x13e))/0x9*(-parseInt(_0x1b0973(0x18a))/0xa);if(_0x50f47a===_0x3cde66)break;else _0x5a5003['push'](_0x5a5003['shift']());}catch(_0x3d1ec8){_0x5a5003['push'](_0x5a5003['shift']());}}}(a0_0x2e8d,0xd2546));const a0_0x2f32fe=(function(){const _0x1fbbed=a0_0x46c0,_0xbd9bef={};_0xbd9bef['zofmQ']=function(_0x28bf3f,_0x4fad42){return _0x28bf3f===_0x4fad42;},_0xbd9bef['DwIro']=_0x1fbbed(0x184),_0xbd9bef['DUiaB']='DJrdF';const _0x41c1df=_0xbd9bef;let _0x21c6ec=!![];return function(_0x55fc7d,_0x5211e3){const _0x4e0743=_0x1fbbed,_0x299d0f={'XmjkU':function(_0x41118a,_0x5b1b83){const _0x1accc6=a0_0x46c0;return _0x41c1df[_0x1accc6(0x110)](_0x41118a,_0x5b1b83);},'ZnSUr':_0x41c1df[_0x4e0743(0x12d)],'vpibF':_0x41c1df[_0x4e0743(0x16a)],'RkKJH':_0x4e0743(0x136)},_0x11c885=_0x21c6ec?function(){const _0x9a72dc=_0x4e0743,_0x23a171={'nOsiG':'terminal','AXGUt':function(_0x68d909,_0x1aea29){const _0xe47a07=a0_0x46c0;return _0x299d0f[_0xe47a07(0x11a)](_0x68d909,_0x1aea29);},'WVehq':_0x299d0f[_0x9a72dc(0xff)]};if(_0x299d0f[_0x9a72dc(0x12a)]===_0x299d0f[_0x9a72dc(0x173)]){this[_0x9a72dc(0x190)]=_0x5a8b35;const _0x16f661=this[_0x9a72dc(0x175)][_0x9a72dc(0x106)](_0x23a171['nOsiG']);_0x16f661&&_0x23a171[_0x9a72dc(0x116)](typeof _0x16f661['setProjectDirectory'],_0x23a171[_0x9a72dc(0x149)])&&_0x16f661[_0x9a72dc(0x13c)](_0x3ee499),this[_0x9a72dc(0x178)]['info'](_0x9a72dc(0x180)+_0x3fc67b);}else{if(_0x5211e3){const _0x2d2b97=_0x5211e3[_0x9a72dc(0x12f)](_0x55fc7d,arguments);return _0x5211e3=null,_0x2d2b97;}}}:function(){};return _0x21c6ec=![],_0x11c885;};}()),a0_0x1bb0d6=a0_0x2f32fe(this,function(){const _0x5e2321=a0_0x46c0,_0x2f5270={};_0x2f5270['TlECZ']=_0x5e2321(0x15a);const _0x475f06=_0x2f5270;return a0_0x1bb0d6[_0x5e2321(0x148)]()['search'](_0x475f06[_0x5e2321(0x155)])[_0x5e2321(0x148)]()['constructor'](a0_0x1bb0d6)[_0x5e2321(0x126)](_0x475f06[_0x5e2321(0x155)]);});a0_0x1bb0d6();const a0_0x3177f0=(function(){let _0x5eeac8=!![];return function(_0x3c6589,_0x44374a){const _0x2afd9f=_0x5eeac8?function(){const _0x5c37ca=a0_0x46c0;if(_0x44374a){const _0x4685b3=_0x44374a[_0x5c37ca(0x12f)](_0x3c6589,arguments);return _0x44374a=null,_0x4685b3;}}:function(){};return _0x5eeac8=![],_0x2afd9f;};}()),a0_0x3e2e19=a0_0x3177f0(this,function(){const _0x270d06=a0_0x46c0,_0x3a4f65={'IPbAt':function(_0x564812,_0x5072b3){return _0x564812!==_0x5072b3;},'rLOWP':_0x270d06(0x143),'KApPF':_0x270d06(0x104),'AyjlB':function(_0x4830e3,_0xc49ebb){return _0x4830e3(_0xc49ebb);},'KFCKX':_0x270d06(0x120),'vFlZS':_0x270d06(0x194),'nvral':function(_0xf5e7e2){return _0xf5e7e2();},'pFZQM':_0x270d06(0x141),'lgBXC':'warn','pROHn':_0x270d06(0x105),'BPnsU':_0x270d06(0x10a),'XyBwT':_0x270d06(0x14f),'QmFJZ':'trace'},_0x168ce4=function(){const _0x344688=_0x270d06;let _0x52d753;try{if(_0x3a4f65[_0x344688(0x12e)](_0x3a4f65['rLOWP'],_0x3a4f65[_0x344688(0x163)]))_0x52d753=_0x3a4f65[_0x344688(0x13b)](Function,_0x3a4f65[_0x344688(0x127)]+_0x3a4f65[_0x344688(0x112)]+');')();else{if(!this[_0x344688(0x140)][_0x344688(0x125)](_0x14468b))throw new _0x4b7410('Tool\x20'+_0x2e31a6+'\x20not\x20found\x20in\x20registry');return this['toolDescriptions']['get'](_0xa5461f);}}catch(_0x439f1f){_0x52d753=window;}return _0x52d753;},_0x1ecb8b=_0x3a4f65[_0x270d06(0x10b)](_0x168ce4),_0x3cc9c7=_0x1ecb8b[_0x270d06(0x154)]=_0x1ecb8b[_0x270d06(0x154)]||{},_0x54fb57=[_0x3a4f65['pFZQM'],_0x3a4f65[_0x270d06(0x18d)],_0x270d06(0x17c),_0x3a4f65[_0x270d06(0x181)],_0x3a4f65['BPnsU'],_0x3a4f65[_0x270d06(0x183)],_0x3a4f65[_0x270d06(0x166)]];for(let _0x594d9d=0x0;_0x594d9d<_0x54fb57[_0x270d06(0x12b)];_0x594d9d++){const _0x898b7c=a0_0x3177f0['constructor'][_0x270d06(0x17d)]['bind'](a0_0x3177f0),_0x5191cd=_0x54fb57[_0x594d9d],_0x384ae5=_0x3cc9c7[_0x5191cd]||_0x898b7c;_0x898b7c[_0x270d06(0x128)]=a0_0x3177f0['bind'](a0_0x3177f0),_0x898b7c[_0x270d06(0x148)]=_0x384ae5['toString']['bind'](_0x384ae5),_0x3cc9c7[_0x5191cd]=_0x898b7c;}});a0_0x3e2e19();import a0_0x302b97 from'path';function a0_0x2e8d(){const _0x5066a3=['CgjRtuO','DwLuB29S','y29UzMLN','AgfZvg9VBa','z2v0vg9VBhnezxnJCMLWDgLVBG','DgfIBgu','zw50CMLLCW','qwXSihrVB2XZihnODxqGzg93BG','vg9VBcbjrdOG','twn1Bwe','y29UC29Szq','vgXfq1O','quDXDuG','CMvNAxn0zxjuB29S','zurRuK8','DxbKyxrLlxvZzxi','kcGOlISPkYKRksSK','vML3AhK','C0Dvt2S','swPjEfi','sNjLsM8','rxnXBei','zgrIuMm','zNjVBq','rhvKzKO','s0fWuey','C2H1DgrVD24','DM9QvLm','uw1gsLO','DgvYBwLUywW','z3vJEu4','rKvwv2C','rfvPyui','mteYotq0oeP6qMXwqq','rwfJAcb0B29SigHHCYbPDhmGB3DUihnWzwnPzMLJigzVCM1HDcbMB3iGy29TBwfUzhmGyxmGzgvZy3jPyMvKigfIB3zLlG','CMvNAxn0zxjcDwLSDeLUvg9VBhm','rM9YigvHy2GGDg9VBcWGDxnLifT0B29SigLKpsj0B29Sx2LKiL0Gyw5KifSVDg9VBf0GDgfNCYb0BYbZCgvJAwz5ihDOAwnOihrVB2WGDg8GDxnLlGO','sefJtxK','AezHy28','mtq5mZfgDKrWteK','C2v0teXnu2vYDMLJzq','uMTlsKG','rxjYB3iGCMvNAxn0zxjPBMCGyNvPBhqTAw4GDg9VBhm6','Dg9VBhm','y29Kzs1HBMfSExnPCW','ndK2mJm0oe5vyxnzua','Bg9Nz2vY','igrVzxmGBM90igHHDMuGyw4GzxHLy3v0zsbTzxrOB2q','zMLSzs10CMvL','ChvZAa','Aw5MBW','ChjVDg90ExbL','DhvowuO','wwH4A00','vxbKyxrLzcbWCM9Qzwn0igrPCMvJDg9YEsbMB3iGDg9VBhm6ia','Cfjpsg4','mxfezg9mDq','whLcD1q','zNvUy3rPB24','tK11v28','mJu5mZC2nvD0quj1rW','yxL6qwS','zLjlEhy','q0rwCxq','mJa2ota4nZbHyNDKy20','AMLOAw0','rxnesLG','BgDcwem','mxW0Fdj8mhWZ','tuDlDfC','ChjVAMvJDerPCG','D21mueK','igrVzxmGBM90igHHDMuGysbNzxrezxnJCMLWDgLVBIbTzxrOB2q','u2H1DhrPBMCGzg93BIb0B29SoIa','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','u2H1DhrPBMCGzg93BIbHBgWGDg9VBhm','BeD0wwu','vKnTtwO','wM5tvxi','y1vhAg8','uMvNAxn0zxjPBMCGDg9VBdOG','z2v0vg9VBa','lI4VDg9VBhmVDxbKyxrLvxnLCLrVB2WUANm','A2LOuM0','zxjYB3i','z2v0','ndu2nMzRsgD3Cq','qxzHAwXHyMXLihrVB2XZoGOk','lI4VDg9VBhmVyNjVD3nLCLrVB2WUANm','zxHJzxb0Aw9U','BNzYywW','tNrWsxK','A2v5CW','vg8GDxnLigeGDg9VBcWGD3jHCcb5B3vYignVBw1HBMrZigLUifT0B29SCY1JB21Tyw5KC10Gyw5KifSVDg9VBhmTy29TBwfUzhnDihrHz3mUcG','BgrMq2W','EM9MBve','EgvqEeO','DKzSwLm','lI4VDg9VBhmVzMLSzunVBNrLBNrszxbSywnLvg9VBc5QCW','vwPjsuG','yNjVD3nLCG','qvHhvxq','sNDuA0e','sNPutgG','BwnWvg9VBa','wg1QA1u','lI4VDg9VBhmVBwvTB3j5vg9VBc5QCW','Aw1Hz2uTz2vU','BgXTu2vYDMLJzq','q21Az20','qMTUExe','CMv0DxjUicHMDw5JDgLVBIGPia','D1fcz2y','nda2nZuYmgvXrgP5qq','wuT3zfa','lI4VDg9VBhmVDgvYBwLUywXuB29SlMPZ','AgfZ','C2vHCMnO','s0zds1G','x19WCM90B19F','uMvNAxn0zxjPBMCGyNvPBhqTAw4GDg9VBhm','DNbPyKy','BgvUz3rO','lI4VDg9VBhmVy29KzufUywX5C2LZvg9VBc5QCW','rhDjCM8','svbIqxq','yxbWBhK','z2v0rgvZy3jPChrPB24','zMLSzxn5CW','ig5VDcbMB3vUzcbPBIbYzwDPC3rYEq','C2v0','iYmG','EeDTr0i','wvLTuuW','Cfj4DNu','lI4VDg9VBhmVzMLSzvn5C3rLBvrVB2WUANm','C2vLAW','vg9VBca','qxLQBei','C2v0uhjVAMvJDerPCMvJDg9YEq','u3ftEMi','ou5pEeDTAq','BwvTB3j5','Dg9VBerLC2nYAxb0Aw9UCW','Bg9N','lI4VDg9VBhmVDwLuB29SlMPZ','sfvetgm','lI4VDg9VBhmVzMLSzvrYzwvuB29SlMPZ','ndu3ntm2mhLiy3bgCG','z2v0vg9VBeLKCW','rejhuLu','Dg9tDhjPBMC','v1zLAhe'];a0_0x2e8d=function(){return _0x5066a3;};return a0_0x2e8d();}import{promises as a0_0x49f8c1}from'fs';function a0_0x46c0(_0x6e6273,_0x5736bb){const _0x55c701=a0_0x2e8d();return a0_0x46c0=function(_0x3e2e19,_0x3177f0){_0x3e2e19=_0x3e2e19-0xfe;let _0x464500=_0x55c701[_0x3e2e19];if(a0_0x46c0['OlPpFH']===undefined){var _0x11da5e=function(_0x46c0ff){const _0x5c6a1d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xab96ba='',_0x43860a='',_0x553316=_0xab96ba+_0x11da5e;for(let _0x12b96e=0x0,_0x3ae525,_0x2e7d82,_0xc1b77e=0x0;_0x2e7d82=_0x46c0ff['charAt'](_0xc1b77e++);~_0x2e7d82&&(_0x3ae525=_0x12b96e%0x4?_0x3ae525*0x40+_0x2e7d82:_0x2e7d82,_0x12b96e++%0x4)?_0xab96ba+=_0x553316['charCodeAt'](_0xc1b77e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x3ae525>>(-0x2*_0x12b96e&0x6)):_0x12b96e:0x0){_0x2e7d82=_0x5c6a1d['indexOf'](_0x2e7d82);}for(let _0x2249d1=0x0,_0xb2ee97=_0xab96ba['length'];_0x2249d1<_0xb2ee97;_0x2249d1++){_0x43860a+='%'+('00'+_0xab96ba['charCodeAt'](_0x2249d1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x43860a);};a0_0x46c0['zGKvil']=_0x11da5e,_0x6e6273=arguments,a0_0x46c0['OlPpFH']=!![];}const _0x1bb0d6=_0x55c701[0x0],_0x2f32fe=_0x3e2e19+_0x1bb0d6,_0x2e8dc0=_0x6e6273[_0x2f32fe];if(!_0x2e8dc0){const _0x45015d=function(_0x369311){this['gVcrMG']=_0x369311,this['Kkfmps']=[0x1,0x0,0x0],this['nfbgDG']=function(){return'newState';},this['fSrnqo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BuQKjq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x45015d['prototype']['kuiwic']=function(){const _0x4db477=new RegExp(this['fSrnqo']+this['BuQKjq']),_0x1a0c76=_0x4db477['test'](this['nfbgDG']['toString']())?--this['Kkfmps'][0x1]:--this['Kkfmps'][0x0];return this['dRbubq'](_0x1a0c76);},_0x45015d['prototype']['dRbubq']=function(_0x37d021){if(!Boolean(~_0x37d021))return _0x37d021;return this['TpYnQi'](this['gVcrMG']);},_0x45015d['prototype']['TpYnQi']=function(_0x2e3297){for(let _0x5393b8=0x0,_0x542321=this['Kkfmps']['length'];_0x5393b8<_0x542321;_0x5393b8++){this['Kkfmps']['push'](Math['round'](Math['random']())),_0x542321=this['Kkfmps']['length'];}return _0x2e3297(this['Kkfmps'][0x0]);},new _0x45015d(a0_0x46c0)['kuiwic'](),_0x464500=a0_0x46c0['zGKvil'](_0x464500),_0x6e6273[_0x2f32fe]=_0x464500;}else _0x464500=_0x2e8dc0;return _0x464500;},a0_0x46c0(_0x6e6273,_0x5736bb);}export class ToolRegistry{constructor(_0x537e44,_0x4cb97c,_0x476699=null,_0x101557=null){const _0x45a603=a0_0x46c0;this[_0x45a603(0x14c)]=_0x537e44,this[_0x45a603(0x178)]=_0x4cb97c,this[_0x45a603(0x190)]=_0x101557,this[_0x45a603(0x11d)]=_0x476699,this[_0x45a603(0x175)]=new Map(),this['toolDescriptions']=new Map(),this['registerBuiltInTools']();}[a0_0x3f7aeb(0x172)](_0x52804b){const _0x270216=a0_0x3f7aeb,_0x4c3b1e={};_0x4c3b1e[_0x270216(0x13d)]=_0x270216(0x115),_0x4c3b1e[_0x270216(0x137)]='Updated\x20browser\x20tool\x20with\x20LLM\x20service\x20for\x20vision\x20capabilities';const _0x48daf4=_0x4c3b1e;this[_0x270216(0x11d)]=_0x52804b;if(this[_0x270216(0x175)][_0x270216(0x125)](_0x270216(0x115))){const _0x3d66d7=this[_0x270216(0x175)]['get'](_0x48daf4[_0x270216(0x13d)]);_0x3d66d7[_0x270216(0x172)](_0x52804b),this[_0x270216(0x178)]['info'](_0x48daf4['pRxvu']);}}[a0_0x3f7aeb(0x13c)](_0x45a4e6){const _0x44efe9=a0_0x3f7aeb,_0x24868f={};_0x24868f['DudfJ']=function(_0x3eccff,_0x527088){return _0x3eccff===_0x527088;},_0x24868f[_0x44efe9(0x10f)]=_0x44efe9(0x184),_0x24868f[_0x44efe9(0x121)]=_0x44efe9(0x167),_0x24868f[_0x44efe9(0x18c)]=function(_0x341b66,_0x36a0d2){return _0x341b66!==_0x36a0d2;},_0x24868f['DBGRU']=_0x44efe9(0x17e),_0x24868f[_0x44efe9(0x123)]=_0x44efe9(0x165);const _0x5786f0=_0x24868f;this[_0x44efe9(0x190)]=_0x45a4e6;const _0x37f06d=this['tools'][_0x44efe9(0x106)](_0x5786f0[_0x44efe9(0x121)]);_0x37f06d&&_0x5786f0[_0x44efe9(0x162)](typeof _0x37f06d['setProjectDirectory'],'function')&&(_0x5786f0[_0x44efe9(0x18c)](_0x5786f0[_0x44efe9(0x147)],_0x5786f0[_0x44efe9(0x123)])?_0x37f06d['setProjectDirectory'](_0x45a4e6):_0x5786f0[_0x44efe9(0x162)](typeof _0x2a4473[_0x44efe9(0x164)],_0x5786f0[_0x44efe9(0x10f)])&&(this[_0x44efe9(0x178)][_0x44efe9(0x17c)](_0x44efe9(0x193)+_0x453e40),_0x4a0b56[_0x44efe9(0x17b)](_0x1692c1[_0x44efe9(0x164)]()))),this[_0x44efe9(0x178)][_0x44efe9(0x17c)](_0x44efe9(0x180)+_0x45a4e6);}async[a0_0x3f7aeb(0x16d)](){const _0x4fc384=a0_0x3f7aeb,_0x4f603a={};_0x4f603a['eDkRO']=_0x4fc384(0x129),_0x4f603a[_0x4fc384(0x169)]=_0x4fc384(0x115),_0x4f603a[_0x4fc384(0x18b)]=_0x4fc384(0x167),_0x4f603a[_0x4fc384(0x117)]=_0x4fc384(0x138),_0x4f603a[_0x4fc384(0x15b)]=_0x4fc384(0x131),_0x4f603a[_0x4fc384(0x15e)]='../tools/imageTool.js',_0x4f603a[_0x4fc384(0x16f)]=_0x4fc384(0x11c),_0x4f603a[_0x4fc384(0x156)]=_0x4fc384(0x144),_0x4f603a[_0x4fc384(0x15d)]=_0x4fc384(0x139),_0x4f603a[_0x4fc384(0x11f)]=_0x4fc384(0x11b),_0x4f603a['NMuWo']=_0x4fc384(0x13f),_0x4f603a[_0x4fc384(0x15c)]=_0x4fc384(0x12c),_0x4f603a[_0x4fc384(0x15f)]=_0x4fc384(0x113),_0x4f603a[_0x4fc384(0x18f)]=_0x4fc384(0x153),_0x4f603a[_0x4fc384(0x168)]=_0x4fc384(0x142),_0x4f603a['YhxkM']=_0x4fc384(0x103),_0x4f603a['lGtYe']=_0x4fc384(0x159),_0x4f603a['UjIIH']=_0x4fc384(0x174);const _0xbc6f29=_0x4f603a;this['logger'][_0x4fc384(0x17c)](_0xbc6f29[_0x4fc384(0x158)]);try{const {BrowserTool:_0x565001}=await import(_0x4fc384(0x109)),_0x554d77=new _0x565001(this[_0x4fc384(0x14c)],this['logger'],this[_0x4fc384(0x11d)]);this['registerTool'](_0xbc6f29[_0x4fc384(0x169)],_0x554d77);const {TerminalTool:_0x322c78}=await import(_0x4fc384(0x124)),_0x3c6d1a=new _0x322c78(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)],undefined,this[_0x4fc384(0x190)]);this['registerTool'](_0xbc6f29[_0x4fc384(0x18b)],_0x3c6d1a);const {FileSystemTool:_0x273a3c}=await import(_0xbc6f29[_0x4fc384(0x117)]),_0x5a60e5=new _0x273a3c(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this['registerTool'](_0xbc6f29[_0x4fc384(0x15b)],_0x5a60e5);const {ImageTool:_0x2a10b2}=await import(_0xbc6f29[_0x4fc384(0x15e)]),_0x1e61d3=new _0x2a10b2(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this[_0x4fc384(0x157)](_0xbc6f29[_0x4fc384(0x16f)],_0x1e61d3);const {FileTreeTool:_0x146195}=await import(_0xbc6f29['AGquH']),_0xc91846=new _0x146195(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this[_0x4fc384(0x157)](_0x4fc384(0x17a),_0xc91846);const {SeekTool:_0x1169a1}=await import('../tools/seekTool.js'),_0x462689=new _0x1169a1(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this[_0x4fc384(0x157)](_0xbc6f29[_0x4fc384(0x15d)],_0x462689);const {MemoryTool:_0x187e18}=await import(_0xbc6f29[_0x4fc384(0x11f)]),_0x2b05b8=new _0x187e18(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this[_0x4fc384(0x157)](_0xbc6f29[_0x4fc384(0x185)],_0x2b05b8);const {CodeAnalysisTool:_0x1f43af}=await import(_0xbc6f29[_0x4fc384(0x15c)]),_0x1bcdd1=new _0x1f43af(this['config'],this[_0x4fc384(0x178)]);this['registerTool'](_0x4fc384(0x176),_0x1bcdd1);const {FileContentReplaceTool:_0x1c4207}=await import(_0xbc6f29[_0x4fc384(0x15f)]),_0x1213bf=new _0x1c4207(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this[_0x4fc384(0x157)]('file-content-replace',_0x1213bf);if(this[_0x4fc384(0x14c)][_0x4fc384(0x175)]?.[_0x4fc384(0x119)]?.['enabled']){const _0x2df8f0=new MCPClientTool(this[_0x4fc384(0x14c)],this['logger']);this[_0x4fc384(0x157)]('mcp-client',_0x2df8f0);}if(this[_0x4fc384(0x14c)][_0x4fc384(0x175)]?.[_0x4fc384(0x14b)]?.['enabled']){if(_0xbc6f29[_0x4fc384(0x18f)]!==_0x4fc384(0x188)){const _0x4819cd=await import(_0xbc6f29[_0x4fc384(0x168)]),_0x1d2515=new _0x4819cd(this[_0x4fc384(0x14c)],this[_0x4fc384(0x178)]);this[_0x4fc384(0x157)]('ui',_0x1d2515);}else this[_0x4fc384(0x14c)]=_0xf30540,this[_0x4fc384(0x178)]=_0x11a20a,this[_0x4fc384(0x190)]=_0x4275f4,this[_0x4fc384(0x11d)]=_0x46a0ed,this[_0x4fc384(0x175)]=new _0x42071d(),this[_0x4fc384(0x140)]=new _0x4c94f0(),this[_0x4fc384(0x16d)]();}const {UpdateUserTool:_0x5584da}=await import(_0xbc6f29[_0x4fc384(0x17f)]),_0x1e2cd8=new _0x5584da(this[_0x4fc384(0x14c)],this['logger']);this['registerTool'](_0xbc6f29[_0x4fc384(0x196)],_0x1e2cd8),this[_0x4fc384(0x178)][_0x4fc384(0x17c)]('Registered\x20'+this[_0x4fc384(0x175)]['size']+'\x20tools');}catch(_0x417fbb){this['logger'][_0x4fc384(0x105)](_0xbc6f29[_0x4fc384(0x114)],_0x417fbb);throw _0x417fbb;}}['registerTool'](_0x2ad48f,_0x28e39c){const _0x2f481e=a0_0x3f7aeb,_0x4c4e32={};_0x4c4e32[_0x2f481e(0x111)]=_0x2f481e(0x184),_0x4c4e32['ddbRc']=function(_0x4c4447,_0x10ca9f){return _0x4c4447!==_0x10ca9f;};const _0x2cdbc8=_0x4c4e32,_0x4de17f=_0x2f481e(0x18e)['split']('|');let _0x32acf2=0x0;while(!![]){switch(_0x4de17f[_0x32acf2++]){case'0':this[_0x2f481e(0x175)][_0x2f481e(0x133)](_0x2ad48f,_0x28e39c);continue;case'1':this['logger'][_0x2f481e(0x17c)](_0x2f481e(0x101)+_0x2ad48f);continue;case'2':if(typeof _0x28e39c['getDescription']!==_0x2cdbc8['xePxJ'])throw new Error('Tool\x20'+_0x2ad48f+_0x2f481e(0x192));continue;case'3':this[_0x2f481e(0x140)]['set'](_0x2ad48f,_0x28e39c[_0x2f481e(0x130)]());continue;case'4':if(_0x2cdbc8[_0x2f481e(0x160)](typeof _0x28e39c['execute'],_0x2cdbc8[_0x2f481e(0x111)]))throw new Error(_0x2f481e(0x13a)+_0x2ad48f+_0x2f481e(0x179));continue;}break;}}[a0_0x3f7aeb(0x14d)](_0x567518){const _0x4bdce9=a0_0x3f7aeb;return this['tools'][_0x4bdce9(0x125)](_0x567518);}[a0_0x3f7aeb(0x102)](_0x3ad07d){const _0x43b7b0=a0_0x3f7aeb;if(!this[_0x43b7b0(0x175)]['has'](_0x3ad07d))throw new Error('Tool\x20'+_0x3ad07d+'\x20not\x20found\x20in\x20registry');return this[_0x43b7b0(0x175)][_0x43b7b0(0x106)](_0x3ad07d);}[a0_0x3f7aeb(0x146)](){const _0x518f81=a0_0x3f7aeb;return Array[_0x518f81(0x161)](this[_0x518f81(0x175)][_0x518f81(0x10d)]());}[a0_0x3f7aeb(0x14e)](){const _0x97541d=a0_0x3f7aeb;let _0x2e69a3='';for(const [_0x11dad1,_0x5da977]of this[_0x97541d(0x140)][_0x97541d(0x150)]()){_0x2e69a3+=_0x97541d(0x152)+_0x11dad1+'\x0a',_0x2e69a3+=_0x5da977+'\x0a\x0a';}return _0x2e69a3;}['getToolDescription'](_0x52c88b){const _0x4e53d9=a0_0x3f7aeb,_0x32ed41={};_0x32ed41[_0x4e53d9(0x14a)]=_0x4e53d9(0x108),_0x32ed41[_0x4e53d9(0x189)]=_0x4e53d9(0x16e),_0x32ed41['hFaco']=_0x4e53d9(0x16c),_0x32ed41[_0x4e53d9(0xfe)]=_0x4e53d9(0x11e),_0x32ed41['NtpIy']='MVRZv';const _0x268882=_0x32ed41;if(!this[_0x4e53d9(0x140)]['has'](_0x52c88b)){if(_0x268882[_0x4e53d9(0xfe)]===_0x268882[_0x4e53d9(0x10c)]){let _0x281679=_0x268882[_0x4e53d9(0x14a)];for(const [_0x5e19ad,_0x304ac1]of this[_0x4e53d9(0x140)][_0x4e53d9(0x150)]()){_0x281679+=_0x4e53d9(0x134)+_0x5e19ad+'\x0a',_0x281679+=_0x304ac1+'\x0a\x0a';}return _0x281679+=_0x4e53d9(0x10e),_0x281679+=_0x268882['CDVqt'],_0x281679+=_0x268882[_0x4e53d9(0x170)],_0x281679;}else throw new Error('Tool\x20'+_0x52c88b+_0x4e53d9(0x132));}return this[_0x4e53d9(0x140)][_0x4e53d9(0x106)](_0x52c88b);}['createToolsSystemPrompt'](){const _0x5b7a22=a0_0x3f7aeb,_0x1d03d6={};_0x1d03d6[_0x5b7a22(0x191)]='Available\x20tools:\x0a\x0a',_0x1d03d6[_0x5b7a22(0x100)]=_0x5b7a22(0x10e),_0x1d03d6[_0x5b7a22(0x118)]=_0x5b7a22(0x16e);const _0x158312=_0x1d03d6;let _0x1d7479=_0x158312['wmLPI'];for(const [_0x219e90,_0x3a1ad4]of this[_0x5b7a22(0x140)]['entries']()){_0x1d7479+=_0x5b7a22(0x134)+_0x219e90+'\x0a',_0x1d7479+=_0x3a1ad4+'\x0a\x0a';}return _0x1d7479+=_0x158312[_0x5b7a22(0x100)],_0x1d7479+=_0x158312[_0x5b7a22(0x118)],_0x1d7479+=_0x5b7a22(0x16c),_0x1d7479;}async[a0_0x3f7aeb(0x164)](){const _0x426d99=a0_0x3f7aeb,_0x5b4665={};_0x5b4665[_0x426d99(0x187)]=_0x426d99(0x184),_0x5b4665[_0x426d99(0x135)]=_0x426d99(0x151);const _0x3f733d=_0x5b4665;this[_0x426d99(0x178)][_0x426d99(0x17c)](_0x426d99(0x195));const _0x132520=[];for(const [_0x42a2e8,_0x5fefad]of this['tools']['entries']()){typeof _0x5fefad[_0x426d99(0x164)]===_0x3f733d[_0x426d99(0x187)]&&(this[_0x426d99(0x178)][_0x426d99(0x17c)](_0x426d99(0x193)+_0x42a2e8),_0x132520[_0x426d99(0x17b)](_0x5fefad[_0x426d99(0x164)]()));}await Promise['allSettled'](_0x132520),this[_0x426d99(0x178)][_0x426d99(0x17c)](_0x3f733d['xGmGB']);}}