const a0_0x1bf85d=a0_0x9702;(function(_0x3c8905,_0x425dce){const _0xf72289=a0_0x9702,_0x5f1503=_0x3c8905();while(!![]){try{const _0x11f9f0=-parseInt(_0xf72289(0x232))/0x1*(-parseInt(_0xf72289(0x238))/0x2)+parseInt(_0xf72289(0x20c))/0x3*(parseInt(_0xf72289(0x1e5))/0x4)+parseInt(_0xf72289(0x225))/0x5*(parseInt(_0xf72289(0x1ed))/0x6)+-parseInt(_0xf72289(0x1d0))/0x7*(parseInt(_0xf72289(0x1cf))/0x8)+parseInt(_0xf72289(0x250))/0x9+-parseInt(_0xf72289(0x211))/0xa*(-parseInt(_0xf72289(0x1c5))/0xb)+-parseInt(_0xf72289(0x1c8))/0xc;if(_0x11f9f0===_0x425dce)break;else _0x5f1503['push'](_0x5f1503['shift']());}catch(_0x712c72){_0x5f1503['push'](_0x5f1503['shift']());}}}(a0_0x3ec4,0x5bc8d));const a0_0x5c6c16=(function(){const _0x128deb=a0_0x9702,_0x20e54e={};_0x20e54e[_0x128deb(0x24a)]=_0x128deb(0x1f3),_0x20e54e['pAcmu']=_0x128deb(0x23f),_0x20e54e[_0x128deb(0x1c4)]=_0x128deb(0x1e1);const _0x3b9ab9=_0x20e54e;let _0x4058fd=!![];return function(_0x4db977,_0x2f0a0b){const _0x36e0aa=_0x128deb,_0x366667={};_0x366667[_0x36e0aa(0x251)]=function(_0x2926c1,_0x552a6d){return _0x2926c1===_0x552a6d;},_0x366667['CDhjt']=_0x3b9ab9[_0x36e0aa(0x24a)],_0x366667[_0x36e0aa(0x23b)]=_0x3b9ab9[_0x36e0aa(0x249)],_0x366667[_0x36e0aa(0x1f0)]=_0x3b9ab9[_0x36e0aa(0x1c4)];const _0x3ced13=_0x366667,_0x5b9724=_0x4058fd?function(){const _0x5855ff=_0x36e0aa;if(_0x3ced13[_0x5855ff(0x251)](_0x3ced13[_0x5855ff(0x1df)],_0x3ced13[_0x5855ff(0x23b)])){const _0x1c5e61=this['tools'][_0x5855ff(0x22c)]('browser');_0x1c5e61['setLLMService'](_0x5a546a),this[_0x5855ff(0x1d9)][_0x5855ff(0x1d2)]('Updated\x20browser\x20tool\x20with\x20LLM\x20service\x20for\x20vision\x20capabilities');}else{if(_0x2f0a0b){if(_0x3ced13[_0x5855ff(0x251)](_0x3ced13[_0x5855ff(0x1f0)],_0x3ced13[_0x5855ff(0x1f0)])){const _0x2906d1=_0x2f0a0b[_0x5855ff(0x227)](_0x4db977,arguments);return _0x2f0a0b=null,_0x2906d1;}else _0x4310c8=_0x438cbf;}}}:function(){};return _0x4058fd=![],_0x5b9724;};}()),a0_0x52162a=a0_0x5c6c16(this,function(){const _0x2c4813=a0_0x9702,_0x1bec2a={};_0x1bec2a[_0x2c4813(0x21e)]=_0x2c4813(0x1e6);const _0x53a2e1=_0x1bec2a;return a0_0x52162a[_0x2c4813(0x21a)]()[_0x2c4813(0x1fc)](_0x53a2e1[_0x2c4813(0x21e)])[_0x2c4813(0x21a)]()['constructor'](a0_0x52162a)[_0x2c4813(0x1fc)](_0x53a2e1[_0x2c4813(0x21e)]);});a0_0x52162a();const a0_0x48e3d3=(function(){const _0x3ab209=a0_0x9702,_0x597340={};_0x597340[_0x3ab209(0x1cd)]='To\x20use\x20a\x20tool,\x20wrap\x20your\x20commands\x20in\x20[tools-commands]\x20and\x20[/tools-commands]\x20tags.\x0a',_0x597340[_0x3ab209(0x20e)]=_0x3ab209(0x255),_0x597340['vJsBQ']=_0x3ab209(0x205);const _0x40206c=_0x597340;let _0x107178=!![];return function(_0x1cc4a0,_0x2737b0){const _0x4117bd=_0x107178?function(){const _0x23c78f=a0_0x9702,_0x1a9f49={};_0x1a9f49[_0x23c78f(0x253)]=_0x40206c[_0x23c78f(0x1cd)],_0x1a9f49[_0x23c78f(0x1f6)]='For\x20each\x20tool,\x20use\x20[tool\x20id=\x22tool_id\x22]\x20and\x20[/tool]\x20tags\x20to\x20specify\x20which\x20tool\x20to\x20use.\x0a',_0x1a9f49[_0x23c78f(0x1de)]=_0x40206c[_0x23c78f(0x20e)];const _0x55075a=_0x1a9f49;if(_0x40206c[_0x23c78f(0x1f8)]===_0x40206c[_0x23c78f(0x1f8)]){if(_0x2737b0){const _0xac31c7=_0x2737b0[_0x23c78f(0x227)](_0x1cc4a0,arguments);return _0x2737b0=null,_0xac31c7;}}else{let _0x137574=_0x23c78f(0x221);for(const [_0x3df00f,_0x1157bd]of this[_0x23c78f(0x22d)][_0x23c78f(0x1f5)]()){_0x137574+=_0x23c78f(0x222)+_0x3df00f+'\x0a',_0x137574+=_0x1157bd+'\x0a\x0a';}return _0x137574+=_0x55075a[_0x23c78f(0x253)],_0x137574+=_0x55075a[_0x23c78f(0x1f6)],_0x137574+=_0x55075a[_0x23c78f(0x1de)],_0x137574;}}:function(){};return _0x107178=![],_0x4117bd;};}()),a0_0x20b7e2=a0_0x48e3d3(this,function(){const _0x360fd2=a0_0x9702,_0x3039b3={'kMWPT':_0x360fd2(0x1e6),'dcoxB':function(_0x22016e,_0x37c18a){return _0x22016e!==_0x37c18a;},'WxjSV':_0x360fd2(0x240),'Onejh':'return\x20(function()\x20','GSGAk':function(_0x475748){return _0x475748();},'Ydmus':_0x360fd2(0x1ec),'rUuWx':'warn','kncWQ':_0x360fd2(0x1d2),'ikEnc':_0x360fd2(0x21b),'HMgQt':_0x360fd2(0x245),'antcU':function(_0x268a21,_0x1d63a6){return _0x268a21<_0x1d63a6;}},_0x3e2d48=function(){const _0x101676=_0x360fd2;if(_0x3039b3[_0x101676(0x1d7)](_0x3039b3[_0x101676(0x1e9)],_0x3039b3[_0x101676(0x1e9)]))return _0x52b11d[_0x101676(0x21a)]()[_0x101676(0x1fc)](_0x101676(0x1e6))[_0x101676(0x21a)]()['constructor'](_0x342802)[_0x101676(0x1fc)](_0x3039b3[_0x101676(0x1da)]);else{let _0x448e12;try{_0x448e12=Function(_0x3039b3[_0x101676(0x254)]+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3bd95e){_0x448e12=window;}return _0x448e12;}},_0x34b1d9=_0x3039b3[_0x360fd2(0x208)](_0x3e2d48),_0x4d15eb=_0x34b1d9[_0x360fd2(0x243)]=_0x34b1d9[_0x360fd2(0x243)]||{},_0x257dc2=[_0x3039b3[_0x360fd2(0x1d6)],_0x3039b3[_0x360fd2(0x1e3)],_0x3039b3[_0x360fd2(0x22f)],_0x360fd2(0x1ee),_0x360fd2(0x1e2),_0x3039b3[_0x360fd2(0x252)],_0x3039b3['HMgQt']];for(let _0x128251=0x0;_0x3039b3[_0x360fd2(0x1cb)](_0x128251,_0x257dc2[_0x360fd2(0x235)]);_0x128251++){const _0x1f71a8=a0_0x48e3d3[_0x360fd2(0x1c3)][_0x360fd2(0x25b)][_0x360fd2(0x1ff)](a0_0x48e3d3),_0x103c0d=_0x257dc2[_0x128251],_0x57e759=_0x4d15eb[_0x103c0d]||_0x1f71a8;_0x1f71a8[_0x360fd2(0x1d4)]=a0_0x48e3d3[_0x360fd2(0x1ff)](a0_0x48e3d3),_0x1f71a8[_0x360fd2(0x21a)]=_0x57e759['toString'][_0x360fd2(0x1ff)](_0x57e759),_0x4d15eb[_0x103c0d]=_0x1f71a8;}});function a0_0x3ec4(){const _0x5cffa8=['yNjVD3nLCG','C2L6zq','ihrVB2XZ','rhjAtva','tMzxtgC','ChjVDg90ExbL','DgvYBwLUywW','wMrvD2O','AhPireC','BMLHCgW','y29UC3rYDwn0B3i','uffUEhu','mtfnvMfmEe0','A0DRv0C','u2H1DhrPBMCGzg93BIb0B29SoIa','mtmZntyYntjVEgX3tMq','ChvZAa','BhrXyMO','yw50y1u','vxbKyxrLzcbICM93C2vYihrVB2WGD2L0Acbmte0GC2vYDMLJzsbMB3iGDMLZAw9UignHCgfIAwXPDgLLCW','s2DQvxO','vMPcEgi','oeLAv1z6qG','mZe4nZKZm3jPCw5syq','zMLSzxn5CW','Aw5MBW','zNvUy3rPB24','x19WCM90B19F','Chb3wMS','wwrTDxm','zgnVEei','AgfZ','Bg9Nz2vY','A01xufq','sgLtt3K','z2v0vg9VBa','zw5HyMXLza','sgrfyNq','q0rOANq','y3jLyxrLvg9VBhntExn0zw1qCM9TChq','EgzTDMe','zxHJzxb0Aw9U','CLv1v3G','ChjVAMvJDerPCG','nZCWmdrvEgnTr2O','kcGOlISPkYKRksSK','ig5VDcbMB3vUzcbPBIbYzwDPC3rYEq','vg8GDxnLigeGDg9VBcWGD3jHCcb5B3vYignVBw1HBMrZigLUifT0B29SCY1JB21Tyw5KC10Gyw5KifSVDg9VBhmTy29TBwfUzhnDihrHz3mUcG','v3HQu1y','z2v0vg9VBeLKCW','wfrbseq','Bg9N','mZiXnJG0wxL1wev4','zxjYB3i','EuLHz0u','zxveuLy','wwn2Eey','q0Hht1a','qvDJCee','igrVzxmGBM90igHHDMuGysbNzxrezxnJCMLWDgLVBIbTzxrOB2q','zw50CMLLCW','vfrsANu','lI4VDg9VBhmVBwvTB3j5vg9VBc5QCW','DKPZqLe','vg9VBca','rwDczfm','DwLuB29S','C2vHCMnO','u2jjt3O','lI4VDg9VBhmVDxbKyxrLvxnLCLrVB2WUANm','yMLUza','t2L5uwu','DxbKyxrLlxvZzxi','Dg9VBhm','CMvNAxn0zxjuB29S','BwnWvg9VBa','CejLzwC','mxWWFdn8mNW0','zxHLy3v0zq','r1nhqwS','rKPRD2q','lI4VDg9VBhmVDgvYBwLUywXuB29SlMPZ','CMvNAxn0zxjcDwLSDeLUvg9VBhm','ndvOrLrVuvm','C2v0','AKjevMm','lI4VDg9VBhmVzMLSzvrYzwvuB29SlMPZ','zMLSzs10CMvL','mtm3ndGYmfbetLHWEq','vMvWv3O','C2v0teXnu2vYDMLJzq','wM92uvi','Ae9Js2m','rM9YigvHy2GGDg9VBcWGDxnLifT0B29SigLKpsj0B29Sx2LKiL0Gyw5KifSVDg9VBf0GDgfNCYb0BYbZCgvJAwz5ihDOAwnOihrVB2WGDg8GDxnLlGO','Aw1Hz2uTz2vU','y29Kzs1HBMfSExnPCW','DxLVBwG','Dg9tDhjPBMC','DgfIBgu','uw1lt00','ywXSu2v0DgXLza','u3DdDeW','uMvNAxn0zxjPBMCGyNvPBhqTAw4GDg9VBhm','z2v0rgvZy3jPChrPB24','qxzHAwXHyMXLihrVB2XZoGOk','iYmG','CufuBgi','uMvNAxn0zxjPBMCGDg9VBdOG','mtbyue9OsuS','Bvviz1u','yxbWBhK','vxbKyxrLzcbWCM9Qzwn0igrPCMvJDg9YEsbMB3iGDg9VBhm6ia','qxH4rwy','BgXTu2vYDMLJzq','C2H1DgrVD24','z2v0','Dg9VBerLC2nYAxb0Aw9UCW','lI4VDg9VBhmVzMLSzvn5C3rLBvrVB2WUANm','A25Jv1e','ue1VAvq','tMr6quK','ou9Ar3DnCW','CM1rsKG','v1HYAge','BgvUz3rO','lI4VDg9VBhmVyNjVD3nLCLrVB2WUANm','lI4VDg9VBhmVzMLSzunVBNrLBNrszxbSywnLvg9VBc5QCW','mtq3mJCWyKDoyLDv','z2v0vg9VBerLC2nYAxb0Aw9U','weD0zeS','z0T3Dgu','vg9VBcbjrdOG','q3f5A1C','yMT0yuW','veP0DeW','q25VtKi','C3bSAxq','lI4VDg9VBhmVDwLuB29SlMPZ','y29UC29Szq','z2v0vg9VBhnezxnJCMLWDgLVBG','DhjHy2u','zNjVBq','vgDLv1m','BwvTB3j5','CefJBxu','rNHmuLa','tvPIqvO','y29UzMLN','qwXSihrVB2XZihnODxqGzg93BG','C2vLAW','lI4VDg9VBhmVAw1Hz2vuB29SlMPZ','nJCZmZC5muLYvujsAq','Cw93EMq','AwTfBMm','zLLWuhi','t25LAMG','rwfJAcb0B29SigHHCYbPDhmGB3DUihnWzwnPzMLJigzVCM1HDcbMB3iGy29TBwfUzhmGyxmGzgvZy3jPyMvKigfIB3zLlG'];a0_0x3ec4=function(){return _0x5cffa8;};return a0_0x3ec4();}a0_0x20b7e2();import a0_0x19adac from'path';function a0_0x9702(_0x50eaf2,_0x5be831){const _0x152391=a0_0x3ec4();return a0_0x9702=function(_0x20b7e2,_0x48e3d3){_0x20b7e2=_0x20b7e2-0x1c1;let _0x3bde0c=_0x152391[_0x20b7e2];if(a0_0x9702['dYWCMH']===undefined){var _0x28f3cb=function(_0x9702ba){const _0x4928ea='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xd343c3='',_0x33f918='',_0x293516=_0xd343c3+_0x28f3cb;for(let _0x547a21=0x0,_0x2fbe87,_0x43292b,_0x36174c=0x0;_0x43292b=_0x9702ba['charAt'](_0x36174c++);~_0x43292b&&(_0x2fbe87=_0x547a21%0x4?_0x2fbe87*0x40+_0x43292b:_0x43292b,_0x547a21++%0x4)?_0xd343c3+=_0x293516['charCodeAt'](_0x36174c+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x2fbe87>>(-0x2*_0x547a21&0x6)):_0x547a21:0x0){_0x43292b=_0x4928ea['indexOf'](_0x43292b);}for(let _0x292ce9=0x0,_0x326d97=_0xd343c3['length'];_0x292ce9<_0x326d97;_0x292ce9++){_0x33f918+='%'+('00'+_0xd343c3['charCodeAt'](_0x292ce9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x33f918);};a0_0x9702['guxjpx']=_0x28f3cb,_0x50eaf2=arguments,a0_0x9702['dYWCMH']=!![];}const _0x52162a=_0x152391[0x0],_0x5c6c16=_0x20b7e2+_0x52162a,_0x3ec4fc=_0x50eaf2[_0x5c6c16];if(!_0x3ec4fc){const _0x9e7543=function(_0x44d955){this['IXivZy']=_0x44d955,this['LioVEJ']=[0x1,0x0,0x0],this['RNaeMi']=function(){return'newState';},this['OlZqdr']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['QBntfb']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x9e7543['prototype']['LLEYAn']=function(){const _0x29f4d3=new RegExp(this['OlZqdr']+this['QBntfb']),_0x2e2cbe=_0x29f4d3['test'](this['RNaeMi']['toString']())?--this['LioVEJ'][0x1]:--this['LioVEJ'][0x0];return this['fZwsdI'](_0x2e2cbe);},_0x9e7543['prototype']['fZwsdI']=function(_0x34c11c){if(!Boolean(~_0x34c11c))return _0x34c11c;return this['edvDjr'](this['IXivZy']);},_0x9e7543['prototype']['edvDjr']=function(_0x31255c){for(let _0x5bf0ee=0x0,_0x26ea2f=this['LioVEJ']['length'];_0x5bf0ee<_0x26ea2f;_0x5bf0ee++){this['LioVEJ']['push'](Math['round'](Math['random']())),_0x26ea2f=this['LioVEJ']['length'];}return _0x31255c(this['LioVEJ'][0x0]);},new _0x9e7543(a0_0x9702)['LLEYAn'](),_0x3bde0c=a0_0x9702['guxjpx'](_0x3bde0c),_0x50eaf2[_0x5c6c16]=_0x3bde0c;}else _0x3bde0c=_0x3ec4fc;return _0x3bde0c;},a0_0x9702(_0x50eaf2,_0x5be831);}import{promises as a0_0x57d1f7}from'fs';export class ToolRegistry{constructor(_0x5e20ff,_0x1f8d55,_0x569871=null,_0x1cb133=null){const _0x1e0fb7=a0_0x9702,_0x10977c={};_0x10977c[_0x1e0fb7(0x1f2)]='5|4|2|0|6|3|1';const _0x4f5a38=_0x10977c,_0x44b9aa=_0x4f5a38[_0x1e0fb7(0x1f2)][_0x1e0fb7(0x241)]('|');let _0x33d161=0x0;while(!![]){switch(_0x44b9aa[_0x33d161++]){case'0':this[_0x1e0fb7(0x22a)]=_0x569871;continue;case'1':this[_0x1e0fb7(0x20b)]();continue;case'2':this[_0x1e0fb7(0x1e4)]=_0x1cb133;continue;case'3':this['toolDescriptions']=new Map();continue;case'4':this[_0x1e0fb7(0x1d9)]=_0x1f8d55;continue;case'5':this['config']=_0x5e20ff;continue;case'6':this[_0x1e0fb7(0x202)]=new Map();continue;}break;}}['setLLMService'](_0x14e022){const _0x7940be=a0_0x9702,_0x44074f={};_0x44074f[_0x7940be(0x1ce)]=_0x7940be(0x256);const _0x4f8d45=_0x44074f;this['llmService']=_0x14e022;if(this['tools'][_0x7940be(0x1d8)](_0x4f8d45[_0x7940be(0x1ce)])){const _0x2ded35=this[_0x7940be(0x202)][_0x7940be(0x22c)](_0x7940be(0x256));_0x2ded35[_0x7940be(0x213)](_0x14e022),this[_0x7940be(0x1d9)][_0x7940be(0x1d2)](_0x7940be(0x1cc));}}['setProjectDirectory'](_0x4ade11){const _0x5e6716=a0_0x9702,_0x4a0b3e={};_0x4a0b3e[_0x5e6716(0x230)]=_0x5e6716(0x25c),_0x4a0b3e['XGtdK']=function(_0x37e8fa,_0x34c4bc){return _0x37e8fa===_0x34c4bc;},_0x4a0b3e[_0x5e6716(0x223)]=_0x5e6716(0x1d3);const _0x2c794e=_0x4a0b3e;this[_0x5e6716(0x1e4)]=_0x4ade11;const _0x4a0830=this[_0x5e6716(0x202)]['get'](_0x2c794e[_0x5e6716(0x230)]);_0x4a0830&&_0x2c794e[_0x5e6716(0x23a)](typeof _0x4a0830['setProjectDirectory'],_0x2c794e['qATlb'])&&_0x4a0830['setProjectDirectory'](_0x4ade11),this[_0x5e6716(0x1d9)][_0x5e6716(0x1d2)](_0x5e6716(0x228)+_0x4ade11);}async[a0_0x1bf85d(0x20b)](){const _0x5d524d=a0_0x1bf85d,_0x11b51f={};_0x11b51f[_0x5d524d(0x1f1)]=_0x5d524d(0x21f),_0x11b51f[_0x5d524d(0x23d)]=_0x5d524d(0x236),_0x11b51f['kGkWG']=_0x5d524d(0x20a),_0x11b51f['ppwZk']=_0x5d524d(0x25c),_0x11b51f[_0x5d524d(0x212)]=_0x5d524d(0x1d1),_0x11b51f['HKLQT']=_0x5d524d(0x24f),_0x11b51f[_0x5d524d(0x229)]=_0x5d524d(0x217),_0x11b51f[_0x5d524d(0x209)]=_0x5d524d(0x210),_0x11b51f['niapl']='../tools/seekTool.js',_0x11b51f[_0x5d524d(0x247)]=_0x5d524d(0x1f7),_0x11b51f['kLfRP']=_0x5d524d(0x248),_0x11b51f['SbIOz']=_0x5d524d(0x218),_0x11b51f[_0x5d524d(0x1eb)]=_0x5d524d(0x237),_0x11b51f[_0x5d524d(0x233)]='mcp-client',_0x11b51f['SanxB']=_0x5d524d(0x242),_0x11b51f[_0x5d524d(0x214)]=_0x5d524d(0x1fe),_0x11b51f['WXrha']=_0x5d524d(0x201),_0x11b51f[_0x5d524d(0x1fa)]='Error\x20registering\x20built-in\x20tools:';const _0x3ff656=_0x11b51f;this[_0x5d524d(0x1d9)][_0x5d524d(0x1d2)](_0x3ff656[_0x5d524d(0x1f1)]);try{const {BrowserTool:_0xf57930}=await import(_0x3ff656[_0x5d524d(0x23d)]),_0xbe8bc1=new _0xf57930(this['config'],this[_0x5d524d(0x1d9)],this[_0x5d524d(0x22a)]);this['registerTool'](_0x5d524d(0x256),_0xbe8bc1);const {TerminalTool:_0x428690}=await import(_0x3ff656[_0x5d524d(0x1c6)]),_0x4ad7ea=new _0x428690(this['config'],this[_0x5d524d(0x1d9)],undefined,this['projectDir']);this[_0x5d524d(0x203)](_0x3ff656[_0x5d524d(0x1d5)],_0x4ad7ea);const {FileSystemTool:_0x20ce69}=await import(_0x5d524d(0x22e)),_0x61174=new _0x20ce69(this[_0x5d524d(0x24c)],this[_0x5d524d(0x1d9)]);this['registerTool'](_0x3ff656[_0x5d524d(0x212)],_0x61174);const {ImageTool:_0x5ba2fa}=await import(_0x3ff656['HKLQT']),_0x1b9b21=new _0x5ba2fa(this[_0x5d524d(0x24c)],this['logger']);this[_0x5d524d(0x203)](_0x3ff656[_0x5d524d(0x229)],_0x1b9b21);const {FileTreeTool:_0x2c69c8}=await import(_0x5d524d(0x20f)),_0x652ef4=new _0x2c69c8(this['config'],this[_0x5d524d(0x1d9)]);this[_0x5d524d(0x203)](_0x3ff656['FJkwd'],_0x652ef4);const {SeekTool:_0x476808}=await import(_0x3ff656[_0x5d524d(0x1c2)]),_0x2cf8ea=new _0x476808(this[_0x5d524d(0x24c)],this[_0x5d524d(0x1d9)]);this[_0x5d524d(0x203)](_0x5d524d(0x24e),_0x2cf8ea);const {MemoryTool:_0x2b80ab}=await import(_0x3ff656['TgeWS']),_0x3efdb4=new _0x2b80ab(this['config'],this['logger']);this[_0x5d524d(0x203)](_0x3ff656['kLfRP'],_0x3efdb4);const {CodeAnalysisTool:_0x54d411}=await import('../tools/codeAnalysisTool.js'),_0x3a0a6f=new _0x54d411(this[_0x5d524d(0x24c)],this[_0x5d524d(0x1d9)]);this['registerTool'](_0x3ff656[_0x5d524d(0x1fd)],_0x3a0a6f);const {FileContentReplaceTool:_0x41e834}=await import(_0x3ff656[_0x5d524d(0x1eb)]),_0xcc71da=new _0x41e834(this[_0x5d524d(0x24c)],this[_0x5d524d(0x1d9)]);this[_0x5d524d(0x203)]('file-content-replace',_0xcc71da);if(this[_0x5d524d(0x24c)][_0x5d524d(0x202)]?.[_0x5d524d(0x204)]?.[_0x5d524d(0x1dd)]){const _0x5c9b9a=new MCPClientTool(this['config'],this[_0x5d524d(0x1d9)]);this['registerTool'](_0x3ff656[_0x5d524d(0x233)],_0x5c9b9a);}if(this[_0x5d524d(0x24c)][_0x5d524d(0x202)]?.[_0x5d524d(0x1fb)]?.[_0x5d524d(0x1dd)]){const _0x3a8289=await import(_0x3ff656['SanxB']),_0x2e57f3=new _0x3a8289(this[_0x5d524d(0x24c)],this['logger']);this[_0x5d524d(0x203)]('ui',_0x2e57f3);}const {UpdateUserTool:_0x550ee4}=await import(_0x3ff656['ZovQR']),_0x16b113=new _0x550ee4(this[_0x5d524d(0x24c)],this[_0x5d524d(0x1d9)]);this[_0x5d524d(0x203)](_0x3ff656[_0x5d524d(0x234)],_0x16b113),this['logger']['info']('Registered\x20'+this[_0x5d524d(0x202)][_0x5d524d(0x257)]+_0x5d524d(0x258));}catch(_0x345ac5){this['logger'][_0x5d524d(0x1ee)](_0x3ff656[_0x5d524d(0x1fa)],_0x345ac5);throw _0x345ac5;}}[a0_0x1bf85d(0x203)](_0x15e5c8,_0x5e28f8){const _0x1abfce=a0_0x1bf85d,_0x2dd3b3={};_0x2dd3b3[_0x1abfce(0x25d)]=_0x1abfce(0x206),_0x2dd3b3[_0x1abfce(0x23e)]=_0x1abfce(0x1d3),_0x2dd3b3[_0x1abfce(0x1c1)]=function(_0x202003,_0x6da6f2){return _0x202003!==_0x6da6f2;};const _0x48f7b4=_0x2dd3b3,_0x33f364=_0x48f7b4['ZdUwj'][_0x1abfce(0x241)]('|');let _0x1db1ee=0x0;while(!![]){switch(_0x33f364[_0x1db1ee++]){case'0':if(typeof _0x5e28f8[_0x1abfce(0x207)]!==_0x48f7b4[_0x1abfce(0x23e)])throw new Error('Tool\x20'+_0x15e5c8+'\x20does\x20not\x20have\x20an\x20execute\x20method');continue;case'1':this[_0x1abfce(0x1d9)][_0x1abfce(0x1d2)](_0x1abfce(0x224)+_0x15e5c8);continue;case'2':this[_0x1abfce(0x202)][_0x1abfce(0x20d)](_0x15e5c8,_0x5e28f8);continue;case'3':if(_0x48f7b4[_0x1abfce(0x1c1)](typeof _0x5e28f8[_0x1abfce(0x220)],_0x48f7b4[_0x1abfce(0x23e)]))throw new Error(_0x1abfce(0x1f9)+_0x15e5c8+_0x1abfce(0x1f4));continue;case'4':this[_0x1abfce(0x22d)]['set'](_0x15e5c8,_0x5e28f8[_0x1abfce(0x220)]());continue;}break;}}['hasTool'](_0x194343){const _0x13b3c7=a0_0x1bf85d;return this[_0x13b3c7(0x202)][_0x13b3c7(0x1d8)](_0x194343);}[a0_0x1bf85d(0x1dc)](_0x15e8fc){const _0x5d67aa=a0_0x1bf85d;if(!this[_0x5d67aa(0x202)][_0x5d67aa(0x1d8)](_0x15e8fc))throw new Error(_0x5d67aa(0x1f9)+_0x15e8fc+_0x5d67aa(0x1e7));return this[_0x5d67aa(0x202)][_0x5d67aa(0x22c)](_0x15e8fc);}[a0_0x1bf85d(0x1ea)](){const _0x519152=a0_0x1bf85d;return Array[_0x519152(0x246)](this[_0x519152(0x202)]['keys']());}[a0_0x1bf85d(0x244)](){const _0x5d526e=a0_0x1bf85d,_0x3d6b54={};_0x3d6b54[_0x5d526e(0x200)]=function(_0x44cbbc,_0x59bdca){return _0x44cbbc===_0x59bdca;},_0x3d6b54['FOOgE']=_0x5d526e(0x1d3),_0x3d6b54[_0x5d526e(0x21c)]=function(_0x4e97a3,_0x3e104c){return _0x4e97a3!==_0x3e104c;},_0x3d6b54[_0x5d526e(0x1ca)]=_0x5d526e(0x259);const _0x50e0e9=_0x3d6b54;let _0x169988='';for(const [_0xa91943,_0x1e6aa3]of this[_0x5d526e(0x22d)][_0x5d526e(0x1f5)]()){_0x50e0e9[_0x5d526e(0x21c)](_0x50e0e9[_0x5d526e(0x1ca)],_0x50e0e9[_0x5d526e(0x1ca)])?_0x50e0e9[_0x5d526e(0x200)](typeof _0x5971d0[_0x5d526e(0x22b)],_0x50e0e9['FOOgE'])&&(this[_0x5d526e(0x1d9)][_0x5d526e(0x1d2)](_0x5d526e(0x1c7)+_0xdd8fec),_0xa4b824[_0x5d526e(0x1c9)](_0x2b9ed8[_0x5d526e(0x22b)]())):(_0x169988+=_0x5d526e(0x23c)+_0xa91943+'\x0a',_0x169988+=_0x1e6aa3+'\x0a\x0a');}return _0x169988;}[a0_0x1bf85d(0x239)](_0x3188d4){const _0x177956=a0_0x1bf85d;if(!this[_0x177956(0x22d)]['has'](_0x3188d4))throw new Error(_0x177956(0x1f9)+_0x3188d4+_0x177956(0x1e7));return this['toolDescriptions'][_0x177956(0x22c)](_0x3188d4);}[a0_0x1bf85d(0x1e0)](){const _0x17633b=a0_0x1bf85d,_0x3f6e63={};_0x3f6e63['NfWLg']=_0x17633b(0x221),_0x3f6e63[_0x17633b(0x219)]=_0x17633b(0x1e8),_0x3f6e63[_0x17633b(0x24b)]=_0x17633b(0x216),_0x3f6e63['HiSOy']=_0x17633b(0x255);const _0x4c7cf3=_0x3f6e63;let _0xe877fc=_0x4c7cf3[_0x17633b(0x25a)];for(const [_0x4f9682,_0x4e2953]of this[_0x17633b(0x22d)]['entries']()){_0xe877fc+=_0x17633b(0x222)+_0x4f9682+'\x0a',_0xe877fc+=_0x4e2953+'\x0a\x0a';}return _0xe877fc+=_0x4c7cf3[_0x17633b(0x219)],_0xe877fc+=_0x4c7cf3[_0x17633b(0x24b)],_0xe877fc+=_0x4c7cf3[_0x17633b(0x1db)],_0xe877fc;}async[a0_0x1bf85d(0x22b)](){const _0x2474fb=a0_0x1bf85d,_0xfd1979={};_0xfd1979[_0x2474fb(0x226)]='Shutting\x20down\x20all\x20tools',_0xfd1979[_0x2474fb(0x231)]=function(_0x1d0a70,_0x4c0fa5){return _0x1d0a70===_0x4c0fa5;},_0xfd1979['yIagE']=_0x2474fb(0x1d3),_0xfd1979['hOcKc']=_0x2474fb(0x24d);const _0x598bf7=_0xfd1979;this[_0x2474fb(0x1d9)][_0x2474fb(0x1d2)](_0x598bf7['mUHgU']);const _0x41ae59=[];for(const [_0xeb6c21,_0x138740]of this[_0x2474fb(0x202)][_0x2474fb(0x1f5)]()){_0x598bf7[_0x2474fb(0x231)](typeof _0x138740[_0x2474fb(0x22b)],_0x598bf7[_0x2474fb(0x1ef)])&&(this[_0x2474fb(0x1d9)][_0x2474fb(0x1d2)]('Shutting\x20down\x20tool:\x20'+_0xeb6c21),_0x41ae59[_0x2474fb(0x1c9)](_0x138740['shutdown']()));}await Promise[_0x2474fb(0x21d)](_0x41ae59),this['logger']['info'](_0x598bf7[_0x2474fb(0x215)]);}}