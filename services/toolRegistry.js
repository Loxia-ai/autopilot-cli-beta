const a0_0x3d360c=a0_0x4b05;(function(_0x17563c,_0xdba8dc){const _0x519eec=a0_0x4b05,_0x3fde6e=_0x17563c();while(!![]){try{const _0x4fab86=-parseInt(_0x519eec(0xcb))/0x1+parseInt(_0x519eec(0x11b))/0x2+parseInt(_0x519eec(0x105))/0x3+-parseInt(_0x519eec(0xf0))/0x4*(parseInt(_0x519eec(0x134))/0x5)+-parseInt(_0x519eec(0xf3))/0x6*(parseInt(_0x519eec(0xfe))/0x7)+-parseInt(_0x519eec(0xc5))/0x8+parseInt(_0x519eec(0xee))/0x9;if(_0x4fab86===_0xdba8dc)break;else _0x3fde6e['push'](_0x3fde6e['shift']());}catch(_0x12ecd5){_0x3fde6e['push'](_0x3fde6e['shift']());}}}(a0_0x1128,0xbd090));const a0_0x41dd34=(function(){const _0x1efd54=a0_0x4b05,_0x3b98aa={};_0x3b98aa[_0x1efd54(0x10e)]=function(_0x5c1b89,_0x59fe53){return _0x5c1b89!==_0x59fe53;},_0x3b98aa[_0x1efd54(0xeb)]=_0x1efd54(0xc8);const _0x38e9db=_0x3b98aa;let _0x2e9e1a=!![];return function(_0x5561c7,_0x289c5e){const _0x29fd1a=_0x2e9e1a?function(){const _0x206b1d=a0_0x4b05;if(_0x38e9db[_0x206b1d(0x10e)](_0x38e9db[_0x206b1d(0xeb)],'aQsAx'))throw new _0x3db62e(_0x206b1d(0xdf)+_0x375614+'\x20not\x20found\x20in\x20registry');else{if(_0x289c5e){const _0x538dd1=_0x289c5e[_0x206b1d(0x129)](_0x5561c7,arguments);return _0x289c5e=null,_0x538dd1;}}}:function(){};return _0x2e9e1a=![],_0x29fd1a;};}()),a0_0x22f643=a0_0x41dd34(this,function(){const _0x11cdab=a0_0x4b05,_0x27145b={};_0x27145b[_0x11cdab(0x137)]=_0x11cdab(0x135);const _0x41572a=_0x27145b;return a0_0x22f643['toString']()[_0x11cdab(0x12a)]('(((.+)+)+)+$')[_0x11cdab(0x11a)]()[_0x11cdab(0x120)](a0_0x22f643)[_0x11cdab(0x12a)](_0x41572a['kNOWs']);});function a0_0x4b05(_0x246142,_0x2448fb){const _0x39512e=a0_0x1128();return a0_0x4b05=function(_0x4a4b50,_0x1f5254){_0x4a4b50=_0x4a4b50-0xb5;let _0x3f24d4=_0x39512e[_0x4a4b50];if(a0_0x4b05['VaWGEL']===undefined){var _0x52d2b6=function(_0x4b05f0){const _0x14e712='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x27d131='',_0x4011bd='',_0x4aa629=_0x27d131+_0x52d2b6;for(let _0x52f352=0x0,_0x23b669,_0x131d5f,_0x4717ad=0x0;_0x131d5f=_0x4b05f0['charAt'](_0x4717ad++);~_0x131d5f&&(_0x23b669=_0x52f352%0x4?_0x23b669*0x40+_0x131d5f:_0x131d5f,_0x52f352++%0x4)?_0x27d131+=_0x4aa629['charCodeAt'](_0x4717ad+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x23b669>>(-0x2*_0x52f352&0x6)):_0x52f352:0x0){_0x131d5f=_0x14e712['indexOf'](_0x131d5f);}for(let _0x2f3177=0x0,_0x4b1289=_0x27d131['length'];_0x2f3177<_0x4b1289;_0x2f3177++){_0x4011bd+='%'+('00'+_0x27d131['charCodeAt'](_0x2f3177)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4011bd);};a0_0x4b05['SwmVww']=_0x52d2b6,_0x246142=arguments,a0_0x4b05['VaWGEL']=!![];}const _0x22f643=_0x39512e[0x0],_0x41dd34=_0x4a4b50+_0x22f643,_0x112863=_0x246142[_0x41dd34];if(!_0x112863){const _0x5e69c0=function(_0x134f7d){this['MHPMIK']=_0x134f7d,this['wbteFf']=[0x1,0x0,0x0],this['NHhdDl']=function(){return'newState';},this['qdalFq']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MPiDIk']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5e69c0['prototype']['LpGfkY']=function(){const _0x2dd298=new RegExp(this['qdalFq']+this['MPiDIk']),_0x3583ac=_0x2dd298['test'](this['NHhdDl']['toString']())?--this['wbteFf'][0x1]:--this['wbteFf'][0x0];return this['eGPAmj'](_0x3583ac);},_0x5e69c0['prototype']['eGPAmj']=function(_0x3f7f47){if(!Boolean(~_0x3f7f47))return _0x3f7f47;return this['HyDbBQ'](this['MHPMIK']);},_0x5e69c0['prototype']['HyDbBQ']=function(_0x5be0fb){for(let _0xb58446=0x0,_0x5f2b98=this['wbteFf']['length'];_0xb58446<_0x5f2b98;_0xb58446++){this['wbteFf']['push'](Math['round'](Math['random']())),_0x5f2b98=this['wbteFf']['length'];}return _0x5be0fb(this['wbteFf'][0x0]);},new _0x5e69c0(a0_0x4b05)['LpGfkY'](),_0x3f24d4=a0_0x4b05['SwmVww'](_0x3f24d4),_0x246142[_0x41dd34]=_0x3f24d4;}else _0x3f24d4=_0x112863;return _0x3f24d4;},a0_0x4b05(_0x246142,_0x2448fb);}a0_0x22f643();const a0_0x1f5254=(function(){const _0x2133a8=a0_0x4b05,_0xb0eac2={};_0xb0eac2['iQIHK']=function(_0x565ad3,_0x5048f7){return _0x565ad3!==_0x5048f7;},_0xb0eac2[_0x2133a8(0xc4)]=_0x2133a8(0x100),_0xb0eac2[_0x2133a8(0xd0)]=_0x2133a8(0x128);const _0x43ed1c=_0xb0eac2;let _0x660be6=!![];return function(_0x302a25,_0x2171f5){const _0x48b3b0=_0x660be6?function(){const _0x222928=a0_0x4b05;if(_0x43ed1c['iQIHK'](_0x43ed1c[_0x222928(0xc4)],_0x43ed1c[_0x222928(0xd0)])){if(_0x2171f5){const _0x1b8e21=_0x2171f5[_0x222928(0x129)](_0x302a25,arguments);return _0x2171f5=null,_0x1b8e21;}}else{if(_0x4c8ae7){const _0x3926eb=_0x5683dd[_0x222928(0x129)](_0x2148fc,arguments);return _0x2cad69=null,_0x3926eb;}}}:function(){};return _0x660be6=![],_0x48b3b0;};}()),a0_0x4a4b50=a0_0x1f5254(this,function(){const _0x27fd00=a0_0x4b05,_0x3c009e={'WSCxI':function(_0x31bf5f,_0x51ef51){return _0x31bf5f(_0x51ef51);},'RBtcD':'log','xibSm':'warn','sPiml':_0x27fd00(0x131),'ssRKB':_0x27fd00(0xf7),'Qjzum':'table','MFxgV':'trace'},_0x43468d=function(){const _0x1b7bbb=_0x27fd00;let _0x1ace00;try{_0x1ace00=_0x3c009e[_0x1b7bbb(0xb6)](Function,_0x1b7bbb(0xc2)+_0x1b7bbb(0x119)+');')();}catch(_0x2d29d5){_0x1ace00=window;}return _0x1ace00;},_0x493498=_0x43468d(),_0x116316=_0x493498['console']=_0x493498[_0x27fd00(0xb5)]||{},_0x39dd89=[_0x3c009e['RBtcD'],_0x3c009e[_0x27fd00(0xd9)],_0x27fd00(0x12c),_0x3c009e['sPiml'],_0x3c009e['ssRKB'],_0x3c009e[_0x27fd00(0x11e)],_0x3c009e['MFxgV']];for(let _0x1fb51f=0x0;_0x1fb51f<_0x39dd89['length'];_0x1fb51f++){const _0x565376=a0_0x1f5254[_0x27fd00(0x120)][_0x27fd00(0x11f)]['bind'](a0_0x1f5254),_0x3de581=_0x39dd89[_0x1fb51f],_0x272371=_0x116316[_0x3de581]||_0x565376;_0x565376[_0x27fd00(0xec)]=a0_0x1f5254[_0x27fd00(0xbd)](a0_0x1f5254),_0x565376[_0x27fd00(0x11a)]=_0x272371[_0x27fd00(0x11a)][_0x27fd00(0xbd)](_0x272371),_0x116316[_0x3de581]=_0x565376;}});function a0_0x1128(){const _0x565e8d=['mtq0nda3mhHvy2n4rG','Aw1Hz2uTz2vU','DLfVB2C','ChvZAa','DvLstuq','AK9ougG','Awnbz1u','Dg9VBhm','ze1zt1a','zw50CMLLCW','yNjVD3nLCG','qxr0uum','v0z0t3C','Bg9Nz2vY','EgLIu20','lI4VDg9VBhmVzMLSzunVBNrLBNrszxbSywnLvg9VBc5QCW','BwvTB3j5','DvncD24','lI4VDg9VBhmVzMLSzvn5C3rLBvrVB2WUANm','ihrVB2XZ','vg9VBca','t3HpA3a','vxbKyxrLzcbWCM9Qzwn0igrPCMvJDg9YEsbMB3iGDg9VBhm6ia','reHnAgy','zMLSzxn5CW','lI4VDg9VBhmVzMLSzvrYzwvuB29SlMPZ','AMDNBxm','v2DUCNm','rM9YigvHy2GGDg9VBcWGDxnLifT0B29SigLKpsj0B29Sx2LKiL0Gyw5KifSVDg9VBf0GDgfNCYb0BYbZCgvJAwz5ihDOAwnOihrVB2WGDg8GDxnLlGO','nhWZFdf8mhWY','C2v0','zMXkr1e','tM9cC0y','x19WCM90B19F','m3WWFdv8mxW2Fdr8mG','mtKWodG0mZncCMLQuuy','lI4VDg9VBhmVC2vLA1rVB2WUANm','ndmYq0zLCfrM','zNvUy3rPB24','zhDusu0','nJq3odHdBw9OBvG','DfD1u0S','z2v0vg9VBhnezxnJCMLWDgLVBG','ywXSu2v0DgXLza','zxHJzxb0Aw9U','vg8GDxnLigeGDg9VBcWGD3jHCcb5B3vYignVBw1HBMrZigLUifT0B29SCY1JB21Tyw5KC10Gyw5KifSVDg9VBhmTy29TBwfUzhnDihrHz3mUcG','zMLSzs1JB250zw50lxjLCgXHy2u','vxbKyxrLzcbICM93C2vYihrVB2WGD2L0Acbmte0GC2vYDMLJzsbMB3iGDMLZAw9UignHCgfIAwXPDgLLCW','ufbADfm','lI4VDg9VBhmVBwvTB3j5vg9VBc5QCW','AgfZ','ndu1ANLwwhfQ','mNWWFdr8m3WX','r3LpEu0','C2v0uhjVAMvJDerPCMvJDg9YEq','DLLUEee','u3flt1K','qMvpBKm','ndiYmZC5nKnpEfj3Cq','y29UzMLN','sxPjs2e','ig5VDcbMB3vUzcbPBIbYzwDPC3rYEq','AfrgvLi','zKr6Bgu','we1psMG','ru5UCgO','CMvNAxn0zxjuB29S','D2ndyLC','D09Jrhe','igrVzxmGBM90igHHDMuGysbNzxrezxnJCMLWDgLVBIbTzxrOB2q','C2v0teXnu2vYDMLJzq','DxbKyxrLlxvZzxi','zNjVBq','zLvVEgK','Dw1vAKy','z2v0vg9VBa','tejHyM0','uMvNAxn0zxjPBMCGDg9VBdOG','E30Uy29UC3rYDwn0B3iOiNjLDhvYBIb0AgLZiIKOicK','Dg9tDhjPBMC','mJmWodKZmKf5zfrjBG','y29Kzs1HBMfSExnPCW','D2nNz1C','uwP6Dw0','ChjVDg90ExbL','y29UC3rYDwn0B3i','DgvYBwLUywW','vg9VBcbjrdOG','D2jNCgi','iYmG','DwLuB29S','Dg9VBerLC2nYAxb0Aw9UCW','rwnuvMm','v3nSzhi','yxbWBhK','C2vHCMnO','C2H1DgrVD24','Aw5MBW','zxHLy3v0zq','zw5HyMXLza','u2H1DhrPBMCGzg93BIbHBgWGDg9VBhm','lI4VDg9VBhmVAw1Hz2vuB29SlMPZ','zxjYB3i','z2v0vg9VBeLKCW','z2nRq24','mtu3mJboExjjtMS','kcGOlISPkYKRksSK','twXUvK8','A05pv3m','igrVzxmGBM90igHHDMuGyw4GzxHLy3v0zsbTzxrOB2q','BgXTu2vYDMLJzq','y29UC29Szq','v1ndEeK','z2v0rgvZy3jPChrPB24','zfbwre0','u3fVsxy','uMvNAxn0zxjLzca','DMTZu3q','C3bSAxq','yMLUza','rxP4sum','ChjVAMvJDerPCG','qNjysNe','B2juCxu','CMv0DxjUicHMDw5JDgLVBIGPia','qxzHAwXHyMXLihrVB2XZoGOk','rMzhDM0','mteZodG0ndb5D0DTDgm','qwXSihrVB2XZihnODxqGzg93BG','Aw1gqMe','yvfZqxG','wMPyA08','z2v0'];a0_0x1128=function(){return _0x565e8d;};return a0_0x1128();}a0_0x4a4b50();import a0_0xfcb99b from'path';import{promises as a0_0x7e8d66}from'fs';export class ToolRegistry{constructor(_0x4c25ab,_0x10ec9f,_0x16c7d4=null,_0x208b4c=null){const _0x451922=a0_0x4b05,_0x3c9575={};_0x3c9575['umUjF']=_0x451922(0xed);const _0x3491c2=_0x3c9575,_0x18e51c=_0x3491c2[_0x451922(0x115)][_0x451922(0xbc)]('|');let _0x1144fb=0x0;while(!![]){switch(_0x18e51c[_0x1144fb++]){case'0':this[_0x451922(0xd8)]=_0x10ec9f;continue;case'1':this[_0x451922(0x139)]=_0x16c7d4;continue;case'2':this['registerBuiltInTools']();continue;case'3':this[_0x451922(0x106)]=_0x4c25ab;continue;case'4':this['toolDescriptions']=new Map();continue;case'5':this['projectDir']=_0x208b4c;continue;case'6':this[_0x451922(0xd2)]=new Map();continue;}break;}}[a0_0x3d360c(0x111)](_0x2861a2){const _0x493904=a0_0x3d360c,_0x5104a6={};_0x5104a6[_0x493904(0xd7)]=_0x493904(0xd5),_0x5104a6[_0x493904(0xdc)]=_0x493904(0xfa);const _0x1eb87a=_0x5104a6;this[_0x493904(0x139)]=_0x2861a2;if(this[_0x493904(0xd2)][_0x493904(0xfd)](_0x1eb87a['WFtOw'])){const _0x34ec6b=this[_0x493904(0xd2)][_0x493904(0xca)](_0x1eb87a[_0x493904(0xd7)]);_0x34ec6b[_0x493904(0x111)](_0x2861a2),this[_0x493904(0xd8)][_0x493904(0x12c)](_0x1eb87a['uSBwn']);}}[a0_0x3d360c(0x101)](_0x369c66){const _0x2572d4=a0_0x3d360c,_0x100d90={};_0x100d90[_0x2572d4(0xf2)]='terminal';const _0x4f707f=_0x100d90;this[_0x2572d4(0xbf)]=_0x369c66;const _0x2b48a0=this['tools'][_0x2572d4(0xca)](_0x4f707f['dwTIM']);_0x2b48a0&&typeof _0x2b48a0['setProjectDirectory']===_0x2572d4(0xf1)&&_0x2b48a0[_0x2572d4(0x101)](_0x369c66),this[_0x2572d4(0xd8)][_0x2572d4(0x12c)](_0x2572d4(0xe1)+_0x369c66);}async['registerBuiltInTools'](){const _0x5b3c52=a0_0x3d360c,_0x369a01={};_0x369a01[_0x5b3c52(0xe0)]='../tools/browserTool.js',_0x369a01[_0x5b3c52(0x123)]=_0x5b3c52(0xd5),_0x369a01[_0x5b3c52(0x117)]='../tools/terminalTool.js',_0x369a01['DHMhf']=_0x5b3c52(0x121),_0x369a01[_0x5b3c52(0xbe)]=_0x5b3c52(0xe3),_0x369a01['hTFVR']=_0x5b3c52(0xcc),_0x369a01['vQoog']='file-tree',_0x369a01[_0x5b3c52(0x104)]=_0x5b3c52(0xef),_0x369a01[_0x5b3c52(0x136)]=_0x5b3c52(0xfc),_0x369a01[_0x5b3c52(0x10f)]='../tools/codeAnalysisTool.js',_0x369a01[_0x5b3c52(0xd3)]=_0x5b3c52(0xda),_0x369a01[_0x5b3c52(0x10b)]='mcp-client',_0x369a01[_0x5b3c52(0xe6)]=function(_0x3c5b17,_0x48ba47){return _0x3c5b17!==_0x48ba47;},_0x369a01['gckCn']=_0x5b3c52(0xc9),_0x369a01[_0x5b3c52(0x114)]='xuVvi',_0x369a01[_0x5b3c52(0x107)]='../tools/uiTool.js',_0x369a01['vYnxA']=_0x5b3c52(0x112),_0x369a01[_0x5b3c52(0xd6)]='Error\x20registering\x20built-in\x20tools:';const _0x2c6876=_0x369a01;this['logger']['info']('Registering\x20built-in\x20tools');try{const {BrowserTool:_0x166ec5}=await import(_0x2c6876[_0x5b3c52(0xe0)]),_0x93ca61=new _0x166ec5(this[_0x5b3c52(0x106)],this['logger'],this[_0x5b3c52(0x139)]);this[_0x5b3c52(0x10d)](_0x2c6876['wbgpb'],_0x93ca61);const {TerminalTool:_0xbd20f2}=await import(_0x2c6876[_0x5b3c52(0x117)]),_0x4f8698=new _0xbd20f2(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)],undefined,this[_0x5b3c52(0xbf)]);this[_0x5b3c52(0x10d)](_0x2c6876[_0x5b3c52(0xe2)],_0x4f8698);const {FileSystemTool:_0x127933}=await import(_0x5b3c52(0xdd)),_0x4eca02=new _0x127933(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)]);this[_0x5b3c52(0x10d)](_0x2c6876[_0x5b3c52(0xbe)],_0x4eca02);const {ImageTool:_0xa5bc0}=await import(_0x5b3c52(0x130)),_0x3d418a=new _0xa5bc0(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)]);this['registerTool'](_0x2c6876[_0x5b3c52(0x109)],_0x3d418a);const {FileTreeTool:_0x1e33e4}=await import(_0x5b3c52(0xe4)),_0x447649=new _0x1e33e4(this[_0x5b3c52(0x106)],this['logger']);this[_0x5b3c52(0x10d)](_0x2c6876[_0x5b3c52(0xcd)],_0x447649);const {SeekTool:_0x417d21}=await import(_0x2c6876[_0x5b3c52(0x104)]),_0x58cc74=new _0x417d21(this[_0x5b3c52(0x106)],this['logger']);this[_0x5b3c52(0x10d)]('seek',_0x58cc74);const {MemoryTool:_0x506f57}=await import(_0x2c6876[_0x5b3c52(0x136)]),_0x5325e1=new _0x506f57(this[_0x5b3c52(0x106)],this['logger']);this['registerTool'](_0x5b3c52(0xdb),_0x5325e1);const {CodeAnalysisTool:_0x4c27ff}=await import(_0x2c6876[_0x5b3c52(0x10f)]),_0x51bdb1=new _0x4c27ff(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)]);this[_0x5b3c52(0x10d)](_0x5b3c52(0x11c),_0x51bdb1);const {FileContentReplaceTool:_0x36d1a3}=await import(_0x2c6876[_0x5b3c52(0xd3)]),_0x379ce2=new _0x36d1a3(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)]);this['registerTool'](_0x5b3c52(0xf9),_0x379ce2);if(this[_0x5b3c52(0x106)][_0x5b3c52(0xd2)]?.['mcpTool']?.[_0x5b3c52(0x12e)]){const _0x1930e1=new MCPClientTool(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)]);this[_0x5b3c52(0x10d)](_0x2c6876[_0x5b3c52(0x10b)],_0x1930e1);}if(this[_0x5b3c52(0x106)][_0x5b3c52(0xd2)]?.[_0x5b3c52(0x125)]?.[_0x5b3c52(0x12e)]){if(_0x2c6876[_0x5b3c52(0xe6)](_0x2c6876[_0x5b3c52(0x133)],_0x2c6876[_0x5b3c52(0x114)])){const _0x18fd1e=await import(_0x2c6876[_0x5b3c52(0x107)]),_0x510dba=new _0x18fd1e(this[_0x5b3c52(0x106)],this[_0x5b3c52(0xd8)]);this['registerTool']('ui',_0x510dba);}else{if(!this[_0x5b3c52(0x126)]['has'](_0x37ea6d))throw new _0x247138(_0x5b3c52(0xdf)+_0x73bbb8+_0x5b3c52(0x108));return this[_0x5b3c52(0x126)][_0x5b3c52(0xca)](_0x12f06a);}}const {UpdateUserTool:_0x1d1c58}=await import('../tools/updateUserTool.js'),_0x1739c5=new _0x1d1c58(this[_0x5b3c52(0x106)],this['logger']);this[_0x5b3c52(0x10d)](_0x2c6876[_0x5b3c52(0x102)],_0x1739c5),this[_0x5b3c52(0xd8)][_0x5b3c52(0x12c)](_0x5b3c52(0xba)+this[_0x5b3c52(0xd2)]['size']+_0x5b3c52(0xde));}catch(_0x1785f1){this[_0x5b3c52(0xd8)]['error'](_0x2c6876[_0x5b3c52(0xd6)],_0x1785f1);throw _0x1785f1;}}['registerTool'](_0x255c71,_0x408a0e){const _0x3a116b=a0_0x3d360c,_0x3acb2a={};_0x3acb2a[_0x3a116b(0xe5)]=function(_0x56c44f,_0x4d24d0){return _0x56c44f!==_0x4d24d0;},_0x3acb2a[_0x3a116b(0x10c)]=_0x3a116b(0xf1);const _0x11f037=_0x3acb2a,_0x5ba382=_0x3a116b(0xe8)[_0x3a116b(0xbc)]('|');let _0x41fc06=0x0;while(!![]){switch(_0x5ba382[_0x41fc06++]){case'0':this[_0x3a116b(0xd2)][_0x3a116b(0xe9)](_0x255c71,_0x408a0e);continue;case'1':if(_0x11f037['jggms'](typeof _0x408a0e[_0x3a116b(0xb7)],_0x11f037[_0x3a116b(0x10c)]))throw new Error('Tool\x20'+_0x255c71+_0x3a116b(0x110));continue;case'2':this[_0x3a116b(0x126)]['set'](_0x255c71,_0x408a0e['getDescription']());continue;case'3':if(typeof _0x408a0e[_0x3a116b(0x12d)]!==_0x11f037[_0x3a116b(0x10c)])throw new Error(_0x3a116b(0xdf)+_0x255c71+_0x3a116b(0x138));continue;case'4':this[_0x3a116b(0xd8)]['info']('Registering\x20tool:\x20'+_0x255c71);continue;}break;}}['hasTool'](_0x380d38){const _0x332432=a0_0x3d360c;return this['tools'][_0x332432(0xfd)](_0x380d38);}[a0_0x3d360c(0x116)](_0x3ac800){const _0x1f9f5f=a0_0x3d360c,_0x38ed56={};_0x38ed56['tWuSK']=_0x1f9f5f(0xff),_0x38ed56[_0x1f9f5f(0x10a)]=function(_0x7b308e,_0x22bdf4){return _0x7b308e!==_0x22bdf4;},_0x38ed56['vksSt']='function',_0x38ed56[_0x1f9f5f(0x11d)]=function(_0x3c542b,_0xd8f81a){return _0x3c542b!==_0xd8f81a;},_0x38ed56[_0x1f9f5f(0xc1)]='BrXJq';const _0x151fd6=_0x38ed56;if(!this[_0x1f9f5f(0xd2)][_0x1f9f5f(0xfd)](_0x3ac800)){if(_0x151fd6['wcggW'](_0x151fd6['obTqu'],_0x1f9f5f(0xc0))){const _0x44d30c=_0x151fd6[_0x1f9f5f(0xf4)][_0x1f9f5f(0xbc)]('|');let _0x59a6ad=0x0;while(!![]){switch(_0x44d30c[_0x59a6ad++]){case'0':if(_0x151fd6[_0x1f9f5f(0x10a)](typeof _0x2eea9e[_0x1f9f5f(0x12d)],_0x1f9f5f(0xf1)))throw new _0x2dc19a('Tool\x20'+_0x4717dc+_0x1f9f5f(0x138));continue;case'1':this['toolDescriptions'][_0x1f9f5f(0xe9)](_0x48e9ed,_0x39b30e[_0x1f9f5f(0xb7)]());continue;case'2':this['logger']['info'](_0x1f9f5f(0x118)+_0x31ef07);continue;case'3':this[_0x1f9f5f(0xd2)][_0x1f9f5f(0xe9)](_0x2afc25,_0xbed6af);continue;case'4':if(typeof _0x292e4a[_0x1f9f5f(0xb7)]!==_0x151fd6[_0x1f9f5f(0xbb)])throw new _0x5d7ea8(_0x1f9f5f(0xdf)+_0x1a4312+_0x1f9f5f(0x110));continue;}break;}}else throw new Error(_0x1f9f5f(0xdf)+_0x3ac800+_0x1f9f5f(0x108));}return this[_0x1f9f5f(0xd2)][_0x1f9f5f(0xca)](_0x3ac800);}[a0_0x3d360c(0x132)](){const _0x2f278d=a0_0x3d360c;return Array[_0x2f278d(0x113)](this[_0x2f278d(0xd2)]['keys']());}[a0_0x3d360c(0xf5)](){const _0x3e17b0=a0_0x3d360c,_0x13490a={};_0x13490a[_0x3e17b0(0xb9)]=function(_0x3858e0,_0x3f7fe9){return _0x3858e0!==_0x3f7fe9;},_0x13490a['flJGQ']=_0x3e17b0(0xc7);const _0x9fe8c8=_0x13490a;let _0x500202='';for(const [_0x3c6bf1,_0x14dcee]of this['toolDescriptions'][_0x3e17b0(0xd4)]()){if(_0x9fe8c8[_0x3e17b0(0xb9)](_0x9fe8c8[_0x3e17b0(0xea)],_0x3e17b0(0xc7))){const _0x4c7c90=_0x79eab5[_0x3e17b0(0x129)](_0x5963e9,arguments);return _0x1cd572=null,_0x4c7c90;}else _0x500202+=_0x3e17b0(0x122)+_0x3c6bf1+'\x0a',_0x500202+=_0x14dcee+'\x0a\x0a';}return _0x500202;}['getToolDescription'](_0x80c5b2){const _0x1489e4=a0_0x3d360c;if(!this[_0x1489e4(0x126)]['has'](_0x80c5b2))throw new Error(_0x1489e4(0xdf)+_0x80c5b2+_0x1489e4(0x108));return this[_0x1489e4(0x126)][_0x1489e4(0xca)](_0x80c5b2);}['createToolsSystemPrompt'](){const _0x5795b7=a0_0x3d360c,_0x392061={};_0x392061['icAgU']=_0x5795b7(0xc3),_0x392061[_0x5795b7(0xfb)]=_0x5795b7(0xf8),_0x392061[_0x5795b7(0xb8)]=_0x5795b7(0xe7),_0x392061[_0x5795b7(0xcf)]='Each\x20tool\x20has\x20its\x20own\x20specific\x20format\x20for\x20commands\x20as\x20described\x20above.';const _0x487150=_0x392061;let _0x4f0ce8=_0x487150[_0x5795b7(0xd1)];for(const [_0x5c9042,_0x1270f5]of this[_0x5795b7(0x126)][_0x5795b7(0xd4)]()){_0x4f0ce8+=_0x5795b7(0x124)+_0x5c9042+'\x0a',_0x4f0ce8+=_0x1270f5+'\x0a\x0a';}return _0x4f0ce8+=_0x487150[_0x5795b7(0xfb)],_0x4f0ce8+=_0x487150[_0x5795b7(0xb8)],_0x4f0ce8+=_0x487150['uYRMD'],_0x4f0ce8;}async[a0_0x3d360c(0x12b)](){const _0xcee3df=a0_0x3d360c,_0x582e50={};_0x582e50[_0xcee3df(0x103)]=_0xcee3df(0x12f),_0x582e50[_0xcee3df(0x127)]=function(_0x189a29,_0x29b58e){return _0x189a29===_0x29b58e;};const _0x4fdad1=_0x582e50;this[_0xcee3df(0xd8)][_0xcee3df(0x12c)](_0x4fdad1[_0xcee3df(0x103)]);const _0x30d180=[];for(const [_0x2873af,_0x1d63da]of this['tools'][_0xcee3df(0xd4)]()){_0x4fdad1['EcTVc'](typeof _0x1d63da[_0xcee3df(0x12b)],_0xcee3df(0xf1))&&(this[_0xcee3df(0xd8)]['info']('Shutting\x20down\x20tool:\x20'+_0x2873af),_0x30d180[_0xcee3df(0xce)](_0x1d63da[_0xcee3df(0x12b)]()));}await Promise[_0xcee3df(0xf6)](_0x30d180),this['logger'][_0xcee3df(0x12c)](_0xcee3df(0xc6));}}