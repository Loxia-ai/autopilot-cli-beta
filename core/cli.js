const a0_0x5470d9=a0_0x4ac1;(function(_0x372086,_0x50dbdf){const _0x1fc9ab=a0_0x4ac1,_0x4838c0=_0x372086();while(!![]){try{const _0x359b31=-parseInt(_0x1fc9ab(0x2c5))/0x1+parseInt(_0x1fc9ab(0x2b1))/0x2+-parseInt(_0x1fc9ab(0x32b))/0x3+-parseInt(_0x1fc9ab(0x335))/0x4+-parseInt(_0x1fc9ab(0x2bd))/0x5+-parseInt(_0x1fc9ab(0x2cf))/0x6*(parseInt(_0x1fc9ab(0x2d8))/0x7)+-parseInt(_0x1fc9ab(0x224))/0x8*(-parseInt(_0x1fc9ab(0x263))/0x9);if(_0x359b31===_0x50dbdf)break;else _0x4838c0['push'](_0x4838c0['shift']());}catch(_0x1d9dd9){_0x4838c0['push'](_0x4838c0['shift']());}}}(a0_0x2108,0x5376e));import a0_0x34fd15 from'inquirer';import a0_0x4ea133 from'path';function a0_0x4ac1(_0x2c7943,_0xa87e80){const _0x2108fc=a0_0x2108();return a0_0x4ac1=function(_0x4ac1dc,_0x839730){_0x4ac1dc=_0x4ac1dc-0x1e9;let _0x51ca0b=_0x2108fc[_0x4ac1dc];if(a0_0x4ac1['tAaNcJ']===undefined){var _0x4490ff=function(_0x34fd15){const _0x4ea133='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x23abec='',_0x5abd79='';for(let _0x171597=0x0,_0x3109d8,_0xb18165,_0xbd7e62=0x0;_0xb18165=_0x34fd15['charAt'](_0xbd7e62++);~_0xb18165&&(_0x3109d8=_0x171597%0x4?_0x3109d8*0x40+_0xb18165:_0xb18165,_0x171597++%0x4)?_0x23abec+=String['fromCharCode'](0xff&_0x3109d8>>(-0x2*_0x171597&0x6)):0x0){_0xb18165=_0x4ea133['indexOf'](_0xb18165);}for(let _0x2ae194=0x0,_0x26ada4=_0x23abec['length'];_0x2ae194<_0x26ada4;_0x2ae194++){_0x5abd79+='%'+('00'+_0x23abec['charCodeAt'](_0x2ae194)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5abd79);};a0_0x4ac1['thhwsQ']=_0x4490ff,_0x2c7943=arguments,a0_0x4ac1['tAaNcJ']=!![];}const _0x2db25e=_0x2108fc[0x0],_0x204ef9=_0x4ac1dc+_0x2db25e,_0x12c694=_0x2c7943[_0x204ef9];return!_0x12c694?(_0x51ca0b=a0_0x4ac1['thhwsQ'](_0x51ca0b),_0x2c7943[_0x204ef9]=_0x51ca0b):_0x51ca0b=_0x12c694,_0x51ca0b;},a0_0x4ac1(_0x2c7943,_0xa87e80);}import{promises as a0_0x23abec}from'fs';import{Command}from'commander';import{outputFormatter}from'../services/outputFormatting.js';import a0_0x5abd79 from'chalk';import a0_0x171597 from'node-fetch';import{ConversationOrchestrator}from'./conversationOrchestrator.js';function a0_0x2108(){const _0x2130a5=['zgLZCgXHEvDLBgnVBwu','C3vJy2vZCW','icbSB3HPysbKBYaIyNvPBgqGyw4GyxbWiIaTlw1VzgvSigfUDgHYB3bPyY1ZB25Uzxq','rMLSzsbPCYbLBxb0Eq','zw5ZDxjLqxbPs2v5','mZK2ntyXAhvmqwvT','ls1MAwXLidXMAwXLpG','ls1HDxrVlw1Vzgu','t3zLCNjPzguGBw9KzwWGzM9YihrOAxmGC2vZC2LVBG','EwvSBg93','DxbKyxrLt3jJAgvZDhjHDg9Ytw9Kzq','rMfPBgvKihrVigXVywqGyxzHAwXHyMXLig1VzgvSCZO','yxzHAwXHyMXLtw9KzwXZ','BwvZC2fNzq','yMX1zq','mtK5otq4mK1dCNPXwq','w2rLC2nYAxb0Aw9Uxq','kez1BgWGChjVBxb0igXVywrLzcbMCM9ToIa','Bw9KzwW','tg94Awe','yxjNDG','4P2mievYCM9YoIaTlwf1Dg8TBw9KzsbHBMqGls1Zzw1Plwf1Dg8TBw9KzsbHCMuGBxv0DwfSBhKGzxHJBhvZAxzL','AxnuDhLfCNjVCG','B3jJAgvZDhjHDg9Y','n1PkwezlDa','Bg94AweTBg9JywWTA2v5','DhjPBq','Dg90ywXtCgvUDa','C3rYyxrLz3K','icbSB3HPysbRzxKGls1ZzxqGpgTLEt4GicaG','Dg9vChbLCKnHC2u','y2f0zwDVCNK','rxjYB3iGy2HLy2TPBMCGqvbjigTLEtOG','vhLWAwnHBcb0yxnRicGYsYb0B2TLBNmPoIa','ru5pru5u','u2HVDYbJB3n0igvZDgLTyxrLCYbMB3iGC3bLy2LMAwmGBw9KzwW','x3jLywrqCM9TChrgCM9TrMLSzq','z2v0qxzHAwXHyMXLtw9KzwXZ','8j+uKsbmB2nHBcbnB2rLBhmGkfjLCxvPCMvZiefqssblzxLZktO','tg94Awe6iefjlxbVD2vYzwqGzgv2zwXVCg1LBNqGy29TCgfUAw9U','CgvUzgLUz0PVyKrVBMu','uhjPy2LUzYbUB3qGyxzHAwXHyMXL','C3bLzwq','AgfUzgXLqNvKz2v0q29TBwfUza','yMXVy2TLze1LC3nHz2vZq291BNq','ignOyxjHy3rLCNm','Aw50zxjHy3rPDMu','lMXVEgLH','Bw9KzwXqCMLJAw5N','cGRWN5UrifjLy2vPDMvKien0CMWRqY4Gu2H1DhrPBMCGzg93BIbNCMfJzwz1BgX5lI4U','Bwf4vg9Rzw5Z','yxjNDw1LBNq','yNvKz2v0tgLTAxq','yxbPs2v5','zgvZy3jPChrPB24','4P2mie5V','zNjVBuzPBgu','ls1LC3rPBwf0zq','qxbWBhLPBMCGC2vZC2LVBIbVDMvYCMLKzxm','z2v0uhjPy2LUz0rHDge','y29TCgXLDgvuyxnR','x2DLDfnPBwLSyxjnB2rLBhm','vMLLDYbJDxjYzw50iefqssbRzxKGC3rHDhvZicHTyxnRzwqP','zgLZCgXHEvvZywDLsgvSCa','Bg94AweGyNvKz2v0ic0TBw9KzwWGyw50AhjVCgLJlw9WDxm','cUkDJcbfCNjVCIbJAgvJA2LUzYbZDgf0Dxm6ia','u2HVDYbKzxrHAwXLzcbWCMLJAw5NigLUzM9YBwf0Aw9U','ww91ihDPBgWGBMvLzcb0BYbZzxqGysbUzxCGqvbjigTLEsb0BYb1C2uGtg94AweGC2vYDMLJzxmU','Aw50zxjHy3rPB25nB2rL','AgfUzgXLtw9KAwz5q29TBwfUza','y2HVAwnL','Bg9N','vg90ywWGC3bLBNq6','C3rKAw4','uMvZDw1LihbYB2PLy3q','y29UzMLN','CMvHzezPBgu','zw5ZDxjLt3jJAgvZDhjHDg9Y','z29Vz2XLlwDLBwLUAq','u3rHDhvZoG','C3LTyM9SCW','ywn0AxzLuhjVAMvJDa','u2HVDYbJDxjYzw50igLUDgvYywn0Aw9Uig1Vzgu','qxjLihLVDsbZDxjLihLVDsb3yw50ihrVihjLBw92zsb0AguGC3rVCMvKiefqssbRzxK/','B3v0Chv0','u2H1DgrVD24','C2XPy2u','rxjYB3i6ia','C2L6zq','icbjBNb1DdOGicq','Bg94AweGzg8GiMrLC2nYAxb0Aw9UiG','y2HHCKnVzgvbDa','icbSB3HPysbRzxKGls1ZzxqGphLVDxiTyxbPlwTLEt4','DhLWzq','C2v0t3jJAgvZDhjHDg9Y','s2v5ig1HBMfNzw1LBNqGzxjYB3i6','tw9KAwz5ignVBNrLBNq','ls1IDwrNzxqTy2HLy2S','Bw9KAwz5q29UDgvUDa','u0Lhsu5u','zgLZCgXHEuHLBha','muSGDg9Rzw5Z','q2HLy2TPBMCGC2vYDMvYigHLywX0Ac4UlG','z3jLzw4','BwfRzq','tg9HzgvKia','C3rHCNruyxnR','otGXntK0vMXmugjh','uNvUigf1Dg9UB21VDxnSEsWGzw50zxiGAw50zxjHy3rPDMuGBw9KzsbVBMX5ig9UigPVyIbJB21WBgv0Aw9U','Dw5SAw5R','y2HHDa','icdIGkiGrw5JB2rPBMC6icaGicaGicaGvvrgltG','vw5RBM93BIbTB2rLBdOG','qvvutW','Bw9KzwXZ','cUkAOo+4JYbxyxjUAw5NoIbzB3uGyxjLigfWChjVywnOAw5NihLVDxiGyNvKz2v0igXPBwL0iq','Dg9mB2nHBgvtDhjPBMC','ntG5nJmYr0LOrMD3','y29UzMLYBwvK','Bw9Kzq','sw52ywXPzcbbueKGA2v5igzVCM1HDc4Gtg94AweGqvbjigTLExmGC2HVDwXKihn0yxj0ihDPDgGGiMX4xYiGyw5KigjLigf0igXLyxn0idmYignOyxjHy3rLCNmGBg9UzY4','u2v0ihrOzsbbueKGA2v5igzVCIbmB3HPysbZzxj2AwnLCW','AgfUzgXLtw9KzwXZq29TBwfUza','yMXVy2STC3rHDhvZ','Ag9TzwrPCG','u2v0igj1zgDLDcbSAw1PDcbPBIbKB2XSyxjZ','icbSB3HPysbKBYaTzIaUl3bYB21WDhmVy29TCgXLEc10yxnRlM1K','C2v0DxbvC2vYsw50zxjHy3rPB24','rM91BMqGC3rHDguGzgLYzwn0B3j5igf0oIa','rw5KAw5NihnLC3nPB24Gyw5KignSzwfUAw5NihvW','vhLWztO','DMLLDW','Bg94AweGBw9KzwXZ','su5urvjbq1rjvKu','Aw5KAwnHDg9Yu3rHDgu','phbYB2PLy3q+','C3bSAxq','icbSB3HPysbRzxKGls1Yzw1VDMuGicaGicaG','cUkCHsa','Dg90ywXdB3n0','qxzHAwXHyMXLig1VzgvZoG','zxjYB3i','zgvSzxrLu3rVCMvKqxbPs2v5','4PQHifnftuKTqvvutYbTB2rLoIbuyxnRignVBxbSzxrLzc4','qxbWBhKGBw9KAwzPy2f0Aw9UCW','Bg94AweGzg8GiMnYzwf0zsbHihDLyIbZy3jHCgvYiIaTlxn0CMf0zwD5ihnWzwvK','icdIGkiGyxP1CMuTB3bLBMfPlwDWDdqSigf6DxjLlw9Wzw5HAs1NChqZnq','D2HPDgu','y29UzMLYBq','C3rHCNq','y29TBwfUza','Bg94AweGCMvZDw1LidXKAxjLy3rVCNK+','zNjVBq','qxzHAwXHyMXLig1VzgvSCZO','iIbMB3iGChjVBxb0oIa','C2vUzfvZzxjjBNb1Da','Dg9gAxHLza','u2HVDYbJB3n0igvZDgLTyxrLihDPDgHVDxqGzxHLy3v0Aw5N','C2v0qxbPs2v5','8j+uPYbnB2rLoG','8j+KLIbnB2rLBdO','icbbvvrpicaGicaGicaTief1Dg9UB21VDxmGB3bLCMf0Aw9UihDPDgHVDxqGChjVBxb0CW','z2v0qNvKz2v0vxnHz2u','yMXVy2TPBMC','cVcFK4qGrMLSzsbjBNb1DcbpChrPB25ZoG','Dw5PDa','qxzHAwXHyMXLignVBw1HBMrZoG','8j+oRYbtDhjHDgvNEsbpDMvYCMLKztO','4PYfiej1zgDLDcbSAw1PDcbZzxqGDg8G','tuiPlIbnyxHPBxvTigfSBg93zwq6idfnqG','Cgf1C2u','Bg94AweGBw9KAwz5ic4VC3jJicjYzwzHy3rVCIbJB21WB25LBNrZiIaTlxn0CMf0zwD5igjHBgfUy2vK','zM9YBwf0vgfZA1n0yxr1CW','vMfSAwrHDgLUzYbHBMqGC3rVCMLUzYbbueKGA2v5','8j+oRYbtDhjHDgvNEtOG','uMvZDw1LigfUigv4Axn0Aw5NihbYB2PLy3q','ChvZAa','CMvZB2X2zq','yMfSyw5Jzwq','rxHPDgLUzYbPBNrLCMfJDgL2zsbWCM9TChqUlI4','qvbjigTLEq','zMLSzq','B3b0Aw9U','Bg94AweGzg8GiMnYzwf0zsbHifjLywn0igfWCciGls1TB2rLBcbHBNrOCM9WAwmTC29UBMv0ic0TB3v0Chv0ig15lxbYB2PLy3q','twfUywDLiefqssbRzxLZigzVCIbmB3HPysbZzxj2AwnLCW','CMvZDw1LuhjVAMvJDa','yM9Sza','zxHPDa','u0vnsv9bvvrp','rxjYB3iGBg9HzgLUzYbTB2rLBcbPBMzVCM1HDgLVBJOG','lIbnywTLihn1CMuGDgHPCYbPCYbHihzHBgLKieXVEgLHihbYB2PLy3qU','qNvKz2v0igXPBwL0oG','yxv0B01Vzgu','Dg9mB3DLCKnHC2u','C2H1DgrVD24','AgfUzgXLrg9dB21Tyw5K','Dg9ju09tDhjPBMC','CMvK','sw5KAwnHDg9YoIa','z3jHEq','ndyZmZzjExfgDve','4PYfifjLywqGAw5ZDhj1y3rPB25ZigzYB20GzMLSztOG','uNvUigLUigf1Dg9UB21VDxmGBw9Kzsb3AxrOB3v0igLUDgvYywn0AxzLihbYB21WDhm','zMfPBgvK','y3jLzgvUDgLHBhm','Bg94AweTB3v0Chv0','yw50AhjVCgLJlq','DMLLD0fWAuTLEq','y2f0y2G','zgLYzwn0B3j5rxHPC3rZ','z2v0','ls1Zzw1Plwf1Dg8TBw9Kzq','z2v0qMXVy2TPBMDtDgf0Dxm','yNvKz2v0','icdIGkiGyxP1CMuTywKTCgHPncWGyxP1CMuTywKTz3jVAZm','u2HVDYbKzxrHAwXZigzVCIbZCgvJAwzPyYbTB2rLBa','rMfPBgvKihrVihjLywqGzMLSzsa','DMfSAwq','lxySic0TDMvYC2LVBG','vxnLicjSB3HPysbRzxKGls1ZzxqGphLVDxiTyxbPlwTLEt4IihrVihnLDcb5B3vYiefqssbRzxK','lw8Sic0TB3v0Chv0idXKAxjLy3rVCNK+','uhjPy2LUzZO','lMXVEgLHlxn0yxrL','C2v0u2vZC2LVBK92zxjYAwrLCW','u2HVDYb2zxjZAw9Uig51BwjLCG','y3jLyxrL','lxmSic0TC3rYyxrLz3KGphn0CMf0zwD5pG','C2v0qxq','sw50zxjHy3rPDMuGBw9KzsbUB3qGyxzHAwXHyMXLigLUihrOAxmGzw52AxjVBM1LBNq','y3LHBG','4PYfiefqssbRzxKGCMvTB3zLzcbZDwnJzxnZzNvSBhK','zMXVB3i','Bg94AweTC3rHDgu','C2v0sw50zxjHy3rPB25nB2rLrNjVBuzSywDZ','rMLSzsbPCYbLBxb0EtOG','uhjPy2LUzYb1BMf2ywLSywjSzq','lw0Sic0TBw9KzwWGpg5HBwu+','zgf0yq','sw5PDgLHBgL6zq','icdINyWGu2vYDMvYihjLDhvYBMvKia','BMfTzq','Aw5WDxq','BgXTu2vYDMLJzq','DxrMoa','4PYfifzHBgLK','icdIGkiGvgv4DcbMAwXLCZOGicaGicaGlNr4DcWGlM1KlcaUCNn0','BgvUz3rO','y3DK','x2DLDenVC3rfC3rPBwf0zq','lI4U','uhjLC3mGq3rYBcTjihrVihrVz2DSzsbIzxr3zwvUieLUDgvYywn0AxzLigfUzcbbDxrVig1VzgvZ','C3rHCNrZv2L0Aa','AgvSCa','u3rHCNrPBMCGtg94AweGC2vYDMLJzxmUlI4','uhjVBxb0igvYCM9YoG','zgvIDwC','vw5RBM93BG','u2v0iefqssbRzxK','CMvTB3zLqxbPs2v5','tw9KztOG','ihbLCIa','ywnJzxnZ','C2v0qNvKz2v0tgLTAxq','mJa2mxbzDMDuuG','icbSB3HPysbKBYaIyNvPBgqGysbszwfJDcbHChaI','rxjYB3iGCMvTB3zPBMCGqvbjigTLEtOG','y2XLyxi','tgLZDcbHDMfPBgfIBguGBw9KzwXZigfUzcbWCMLJAw5N','icdIGkiGtwf4ihnPEMu6icaGicaGicaGmu1c','C2v0','cLrPCdOGtwfRzsbZDxjLihLVDsDYzsbWB2LUDgLUzYb0BYb0AguGy29YCMvJDcbWCM9Qzwn0igrPCMvJDg9YEsb0Agf0ignVBNrHAw5ZigeGlMXVEgLHlxn0yxrLigzVBgrLCG','Aw5PDgLHBgL6zvnLCNzPy2vZ','t3v0Chv0igrPCMvJDg9YEsbMB3iGDgHLihbYB2PLy3q','Aw50zwXSAwDLBMnL','vgHHBMSGEw91igzVCIb1C2LUzYbmB3HPyseG8j+AGa','icbSB3HPysbTB2rPzNKGlI9TEs1WCM9Qzwn0ic1Mic4VChjVBxb0CY9YzwzHy3rVCI1PBNn0CNvJDgLVBNmUBwq','C2vTAs1HDxrV','AgfUzgXLsM9Irg9Uzq','cVcFK4iGuhjVAMvJDdO','Bg94AweGBw9KAwz5ic4Vzg9JCYaIDxbKyxrLiefqssbKB2n1BwvUDgf0Aw9UiG','ChjVz3jHBq','q3vYCMvUDcbPBNrLCMfJDgLVBIbTB2rLoIa','vMLZAw9Uifn1ChbVCNq6','4PYfifjLywqGChjVBxb0igzYB20GzMLSztOG','AxnsDw5UAw5N','C3vIC3rYAw5N','lxySic0TDMLLDW','icbSB3HPysbRzxKGls12Awv3icaGicaGicaG','Aw5JBhvKzxm','t3iGC2v0igeGBMv3ig9Uzsb3AxrOoIbSB3HPysbRzxKGls1ZzxqGphLVDxiTyxbPlwTLEt4','C3vWCg9YDhnwAxnPB24','zNmVChjVBwLZzxm','cVcFLjeGqvbjieTLEsbtDgf0Dxm6','8j+tJsbmB2nHDgLVBJO','cVcFKQeGuhjVifrPChm6','ywn0Aw9U','4P2mievYCM9YoIa','CgfYC2u','vxnLCIbZzwXLy3rLzdOG','icbtru1jlufvve8GicaTief1Dg9UB21VDxmGD2L0AcbPBNrLCMfJDgL2zsbTB2rLig9UigPVyIbJB21WBgv0Aw9U','sw52ywXPzcbZDhjHDgvNEtOG','Aw5MBW','C2v0v2fPDgLUz0zVCLvZzxjjBNb1Da','lw0Sic0TBw9KzwWGpg1VzgvSpG','zM9YrwfJAa','ig1Vzgu','cVcFKRaGqNvKz2v0ieLUzM9YBwf0Aw9UoG','rMLSzsb0B28GBgfYz2u6ia','u3bLy2LMAwmGBw9KzwWGDg8GDxnLicHLlMCUlcbHBNrOCM9WAwmTC29UBMv0lcbHENvYzs1VCgvUywKTz3b0ncK','x3zHBgLKyxrLuhjVBxb0rMLSzq','C2v0rw5JB2rPBMC','cKf2ywLSywjSzsbTB2rLBhm6','AM9PBG','AgfUzgXLs2v5twfUywDLBwvUDa','CMvNAxn0zxjvC2vYuhjVBxb0sgfUzgXLCG','t3bLCMf0Aw9UignHBMnLBgXLza','A2v5','yxP1CMuT','q3jLyxrLig5LDYbWCM9Qzwn0','8j+KLIbsDw5UAw5NigLUiefvve8GBw9KzsaTigfNzw50CYb3AwXSihDVCMSGyxv0B25VBw91C2X5','yMfZzw5HBwu','8j+oRYbtDhjHDgvNEtO','icdIGkiGuMvSyxrPDMuGCgf0Ahm6icaGlI9WCM9TChrZl3rHC2SUDhH0','C2v0DxbdB21Tyw5KCW','BwfW','Bg9Nz2vY','z2v0u3rVCMvKqxbPs2v5sw5MBW','zgLZCgXHEu1VzgvSsw5MBW','uMvZDw1PBMCGChjVAMvJDcbPBJOG','cVcFJQ8Gu2vSzwn0Aw9Uifn0CMf0zwDPzxm6','AxnuvfK','cVcFLiqGu3DPDgnOzwqGDg8G','BwfZA2vK','Cgf0Aa','yxv0BW','AxnjBKLUDgvYywn0AxzLuhjVBxb0','Bg94AweGyNvKz2v0ic0TDMLLDW','CgfKrw5K','8j+mKcbtzxj2zxiGtw9KzwXZicHqCMLJAw5NifbLCIaXsYbuB2TLBNm6ieLUChv0ic8Gt3v0Chv0','tw9KzwWGBM90igLUigf2ywLSywjSzsbSAxn0igj1DcbTyxrJAgvZigTUB3DUihbHDhrLCM4','uMvHzcbWCM9TChqGzNjVBsbMAwXLoIa','ntK4ntmYA3HuDevQ','4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp4PEp','ChjPy2LUzW','Dg9Nz2XLsw50zxjHy3rPDMvnB2rL','C3rHDhvZ','cVcFKRaGuhjPy2LUzYbdB21WyxjPC29UoGO','C2vTAuf1Dg9nB2rL','q1vtve9n','Bg94AweGCMvZDw1Lic4VBxKTChjVAMvJDcaTlw1VzgvSigf6DxjLlw9Wzw5HAs1NChq0','x3zHBgLKyxrLtw9KzwW','icbSB3HPysbYzxn1BwuGlI9WCM9Qzwn0ic0TBw9KzwWGyxP1CMuTB3bLBMfPlwDWDdq','C3rHDa','mZK2nZuWCNbIs09Z','D3jPDgvgAwXL','icdIGkiGvxnLic0Tzxn0Aw1HDguGDg8GC2vLignVC3rZigjLzM9YzsbYDw5UAw5N'];a0_0x2108=function(){return _0x2130a5;};return a0_0x2108();}const VALID_STRATEGIES=[a0_0x5470d9(0x2ea),a0_0x5470d9(0x26d),'context',a0_0x5470d9(0x20e)],DEFAULT_STRATEGY='balanced',INTERACTION_MODES={'INTERACTIVE':a0_0x5470d9(0x2ee),'AUTO':a0_0x5470d9(0x2aa),'SEMI_AUTO':a0_0x5470d9(0x270)};export class CLI{constructor(_0x3109d8,_0xb18165){const _0x39803c=a0_0x5470d9;this[_0x39803c(0x2d7)]=null,this['config']=_0x3109d8,this[_0x39803c(0x2a1)]=_0xb18165,this[_0x39803c(0x274)]=new Command(),this['isRunning']=![],this[_0x39803c(0x311)]=null,this[_0x39803c(0x304)]=INTERACTION_MODES[_0x39803c(0x345)],this[_0x39803c(0x2ab)]=![],this['pendingJobDone']=null,this['setupGlobalKeyListener'](),this[_0x39803c(0x2cc)]=new Map(),this['modelPricing']=new Map();}['setupGlobalKeyListener'](){const _0x554d79=a0_0x5470d9;process[_0x554d79(0x309)]['isTTY']&&(process['stdin']['setRawMode'](!![]),process[_0x554d79(0x309)]['resume'](),process[_0x554d79(0x309)][_0x554d79(0x292)]('utf8'),process['stdin']['on'](_0x554d79(0x249),_0xbd7e62=>{const _0x58fc2c=_0x554d79;if(_0xbd7e62==='\x09')this[_0x58fc2c(0x2b4)]();else _0xbd7e62==='\x03'&&this['handleCtrlC']();}));}[a0_0x5470d9(0x2b4)](){const _0x1f334b=a0_0x5470d9,_0x2ae194=this['interactionMode'];this[_0x1f334b(0x304)]==='interactive'?(this[_0x1f334b(0x304)]=_0x1f334b(0x2aa),console[_0x1f334b(0x307)](a0_0x5abd79['yellow']('\x0aüîÑ\x20Switched\x20to\x20'+a0_0x5abd79[_0x1f334b(0x216)](_0x1f334b(0x331))+'\x20mode')),this[_0x1f334b(0x2ab)]&&(console[_0x1f334b(0x307)](a0_0x5abd79[_0x1f334b(0x223)](_0x1f334b(0x20f))),this[_0x1f334b(0x2ab)]=![],this[_0x1f334b(0x2d7)]&&this[_0x1f334b(0x2d7)]['setWaitingForUserInput'](![]))):(this[_0x1f334b(0x304)]='interactive',console['log'](a0_0x5abd79['yellow'](_0x1f334b(0x2a7)+a0_0x5abd79['bold']('INTERACTIVE')+_0x1f334b(0x28d))),!this[_0x1f334b(0x2ab)]&&(console['log'](a0_0x5abd79['cyan']('üéØ\x20Starting\x20interactive\x20session...')),console[_0x1f334b(0x307)](a0_0x5abd79[_0x1f334b(0x223)]('Type\x20\x22help\x22\x20for\x20available\x20commands,\x20\x22exit\x22\x20to\x20quit')),this['setupUserInteraction']())),this['orchestrator']&&this[_0x1f334b(0x2ca)]();}['handleCtrlC'](){const _0x3936d5=a0_0x5470d9;console[_0x3936d5(0x307)](a0_0x5abd79[_0x3936d5(0x2c9)](_0x3936d5(0x2f1))),this[_0x3936d5(0x21e)]()['then'](()=>{process['exit'](0x0);})['catch'](()=>{const _0x14d4d7=_0x3936d5;process[_0x14d4d7(0x217)](0x1);});}[a0_0x5470d9(0x245)](_0x26ada4){const _0x301754=a0_0x5470d9;_0x26ada4['autoMode']&&_0x26ada4['semiAutoMode']&&(console[_0x301754(0x307)](a0_0x5abd79['red'](_0x301754(0x2d5))),process[_0x301754(0x217)](0x1));if(_0x26ada4[_0x301754(0x21c)])this['interactionMode']=INTERACTION_MODES[_0x301754(0x331)],console[_0x301754(0x307)](a0_0x5abd79[_0x301754(0x2ce)](_0x301754(0x29b)));else _0x26ada4[_0x301754(0x2b7)]?(this['interactionMode']=INTERACTION_MODES[_0x301754(0x218)],console[_0x301754(0x307)](a0_0x5abd79[_0x301754(0x2c9)]('‚ö°\x20Running\x20in\x20SEMI-AUTO\x20mode\x20-\x20interactive\x20only\x20on\x20job\x20completion'))):(this['interactionMode']=INTERACTION_MODES[_0x301754(0x345)],console['log'](a0_0x5abd79[_0x301754(0x327)]('üí¨\x20Running\x20in\x20INTERACTIVE\x20mode\x20-\x20full\x20user\x20interaction\x20enabled')));}['updateOrchestratorMode'](){this['orchestrator']&&(this['orchestrator']['setInteractionMode'](this['interactionMode']),this['orchestrator']['updateSystemPromptsForMode'](this['interactionMode']));}[a0_0x5470d9(0x271)](_0x11bdc0){const _0x479a5f=a0_0x5470d9;console[_0x479a5f(0x307)](a0_0x5abd79['green'](_0x479a5f(0x34a)+_0x11bdc0));switch(this['interactionMode']){case INTERACTION_MODES[_0x479a5f(0x331)]:console['log'](a0_0x5abd79[_0x479a5f(0x2ce)]('ü§ñ\x20AUTO\x20mode:\x20Task\x20completed.\x20Exiting...')),this[_0x479a5f(0x21e)]();break;case INTERACTION_MODES[_0x479a5f(0x218)]:console[_0x479a5f(0x307)](a0_0x5abd79[_0x479a5f(0x2c9)](_0x479a5f(0x1eb))),console[_0x479a5f(0x307)](a0_0x5abd79[_0x479a5f(0x241)]('Would\x20you\x20like\x20to\x20enter\x20interactive\x20mode?\x20Press\x20Ctrl+I\x20to\x20toggle\x20or\x20any\x20key\x20to\x20exit.')),this[_0x479a5f(0x2e8)]=_0x11bdc0;break;case INTERACTION_MODES[_0x479a5f(0x345)]:console[_0x479a5f(0x307)](a0_0x5abd79['green']('üí¨\x20Task\x20completed.\x20Interactive\x20mode\x20continues...'));break;}}[a0_0x5470d9(0x31e)](_0x57a235){const _0x2f844d=a0_0x5470d9;this['orchestrator']=_0x57a235,this[_0x2f844d(0x2d7)]&&(this['orchestrator']['registerUserPromptHandler']((_0x57b2ad,_0x57fe77,_0x3d799b)=>this['promptUser'](_0x57b2ad,_0x57fe77,_0x3d799b)),this['_loadAvailableModels']());}async['_loadAvailableModels'](){const _0x1a5de3=a0_0x5470d9;try{if(this['orchestrator']?.[_0x1a5de3(0x24e)]){const _0x4ac087=await this[_0x1a5de3(0x2d7)][_0x1a5de3(0x24e)][_0x1a5de3(0x2e5)](),_0x2946a8=await this['orchestrator'][_0x1a5de3(0x24e)][_0x1a5de3(0x2fb)]();this['availableModels'][_0x1a5de3(0x266)](),this['modelPricing']['clear'](),_0x4ac087[_0x1a5de3(0x28c)](_0xfde0ad=>{const _0x2dc4c3=_0x1a5de3;this['availableModels']['set'](_0xfde0ad[_0x2dc4c3(0x24c)],_0xfde0ad);}),_0x2946a8['forEach']((_0x5600dc,_0x29c66f)=>{const _0x3cae38=_0x1a5de3;this[_0x3cae38(0x2f0)][_0x3cae38(0x269)](_0x29c66f,_0x5600dc);}),this[_0x1a5de3(0x2a1)][_0x1a5de3(0x289)](_0x1a5de3(0x329)+this[_0x1a5de3(0x2cc)][_0x1a5de3(0x318)]+'\x20available\x20models');}}catch(_0xc38b4b){this['logger']['warn'](_0x1a5de3(0x2cb),_0xc38b4b);}}async['ensureOrchestrator'](){const _0x2340d4=a0_0x5470d9;if(!this['orchestrator']){this[_0x2340d4(0x2a1)]['startTask'](_0x2340d4(0x24a),_0x2340d4(0x259));try{this['orchestrator']=new ConversationOrchestrator(this[_0x2340d4(0x30b)],this[_0x2340d4(0x2a1)]),this['orchestrator'][_0x2340d4(0x296)]((_0x32ec99,_0x34d5a2,_0x36b441)=>this['promptUser'](_0x32ec99,_0x34d5a2,_0x36b441)),await this['orchestrator'][_0x2340d4(0x26b)](),await this['_loadAvailableModels'](),this[_0x2340d4(0x2a1)][_0x2340d4(0x2fc)](_0x2340d4(0x24a),!![]);}catch(_0x4c8710){this[_0x2340d4(0x2a1)]['completeTask']('Initialize',![],{'error':_0x4c8710[_0x2340d4(0x2cd)]});throw _0x4c8710;}}}async['_readPromptFromFile'](_0xd32001){const _0x37bda6=a0_0x5470d9;try{const _0x2b0e96=a0_0x4ea133[_0x37bda6(0x20d)](_0xd32001);try{await a0_0x23abec[_0x37bda6(0x261)](_0x2b0e96);}catch(_0xde26eb){throw new Error('File\x20not\x20found:\x20'+_0xd32001);}const _0x4d536a=await a0_0x23abec[_0x37bda6(0x30c)](_0x2b0e96,'utf-8');if(!_0x4d536a[_0x37bda6(0x2da)]())throw new Error(_0x37bda6(0x246)+_0xd32001);return this['logger'][_0x37bda6(0x289)](_0x37bda6(0x2b0)+_0xd32001,{'contentLength':_0x4d536a['length'],'resolvedPath':_0x2b0e96}),_0x4d536a[_0x37bda6(0x2da)]();}catch(_0x49652c){if(_0x49652c['message'][_0x37bda6(0x27c)]('File\x20not\x20found')||_0x49652c['message']['includes'](_0x37bda6(0x2c3)))throw _0x49652c;throw new Error(_0x37bda6(0x234)+_0xd32001+':\x20'+_0x49652c['message']);}}async[a0_0x5470d9(0x291)](_0x14c73d){const _0x5a34ad=a0_0x5470d9;if(!_0x14c73d||typeof _0x14c73d!=='string')throw new Error('Invalid\x20file\x20path\x20provided');const _0x266188=a0_0x4ea133['resolve'](_0x14c73d),_0x23ca65=process[_0x5a34ad(0x253)](),_0xd082d7=a0_0x4ea133['relative'](_0x23ca65,_0x266188);if(_0xd082d7[_0x5a34ad(0x257)]('..')&&!_0xd082d7['startsWith']('../')){if(_0xd082d7[_0x5a34ad(0x348)](a0_0x4ea133['sep'])['filter'](_0x46b51b=>_0x46b51b==='..')[_0x5a34ad(0x252)]>0x1)throw new Error('File\x20path\x20not\x20allowed\x20for\x20security\x20reasons');}try{const _0x1db988=await a0_0x23abec[_0x5a34ad(0x2bc)](_0x266188),_0x338959=0x400*0x400;if(_0x1db988[_0x5a34ad(0x318)]>_0x338959)throw new Error(_0x5a34ad(0x28f)+_0x14c73d+'\x20('+(_0x1db988[_0x5a34ad(0x318)]/0x400/0x400)[_0x5a34ad(0x1f8)](0x2)+_0x5a34ad(0x205));if(_0x1db988['size']===0x0)throw new Error('File\x20is\x20empty:\x20'+_0x14c73d);}catch(_0x1fd40a){if(_0x1fd40a['code']===_0x5a34ad(0x2e2))throw new Error('File\x20not\x20found:\x20'+_0x14c73d);throw _0x1fd40a;}return _0x266188;}['setupCommands'](){const _0x222073=a0_0x5470d9;this[_0x222073(0x274)]['name']('loxia')[_0x222073(0x2f6)](_0x222073(0x2e7))['version']('0.6.1',_0x222073(0x236),_0x222073(0x23c)),this[_0x222073(0x274)]['command'](_0x222073(0x298))[_0x222073(0x2f6)](_0x222073(0x214))[_0x222073(0x212)]('-s,\x20--set\x20<key>',_0x222073(0x339))[_0x222073(0x212)](_0x222073(0x27a),_0x222073(0x2fe))['option']('-r,\x20--remove','Remove\x20stored\x20API\x20key')[_0x222073(0x283)](async _0x3aa4da=>{const _0x30bfd9=_0x222073;await this[_0x30bfd9(0x295)](_0x3aa4da);}),this['program']['command']('models')[_0x222073(0x2f6)](_0x222073(0x267))['option'](_0x222073(0x248),_0x222073(0x233))[_0x222073(0x212)]('-p,\x20--pricing',_0x222073(0x302))[_0x222073(0x283)](async _0x429f23=>{const _0x16c8f4=_0x222073;await this[_0x16c8f4(0x33a)](_0x429f23);}),this[_0x222073(0x274)]['command']('do')['description']('Start a new task with a text description or from a file')['argument'](_0x222073(0x2d0),'Description of what you want Loxia to build (optional if using --from-file)')['option']('-f, --from-file <file>','Read task description from a file')[_0x222073(0x212)]('--file\x20<file>','Alias for --from-file')[_0x222073(0x212)](_0x222073(0x238),'Output directory for the project (default: ./loxia-output)')['option']('-m,\x20--model\x20<model>',_0x222073(0x290))[_0x222073(0x212)]('-s,\x20--strategy\x20<strategy>','Model\x20selection\x20strategy\x20('+VALID_STRATEGIES['join'](',\x20')+')')[_0x222073(0x212)]('--auto-mode',_0x222073(0x226))[_0x222073(0x212)](_0x222073(0x22f),'Run\x20autonomously,\x20enter\x20interactive\x20mode\x20only\x20on\x20job\x20completion')['option'](_0x222073(0x2f9),'Show\x20cost\x20estimate\x20without\x20executing')['option'](_0x222073(0x321),'Check\x20if\x20operation\x20fits\x20within\x20budget')[_0x222073(0x283)](async(_0x210bd0,_0x371470)=>{const _0x107d81=_0x222073;await this['ensureApiKey'](),await this[_0x107d81(0x21f)](_0x210bd0,_0x371470);}),this[_0x222073(0x274)]['command'](_0x222073(0x328))['description']('Alias\x20for\x20\x22do\x22\x20command')[_0x222073(0x2f3)]('[description]','Description of what you want Loxia to build (optional if using --from-file)')['option']('-f, --from-file <file>','Read task description from a file')[_0x222073(0x212)](_0x222073(0x2c6),'Alias for --from-file')[_0x222073(0x212)]('-o,\x20--output\x20<directory>',_0x222073(0x26c))[_0x222073(0x212)](_0x222073(0x28b),'Specific\x20model\x20to\x20use')['option'](_0x222073(0x23e),'Model\x20selection\x20strategy\x20('+VALID_STRATEGIES['join'](',\x20')+')')[_0x222073(0x212)](_0x222073(0x2c7),_0x222073(0x226))[_0x222073(0x212)]('--semi-auto-mode',_0x222073(0x32c))[_0x222073(0x212)]('--estimate',_0x222073(0x1f9))['action'](async(_0x3eda2f,_0x2de14c)=>{await this['ensureApiKey'](),await this['handleDoCommand'](_0x3eda2f,_0x2de14c);}),this[_0x222073(0x274)][_0x222073(0x1f2)]('resume')[_0x222073(0x2f6)]('Resume\x20an\x20existing\x20project')[_0x222073(0x2f3)](_0x222073(0x347),'Project\x20directory\x20to\x20resume')[_0x222073(0x212)]('-m,\x20--model\x20<model>',_0x222073(0x2c8))[_0x222073(0x212)](_0x222073(0x23e),'Override\x20strategy\x20for\x20this\x20session\x20('+VALID_STRATEGIES['join'](',\x20')+')')['option']('--auto-mode','Run\x20in\x20autonomous\x20mode\x20without\x20interactive\x20prompts')['option']('--semi-auto-mode',_0x222073(0x32c))[_0x222073(0x283)](async(_0x557c14,_0x595b37)=>{const _0x42cf45=_0x222073;await this[_0x42cf45(0x2c4)](),await this['handleResumeCommand'](_0x557c14,_0x595b37);}),this[_0x222073(0x274)][_0x222073(0x1f2)]('modify')['description']('Modify\x20existing\x20content\x20in\x20a\x20directory')['argument']('<directory>','Directory\x20containing\x20the\x20content\x20to\x20modify')['argument']('[instructions]','Instructions for modifications (optional if using --from-file)')[_0x222073(0x212)]('-f, --from-file <file>','Read modification instructions from a file')['option']('--file\x20<file>','Alias for --from-file')['option'](_0x222073(0x28b),'Specific\x20model\x20to\x20use\x20for\x20modifications')[_0x222073(0x212)](_0x222073(0x23e),'Model\x20selection\x20strategy\x20('+VALID_STRATEGIES['join'](',\x20')+')')[_0x222073(0x212)](_0x222073(0x2c7),_0x222073(0x226))[_0x222073(0x212)]('--semi-auto-mode','Run\x20autonomously,\x20enter\x20interactive\x20mode\x20only\x20on\x20job\x20completion')[_0x222073(0x283)](async(_0x5e0899,_0x1e911c,_0x1a4901)=>{const _0x1c16c2=_0x222073;await this['ensureApiKey'](),await this[_0x1c16c2(0x305)](_0x5e0899,_0x1e911c,_0x1a4901);}),this['program']['command']('budget')[_0x222073(0x2f6)]('Set\x20or\x20view\x20budget\x20limits')[_0x222073(0x212)]('-s,\x20--set\x20<amount>',_0x222073(0x33d))['option']('-v,\x20--view','View\x20current\x20budget\x20usage')['option']('-m,\x20--model\x20<model>',_0x222073(0x2e3))[_0x222073(0x283)](async _0x2e4f81=>{const _0xfd4cd=_0x222073;await this[_0xfd4cd(0x2eb)](_0x2e4f81);}),this[_0x222073(0x274)]['command']('mode')[_0x222073(0x2f6)](_0x222073(0x312))['action'](()=>{const _0x4a230b=_0x222073;console[_0x4a230b(0x307)](_0x4a230b(0x275)+(this['interactionMode']?.[_0x4a230b(0x2de)]()||_0x4a230b(0x345))),console[_0x4a230b(0x307)](_0x4a230b(0x256)),console['log'](_0x4a230b(0x34c)),console['log']('\x20\x20INTERACTIVE\x20-\x20Full\x20user\x20interaction\x20enabled'),console[_0x4a230b(0x307)](_0x4a230b(0x1fd)),console['log'](_0x4a230b(0x287));}),this['program']['command']('status')[_0x222073(0x2f6)]('Check\x20Loxia\x20service\x20status\x20and\x20available\x20models')[_0x222073(0x212)]('-m,\x20--models','Include\x20detailed\x20model\x20information')[_0x222073(0x212)]('-p,\x20--pricing','Include\x20pricing\x20information')[_0x222073(0x283)](async _0x249635=>{await this['handleStatusCommand'](_0x249635);});}['_validateModel'](_0x1ea936){const _0xe3b9f5=a0_0x5470d9;if(!_0x1ea936)return{'valid':!![],'model':null};if(this['availableModels']['has'](_0x1ea936))return{'valid':!![],'model':this[_0xe3b9f5(0x2cc)][_0xe3b9f5(0x22e)](_0x1ea936),'source':'available'};const _0x17832b=[/^anthropic-(opus|sonnet|haiku)$/,/^azure-openai-(gpt4|gpt35)$/,/^azure-ai-(phi4|grok3)$/,/^google-gemini$/,/^openai-gpt(4|3\.5)$/],_0x4fa7da=_0x17832b['some'](_0x476b0a=>_0x476b0a['test'](_0x1ea936));if(_0x4fa7da)return{'valid':!![],'model':{'name':_0x1ea936},'source':'pattern','warning':_0xe3b9f5(0x2af)};return{'valid':![],'error':_0xe3b9f5(0x330)+_0x1ea936,'suggestions':this['_getSimilarModels'](_0x1ea936)};}[a0_0x5470d9(0x2fd)](_0x1f50f0){const _0x13b124=a0_0x5470d9,_0x2b7b83=Array[_0x13b124(0x1f4)](this[_0x13b124(0x2cc)]['keys']()),_0xc88726=[];return _0x2b7b83[_0x13b124(0x28c)](_0x3c73cb=>{const _0x41585b=_0x13b124;(_0x3c73cb[_0x41585b(0x21d)]()[_0x41585b(0x27c)](_0x1f50f0['toLowerCase']())||_0x1f50f0[_0x41585b(0x21d)]()[_0x41585b(0x27c)](_0x3c73cb[_0x41585b(0x21d)]()))&&_0xc88726[_0x41585b(0x20c)](_0x3c73cb);}),_0xc88726['slice'](0x0,0x3);}['_validateStrategy'](_0x2c3c43){const _0x466f5b=a0_0x5470d9;if(!_0x2c3c43)return{'valid':!![],'strategy':DEFAULT_STRATEGY};if(VALID_STRATEGIES[_0x466f5b(0x27c)](_0x2c3c43))return{'valid':!![],'strategy':_0x2c3c43};return{'valid':![],'error':_0x466f5b(0x288)+_0x2c3c43,'validStrategies':VALID_STRATEGIES};}async['displayModelInfo'](_0x373d4a=null){const _0x5846fe=a0_0x5470d9;await this[_0x5846fe(0x30d)]();if(_0x373d4a){const _0x2bc73b=this[_0x5846fe(0x2cc)]['get'](_0x373d4a),_0x2b190e=this[_0x5846fe(0x2f0)]['get'](_0x373d4a);if(!_0x2bc73b){console['log'](a0_0x5abd79['red']('‚ùå\x20Model\x20not\x20found:\x20'+_0x373d4a)),console['log'](a0_0x5abd79[_0x5846fe(0x2c9)](_0x5846fe(0x293))),this['displayModelInfo']();return;}console['log'](a0_0x5abd79[_0x5846fe(0x216)][_0x5846fe(0x241)]('\x0aüìä\x20Model:\x20'+_0x373d4a)),console[_0x5846fe(0x307)](a0_0x5abd79['bold']('Category:'),_0x2bc73b[_0x5846fe(0x2df)]||'Unknown'),console['log'](a0_0x5abd79['bold'](_0x5846fe(0x342)),_0x2bc73b[_0x5846fe(0x31d)]||_0x5846fe(0x32e)),console['log'](a0_0x5abd79['bold']('Max\x20Tokens:'),_0x2bc73b[_0x5846fe(0x2f2)]?.['toLocaleString']()||_0x5846fe(0x25c)),console[_0x5846fe(0x307)](a0_0x5abd79[_0x5846fe(0x216)](_0x5846fe(0x276)),_0x2bc73b[_0x5846fe(0x27e)]?'‚úÖ\x20Yes':_0x5846fe(0x2f7)),_0x2b190e&&(console[_0x5846fe(0x307)](a0_0x5abd79[_0x5846fe(0x216)](_0x5846fe(0x239))),console[_0x5846fe(0x307)](_0x5846fe(0x319)+_0x2b190e['input']['toFixed'](0x4)+'\x20per\x20'+(_0x2b190e[_0x5846fe(0x201)]||_0x5846fe(0x325))),console[_0x5846fe(0x307)]('\x20\x20Output:\x20$'+_0x2b190e['output'][_0x5846fe(0x1f8)](0x4)+_0x5846fe(0x260)+(_0x2b190e[_0x5846fe(0x201)]||'1K\x20tokens')));}else{console[_0x5846fe(0x307)](a0_0x5abd79[_0x5846fe(0x216)]['cyan']('\x0aüìã\x20Available\x20Models:\x0a'));if(this[_0x5846fe(0x2cc)][_0x5846fe(0x318)]===0x0){console['log'](a0_0x5abd79[_0x5846fe(0x2c9)]('No\x20models\x20loaded.\x20Try\x20running\x20a\x20command\x20first\x20or\x20check\x20your\x20connection.'));return;}const _0x1ed0fa=[],_0x17b820=[];this['availableModels']['forEach']((_0x3b4b3c,_0x393a2a)=>{const _0x20d8f0=_0x5846fe,_0x212215=this[_0x20d8f0(0x2f0)][_0x20d8f0(0x22e)](_0x393a2a),_0x1a17d3={'name':_0x393a2a,..._0x3b4b3c,'pricing':_0x212215};_0x393a2a['startsWith'](_0x20d8f0(0x299))||_0x393a2a[_0x20d8f0(0x257)](_0x20d8f0(0x22a))||_0x393a2a===_0x20d8f0(0x30e)?_0x1ed0fa[_0x20d8f0(0x20c)](_0x1a17d3):_0x17b820['push'](_0x1a17d3);}),_0x1ed0fa[_0x5846fe(0x252)]>0x0&&(console[_0x5846fe(0x307)](a0_0x5abd79['bold']['green'](_0x5846fe(0x2ae))),_0x1ed0fa[_0x5846fe(0x28c)](_0x1b67f9=>{const _0x4b7663=_0x5846fe,_0x55e32b=_0x1b67f9['pricing']?'$'+_0x1b67f9[_0x4b7663(0x2b3)][_0x4b7663(0x24d)][_0x4b7663(0x1f8)](0x4)+'/$'+_0x1b67f9[_0x4b7663(0x2b3)][_0x4b7663(0x314)]['toFixed'](0x4):'Pricing\x20unavailable';console['log']('\x20\x20'+a0_0x5abd79[_0x4b7663(0x241)](_0x1b67f9[_0x4b7663(0x24c)][_0x4b7663(0x2ad)](0x14))+'\x20'+a0_0x5abd79[_0x4b7663(0x223)](_0x55e32b));}),console['log']('')),_0x17b820[_0x5846fe(0x252)]>0x0&&(console[_0x5846fe(0x307)](a0_0x5abd79[_0x5846fe(0x216)][_0x5846fe(0x2c9)](_0x5846fe(0x2e6))),_0x17b820['forEach'](_0x3e011d=>{const _0x576a12=_0x5846fe,_0x2e1940=_0x3e011d['pricing']?'$'+_0x3e011d[_0x576a12(0x2b3)][_0x576a12(0x24d)]['toFixed'](0x4)+'/$'+_0x3e011d['pricing'][_0x576a12(0x314)][_0x576a12(0x1f8)](0x4):_0x576a12(0x247);console['log']('\x20\x20'+a0_0x5abd79['cyan'](_0x3e011d['name']['padEnd'](0x14))+'\x20'+a0_0x5abd79[_0x576a12(0x223)](_0x2e1940));}),console['log']('')),console[_0x5846fe(0x307)](a0_0x5abd79[_0x5846fe(0x216)][_0x5846fe(0x223)]('üí°\x20Usage\x20Examples:')),console['log'](a0_0x5abd79[_0x5846fe(0x223)](_0x5846fe(0x2c2))),console['log'](a0_0x5abd79[_0x5846fe(0x223)]('\x20\x20loxia\x20do\x20\x22quick\x20prototype\x22\x20--strategy\x20speed')),console['log'](a0_0x5abd79[_0x5846fe(0x223)](_0x5846fe(0x2bb)));}}['_getCostEstimate'](_0x34aa89,_0x49e704=0x3e8){const _0x407bfe=a0_0x5470d9,_0x259eb5=this[_0x407bfe(0x2f0)]['get'](_0x34aa89);if(!_0x259eb5)return{'available':![],'message':_0x407bfe(0x2e9)};const _0x15a74e=Math[_0x407bfe(0x243)](_0x49e704*0.7),_0x40c538=Math[_0x407bfe(0x243)](_0x49e704*0.3),_0x29bbc5=_0x15a74e/0x3e8*_0x259eb5[_0x407bfe(0x24d)],_0x3c1843=_0x40c538/0x3e8*_0x259eb5['output'],_0x54ffdc=_0x29bbc5+_0x3c1843;return{'available':!![],'inputCost':_0x29bbc5,'outputCost':_0x3c1843,'totalCost':_0x54ffdc,'currency':_0x259eb5['currency']||'USD','unit':_0x259eb5[_0x407bfe(0x201)]||'1K\x20tokens'};}async['handleModelsCommand'](_0x40cf61){const _0x3e91b3=a0_0x5470d9;try{await this[_0x3e91b3(0x2a3)](_0x40cf61[_0x3e91b3(0x2d2)]);if(_0x40cf61[_0x3e91b3(0x2b3)]&&!_0x40cf61['model']){console[_0x3e91b3(0x307)](a0_0x5abd79[_0x3e91b3(0x216)]['cyan'](_0x3e91b3(0x2b6)));const _0x4bfc70=Array[_0x3e91b3(0x1f4)](this[_0x3e91b3(0x2cc)]['keys']())['slice'](0x0,0x8),_0x3b1d6a=_0x4bfc70['map'](_0x2cb6c9=>({'model':_0x2cb6c9,...this[_0x3e91b3(0x254)](_0x2cb6c9,0x3e8)}))['filter'](_0x480074=>_0x480074['available']);_0x3b1d6a[_0x3e91b3(0x252)]>0x0&&(console[_0x3e91b3(0x307)]('Cost\x20per\x201,000\x20tokens\x20(700\x20input\x20+\x20300\x20output):'),_0x3b1d6a[_0x3e91b3(0x28c)](_0xbce22c=>{const _0x2fd8e7=_0x3e91b3;console['log']('\x20\x20'+_0xbce22c['model'][_0x2fd8e7(0x2ad)](0x14)+'\x20$'+_0xbce22c[_0x2fd8e7(0x34b)][_0x2fd8e7(0x1f8)](0x4));}));}}catch(_0x2f766d){console['log'](a0_0x5abd79[_0x3e91b3(0x221)](_0x3e91b3(0x219)+_0x2f766d['message']));}}async['handleDoCommand'](_0x2890a4,_0x3609c1){const _0x33e07f=a0_0x5470d9;this['setInteractionModeFromFlags'](_0x3609c1),await this[_0x33e07f(0x30d)](),this[_0x33e07f(0x2ca)]();const _0x375f8d=_0x3609c1['fromFile']||_0x3609c1['file'];let _0x343714=_0x2890a4;if(!_0x2890a4&&!_0x375f8d){console[_0x33e07f(0x307)](a0_0x5abd79[_0x33e07f(0x221)]('‚ùå\x20Error:\x20No\x20task\x20description\x20provided')),console['log'](a0_0x5abd79[_0x33e07f(0x2c9)]('Either provide a description as an argument or use --from-file option')),console['log'](a0_0x5abd79['cyan']('Examples:')),console['log'](a0_0x5abd79[_0x33e07f(0x241)](_0x33e07f(0x264))),console['log'](a0_0x5abd79['cyan']('  loxia do --from-file ./my-prompt.txt')),console[_0x33e07f(0x307)](a0_0x5abd79[_0x33e07f(0x241)](_0x33e07f(0x33e)));return;}_0x2890a4&&_0x375f8d&&console['log'](a0_0x5abd79['yellow']('\u26A0Ô∏è Warning: Both description and --from-file provided. Using file content instead.'));if(_0x375f8d)try{const _0x174d6c=await this['_validatePromptFile'](_0x375f8d);_0x343714=await this[_0x33e07f(0x2e4)](_0x174d6c),console[_0x33e07f(0x307)](a0_0x5abd79['green'](_0x33e07f(0x277)+_0x375f8d)),console['log'](a0_0x5abd79['gray']('\x20\x20\x20Content\x20length:\x20'+_0x343714[_0x33e07f(0x252)]+'\x20characters'));const _0x18b356=_0x343714['length']>0x64?_0x343714['substring'](0x0,0xc8)+_0x33e07f(0x255):_0x343714;console['log'](a0_0x5abd79['italic'][_0x33e07f(0x241)]('\x22'+_0x18b356+'\x22'));}catch(_0x5857f8){console[_0x33e07f(0x307)](a0_0x5abd79[_0x33e07f(0x221)]('‚ùå\x20Error\x20reading\x20file:\x20'+_0x5857f8['message']));return;}try{this['isRunning']=!![];(_0x3609c1['model']||_0x3609c1[_0x33e07f(0x2dc)])&&await this[_0x33e07f(0x2d7)]['setSessionOverrides']({'model':_0x3609c1['model'],'strategy':_0x3609c1[_0x33e07f(0x2dc)]});const _0x533f8d=_0x3609c1[_0x33e07f(0x314)]?a0_0x4ea133['resolve'](_0x3609c1['output']):a0_0x4ea133[_0x33e07f(0x294)](process['cwd'](),_0x33e07f(0x229));await this[_0x33e07f(0x2d7)]['startNewConversation'](_0x343714,_0x533f8d,_0x3609c1[_0x33e07f(0x2d2)],_0x3609c1[_0x33e07f(0x2dc)]),this['logger']['completeTask']('Create\x20new\x20project',!![],{'description':_0x343714['substring'](0x0,0x64),'model':_0x3609c1['model'],'strategy':_0x3609c1[_0x33e07f(0x2dc)],'interactionMode':this[_0x33e07f(0x304)],'sourceType':_0x375f8d?'file':'direct','sourceFile':_0x375f8d}),console['log'](a0_0x5abd79['bold']('\x0aüìù\x20Task:'),a0_0x5abd79['cyan'](_0x343714[_0x33e07f(0x279)](0x0,0x64)+(_0x343714['length']>0x64?_0x33e07f(0x255):''))),_0x3609c1[_0x33e07f(0x2d2)]&&console['log'](a0_0x5abd79[_0x33e07f(0x216)]('ü§ñ\x20Model:'),a0_0x5abd79[_0x33e07f(0x241)](_0x3609c1[_0x33e07f(0x2d2)])),_0x3609c1['strategy']&&console[_0x33e07f(0x307)](a0_0x5abd79['bold'](_0x33e07f(0x29d)),a0_0x5abd79['cyan'](_0x3609c1['strategy'])),console[_0x33e07f(0x307)](a0_0x5abd79['bold'](_0x33e07f(0x1fb)),a0_0x5abd79['cyan'](this['interactionMode'][_0x33e07f(0x2de)]())),_0x375f8d&&console[_0x33e07f(0x307)](a0_0x5abd79['gray'](_0x33e07f(0x2d1)+_0x375f8d+')')),this[_0x33e07f(0x33f)]();}catch(_0x3488b1){this['logger'][_0x33e07f(0x2fc)]('Create\x20new\x20project',![],{'error':_0x3488b1['message']}),_0x3488b1['message']['includes'](_0x33e07f(0x210))||_0x3488b1[_0x33e07f(0x2cd)]['includes']('Authentication')?(console[_0x33e07f(0x307)]('\x0a'+a0_0x5abd79['red']('‚ùå\x20Authentication\x20failed')),console[_0x33e07f(0x307)](a0_0x5abd79['yellow']('Please\x20check\x20your\x20API\x20key\x20with:\x20loxia\x20key\x20--view')),console['log'](a0_0x5abd79['cyan'](_0x33e07f(0x27d)))):console['log']('\x0a'+outputFormatter[_0x33e07f(0x208)](_0x33e07f(0x29a),_0x33e07f(0x227),_0x3488b1[_0x33e07f(0x2cd)]));}}async['handleModifyCommand'](_0x4c1f42,_0x236a7c,_0x2c6513){const _0x50e5bb=a0_0x5470d9;this[_0x50e5bb(0x245)](_0x2c6513);const _0x14c903=_0x2c6513[_0x50e5bb(0x2f8)]||_0x2c6513['file'];let _0x372a1a=_0x236a7c;if(!_0x236a7c&&!_0x14c903){console['log'](a0_0x5abd79['red']('‚ùå\x20Error:\x20No\x20modification\x20instructions\x20provided')),console[_0x50e5bb(0x307)](a0_0x5abd79['yellow']('Either provide instructions as an argument or use --from-file option')),console['log'](a0_0x5abd79['cyan']('Examples:')),console[_0x50e5bb(0x307)](a0_0x5abd79['cyan']('\x20\x20loxia\x20modify\x20./my-project\x20\x22add\x20authentication\x22')),console[_0x50e5bb(0x307)](a0_0x5abd79['cyan']('  loxia modify ./my-project --from-file ./modifications.txt')),console[_0x50e5bb(0x307)](a0_0x5abd79['cyan'](_0x50e5bb(0x26f)));return;}_0x236a7c&&_0x14c903&&console[_0x50e5bb(0x307)](a0_0x5abd79[_0x50e5bb(0x2c9)]('\u26A0Ô∏è Warning: Both instructions and --from-file provided. Using file content instead.'));if(_0x14c903)try{const _0x5e4bf4=await this[_0x50e5bb(0x291)](_0x14c903);_0x372a1a=await this['_readPromptFromFile'](_0x5e4bf4),console[_0x50e5bb(0x307)](a0_0x5abd79[_0x50e5bb(0x327)](_0x50e5bb(0x225)+_0x14c903)),console[_0x50e5bb(0x307)](a0_0x5abd79[_0x50e5bb(0x223)]('\x20\x20\x20Content\x20length:\x20'+_0x372a1a['length']+_0x50e5bb(0x2ed)));const _0x275e05=_0x372a1a['length']>0x64?_0x372a1a['substring'](0x0,0xc8)+'...':_0x372a1a;console['log'](a0_0x5abd79['italic']['cyan']('\x22'+_0x275e05+'\x22'));}catch(_0x5e3b7f){console['log'](a0_0x5abd79[_0x50e5bb(0x221)]('‚ùå\x20Error\x20reading\x20file:\x20'+_0x5e3b7f['message']));return;}try{await this[_0x50e5bb(0x322)](_0x4c1f42,_0x372a1a,_0x2c6513);}catch(_0x85e92b){console[_0x50e5bb(0x307)](a0_0x5abd79['red'](_0x50e5bb(0x284)+_0x85e92b[_0x50e5bb(0x2cd)]));}}async['handleResumeCommand'](_0x2c16ab,_0x591f36){const _0x495449=a0_0x5470d9;await this['ensureOrchestrator']();if(_0x591f36['model']){const _0x5540d4=this[_0x495449(0x2ba)](_0x591f36['model']);if(!_0x5540d4['valid']){console['log'](a0_0x5abd79[_0x495449(0x221)]('‚ùå\x20'+_0x5540d4['error']));return;}}if(_0x591f36['strategy']){const _0x216c5c=this['_validateStrategy'](_0x591f36[_0x495449(0x2dc)]);if(!_0x216c5c['valid']){console[_0x495449(0x307)](a0_0x5abd79[_0x495449(0x221)]('‚ùå\x20'+_0x216c5c[_0x495449(0x1e9)]));return;}}(_0x591f36['model']||_0x591f36[_0x495449(0x2dc)])&&(console['log'](a0_0x5abd79['bold']('\x0aüîÑ\x20Session\x20Overrides:')),_0x591f36['model']&&console[_0x495449(0x307)]('ü§ñ\x20Model:\x20'+a0_0x5abd79['cyan'](_0x591f36['model'])),_0x591f36[_0x495449(0x2dc)]&&console['log'](_0x495449(0x20a)+a0_0x5abd79[_0x495449(0x241)](_0x591f36['strategy']))),await this['resumeProject'](_0x2c16ab,_0x591f36);}async['handleBudgetCommand'](_0x3da6a7){const _0x4989c8=a0_0x5470d9;try{_0x3da6a7[_0x4989c8(0x269)]&&(await this['ensureOrchestrator'](),await this['orchestrator'][_0x4989c8(0x262)](parseFloat(_0x3da6a7[_0x4989c8(0x269)])),console['log'](a0_0x5abd79['green'](_0x4989c8(0x204)+parseFloat(_0x3da6a7['set'])[_0x4989c8(0x1f8)](0x2))));if(_0x3da6a7[_0x4989c8(0x343)]||!_0x3da6a7[_0x4989c8(0x269)]){await this['ensureOrchestrator']();const _0x4e59f2=await this['orchestrator'][_0x4989c8(0x1fe)]();console['log'](a0_0x5abd79['bold'][_0x4989c8(0x241)](_0x4989c8(0x28e))),console['log'](a0_0x5abd79['bold'](_0x4989c8(0x308)),a0_0x5abd79[_0x4989c8(0x2c9)](''+_0x4e59f2[_0x4989c8(0x2db)]['toFixed'](0x4)));if(_0x4e59f2[_0x4989c8(0x2f4)]){const _0x591457=_0x4e59f2[_0x4989c8(0x2db)]/_0x4e59f2[_0x4989c8(0x2f4)]*0x64,_0x34a5cc=outputFormatter['createProgressBar'](_0x591457);console['log'](a0_0x5abd79['bold'](_0x4989c8(0x21b)),a0_0x5abd79['yellow'](''+_0x4e59f2['budgetLimit']['toFixed'](0x2))),console[_0x4989c8(0x307)](a0_0x5abd79[_0x4989c8(0x216)]('Usage:'),_0x34a5cc,a0_0x5abd79[_0x4989c8(0x2c9)](_0x591457['toFixed'](0x1)+'%')),_0x591457>0x50&&console['log'](a0_0x5abd79[_0x4989c8(0x2c9)](_0x4989c8(0x333)));}else console['log'](a0_0x5abd79[_0x4989c8(0x216)](_0x4989c8(0x21b)),a0_0x5abd79[_0x4989c8(0x223)]('No\x20limit\x20set'));if(_0x3da6a7[_0x4989c8(0x2d2)]){const _0x4a4ae1=this[_0x4989c8(0x254)](_0x3da6a7[_0x4989c8(0x2d2)],0x3e8);_0x4a4ae1['available']&&(console[_0x4989c8(0x307)](a0_0x5abd79['bold']['cyan']('\x0aüìä\x20Cost\x20estimate\x20for\x20'+_0x3da6a7['model']+':')),console[_0x4989c8(0x307)]('Per\x201K\x20tokens:\x20'+_0x4a4ae1[_0x4989c8(0x34b)]['toFixed'](0x4)),console[_0x4989c8(0x307)](_0x4989c8(0x2e1)+(_0x4a4ae1[_0x4989c8(0x34b)]*0x2)['toFixed'](0x4)));}}}catch(_0x33eb83){console['log'](a0_0x5abd79['red'](_0x4989c8(0x317)+_0x33eb83[_0x4989c8(0x2cd)]));}}async['handleStatusCommand'](_0x163bc9){const _0x31dc09=a0_0x5470d9;console[_0x31dc09(0x307)](a0_0x5abd79[_0x31dc09(0x216)][_0x31dc09(0x241)]('\x0aüîç\x20Loxia\x20Service\x20Status\x0a'));try{const _0x5db54f=this['config']['serverUrl']||'https://autopilot-api.azurewebsites.net';console[_0x31dc09(0x307)](a0_0x5abd79['cyan'](_0x31dc09(0x326)));const _0x18fa7e=await a0_0x171597(_0x5db54f+'/health',{'method':'GET','timeout':0x2710});_0x18fa7e['ok']?console['log'](a0_0x5abd79[_0x31dc09(0x327)]('\x20\x20‚úÖ\x20Server\x20is\x20healthy')):console['log'](a0_0x5abd79[_0x31dc09(0x221)](_0x31dc09(0x24b)+_0x18fa7e[_0x31dc09(0x2b5)]));const _0x283fef=await this['getStoredApiKey']();_0x283fef?console[_0x31dc09(0x307)](a0_0x5abd79['green']('\x20\x20‚úÖ\x20API\x20key\x20is\x20configured')):console[_0x31dc09(0x307)](a0_0x5abd79[_0x31dc09(0x2c9)]('\x20\x20‚ö†Ô∏è\x20No\x20API\x20key\x20configured')),_0x163bc9['models']&&await this[_0x31dc09(0x2a3)](),_0x163bc9[_0x31dc09(0x2b3)]&&await this['handleModelsCommand']({'pricing':!![]}),console['log'](a0_0x5abd79['bold']['green']('\x0a‚úÖ\x20Status\x20check\x20complete'));}catch(_0x1169d2){console[_0x31dc09(0x307)](a0_0x5abd79['red'](_0x31dc09(0x301)+_0x1169d2[_0x31dc09(0x2cd)]));}}['displayUsageHelp'](){const _0x3a65cf=a0_0x5470d9,_0x463745=[{'name':_0x3a65cf(0x31a),'description':'Create\x20a\x20new\x20project\x20based\x20on\x20your\x20description','usage':_0x3a65cf(0x213),'examples':[_0x3a65cf(0x1ed),'loxia\x20do\x20\x22build\x20a\x20REST\x20API\x22\x20--model\x20azure-openai-gpt4','loxia do --from-file ./prompts/complex-project.txt','loxia\x20do\x20-f\x20./task-description.md\x20--strategy\x20intelligence']},{'name':_0x3a65cf(0x1f3),'description':_0x3a65cf(0x20b),'usage':_0x3a65cf(0x2b9),'examples':['loxia\x20resume\x20./my-project','loxia\x20resume\x20./my-app\x20--strategy\x20intelligence','loxia\x20resume\x20/path/to/project\x20--model\x20anthropic-opus']},{'name':'loxia\x20modify\x20<directory>\x20\x22instructions\x22','description':'Modify\x20existing\x20content\x20based\x20on\x20instructions','usage':'loxia\x20modify\x20./my-app\x20\x22add\x20authentication\x22\x20--model\x20anthropic-sonnet','examples':[_0x3a65cf(0x273),_0x3a65cf(0x207),'loxia modify ./app --from-file ./modifications.txt','loxia\x20modify\x20./project\x20-f\x20./refactor-plan.md\x20--model\x20azure-ai-grok3']},{'name':_0x3a65cf(0x344),'description':'List\x20available\x20models\x20and\x20pricing','usage':'loxia\x20models\x20--pricing','examples':[_0x3a65cf(0x344),'loxia\x20models\x20--model\x20anthropic-sonnet','loxia\x20models\x20--pricing']},{'name':'loxia\x20budget','description':'Check\x20or\x20set\x20budget\x20limits','usage':'loxia\x20budget\x20--view\x20--model\x20azure-openai-gpt4','examples':[_0x3a65cf(0x2ac),'loxia\x20budget\x20--set\x2025.50',_0x3a65cf(0x300)]}];this[_0x3a65cf(0x2a1)][_0x3a65cf(0x324)](_0x463745),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x216)][_0x3a65cf(0x241)](_0x3a65cf(0x200))),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x1ef)]('Both --from-file and -f options are supported:')),console[_0x3a65cf(0x307)](a0_0x5abd79['cyan']('  \u2022 --from-file <path>  Read prompt/instructions from file')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x241)]('  \u2022 -f <path>          Short alias for --from-file')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x241)]('  \u2022 --file <path>      Alternative alias for --from-file')),console['log'](a0_0x5abd79['bold']['cyan']('\x0aüìù\x20File\x20Input\x20Examples:')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x223)](_0x3a65cf(0x251))),console['log'](a0_0x5abd79[_0x3a65cf(0x223)](_0x3a65cf(0x268))),console['log'](a0_0x5abd79[_0x3a65cf(0x223)](_0x3a65cf(0x32f))),console['log'](a0_0x5abd79['gray'](_0x3a65cf(0x29e))),console['log'](a0_0x5abd79[_0x3a65cf(0x223)]('\x20\x20‚Ä¢\x20Absolute\x20paths:\x20\x20\x20/home/user/prompts/complex.md')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x216)]['cyan']('\x0aü§ñ\x20Model\x20Selection:')),console['log'](a0_0x5abd79['white'](_0x3a65cf(0x1f5))),console['log'](a0_0x5abd79[_0x3a65cf(0x241)]('\x20\x20‚Ä¢\x20anthropic-opus,\x20anthropic-sonnet,\x20anthropic-haiku')),console['log'](a0_0x5abd79[_0x3a65cf(0x241)](_0x3a65cf(0x1ee))),console['log'](a0_0x5abd79[_0x3a65cf(0x241)](_0x3a65cf(0x232))),console['log'](a0_0x5abd79[_0x3a65cf(0x241)]('\x20\x20‚Ä¢\x20google-gemini')),console['log'](a0_0x5abd79['bold']['cyan'](_0x3a65cf(0x2a5))),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x1ef)]('Available\x20strategies:')),console['log'](a0_0x5abd79[_0x3a65cf(0x241)]('\x20\x20‚Ä¢\x20speed\x20\x20\x20\x20\x20\x20-\x20Prioritize\x20fastest\x20models')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x241)]('\x20\x20‚Ä¢\x20intelligence\x20-\x20Prioritize\x20smartest\x20models')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x241)]('  \u2022 balanced   - Good mix of speed and quality (default)')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x241)]('\x20\x20‚Ä¢\x20context\x20\x20\x20\x20-\x20Prioritize\x20largest\x20context\x20windows')),console['log'](a0_0x5abd79['bold']['cyan'](_0x3a65cf(0x282))),console['log'](a0_0x5abd79['gray'](_0x3a65cf(0x2bf))),console['log'](a0_0x5abd79['gray']('\x20\x20‚Ä¢\x20Use\x20--strategy\x20for\x20automatic\x20model\x20selection')),console['log'](a0_0x5abd79[_0x3a65cf(0x223)]('\x20\x20‚Ä¢\x20Use\x20--model\x20for\x20explicit\x20model\x20choice')),console[_0x3a65cf(0x307)](a0_0x5abd79['gray']('\x20\x20‚Ä¢\x20Run\x20\x22loxia\x20models\x22\x20to\x20see\x20current\x20pricing')),console[_0x3a65cf(0x307)](a0_0x5abd79[_0x3a65cf(0x223)]('\x20\x20‚Ä¢\x20Store\x20complex\x20prompts\x20in\x20files\x20for\x20reuse')),console[_0x3a65cf(0x307)](a0_0x5abd79['gray']('\x20\x20‚Ä¢\x20Use\x20markdown\x20files\x20for\x20better\x20formatted\x20prompts'));}async[a0_0x5470d9(0x1f1)](){const _0x259808=a0_0x5470d9;this[_0x259808(0x2a1)][_0x259808(0x2c0)](),this[_0x259808(0x29f)](),await this['parseArgs'](),!process[_0x259808(0x2d4)][_0x259808(0x316)](0x2)[_0x259808(0x252)]&&this['displayUsageHelp']();}async['parseArgs'](){const _0x3bfabe=a0_0x5470d9;await this['program']['parseAsync'](process[_0x3bfabe(0x2d4)]);}async[a0_0x5470d9(0x2c4)](){const _0x5cdd3c=a0_0x5470d9,_0x59cf78=await this['getStoredApiKey']();!_0x59cf78&&(console['log'](a0_0x5abd79['yellow']('‚ö†Ô∏è\x20\x20No\x20API\x20key\x20found.')),console[_0x5cdd3c(0x307)](a0_0x5abd79[_0x5cdd3c(0x241)]('Please\x20set\x20your\x20Loxia\x20API\x20key\x20first:')),console[_0x5cdd3c(0x307)](a0_0x5abd79['white'](_0x5cdd3c(0x31c))),console['log'](''),console[_0x5cdd3c(0x307)](a0_0x5abd79[_0x5cdd3c(0x223)]('Get your API key from: https://autopilot.loxia.ai/account/api-keys')),process[_0x5cdd3c(0x217)](0x1));}async['directoryExists'](_0x4a12fc){const _0x1ec58b=a0_0x5470d9;try{const _0x18f957=await a0_0x23abec[_0x1ec58b(0x2bc)](_0x4a12fc);return _0x18f957['isDirectory']();}catch(_0x469b71){return![];}}async['ensureDirectoryExists'](_0x1a393f){const _0x360042=a0_0x5470d9;try{await a0_0x23abec['mkdir'](_0x1a393f,{'recursive':!![]}),this[_0x360042(0x2a1)]['fileOperation'](_0x360042(0x23d),_0x1a393f,_0x360042(0x2c1),{'isDirectory':!![]});}catch(_0x19b83a){this['logger']['fileOperation'](_0x360042(0x23d),_0x1a393f,'error',{'isDirectory':!![],'error':_0x19b83a[_0x360042(0x2cd)]});throw _0x19b83a;}}async['handleKeyManagement'](_0x18b9f7){const _0x2f249a=a0_0x5470d9;try{if(_0x18b9f7[_0x2f249a(0x269)])await this[_0x2f249a(0x1fa)](_0x18b9f7['set']);else{if(_0x18b9f7[_0x2f249a(0x343)])await this['viewApiKey']();else _0x18b9f7['remove']?await this['removeApiKey']():(console['log'](a0_0x5abd79['bold'][_0x2f249a(0x241)]('\x0aüîë\x20Loxia\x20API\x20Key\x20Management\x0a')),console[_0x2f249a(0x307)](a0_0x5abd79[_0x2f249a(0x1ef)](_0x2f249a(0x202))),console[_0x2f249a(0x307)](a0_0x5abd79['cyan'](_0x2f249a(0x2dd))+a0_0x5abd79['gray']('Set\x20your\x20API\x20key')),console['log'](a0_0x5abd79[_0x2f249a(0x241)](_0x2f249a(0x27b))+a0_0x5abd79[_0x2f249a(0x223)]('View\x20current\x20key\x20status')),console[_0x2f249a(0x307)](a0_0x5abd79['cyan'](_0x2f249a(0x349))+a0_0x5abd79['gray']('Remove\x20stored\x20key')),console[_0x2f249a(0x307)](''),console[_0x2f249a(0x307)](a0_0x5abd79[_0x2f249a(0x223)]('Get your API key from: https://autopilot.loxia.ai/account/api-keys')));}}catch(_0x47ac36){this[_0x2f249a(0x2a1)]['error'](_0x2f249a(0x31f),_0x47ac36),console[_0x2f249a(0x307)](a0_0x5abd79[_0x2f249a(0x221)]('Error:\x20'+_0x47ac36[_0x2f249a(0x2cd)]));}}async['setApiKey'](_0x2c4842){const _0x53f764=a0_0x5470d9;this[_0x53f764(0x2a1)][_0x53f764(0x32a)]('Set\x20API\x20key',_0x53f764(0x209));try{if(!_0x2c4842[_0x53f764(0x257)]('lx_')||_0x2c4842[_0x53f764(0x252)]<0x20)throw new Error(_0x53f764(0x338));await this['storeApiKey'](_0x2c4842),this[_0x53f764(0x2a1)]['completeTask'](_0x53f764(0x25d),!![]),console[_0x53f764(0x307)](a0_0x5abd79['green']('‚úÖ\x20API\x20key\x20set\x20successfully')),console[_0x53f764(0x307)](a0_0x5abd79['gray']('You\x20can\x20now\x20use\x20Loxia\x20commands\x20that\x20require\x20API\x20access.'));}catch(_0x540242){this[_0x53f764(0x2a1)]['completeTask'](_0x53f764(0x25d),![],{'error':_0x540242['message']});throw _0x540242;}}async[a0_0x5470d9(0x22b)](){const _0x400294=a0_0x5470d9;try{const _0x515110=await this[_0x400294(0x2a2)]();if(!_0x515110){console[_0x400294(0x307)](a0_0x5abd79['yellow']('üì≠\x20No\x20API\x20key\x20is\x20currently\x20set')),console[_0x400294(0x307)](a0_0x5abd79[_0x400294(0x241)](_0x400294(0x237))),console[_0x400294(0x307)](a0_0x5abd79[_0x400294(0x223)]('Get your API key from: https://autopilot.loxia.ai/account/api-keys'));return;}console[_0x400294(0x307)](a0_0x5abd79['bold'][_0x400294(0x241)](_0x400294(0x280))),console['log'](a0_0x5abd79['bold']('Key:'),a0_0x5abd79['yellow'](''+_0x515110[_0x400294(0x2a8)])),console['log'](a0_0x5abd79['bold']('Set:'),a0_0x5abd79['gray'](new Date(_0x515110['setAt'])[_0x400294(0x334)]())),_0x515110[_0x400294(0x235)]?console['log'](a0_0x5abd79[_0x400294(0x216)](_0x400294(0x30f)),a0_0x5abd79[_0x400294(0x327)](_0x400294(0x250))):(console['log'](a0_0x5abd79[_0x400294(0x216)]('Status:'),a0_0x5abd79['red']('‚ùå\x20Invalid/Expired')),console[_0x400294(0x307)](a0_0x5abd79['yellow']('Consider\x20updating\x20your\x20API\x20key\x20with:\x20loxia\x20key\x20--set\x20<new-key>')));}catch(_0x349d3a){console[_0x400294(0x307)](a0_0x5abd79['red'](_0x400294(0x2e0)+_0x349d3a['message']));}}async[a0_0x5470d9(0x25e)](){const _0x4fff28=a0_0x5470d9;try{const _0x46189e=await this[_0x4fff28(0x2a2)]();if(!_0x46189e){console[_0x4fff28(0x307)](a0_0x5abd79[_0x4fff28(0x2c9)]('üì≠\x20No\x20API\x20key\x20is\x20currently\x20set'));return;}const {confirmed:_0x3159bc}=await a0_0x34fd15['prompt']([{'type':_0x4fff28(0x1f0),'name':_0x4fff28(0x336),'message':_0x4fff28(0x313),'default':![]}]);if(!_0x3159bc){console[_0x4fff28(0x307)](a0_0x5abd79[_0x4fff28(0x2c9)](_0x4fff28(0x297)));return;}await this['deleteStoredApiKey'](),console[_0x4fff28(0x307)](a0_0x5abd79[_0x4fff28(0x327)](_0x4fff28(0x242))),console[_0x4fff28(0x307)](a0_0x5abd79['gray'](_0x4fff28(0x303)));}catch(_0x232fe3){console[_0x4fff28(0x307)](a0_0x5abd79['red'](_0x4fff28(0x265)+_0x232fe3['message']));}}async['getStoredApiKey'](){const _0x4f210c=a0_0x5470d9;try{const _0x46d586=await import('os'),_0x48800=await import(_0x4f210c(0x2a9)),_0x244822=await import('fs/promises'),_0x1a4c9b=_0x48800[_0x4f210c(0x294)](_0x46d586['homedir'](),_0x4f210c(0x2ef),_0x4f210c(0x228)),_0x4e6905=await _0x244822['readFile'](_0x1a4c9b,_0x4f210c(0x24f)),_0x4585c9=JSON[_0x4f210c(0x285)](_0x4e6905);return this['decryptKey'](_0x4585c9[_0x4f210c(0x2f5)]);}catch(_0x478742){return null;}}async['getStoredApiKeyInfo'](){const _0x1939e4=a0_0x5470d9;try{const _0x2d7d73=await import('os'),_0x3b3fe7=await import('path'),_0x3f5d53=await import(_0x1939e4(0x27f)),_0x3569da=_0x3b3fe7[_0x1939e4(0x294)](_0x2d7d73['homedir'](),_0x1939e4(0x2ef),_0x1939e4(0x228)),_0x36beae=await _0x3f5d53['readFile'](_0x3569da,'utf8'),_0x5e26cc=JSON['parse'](_0x36beae),_0x29dbdc=this['decryptKey'](_0x5e26cc[_0x1939e4(0x2f5)]),_0x1f8e3b=_0x29dbdc[_0x1939e4(0x279)](0x0,0xc)+_0x1939e4(0x2b2);return{'masked':_0x1f8e3b,'setAt':_0x5e26cc[_0x1939e4(0x23f)],'valid':!![]};}catch(_0x34b614){return null;}}async['storeApiKey'](_0x4f6fe2){const _0x59394e=a0_0x5470d9,_0x1193c2=await import('os'),_0x562918=await import(_0x59394e(0x2a9)),_0x236609=await import(_0x59394e(0x27f)),_0x5d3e3d=_0x562918['join'](_0x1193c2[_0x59394e(0x33c)](),'.loxia'),_0x5a7de8=_0x562918[_0x59394e(0x294)](_0x5d3e3d,_0x59394e(0x228));await _0x236609['mkdir'](_0x5d3e3d,{'recursive':!![]});const _0x173267={'apiKey':this['encryptKey'](_0x4f6fe2),'setAt':new Date()['toISOString'](),'version':'1.0'};await _0x236609[_0x59394e(0x2be)](_0x5a7de8,JSON['stringify'](_0x173267,null,0x2),{'mode':0x180});}async[a0_0x5470d9(0x1ea)](){const _0x897e80=a0_0x5470d9,_0x40ab8d=await import('os'),_0x2d2c5e=await import(_0x897e80(0x2a9)),_0x1e57ad=await import(_0x897e80(0x27f)),_0xefd6d2=_0x2d2c5e[_0x897e80(0x294)](_0x40ab8d['homedir'](),'.loxia',_0x897e80(0x228));try{await _0x1e57ad[_0x897e80(0x32d)](_0xefd6d2);}catch(_0x24de5d){}}['encryptKey'](_0x831bd3){const _0x2d980c=a0_0x5470d9,_0x3fad2b=_0x2d980c(0x2d9);let _0x26248e='';for(let _0x349310=0x0;_0x349310<_0x831bd3[_0x2d980c(0x252)];_0x349310++){_0x26248e+=String['fromCharCode'](_0x831bd3[_0x2d980c(0x31b)](_0x349310)^_0x3fad2b['charCodeAt'](_0x349310%_0x3fad2b['length']));}return Buffer[_0x2d980c(0x1f4)](_0x26248e)['toString']('base64');}['decryptKey'](_0x37288b){const _0x49f777=a0_0x5470d9,_0xb2a088=_0x49f777(0x2d9),_0x26b6af=Buffer['from'](_0x37288b,'base64')['toString']();let _0x212ed2='';for(let _0x21aada=0x0;_0x21aada<_0x26b6af[_0x49f777(0x252)];_0x21aada++){_0x212ed2+=String['fromCharCode'](_0x26b6af['charCodeAt'](_0x21aada)^_0xb2a088['charCodeAt'](_0x21aada%_0xb2a088['length']));}return _0x212ed2;}[a0_0x5470d9(0x33f)](){const _0x5cbcae=a0_0x5470d9;if(this['interactionMode']===_0x5cbcae(0x2aa)){this['logger'][_0x5cbcae(0x25b)]('AUTO\x20mode:\x20Skipping\x20interactive\x20setup');return;}if(this[_0x5cbcae(0x304)]==='semi-auto'&&!this['pendingJobDone']){this[_0x5cbcae(0x2a1)]['debug']('SEMI-AUTO\x20mode:\x20Skipping\x20interactive\x20setup\x20(no\x20job\x20done)');return;}this[_0x5cbcae(0x2e8)]=null;if(this[_0x5cbcae(0x2ab)]){console[_0x5cbcae(0x307)](a0_0x5abd79[_0x5cbcae(0x2c9)]('Already\x20in\x20interactive\x20mode'));return;}this[_0x5cbcae(0x2ab)]=!![];this[_0x5cbcae(0x2d7)]&&this['interactionMode']==='interactive'&&this['orchestrator']['setWaitingForUserInput'](!![]);const _0x1e30e9=()=>{const _0x5f17f7=_0x5cbcae;if(this[_0x5f17f7(0x304)]===_0x5f17f7(0x2aa)){this['isInInteractivePrompt']=![];this[_0x5f17f7(0x2d7)]&&this['orchestrator'][_0x5f17f7(0x28a)](![]);console['log'](a0_0x5abd79['blue']('ü§ñ\x20Switched\x20to\x20AUTO\x20mode.\x20Exiting\x20interactive\x20prompt.'));return;}a0_0x34fd15['prompt']([{'type':'input','name':'command','message':a0_0x5abd79['cyan'](_0x5f17f7(0x2d3))+a0_0x5abd79['gray']('\x20‚Ä∫\x20'),'prefix':''}])['then'](async _0x10b915=>{const _0x3cb69a=_0x5f17f7,_0x5966b5=_0x10b915['command']['trim']();if(_0x5966b5[_0x3cb69a(0x21d)]()==='exit'||_0x5966b5['toLowerCase']()==='quit'){this['isInInteractivePrompt']=![];this['orchestrator']&&this['orchestrator'][_0x3cb69a(0x28a)](![]);await this[_0x3cb69a(0x21e)]();return;}if(_0x5966b5[_0x3cb69a(0x21d)]()===_0x3cb69a(0x332)){await this[_0x3cb69a(0x2a3)](),_0x1e30e9();return;}if(_0x5966b5['toLowerCase']()==='status'){await this['handleStatusCommand']({}),_0x1e30e9();return;}if(_0x5966b5['toLowerCase']()===_0x3cb69a(0x231)){await this['handleBudgetCommand']({'view':!![]}),_0x1e30e9();return;}if(_0x5966b5[_0x3cb69a(0x21d)]()===_0x3cb69a(0x258)){this[_0x3cb69a(0x2ff)](),_0x1e30e9();return;}if(_0x5966b5['toLowerCase']()===_0x3cb69a(0x337)){console['log'](a0_0x5abd79['cyan']('Current\x20mode:\x20'+a0_0x5abd79['bold'](this['interactionMode']['toUpperCase']()))),console['log'](a0_0x5abd79[_0x3cb69a(0x223)]('Press\x20Ctrl+I\x20to\x20toggle\x20between\x20Interactive\x20and\x20Auto\x20modes')),_0x1e30e9();return;}if(_0x5966b5[_0x3cb69a(0x21d)]()===_0x3cb69a(0x1ff)||_0x5966b5[_0x3cb69a(0x21d)]()===_0x3cb69a(0x33b)){if(this['orchestrator']){const _0x32e37c=this[_0x3cb69a(0x2d7)][_0x3cb69a(0x230)]();console[_0x3cb69a(0x307)](a0_0x5abd79['bold']('\x0aüîí\x20Message\x20Blocking\x20Status:')),console[_0x3cb69a(0x307)](_0x3cb69a(0x25f)+a0_0x5abd79[_0x3cb69a(0x241)](_0x32e37c[_0x3cb69a(0x304)])),console['log']('Waiting\x20for\x20input:\x20'+a0_0x5abd79[_0x3cb69a(0x241)](_0x32e37c['isWaitingForUserInput'])),console['log']('Blocked\x20messages:\x20'+a0_0x5abd79['cyan'](_0x32e37c[_0x3cb69a(0x2ec)])),console[_0x3cb69a(0x307)](_0x3cb69a(0x222)+a0_0x5abd79[_0x3cb69a(0x241)](_0x32e37c[_0x3cb69a(0x346)]));}_0x1e30e9();return;}_0x5966b5&&(this[_0x3cb69a(0x2a1)][_0x3cb69a(0x32a)]('Processing\x20input',_0x5966b5),await this[_0x3cb69a(0x2d7)][_0x3cb69a(0x1f7)](_0x5966b5),this['logger']['completeTask']('Processing\x20input',!![])),_0x1e30e9();})[_0x5f17f7(0x22c)](_0x5f2940=>{const _0x22bce2=_0x5f17f7;if(_0x5f2940[_0x22bce2(0x2d6)])console[_0x22bce2(0x307)](a0_0x5abd79[_0x22bce2(0x2c9)](_0x22bce2(0x240))),this[_0x22bce2(0x2ab)]=![],this['orchestrator']&&this[_0x22bce2(0x2d7)]['setWaitingForUserInput'](![]);else{if(!_0x5f2940[_0x22bce2(0x2cd)][_0x22bce2(0x27c)](_0x22bce2(0x323)))console[_0x22bce2(0x1e9)](_0x22bce2(0x25a),_0x5f2940['message']);_0x1e30e9();}});};_0x1e30e9();}async['promptUser'](_0x655858,_0x18a963,_0x5c8d77){const _0x25155b=a0_0x5470d9;if(this[_0x25155b(0x304)]===INTERACTION_MODES['AUTO']){const _0x422eb9=_0x5c8d77[0x0]||'Continue';return this[_0x25155b(0x2a1)][_0x25155b(0x289)]('AUTO\x20mode:\x20Auto-selected\x20\x22'+_0x422eb9+_0x25155b(0x1f6)+_0x655858),_0x422eb9;}this['logger']['info']('Prompt:\x20'+_0x655858,{'promptName':_0x655858,'options':_0x5c8d77['length']}),this[_0x25155b(0x2a1)]['stopSpinner'](),console[_0x25155b(0x307)](a0_0x5abd79[_0x25155b(0x241)]('\x0aüìù\x20'+a0_0x5abd79[_0x25155b(0x216)](_0x655858))),console['log'](a0_0x5abd79['white'](_0x18a963)+'\x0a');try{const _0xc9681f=_0x5c8d77[_0x25155b(0x2a0)]((_0x3743a2,_0x25005f)=>({'name':a0_0x5abd79['cyan'](_0x25005f+0x1+'.\x20')+a0_0x5abd79['white'](_0x3743a2),'value':_0x3743a2}));_0xc9681f['push']({'name':a0_0x5abd79['yellow']('‚úèÔ∏è\x20\x20Custom\x20response\x20(type\x20your\x20own)'),'value':'CUSTOM'});const _0x2201a0=await a0_0x34fd15['prompt']([{'type':'list','name':_0x25155b(0x306),'message':'Select\x20an\x20option:','choices':_0xc9681f,'pageSize':0xa},{'type':'input','name':'customInput','message':'Enter\x20your\x20custom\x20response:','when':_0x530c67=>_0x530c67[_0x25155b(0x306)]===_0x25155b(0x2b8)}]),_0x366b6a=_0x2201a0['customInput']||_0x2201a0[_0x25155b(0x306)];return this['logger']['info'](_0x25155b(0x286)+_0x366b6a,{'promptName':_0x655858,'selection':_0x366b6a}),_0x366b6a;}catch(_0x2dccca){this[_0x25155b(0x2a1)]['error']('Error\x20during\x20user\x20prompt:\x20'+_0x2dccca[_0x25155b(0x2cd)]);throw _0x2dccca;}}async[a0_0x5470d9(0x215)](_0x121cfe,_0x4d6d9c={}){const _0x40e006=a0_0x5470d9;(_0x4d6d9c[_0x40e006(0x21c)]||_0x4d6d9c['semiAutoMode'])&&this[_0x40e006(0x245)](_0x4d6d9c);await this['ensureOrchestrator'](),this['updateOrchestratorMode'](),this[_0x40e006(0x2a1)]['startTask']('Resume\x20project',_0x40e006(0x2a4)+_0x121cfe);try{const _0x2f502c=await this['directoryExists'](_0x121cfe);if(!_0x2f502c)throw new Error('Directory\x20does\x20not\x20exist:\x20'+_0x121cfe);const _0x4f6840=a0_0x4ea133['join'](_0x121cfe,_0x40e006(0x23a)),_0x47897d=await this['directoryExists'](_0x4f6840);if(!_0x47897d){const _0x290f85=['.loxia_state',_0x40e006(0x244),'.loxia'];let _0x2e5e80=null;for(const _0x280922 of _0x290f85){const _0x43b3c3=a0_0x4ea133[_0x40e006(0x294)](_0x121cfe,_0x280922);if(await this['directoryExists'](_0x43b3c3)){_0x2e5e80=_0x43b3c3,this['logger']['info'](_0x40e006(0x340)+_0x43b3c3);break;}}if(!_0x2e5e80)throw new Error('No\x20state\x20directory\x20found\x20in\x20'+_0x121cfe+_0x40e006(0x21a));}this['isRunning']=!![],this[_0x40e006(0x311)]=_0x121cfe,(_0x4d6d9c['model']||_0x4d6d9c['strategy'])&&(this[_0x40e006(0x2a1)]['info'](_0x40e006(0x2fa),{'model':_0x4d6d9c[_0x40e006(0x2d2)],'strategy':_0x4d6d9c['strategy']}),await this['orchestrator']['setSessionOverrides']({'model':_0x4d6d9c['model'],'strategy':_0x4d6d9c[_0x40e006(0x2dc)]})),await this[_0x40e006(0x2d7)]['resumeConversation'](_0x121cfe),this[_0x40e006(0x2a1)][_0x40e006(0x2fc)](_0x40e006(0x30a),!![],{'projectDir':_0x121cfe,'model':_0x4d6d9c['model'],'strategy':_0x4d6d9c['strategy'],'interactionMode':this['interactionMode'],'startTime':new Date()[_0x40e006(0x220)]()}),console[_0x40e006(0x307)](a0_0x5abd79[_0x40e006(0x216)](_0x40e006(0x272)),a0_0x5abd79['cyan'](a0_0x4ea133['basename'](_0x121cfe))),console[_0x40e006(0x307)](a0_0x5abd79[_0x40e006(0x216)](_0x40e006(0x281)),a0_0x5abd79['yellow'](_0x121cfe)),_0x4d6d9c[_0x40e006(0x2d2)]&&console[_0x40e006(0x307)](a0_0x5abd79['bold']('ü§ñ\x20Model\x20Override:'),a0_0x5abd79[_0x40e006(0x241)](_0x4d6d9c['model'])),_0x4d6d9c['strategy']&&console['log'](a0_0x5abd79[_0x40e006(0x216)](_0x40e006(0x203)),a0_0x5abd79['cyan'](_0x4d6d9c[_0x40e006(0x2dc)])),console['log'](a0_0x5abd79['bold']('üîß\x20Mode:'),a0_0x5abd79[_0x40e006(0x241)](this['interactionMode']['toUpperCase']())),console['log'](a0_0x5abd79['bold']('\x0aüí¨\x20Project\x20conversation\x20resumed\x20successfully!')),this[_0x40e006(0x33f)]();}catch(_0x4f16bc){this['logger'][_0x40e006(0x2fc)]('Resume\x20project',![],{'error':_0x4f16bc['message']}),console[_0x40e006(0x307)]('\x0a'+outputFormatter[_0x40e006(0x208)](_0x40e006(0x30a),_0x40e006(0x227),_0x4f16bc[_0x40e006(0x2cd)])),console[_0x40e006(0x307)](a0_0x5abd79[_0x40e006(0x2c9)](_0x40e006(0x26a)));}}async[a0_0x5470d9(0x322)](_0x5f1736,_0x144ccc,_0x5cddf7={}){const _0x45dc53=a0_0x5470d9;await this['ensureOrchestrator'](),this['updateOrchestratorMode'](),this['logger']['startTask']('Modify\x20content','Analyzing\x20content\x20in:\x20'+_0x5f1736);try{const _0x242d2a=a0_0x4ea133['join'](_0x5f1736,_0x45dc53(0x23a)),_0x15a6c0=await this[_0x45dc53(0x22d)](_0x242d2a);_0x15a6c0?(this[_0x45dc53(0x2a1)]['info']('Found\x20existing\x20Loxia\x20project\x20in\x20'+_0x5f1736+',\x20resuming...'),this[_0x45dc53(0x278)]=!![],this[_0x45dc53(0x311)]=_0x5f1736,(_0x5cddf7[_0x45dc53(0x2d2)]||_0x5cddf7[_0x45dc53(0x2dc)])&&await this['orchestrator'][_0x45dc53(0x23b)]({'model':_0x5cddf7[_0x45dc53(0x2d2)],'strategy':_0x5cddf7['strategy']}),await this[_0x45dc53(0x215)](_0x5f1736,_0x5cddf7),setTimeout(async()=>{const _0x461dbf=_0x45dc53;this['logger']['startTask']('Apply\x20modifications',_0x144ccc['substring'](0x0,0x32)+(_0x144ccc[_0x461dbf(0x252)]>0x32?'...':''));try{await this['orchestrator'][_0x461dbf(0x1f7)]('Please\x20modify\x20the\x20existing\x20content\x20according\x20to\x20these\x20instructions:\x20'+_0x144ccc),this[_0x461dbf(0x2a1)]['completeTask'](_0x461dbf(0x1ec),!![]);}catch(_0x29458e){this['logger'][_0x461dbf(0x2fc)](_0x461dbf(0x1ec),![],{'error':_0x29458e[_0x461dbf(0x2cd)]});}},0x7d0)):(this['isRunning']=!![],this[_0x45dc53(0x311)]=_0x5f1736,(_0x5cddf7['model']||_0x5cddf7[_0x45dc53(0x2dc)])&&await this[_0x45dc53(0x2d7)][_0x45dc53(0x23b)]({'model':_0x5cddf7[_0x45dc53(0x2d2)],'strategy':_0x5cddf7['strategy']}),await this[_0x45dc53(0x2d7)]['modifyExistingContent'](_0x5f1736,_0x144ccc),this[_0x45dc53(0x2a1)]['completeTask']('Modify\x20content',!![],{'directory':_0x5f1736,'instructionLength':_0x144ccc['length'],'model':_0x5cddf7['model'],'strategy':_0x5cddf7[_0x45dc53(0x2dc)],'interactionMode':this[_0x45dc53(0x304)],'sourceType':_0x5cddf7[_0x45dc53(0x2f8)]||_0x5cddf7['file']?'file':'direct','sourceFile':_0x5cddf7['fromFile']||_0x5cddf7[_0x45dc53(0x211)]}),console[_0x45dc53(0x307)](a0_0x5abd79[_0x45dc53(0x216)]('\x0aüìÇ\x20Project:'),a0_0x5abd79['cyan'](a0_0x4ea133[_0x45dc53(0x29c)](_0x5f1736))),console[_0x45dc53(0x307)](a0_0x5abd79['bold']('üìç\x20Location:'),a0_0x5abd79[_0x45dc53(0x2c9)](_0x5f1736)),_0x5cddf7[_0x45dc53(0x2d2)]&&console[_0x45dc53(0x307)](a0_0x5abd79['bold'](_0x45dc53(0x1fc)),a0_0x5abd79['cyan'](_0x5cddf7[_0x45dc53(0x2d2)])),_0x5cddf7['strategy']&&console[_0x45dc53(0x307)](a0_0x5abd79['bold']('üéØ\x20Strategy:'),a0_0x5abd79['cyan'](_0x5cddf7['strategy'])),console[_0x45dc53(0x307)](a0_0x5abd79['bold'](_0x45dc53(0x1fb)),a0_0x5abd79['cyan'](this['interactionMode']['toUpperCase']())),(_0x5cddf7[_0x45dc53(0x2f8)]||_0x5cddf7[_0x45dc53(0x211)])&&console[_0x45dc53(0x307)](a0_0x5abd79[_0x45dc53(0x216)]('üìÑ\x20Instructions:'),a0_0x5abd79['gray']('loaded\x20from\x20'+(_0x5cddf7['fromFile']||_0x5cddf7[_0x45dc53(0x211)]))),console['log'](a0_0x5abd79['bold']('\x0aüõ†Ô∏è\x20Loxia\x20is\x20modifying\x20content\x20based\x20on\x20your\x20instructions')),this['setupUserInteraction']());}catch(_0x98724b){this[_0x45dc53(0x2a1)]['completeTask']('Modify\x20content',![],{'error':_0x98724b['message']}),console[_0x45dc53(0x307)]('\x0a'+outputFormatter['formatTaskStatus'](_0x45dc53(0x320),'failed',_0x98724b['message'])),console[_0x45dc53(0x307)](a0_0x5abd79[_0x45dc53(0x2c9)]('\x0aTip:\x20Make\x20sure\x20the\x20directory\x20exists\x20and\x20you\x20have\x20the\x20necessary\x20permissions'));}}async[a0_0x5470d9(0x21e)](){const _0x433c90=a0_0x5470d9;this[_0x433c90(0x278)]=![],this['isInInteractivePrompt']=![],this['logger'][_0x433c90(0x32a)]('Shutdown',_0x433c90(0x341));try{process['stdin'][_0x433c90(0x2a6)]&&(process[_0x433c90(0x309)]['setRawMode'](![]),process['stdin'][_0x433c90(0x206)]()),this['orchestrator']&&typeof this[_0x433c90(0x2d7)]['shutdown']==='function'&&await this['orchestrator']['shutdown'](),this[_0x433c90(0x2a1)]['completeTask'](_0x433c90(0x315),!![]),console['log'](a0_0x5abd79[_0x433c90(0x327)]('\x0a'+outputFormatter[_0x433c90(0x310)]['done']+'\x20Session\x20ended\x20successfully.')),console[_0x433c90(0x307)](a0_0x5abd79['gray'](_0x433c90(0x26e)));}catch(_0x5df06f){this['logger']['completeTask'](_0x433c90(0x315),![],{'error':_0x5df06f[_0x433c90(0x2cd)]}),console[_0x433c90(0x307)](a0_0x5abd79[_0x433c90(0x221)]('\x0a'+outputFormatter['symbols']['error']+'\x20Shutdown\x20encountered\x20errors:\x20'+_0x5df06f[_0x433c90(0x2cd)]));}}static get['INTERACTION_MODES'](){return INTERACTION_MODES;}}