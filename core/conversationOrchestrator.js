const a0_0x2ba907=a0_0x4af0;(function(_0x1fcde1,_0x3dcbf7){const _0x3c95b3=a0_0x4af0,_0x56c3ec=_0x1fcde1();while(!![]){try{const _0x3a19c2=-parseInt(_0x3c95b3(0x2df))/0x1+-parseInt(_0x3c95b3(0x28d))/0x2+-parseInt(_0x3c95b3(0x1ab))/0x3*(-parseInt(_0x3c95b3(0x226))/0x4)+-parseInt(_0x3c95b3(0x20f))/0x5+parseInt(_0x3c95b3(0x26e))/0x6*(-parseInt(_0x3c95b3(0x26f))/0x7)+-parseInt(_0x3c95b3(0x1cf))/0x8+parseInt(_0x3c95b3(0x25e))/0x9*(parseInt(_0x3c95b3(0x1a9))/0xa);if(_0x3a19c2===_0x3dcbf7)break;else _0x56c3ec['push'](_0x56c3ec['shift']());}catch(_0xc0023a){_0x56c3ec['push'](_0x56c3ec['shift']());}}}(a0_0x25d4,0xa5e9b));import{TagParser}from'../utilities/tagParser.js';import{TagParserService}from'../services/tagParserService.js';import a0_0xe0fbbe from'path';import{promises as a0_0x16fd60}from'fs';import{v4 as a0_0x52c134}from'uuid';function a0_0x25d4(){const _0x33f7aa=['AgfUzgXLuhjVBxb0vg9Vtg9UzW','z2v0uhjVBxb0rw5NAw5LzxjtExn0zw1qCM9TChq','zMLUza','yNvKz2v0u2vYDMLJzq','cIbuAgLZihnLy3rPB24GD2LSBcbIzsbZzw50igfWyxj0igzYB20GDgHLihrVB2WGAw5ZDhj1y3rPB25ZlG','CgfYC2u','y3jLyxrLsw5PDgLHBfbYB21WDezVCKvUz2LUzwvY','tefor1vbr0vFtu9eruXFsuq','mte2ndaYmejgugLZqW','DxrMltG','y2HLy2TuB29SrxHLy3v0Aw9Uu3rHDhvZ','vxbKyxrLzcbTzxrHzgf0ysbMB3iG','DgHLBG','ufjptvbux0vor0Loruvsx0Le','DxnPBMCGDgHLifTTzxnZywDLxsb0ywCGD2L0Acb0AguGzM9SBg93Aw5NigLKCW','ls1fBMqGB2yGu3vTBwfYEs0T','BwvZC2fNzq','Bw9Kzq','BgfZDefJDgL2Axr5vgLTzq','cIaGicaGicaGvgHLigzVBgXVD2LUzYb0zxH0igLZigeGCgfYDcbVzIbHignVBNzLCNnHDgLVBI4GsxqGAxmGDMvYEsbSB25NlIakicaGicaGicbszxbSywnLihrOAxmGCgfYDcbVzIb0AguGy29UDMvYC2f0Aw9UihDPDgGGysbJB25JAxnLigfSDgvYBMf0AxzLihDOAwXLihbYzxnLCNzPBMCGA2v5igLUzM9YBwf0Aw9UlcbKzwnPC2LVBNmSigfUzcbJB250zxH0cIaGicaGicaGqwDLBNqGC2HVDwXKigjLigfIBguGDg8GChjVy2vLzcb3AxrOigL0CYb0yxnRigj5ihvZAw5NihrOAxmGC2HVCNrLCIbZDw1Tyxj5igLUC3rLywqGB2yGDgHLig9YAwDPBMfSigXVBMCGy29UDMvYC2f0Aw9UlGOGicaGicaGia','ugvYzM9YBwLUzYbJB21Wywn0AxPHDgLVBIbMB3iGy29UDMvYC2f0Aw9Uia','ignVBxbSzxrLzcbZDwnJzxnZzNvSBhKUcG','BxmSihDHAxrPBMCGzM9Yig1LDgfKyxrHihvWzgf0zxmUlI4','cUkpSYbuB29Sia','BgfZDc1ZzxnZAw9UlMPZB24','vLmGq29KzsbTzxnZywDLihbYB2nLC3nLzcbZDwnJzxnZzNvSBhK','ihbLBMrPBMC','icaXlIbvC2uGDgHLihjLC3vTzsbJB21Tyw5KihrVignVBNrPBNvLihrOAxmGy29UDMvYC2f0Aw9UoG','BgfUz3vHz2vnB2rLBefNzw50swq','y3LHBG','surmrv9usu1ft1vux01t','q29UDMvYC2f0Aw9UigHPC3rVCNKGC2f2zwqGzM9Yia','CMvZDw1LrxHLy3v0Aw9U','C2f2zunVBNzLCNnHDgLVBKHPC3rVCNK','ignVBxbSzxrLzcb0B29SihjLC3vSDhmGDg8GywDLBNqG','BwvZC2fNzuLUzgLJyxrVCG','sgfUzgXPBMCGDxnLCIbWCM9TChq6ia','iIbMB3iGChjVBxb0oIa','Bw9KAwz5Aw5Nigv4Axn0Aw5NignVBNrLBNq','sM9IignVBxbSzxrLzdOG','zxHLy3v0zq','sM9IignVBxbSzxrPB24Gy29UzMLYBwvKigj5igfNzw50lIbqCM9JzwvKAw5NihDPDgGGAM9IignVBxbSzxrPB24U','BwfRzxjbz2vUDeLK','iIaTpIaI','Cgf1C2vK','icaGicbSB3HPysbKBYaIy29UDgLUDwuGDgHLihbYzxzPB3vZihDVCMSGAw4GDgHPCYbKAxjLy3rVCNKI','zw50CMLLCW','ywn0AxzLvg9VBhm','ig1LC3nHz2vZ','Aw1Hz2uTz2vU','AM9PBG','z2v0tgfUz3vHz2vnB2rLBfn5C3rLBvbYB21WDa','cUkDJcbuB29Sia','C2v0qNvKz2v0tgLTAxq','Cgf1C2vfEgvJDxrPB24','B25vC2vYuhjVBxb0','C2vZC2LVBI1ZDgf0zs5QC29U','q291BgqGBM90igzPBMqGBwv0ywrHDgeGzM9Yig9WzxjHDgLVBKLKoIa','Aw5PDgLHBgL6zq','z3jLzw4','zMXVB3i','sw50zxjHy3rPB24GBw9KzsbJAgfUz2vKoIa','ignVBxbSzxrLzcbZDwnJzxnZzNvSBhKU','ic0+ia','BgvUz3rO','igLZihn0AwXSihj1BM5PBMCGkg9WzxjHDgLVBIbjrdOG','rgvSAxzLCMLUzYa','vg8GCMuTzw5HyMXLlcbZD2L0y2GGDg8GAw50zxjHy3rPDMuGBw9KzsbVCIbTB2rPzNKGzw5Oyw5Jzvn5C3rLBvbYB21WDcGPicOV','C2vZC2LVBLn0yxrL','ihrVihn1y2nLC3mSig9WzxjHDgLVBKLKoIa','C3LZDgvTlxbYB21WDa','C3bSAxq','Dg9uAw1Lu3rYAw5N','z2v0','uMvZDw1PBMCGy29UDMvYC2f0Aw9UigzYB206ia','DhjPz2DLCLbYB2nLzwq','uMvZDg9YzwqG','4PYxiezHAwXLzcb0BYbJCMvHDguGy29UDMvYC2f0Aw9Uihn1Bw1HCNK','A2v5CW','DxbKyxrLtwvZC2fNzuLUzgLJyxrVCG','ChvZAa','zxjYB3i','revgqvvmvf9dt05urvHux1DjtKrpv19tsvPf','ww91igfYzsbHBIbbssbHC3nPC3rHBNqGDgfZA2vKihDPDgGGy29TCgXLDgLUzYb0AguGzM9SBg93Aw5NoIa','lIbuAgLZig1HEsbUB3qGyMuGysb2ywXPzcbmB3HPysbWCM9Qzwn0lG','u3rHDguGzgLYzwn0B3j5ig5VDcbMB3vUzdOG','8j+AQYbcBg9JA2LUzYbTzxnZywDLigLUigLUDgvYywn0AxzLig1Vzgu6ia','tgfZDcbZzxnZAw9UigzPBguGC2f2zwqGDg86ia','ihn1Bw1HCML6zwqGkYa','AwrSzq','mtK3oda3q2nrtfDS','q2fUBM90ihnLBMqGBwvZC2fNzsb0BYa','B3jPz2LUywXfCNjVCG','ChjVy2vZC1rVB2XdB21Tyw5KCW','z3jHEq','Bg9N','y29UDMvYC2f0Aw9UswrnyxbWAw5N','4P2mifrVB2WG','CM91DgvnzxnZywDLvg9bz2vUDa','icHTB2rLoIa','ChjVBxb0lwvUz2LUzwvY','Bwf4','AwrSzvrPBwvY','ugf1C2LUzYbLEgvJDxrPB24','8j+uKIbjBNrLCMfJDgL2zsbTB2rLoIbcBg9JA2LUzYbHDxrVBwf0AwmGBwvZC2fNzxm','8j+AQcbvtLjfq09wrvjbqKXfievsuK9s','ChjVBwLZzq','B3jPz2LUywXtExn0zw1qCM9TChrZ','D2fPDgLUzY1MB3iTywDLBNq','rMfPBgvKihrVihf1zxvLihrVB2WG','uhjVy2vZC2LUzYa','z2v0sw5KAwnHDg9YrgLZCgXHEq','DxbKyxrLuhjVAMvJDerPCMvJDg9YEq','qwDLBNqG','y29TCgXLDgvK','ve9ptf9dquXmx0zsrvfvru5dwv9dsevds19nuW','C3rHDhvZ','CgvUzgLUz1jLC3vSDhm','DgLTzxn0yw1W','CMvXDwLYzxnszxnWB25Zzq','y29UDMvYC2f0Aw9UCW','iL08Ew91CIbJB250zw50pLSVBwvZC2fNzv0UcGOGicaGicaGienOywXSzw5Nzsb0AguGywDLBNqSigHLihDPBgWGDhj5ihrVignVDMvYigvHy2GGC3vIAMvJDc9ZDgfNzsb3AxrOAw4GysbZAw5NBguGBwvZC2fNzsWGyxnRigHPBsb0BYbZDxbWBhKGzgv0ywLSCYWGy2HHBgXLBMDLigHPCYbHC3n1Bxb0Aw9UCYWGyw5Kig1HA2uGC3vYzsbOzsDZig5VDcbMB3jNzxr0Aw5NigfUEsbPBxbVCNrHBNqGyxnWzwn0ig9MihrOzsb0yxnRlaOGicaGicaGie9UzsbZCgvJAwzPyYbLEgfTCgXLig9MigeGBwf0DgvYig9MigHPz2GGAw1WB3j0yw5JzsbPCYb0AguGDMvYAwzPy2f0Aw9Uig9MihrOzsb0yxnRignVBxbSzxrPB24GAw4GysbSyxjNzsb2yxjPzxr5ig9MihDHExmUcIaGicaGicaG','mJaWodmWDNzAD2XJ','xtOG','oxvNAhn0yW','cGOVkIbot1rfoIbqCM9TChqGC3LUDgf4ihjLBw92zwqGzM9Yigf1Dg8GBw9Kzs4G','C2v0v2fPDgLUz0zVCLvZzxjjBNb1Da','D2HPDgu','CgvYzM9YBunVBxbHy3rPEMf0Aw9U','BMfTzq','Aw5MBW','cGPzB3uGyxjLigv4CgvJDgvKihrVignVBNn1BhqGEw91CIbmte0GywDLBNqGDxnPBMCGDgHLifTTzxnZywDLxsb0ywCGD2L0Acb0AguGzM9SBg93Aw5NigLKCZOG','AgfZ','C3rHCNruAw1L','ChjVBxb0','Dg9VBenVBw1HBMrZ','u1vntufswv9nqvjlrvjFru5e','zNjVBuvUDhjPzxm','w09Yy2HLC3rYyxrVCL0GtwvZC2fNAw5Nia','8j+AQcbqCM9TChqGDg9VigXVBMCGzgv0zwn0zwqGzM9Yicr7y29UDMvYC2f0Aw9Uswr9ic0GCgvYzM9YBwLUzYbJB21Wywn0AxPHDgLVBG','icaGicbSB3HPysbTB2rPzNKGlI95B3vYlxbYB2PLy3qGiMnVBNrPBNvLigrLDMvSB3bTzw50iG','yMXVy2TLze1LC3nHz2vZ','ignVBxbSzxrLzcWG','y29UDMvYC2f0Aw9Ulq','q29UDMvYC2f0Aw9UihjLC3vTzwqGD2L0Ag91DcbJB21WBgv0zsbOAxn0B3j5','BxmGD2L0AcbYzxn1Bhq6','C2vUze1LC3nHz2vuB0nVBNzLCNnHDgLVBG','DNnJB2rL','Dg9ju09tDhjPBMC','EwvSBg93','cGPuB29SCYbHDMfPBgfIBguGyxjLoGO','zgf0yq','C3rHCNrjzgXLtw9UAxrVCMLUzW','q29TCgfJDgL6yxrPB24Gy29TCgXLDgvKigzVCIa','CMvJAxbPzw50','DxbKyxrLq29UDMvYC2f0Aw9Uu3LZDgvTuhjVBxb0','icHMAwXLoIa','Bg9Nz2vY','rxjYB3iGChjVy2vZC2LUzYbwuYbdB2rLig1LC3nHz2u6','zgvSzxrL','otCYmJa0oePnt2zlyW','q3jPDgLJywWGy29TCgfJDgL6yxrPB24GzMfPBhvYztO','CgvUzgLUzW','w1n5C3rLBsbbDxrVlvjLC3bVBNnLxtOG','z2v0vg9VBeLKCW','q09nuefdveLAqvrjt05FqKvhsu5Fuevsq0vovefhrq','y29TCgXLDgvkB2i','uMvZDw1PBMCGzxHLy3v0Aw9U','CMvNAxn0zxjkB2jeB25LsgfUzgXLCG','w0zYB20G','C2v0uhjVAMvJDerPCMvJDg9YEq','q29UDMvYC2f0Aw9UihjLC3vTzwq','ww91CIbTzxnZywDLigrPzg4NDcbJB250ywLUigfUEsb0B29SignVBw1HBMrZlcbHig1LC3nHz2uGDg8Gyw5VDgHLCIbHz2vUDcWGB3iGysbWCM9TChqUia','u3rHCNrPBMCGBMv3ignVBNzLCNnHDgLVBIbMB3iGDgfZAZOG','vxbKyxrLzcbZExn0zw0GChjVBxb0igzVCIa','w1n5C3rLBv06iev4zwn1DgLVBIbOyxmGyMvLBIbWyxvZzwqGyNKGDgHLihvZzxiUifDHAxrPBMCGDg8GCMvZDw1LlG','Dg9VBeLK','cIaGicaGicaGicaGifrOzsb0yxnRigLZihrVig1VzgLMEsbJB250zw50igLUihrOzsbKAxjLy3rVCNKGjW','icbuAgLZignHBIbOyxbWzw4GD2HLBIb0AguGy29UDMvYC2f0Aw9UigjLy29TzxmGDg9VigXHCMDL','CMvZDwX0','w1vZzxiGAw5WDxrDoIa','C2vUzfbYB2nLzwrnzxnZywDL','y29UDgvUDa','Aw5JBhvKzxm','ve9ptf9tvefuvvnFvvbeqvrfx0LovevsvKfmx01t','cGO9psbqzw5KAw5Nie9WzxjHDgLVBNmGpt0','sM9IignVBMzPCM1HDgLVBIbYzwnLAxzLzcaOyxr0zw1WDca','Aw5PDgLHBgL6zvDPDgHqCM9Qzwn0','rMfPBgvKihrVihbYB2nLC3mGBwvZC2fNztOG','ihrVB2XZihDLCMuGzMLYzs1HBMqTzM9Yz2v0lcbUBYbYzxnWB25ZzsbZzw50ihrVigfNzw50','cIaGicaGicaGicaGia','tuflrvjFquDftLrFrevgqvvmvf9jra','icaYlIbpCIbZDgfYDcbHig5LDYbZzxnZAw9UigfZA2LUzYb0AguGywDLBNqGDg8Gy29UDgLUDwu6','teXnihnLCNzPy2uGy29UBMvJDgvKihrVihrVB2WGCMvNAxn0CNKGzM9YihzPC2LVBIbJyxbHyMLSAxrPzxm','BwTKAxi','u3vTBwfYEsbMywLSDxjLigrLDgfPBhm6','C2vTAs1HDxrV','Bg9HzenVBNzLCNnHDgLVBKHPC3rVCNK','AM9Irg9Uzq','ywXSu2v0DgXLza','w1n5C3rLBv06iev4zwn1DgLVBIbOyxmGyMvLBIbYzxn1BwvKigj5ihrOzsb1C2vYlG','lMXVEgLHlxn0yxrL','BM93','ywn0AxzLq29UDMvYC2f0Aw9UswrZ','igLZigfSCMvHzhKGyMvPBMCGDhjHy2TLza','yNjVD3nLCG','ihDPDgGGAw5ZDhj1y3rPB25ZoIa','cGO9psbdB21WBgv0zwqGt3bLCMf0Aw9UCYa9pq','zxHPDa','Bw9KzwXZ','C2vUze1LC3nHz2u','u2vZC2LVBIbVDMvYCMLKzxmGC2v0','icaGicbSB3HPysbYzxn1BwuGlI95B3vYlxbYB2PLy3qTzgLYzwn0B3j5','ks4GuhjVy2vLzgLUzYb3AxrOigPVyIbJB21WBgv0Aw9UlI4U','vxnLCIbZzwXLy3rLzdOG','B25kB2jeB25L','CxvLDwvqzw5KAw5NuMvZDwX0','D3jPDgvgAwXL','C2L6zq','BgXTu2vYDMLJzq','Dg9tDhjPBMC','tw9KAwz5Aw5NignVBNrLBNqGAw46ia','Dg9VBenOzwnRsw50zxj2ywW','DgLTzw91Da','ntCZmJm1weTXEhD6','CMvWBgfJzq','C3rYAw5NAwz5','C2XPy2u','igrVzxmGBM90igv4Axn0lcbJyw5UB3qGCM91DguGBwvZC2fNzs4GqxzHAwXHyMXLigfNzw50CYbHCMu6ia','DxnLCG','ihbLBMrPBMCGB3bLCMf0Aw9UCYb0BYbJB21WBgv0zsbVCIb0Aw1LB3v0','AwrSzunOzwnRsw50zxj2ywW','AM9Irg9UzunVBMzPCM1HDgLVBLn0yxrL','q291BgqGBM90ihjLywqGC2vZC2LVBIbZDgf0zsbMAwXLoIa','zMLSDgvY','Dhj5tg9HzenVBNzLCNnHDgLVBKHPC3rVCNLcEvbHDhrLCM4','q291BgqGBM90igXVywqGy29UDMvYC2f0Aw9UigHPC3rVCNKGzM9Yia','ChjVy2vZC01LC3nHz2u','yxv0BW','y2f0y2G','q09nuefdveLAqvrjt05Ft1vuufvux1jfu0vsvKvFuevsq0vovefhrq','CMvWzwf0','u0vtu0LptL9tvefurv9gsuXftKfnrq','zxjYB3juExbL','su5ervHFrKLmru5btuu','y3jLyxrLq29UDMvYC2f0Aw9U','u1rbvevFreLsx05btuu','mti3ndC5nNfKwKL3ta','ihrVia','u2vZC2LVBIbZDgf0zsbZyxzLzcbZDwnJzxnZzNvSBhKGD2L0AcbPBMrLEcbMAwXLCW','DhjHy2Tqzw5KAw5Nt3bLCMf0Aw9U','u2vZC2LVBIbZDgf0zsbZyxzLzcb0BZOG','B3b0Aw9UCW','Dg9VBfjLz2LZDhj5','C2v0u2vZC2LVBK92zxjYAwrLCW','C2f2zvvZywDLrgf0yq','ugXLyxnLigLTCgXLBwvUDcb0AguGB25vC2vYuhjVBxb0igHHBMrSzxiGAw4GDgHLienmss4','zgvIDwC','x3nHBML0AxPLq29UDMvYC2f0Aw9UswrgB3jgAwXL','rxjYB3iGCgfYC2LUzYbWCM9TChqGzw5NAw5LzxiGCMvZCg9UC2u6','z2v0tgLZDe9MqxzHAwXHyMXLqwDLBNrjzhm','CM9Szq','AxnuCMfJA2vK','q2fUBM90igrPC3bSyxKGChjVBxb0ihrVihvZzxi6ie5VihbYB21WDcbOyw5KBgvYigLZihjLz2LZDgvYzwqUia','x2HHBMrSzvn1Bw1HCNLgywLSDxjL','C3LZDgvTuhjVBxb0','D2fYBG','AxnxywL0Aw5NrM9YvxnLCKLUChv0','jYbUB3qGzM91BMqUief2ywLSywjSzsb0B29SCZOG','C2H1DgrVD24','uM91DgLUzYbTzxnZywDLigzYB20G','BwvZC2fNzxm','y29UzMLN','CMvZzxrkB2jeB25Lq29UzMLYBwf0Aw9Uu3rHDgu','rMfPBgvKihrVihjLC3vTzsbJB252zxjZyxrPB246','ignVBxbSzxrLzcbPBIa','cIaGicaGicaGicaGifrbu0SGrK9sifrirsbgvvrvuKuGquKGquDftLq6cIaGicaGicaGicaGia','C2f2zvnLC3nPB25tDgf0zq','BgfUz3vHz2vnB2rLBa','rxjYB3iGD2fPDgLUzYbMB3iGCgvUzgLUzYbVCgvYyxrPB25Zigr1CMLUzYbZAhv0zg93BJO','rMfPBgvKihrVihnHDMuGC2vZC2LVBIbZDgf0ztOG','BwfW','C3LZDgvT','Dgv4Da','y2HLy2TbBMrqzxjMB3jTq29TCgfJDgL6yxrPB24','u0vnss1bvvrpig1Vzgu6ifrHC2SGy29TCgXLDgvKlIbqCMvZCYbdDhjSk0KGDg8Gzw50zxiGAw50zxjHy3rPDMuGBw9KzsbVCIbLEgL0lG','Aw50zxjHy3rPB25nB2rL','zNjVBq','AxntAhv0DgLUz0rVD24','qMvMB3jLignVBxbHy3rPEMf0Aw9UoIa','C2v0teXnu2vYDMLJzq','rMfPBgvKihrVihnHDMuGC2vZC2LVBIbZDgf0ztO','ihbLBMrPBMCPoG','v2fPDgLUzYbMB3iG','vg9VBcaN','Dg9VBhmGyxzHAwXHyMXLigfYzq','Dg9mB2nHBgvmB3DLCKnHC2u','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EqOGicaGicaGic0GugvYzM9YBsbZDgf0AwmGy29KzsbHBMfSExnPCYaTifjfuefjuIbvtLrjtcbotYbfuLjpuLmGqvjfifbsrvnftLqkicaGicaGicaTigv4zwn1DguGDw5PDcb0zxn0CYbMB3iGAw5KAxzPzhvHBcbJB21WB25LBNrZicaTifjfuefjuIbvtLrjtcbotYbfuLjpuLmGqvjfifbsrvnftLqkicaGicaGicaTiev4zwn1DguGAw50zwDYyxrPB24GDgvZDhmGzM9YignVBxbVBMvUDcbPBNrLCMfJDgLVBNmGic0GuKvqquLsifvoveLmie5pievsuK9suYbbuKuGufjfu0vovaOGicaGicaGic0GugvYzM9YBsbLBMqTDg8Tzw5KihrLC3rZigzVCIb1C2vYihDVCMTMBg93CYaGlsbsrvbbsviGvu5usuWGtK8Grvjst1jtiefsrsbquKvtru5ucIaGicaGicaGlsbnywTLihn1CMuGBM8GzxjYB3jZig9Yigj1z3mGyxjLihbYzxnLBNqGAw4GDgHLihn0yxrPyYbJB2rLigfUywX5C2LZlcb0zxn0CYWGDgvYBwLUywWGB3v0Chv0lcbHBMqGyNjVD3nLCIb0zxn0Aw5NicHJB25ZB2XLicSGDMLZDwfSihrLC3rPBMCGDxnPBMCGDMLZAw9UignHCgfIAwXPDgLLCYKkicaGicaGicaTifrOAxmGC3rHz2uGseftifrpiejfifjfuevbveveieforcbsrs1dsevds0veihvUDgLSigfSBcbJB21WB25LBNrZigXHDw5JAcb3AxrOB3v0igvYCM9YCWOkicaGicaGicbptKXziefgvevsifrisvmGu1rbr0uSie9oq0uGvevtveLorYbjuYbdt01qtevuruqGqu5eifbst0Dsqu0Gv0ftievyrunvveveifDjveGGtK8Grvjst1jtlcbzt1uGqvjfiefmte9xruqGve8Gqu5ot1voq0uGsK9cierptKuUcGOGicaGicaGicmJifbYB2nLC3mGr3vPzgvSAw5LCWOGicaGicaGic0Gq29TCgXLDguGzwfJAcbZDgfNzsb0Ag9YB3vNAgX5igjLzM9YzsbTB3zPBMCGDg8GDgHLig5LEhqkicaGicaGicaTicHjBxbVCNrHBNqHksbdB3zL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y29UC29SzsWGBw9IAwXLkqOkicaGicaGicaGicaGkIPtDgfNzsaYoIbhyw1Lie1Ly2HHBMLJCYbezxnPz24QkGOGicaGicaGicaGica1lIbezxzLBg9WignVCMuGBwvJAgfUAwnZicHOB3CGCgXHEwvYigLUDgvYywn0CYb3AxrOihrOzsbNyw1LkqOGicaGicaGicaGica2lIbezxnPz24GCgXHEwvYihbYB2DYzxnZAw9Uihn5C3rLBqOGicaGicaGicaGica3lIbezwzPBMuGz2fTzsbYDwXLCYWGBgLTAxrHDgLVBNmGyw5KignOywXSzw5NzxmkicaGicaGicaGicaGoc4GrgvZAwDUihnJB3jPBMCVCMv3yxjKihn5C3rLBqOkicaGicaGicaGicaGkIPtDgfNzsaZoIbjBML0AwfSifrLy2HUAwnHBcbqBgfUBMLUzYOQcIaGicaGicaGicaGidKUienOB29ZzsbNyw1LigvUz2LUzsaOvw5PDhKSifvUCMvHBcWGr29KB3qSigv0yY4PcIaGicaGicaGicaGideWlIbjzgvUDgLMEsbYzxf1AxjLzcbSAwjYyxjPzxmGyw5KihrVB2XZicHWAhLZAwnZlcbUzxr3B3jRAw5NlcbbssKkicaGicaGicaGicaGmteUifbSyw4GyMfZAwmGy29KzsbHCMnOAxrLy3r1CMukicaGicaGicaGicaGmtiUiefZC2vZCYbOyxjKD2fYzsbYzxf1AxjLBwvUDhmGyw5KihbLCMzVCM1HBMnLcGOGicaGicaGicaGicaQkLn0ywDLidq6ifzPC3vHBcbHBMqGqxj0Axn0AwmGrgvZAwDUkIOkicaGicaGicaGicaGmtmUierLDgvYBwLUzsbHCNqGC3r5BguGkhjLywXPC3rPyYWGy2fYDg9VBIWGCgL4zwWGyxj0lcbLDgmUkqOGicaGicaGicaGicaXnc4GrgvZAwDUignVBg9YihbHBgv0DguGyw5Kig92zxjHBgWGyxrTB3nWAgvYzqOGicaGicaGicaGicaXns4GugXHBIb1C2vYigLUDgvYzMfJzsaOvuKVvvGPcIaGicaGicaGicaGide2lIbdCMvHDguGyxj0Axn0AwmGC3r5BguGz3vPzguGkefYDcbcAwjSzsKkcIaGicaGicaGicaGicOQu3rHz2uGntOGu3rVCNKGyw5KifbSB3qGrgv2zwXVCg1LBNqQkGOGicaGicaGicaGicaXnY4Gv3jPDguGBwfPBIbZDg9YEwXPBMuGyw5KihnLy29UzgfYEsbWBg90igXPBMvZcIaGicaGicaGicaGide4lIbezxzLBg9Wig1HAw4Gyw5KihnLy29UzgfYEsbJAgfYywn0zxjZihDPDgGGzgv0ywLSzwqGyMfJA2DYB3vUzhmkicaGicaGicaGicaGmtKUienYzwf0zsbNyw1LihDVCMXKigfUzcbLBNzPCM9UBwvUDcbKzxnJCMLWDgLVBGOGicaGicaGicaGicaYmc4Gv3jPDguGzgLHBg9NDwvZigfUzcbPBI1Nyw1LihrLEhrZcGOGicaGicaGicaGicaQkLn0ywDLidy6ieXLDMvSigfUzcbtDgfNzsbezxnPz24QkGOGicaGicaGicaGicaYms4GugXHBIbVDMvYywXSihn0CNvJDhvYzsbVzIbNyw1Lihn0ywDLCWOGicaGicaGicaGicaYmI4Grgv0ywLSzwqGzgvZAwDUig9MigvHy2GGC3rHz2uVBgv2zwWkicaGicaGicaGicaGmJmUierLDgvYBwLUzsbOB3CGC3rHz2vZignVBM5Ly3qGDg8GDgHLihn0B3j5BgLUzqOGicaGicaGicaGicaYnc4GugXHBIbKAwzMAwn1Bhr5ign1CNzLigfUzcbJAgfSBgvUz2uGChjVz3jLC3nPB24kcIaGicaGicaGicaGicOQu3rHz2uGnZOGqxvKAw8Gyw5Kie11C2LJierLC2LNBIOQcIaGicaGicaGicaGidi1lIbezxrLCM1PBMuGBxvZAwnHBcbZDhLSzsbHBMqGyxj0Axn0AwmGzgLYzwn0Aw9UcIaGicaGicaGicaGidi2lIbqBgfUigjHy2TNCM91BMqGBxvZAwmGzM9YigrPzMzLCMvUDcbZDgfNzxmkicaGicaGicaGicaGmJCUierLC2LNBIbZB3vUzcbLzMzLy3rZicHtrLGPcIaGicaGicaGicaGidi4lIbqBgfUihzVAwnLigfJDgLUzYbHBMqGzhvIyMLUzYbPzIbYzxf1AxjLzaOkicaGicaGicaGicaGkIPtDgfNzsa4oIbjBI1hyw1LifrVB2XZigfUzcbtExn0zw1ZifbSyw5UAw5NkIOkicaGicaGicaGicaGmJKUierLzMLUzsb0B29SCY93zwfWB25Zl2L0zw1ZigfUzcb0AgvPCIbWCM9Wzxj0AwvZcIaGicaGicaGicaGidmWlIbezxnPz24GywnXDwLZAxrPB24Gyw5KignVBgXLy3rPB24GC3LZDgvTcIaGicaGicaGicaGidmXlIbqBgfUigLUDMvUDg9YEsbHBMqGzxf1AxbTzw50ihn5C3rLBqOGicaGicaGicaGicaZmI4GrgvZAwDUigfKzgL0Aw9UywWGz2fTzsbZExn0zw1ZicH0CMfKAw5NlcbJCMfMDgLUzYWGzxrJlIKkcIaGicaGicaGicaGicOQu3rHz2uGotOGuhjVDg90ExbLierLDMvSB3bTzw50kIOkicaGicaGicaGicaGmZmUienYzwf0zsbIyxnPyYbWBgf5ywjSzsb2zxjZAw9UcIaGicaGicaGicaGidm0lIbuzxn0ignVCMuGBwvJAgfUAwnZcIaGicaGicaGicaGidm1lIbhyxrOzxiGAw5PDgLHBcbMzwvKyMfJAYbHBMqGDxbKyxrLCWOGicaGicaGicaGicaZnI4GvMfSAwrHDguGDgvJAg5Py2fSignVBMnLChqkcIaGicaGicaGicaGicOQu3rHz2uGmta6iez1BgWGrgv2zwXVCg1LBNqQkGOGicaGicaGicaGicaZnY4Grgv2zwXVCcbHBgWGC3LZDgvTCYbHBMqGy29UDgvUDaOGicaGicaGicaGicaZoc4Gq3jLyxrLigfSBcbHCNrPC3rPyYbHC3nLDhmGkgDYyxbOAwnZlcbHBMLTyxrPB25ZkqOGicaGicaGicaGicaZos4GuMvJB3jKigfUzcbWCM9KDwnLigfSBcbHDwrPBYbTyxrLCMLHBhmkicaGicaGicaGicaGndaUieLUDgvNCMf0Aw9Uig9MigfSBcbJB21WB25LBNrZcGOGicaGicaGicaGicaQkLn0ywDLideXoIbuzxn0Aw5NigfUzcbcDwCGrML4zxmQkGOGicaGicaGicaGica0ms4Gq29TChjLAgvUC2L2zsbMDw5JDgLVBMfSihrLC3rPBMCkicaGicaGicaGicaGndiUifbLCMzVCM1HBMnLihrLC3rPBMCGyw5Kig9WDgLTAxPHDgLVBGOGicaGicaGicaGica0mY4G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','vg9VBca','yMX1zq','z2v0vg9VBhnezxnJCMLWDgLVBG','C2v0','CMvHzezPBgu','mtaZnwHVvg9iDq','zw5Oyw5Jzvn5C3rLBvbYB21WDa','Bw9KzwW','CgfYC2vnzxnZywDL','ChjVAMvJDerPCG','ns4Gw1vtrviGufjptvbuuYbesvnbqKXfrcbjtIbbvvrpie1prevDia','B3bLCMf0Aw9Uswq','Aw50zxjHy3rPDMu','Bw9KAwz5rxHPC3rPBMDdB250zw50','igvUzcbTzxnZywDLCW','twfWCgvKignVBNzLCNnHDgLVBIbjrcbMB3iGzMLSzsbVCgvYyxrPB25ZoIaI','z2v0q29UDgv4DfDPBMrVD1nPEMu','q29UDMvYC2f0Aw9Uig9Yy2HLC3rYyxrVCIbZAhv0igrVD24GC3vJy2vZC2z1BgX5','igjLz2LUicSG','DxbKyxrLq29UDMvYC2f0Aw9U','igzHAwXLzdOG','nM1OB0fbCG','mZmZndqWmxHXq1PWuG','yM9Sza','u3rHDguGzgLYzwn0B3j5ignYzwf0zwqVDMvYAwzPzwq6ia','y29UDMvYC2f0Aw9UsgLZDg9YEq','CYbLBgfWC2vKks4Gt3bLCMf0Aw9UieLeoIa','ignVBNzLCNnHDgLVBIbjrcbTyxbWAw5NCW','x2DLDezPBgvtywzLq29UDMvYC2f0Aw9Uswq','jYbHy2nVCMrPBMCGDg8GDgHLC2uGAw5ZDhj1y3rPB25ZoGOGicaGicaGicaGica','vgLTzw91DcbYzwfJAgvKigfMDgvYia','y29UDgv4DfDPBMrVDW','DgfNugfYC2vYu2vYDMLJzq','C3vJy2vZCW','CgfYC2vqCM9TChrfBMDPBMvLCLjLC3bVBNnL','DMfSDwvZ','icaZlIbpCIbTB2rPzNKGzxHPC3rPBMCGy29UDgvUDdO','q291BgqGBM90igzPBMqGAgLZDg9YEsbMB3iG','seLtve9swv9tvuzgsvG','ihrVigvYCM9YlcbVCgvYyxrPB25jzdOG','igzYB20G','C2vUzePVyKrVBMvdB25MAxjTyxrPB25qCM9TChq','igLZihn0AwXSihj1BM5PBMCGka','rxjYB3iGC3rHCNrPBMCGBMv3ignVBNzLCNnHDgLVBJO'];a0_0x25d4=function(){return _0x33f7aa;};return a0_0x25d4();}import{LLMService}from'../services/llmService.js';import{ToolRegistry}from'../services/toolRegistry.js';import{BudgetService}from'../services/budgetService.js';import{displayOnly}from'../utilities/stringOps.js';import a0_0x5245a6 from'chalk';export const CONVERSATION_CONSTANTS={'STATE_DIR_NAME':a0_0x2ba907(0x1f8),'SESSION_STATE_FILENAME':a0_0x2ba907(0x2bd),'INDEX_FILENAME':'conversation-index.json','LAST_SESSION_FILENAME':a0_0x2ba907(0x29d),'HISTORY_SUFFIX':'-history.json','SYSTEM_MESSAGE_ROLE':'system','USER_MESSAGE_ROLE':a0_0x2ba907(0x214),'ASSISTANT_MESSAGE_ROLE':'assistant','COMPACTIZATION_THRESHOLD_PERCENTAGE':0.7,'COMPACTIZATION_OUTPUT_RESERVE_PERCENTAGE':0.4,'COMPACTIZATION_BEGIN_PERCENTAGE':0.15,'COMPACTIZATION_END_PERCENTAGE':0.35,'MIN_MESSAGES_TO_KEEP':0x2,'SUMMARY_MARKER_BEGIN':'--Conversation\x20Became\x20Long,\x20This\x20Part\x20Has\x20Been\x20Summarized--','SUMMARY_MARKER_END':a0_0x2ba907(0x294),'TOOL_CALL_FREQUENCY_CHECK_MS':0x2710,'TOOL_STATUS_UPDATE_INTERVAL_MS':0x2710,'DEFAULT_CONTEXT_WINDOW_SIZE':0x186a0,'MAKER_AGENT_DEFAULT_ID':'maker-agent','LANGUAGE_MODEL_ID':'language-model','PROMPT_ENGINEER_ID':a0_0x2ba907(0x2e9)};function a0_0x4af0(_0x4e572d,_0x42d423){const _0x25d410=a0_0x25d4();return a0_0x4af0=function(_0x4af04d,_0x267d79){_0x4af04d=_0x4af04d-0x19c;let _0x416b41=_0x25d410[_0x4af04d];if(a0_0x4af0['dIdIsX']===undefined){var _0x3f4985=function(_0xe0fbbe){const _0x16fd60='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x52c134='',_0x5245a6='';for(let _0x36a76e=0x0,_0xc41ee8,_0x344471,_0x225abb=0x0;_0x344471=_0xe0fbbe['charAt'](_0x225abb++);~_0x344471&&(_0xc41ee8=_0x36a76e%0x4?_0xc41ee8*0x40+_0x344471:_0x344471,_0x36a76e++%0x4)?_0x52c134+=String['fromCharCode'](0xff&_0xc41ee8>>(-0x2*_0x36a76e&0x6)):0x0){_0x344471=_0x16fd60['indexOf'](_0x344471);}for(let _0x8a6989=0x0,_0x1c36c6=_0x52c134['length'];_0x8a6989<_0x1c36c6;_0x8a6989++){_0x5245a6+='%'+('00'+_0x52c134['charCodeAt'](_0x8a6989)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5245a6);};a0_0x4af0['PRGKbI']=_0x3f4985,_0x4e572d=arguments,a0_0x4af0['dIdIsX']=!![];}const _0x464211=_0x25d410[0x0],_0x16159d=_0x4af04d+_0x464211,_0x13f56c=_0x4e572d[_0x16159d];return!_0x13f56c?(_0x416b41=a0_0x4af0['PRGKbI'](_0x416b41),_0x4e572d[_0x16159d]=_0x416b41):_0x416b41=_0x13f56c,_0x416b41;},a0_0x4af0(_0x4e572d,_0x42d423);}export class ConversationOrchestrator{constructor(_0x36a76e,_0xc41ee8){const _0x472ce2=a0_0x2ba907;this['config']=_0x36a76e,this[_0x472ce2(0x1cc)]=_0xc41ee8,this['blockedMessages']=[],this[_0x472ce2(0x279)]=new TagParserService(_0xc41ee8),this['llmService']=new LLMService(_0x36a76e,_0xc41ee8),this['llmService']['registerPromptTooLongHandler'](_0x344471=>this[_0x472ce2(0x285)](_0x344471)),this['toolRegistry']=new ToolRegistry(_0x36a76e,_0xc41ee8,this['llmService']),this[_0x472ce2(0x288)]=new BudgetService(_0x36a76e,_0xc41ee8),this['conversations']=new Map(),this['activeTools']=new Map(),this['conversationIdMapping']=new Map(),this['interactionMode']=_0x472ce2(0x265),this[_0x472ce2(0x2f0)]=new Map(),this['sessionState']={'projectDir':null,'makerAgentId':null,'languageModelAgentId':null,'activeConversationIds':[],'conversationHistory':{}},this['jobDoneConfirmationState']={'pending':![],'message':null,'attemptCount':0x0,'timestamp':null},this['toolCheckInterval']=setInterval(()=>this['checkToolExecutionStatus'](),CONVERSATION_CONSTANTS[_0x472ce2(0x1a2)]),this['messageIndicator']='idle',this[_0x472ce2(0x297)]=Date[_0x472ce2(0x1f9)](),this['idleTimer']=null,this['IDLE_TIMEOUT_MS']=0x1388,this[_0x472ce2(0x24f)]=![],this[_0x472ce2(0x1c7)]();}async['initializeWithProject'](_0x225abb){const _0xc897fa=a0_0x2ba907;this[_0xc897fa(0x2c9)]['projectDir']=_0x225abb,this['toolRegistry'][_0xc897fa(0x1d9)](_0x225abb),this['logger']['info']('Conversation\x20orchestrator\x20initialized\x20with\x20project:\x20'+_0x225abb);}async[a0_0x2ba907(0x1ea)](_0x8a6989){const _0x5194a9=a0_0x2ba907;this[_0x5194a9(0x2c9)][_0x5194a9(0x262)]=_0x8a6989,this['toolRegistry'][_0x5194a9(0x1d9)](_0x8a6989),this['logger'][_0x5194a9(0x1b1)]('Conversation\x20orchestrator\x20initialized\x20with\x20project:\x20'+_0x8a6989);}['setProjectDirectory'](_0x1c36c6){const _0x4f635e=a0_0x2ba907;this['sessionState'][_0x4f635e(0x262)]=_0x1c36c6,this[_0x4f635e(0x22c)]&&this['toolRegistry'][_0x4f635e(0x1d9)](_0x1c36c6),this[_0x4f635e(0x1cc)][_0x4f635e(0x1b1)]('Updated\x20conversation\x20orchestrator\x20project\x20directory:\x20'+_0x1c36c6);}async[a0_0x2ba907(0x2bf)](){const _0x29464b=a0_0x2ba907;this['toolRegistry']=new ToolRegistry(this['config'],this[_0x29464b(0x1cc)]),await this['toolRegistry']['registerBuiltInTools']();}[a0_0x2ba907(0x19f)](_0xd832a1){const _0x54edd9=a0_0x2ba907;this[_0x54edd9(0x1d9)](_0xd832a1);}['startIdleMonitoring'](){const _0x47b559=a0_0x2ba907;this[_0x47b559(0x216)]=setInterval(()=>{const _0x4d91a5=_0x47b559;if(this['isShuttingDown'])return;if(this['interactionMode']===_0x4d91a5(0x265))return;const _0x2109e8=Date[_0x4d91a5(0x1f9)](),_0x17625b=_0x2109e8-this['lastActivityTime'];this['messageIndicator']===_0x4d91a5(0x2de)&&_0x17625b>=this[_0x4d91a5(0x2a3)]&&this['sessionState']['makerAgentId']&&(this[_0x4d91a5(0x1cc)]['info']('üîÑ\x20Auto-proceeding\x20after\x203\x20seconds\x20of\x20idle\x20time'),this[_0x4d91a5(0x1e4)]());},0x1f4);}[a0_0x2ba907(0x1ad)](_0x231a84){const _0x32a57d=a0_0x2ba907,_0x3a1ccb=this['isWaitingForUserInput'];this['isWaitingForUserInput']=_0x231a84;if(_0x231a84&&!_0x3a1ccb)console['log'](a0_0x5245a6['cyan'](_0x32a57d(0x2ed)));else!_0x231a84&&_0x3a1ccb&&(console['log'](a0_0x5245a6[_0x32a57d(0x2c0)]('üîì\x20Interactive\x20mode:\x20Resuming\x20message\x20flow')),this[_0x32a57d(0x1bc)]=[]);}['shouldBlockMessage'](_0x17824a,_0x5197c4){const _0x11a25d=a0_0x2ba907;if(this['interactionMode']!==_0x11a25d(0x265)||!this[_0x11a25d(0x23a)])return![];if(_0x5197c4[_0x11a25d(0x1e6)]('[User\x20input]:'))return![];if(_0x5197c4['includes']('(system\x20message)'))return![];return!![];}[a0_0x2ba907(0x2d4)](_0x1b68fb){const _0x421e96=a0_0x2ba907,_0x509a63=this[_0x421e96(0x2a8)];this[_0x421e96(0x2a8)]=_0x1b68fb,this['lastActivityTime']=Date[_0x421e96(0x1f9)]();this['idleTimer']&&(clearTimeout(this[_0x421e96(0x2eb)]),this['idleTimer']=null);if(_0x509a63!==_0x1b68fb){const _0xf0ffc=this['getIndicatorDisplay'](_0x1b68fb);console['log'](a0_0x5245a6['gray'](_0xf0ffc+'\x20'+_0x1b68fb));}}[a0_0x2ba907(0x19e)](_0x5b8069){const _0x1ebc3b=a0_0x2ba907;switch(_0x5b8069){case _0x1ebc3b(0x2f1):return a0_0x5245a6['yellow']('‚è≥');case'waiting-for-llm':return a0_0x5245a6[_0x1ebc3b(0x25a)]('ü§ñ');case'idle':return a0_0x5245a6[_0x1ebc3b(0x2c0)]('‚úì');default:return'‚Ä¢';}}async[a0_0x2ba907(0x1e4)](){const _0x17df1a=a0_0x2ba907;if(!this['sessionState']['makerAgentId']||this['isShuttingDown'])return;try{this[_0x17df1a(0x2d4)]('waiting-for-agent'),console['log'](a0_0x5245a6['gray']('üì§\x20Sending\x20auto-proceed\x20message...'));const _0x585e8d=new Date()[_0x17df1a(0x2cd)]()[_0x17df1a(0x2cc)]('\x20')[0x0];await this['sendMessageToConversation'](this[_0x17df1a(0x2c9)][_0x17df1a(0x2af)],'('+_0x585e8d+'\x20system\x20message:)\x20proceed.\x20If\x20stuck\x20for\x20too\x20long\x20use\x20tools\x20or\x20perform\x20operations\x20to\x20effectively\x20continue\x20the\x20task.');}catch(_0x72675f){this['logger'][_0x17df1a(0x2d6)]('Error\x20sending\x20auto-proceed\x20message:',_0x72675f),this['updateMessageIndicator']('idle');}}['setInteractionMode'](_0x1ef7e7){const _0x19d4e5=a0_0x2ba907,_0x4a4578=this['interactionMode'];this[_0x19d4e5(0x24d)]=_0x1ef7e7,this['logger']['info'](_0x19d4e5(0x2c2)+_0x4a4578+_0x19d4e5(0x2c4)+_0x1ef7e7);if(_0x1ef7e7===_0x19d4e5(0x265)&&_0x4a4578!==_0x19d4e5(0x265))this[_0x19d4e5(0x1ad)](!![]);else _0x1ef7e7!==_0x19d4e5(0x265)&&_0x4a4578==='interactive'&&this[_0x19d4e5(0x1ad)](![]);this['updateSystemPromptsForMode'](_0x1ef7e7);}['getBlockingStatus'](){const _0x5d34a5=a0_0x2ba907;return{'interactionMode':this['interactionMode'],'isWaitingForUserInput':this[_0x5d34a5(0x23a)],'blockedMessagesCount':this[_0x5d34a5(0x1bc)][_0x5d34a5(0x2c5)],'indicatorState':this['messageIndicator']};}['updateSystemPromptsForMode'](_0x4af6b4){const _0x1876e6=a0_0x2ba907;for(const [_0x37d205,_0x166d2d]of this[_0x1876e6(0x1a7)]){this['updateConversationSystemPrompt'](_0x37d205,_0x4af6b4);}}[a0_0x2ba907(0x1ca)](_0x254215,_0x2010bd){const _0xdc923c=a0_0x2ba907,_0x119528=this['conversations']['get'](_0x254215);if(!_0x119528)return;!this[_0xdc923c(0x2f0)][_0xdc923c(0x1b3)](_0x254215)&&this[_0xdc923c(0x2f0)]['set'](_0x254215,_0x119528['systemPrompt']);const _0x4cb7e8=this[_0xdc923c(0x2f0)][_0xdc923c(0x2ce)](_0x254215);let _0xf23c2b;_0x2010bd===_0xdc923c(0x21d)?_0xf23c2b=this['removePromptSyntaxFromSystemPrompt'](_0x4cb7e8):_0xf23c2b=_0x4cb7e8,_0x119528[_0xdc923c(0x238)]=_0xf23c2b,this['llmService']&&this['llmService'][_0xdc923c(0x1ca)]&&this['llmService'][_0xdc923c(0x1ca)](_0x254215,_0xf23c2b),this['logger'][_0xdc923c(0x230)](_0xdc923c(0x1dd)+_0x254215+_0xdc923c(0x2e8)+_0x2010bd+')');}['removePromptSyntaxFromSystemPrompt'](_0x1a0a24){const _0x3324b7=a0_0x2ba907;let _0x274f85=_0x1a0a24['replace'](/5\.\s*If you need user input or a decision[^6]*/,_0x3324b7(0x263));return _0x274f85=_0x274f85['replace'](/\[prompt[^\]]*\][^[]*\[\/prompt\]/g,''),_0x274f85+=_0x3324b7(0x1ac)+_0x3324b7(0x2c8),_0x274f85;}[a0_0x2ba907(0x25f)](_0xdb2ff,_0x18d3b2,_0x5b09b0,_0x41647d){const _0x1efd28=a0_0x2ba907;let _0x5cc79e=_0xdb2ff;return!_0x5cc79e[_0x1efd28(0x257)]()[_0x1efd28(0x1e6)](_0x1efd28(0x256))&&(_0x5cc79e+=_0x1efd28(0x1c5)+_0x18d3b2),!_0x5cc79e[_0x1efd28(0x257)]()['includes'](_0x1efd28(0x293))&&(_0x5cc79e+=_0x1efd28(0x1b2)+_0x41647d[_0x1efd28(0x2b7)](',\x20')+_0x1efd28(0x289)),!_0x5cc79e['includes']('conversation\x20rules\x20are')&&(_0x5cc79e+='\x0a\x0aConversation\x20rules\x20are:\x0a\x20\x20\x20\x201.\x20When\x20sending\x20a\x20message\x20to\x20another\x20participant,\x20use\x20[message\x20to=\x22participant_id\x22]\x20format\x0a\x20\x20\x20\x202.\x20When\x20using\x20tools,\x20wrap\x20commands\x20in\x20[tools-commands]\x20and\x20[/tools-commands]\x20tags\x0a\x20\x20\x20\x203.\x20Each\x20tool\x20command\x20should\x20be\x20wrapped\x20in\x20[tool\x20id=\x22tool_id\x22]\x20and\x20[/tool]\x20tags\x0a\x20\x20\x20\x204.\x20You\x20must\x20follow\x20the\x20specific\x20format\x20for\x20each\x20tool\x20as\x20described\x20in\x20the\x20tools\x20section\x0a\x20\x20\x20\x205.\x20If\x20you\x20need\x20user\x20input\x20or\x20a\x20decision,\x20use\x20the\x20[prompt]\x20format(NOTICE:\x20at\x20least\x202\x20option\x20tags\x20are\x20recommended):\x20[prompt\x20name=\x22prompt\x20display\x20title\x22]the\x20message\x20the\x20user\x20will\x20see[option]option\x201\x20text[/option]\x20[option]option\x202\x20text[/option]...more\x20options\x20if\x20needed...[/prompt]\x0a\x20\x20\x20\x206.\x20when\x20you\x20have\x20finished\x20your\x20task\x20including\x20verification\x20and\x20validation\x20of\x20actual\x20content\x20as\x20written\x20on\x20disk\x20as\x20compared\x20to\x20derived\x20specs,\x20or\x20you\x27re\x20not\x20getting\x20any\x20progress\x20use\x20the\x20[job-done]<your\x20message>[/job-done]\x20special\x20instruction\x20tag.\x20preferably\x20in\x20its\x20own\x20message\x20(no\x20other\x20instructions).\x0a\x20\x20\x20\x207.\x20IMPORTANT:\x20The\x20first\x20time\x20you\x20declare\x20[job-done],\x20the\x20system\x20will\x20ask\x20you\x20to\x20verify\x20your\x20work\x20using\x20testing\x20tools.\x20Only\x20after\x20you\x20confirm\x20completion\x20with\x20a\x20second\x20[job-done]\x20will\x20the\x20task\x20be\x20marked\x20as\x20complete.\x0a\x20\x20\x20\x208.\x20never\x20announce\x20job-done\x20before\x20you\x20have\x20completed\x20all\x20stages\x20of\x20the\x20development\x20process,\x20tested\x20and\x20re-validated\x20your\x20solution\x20by\x20observing\x20the\x20created\x20files\x20and\x20artifacts.\x0a\x20\x20\x20\x20Your\x20Project\x20Root\x20Directory\x20Is:\x20'+_0x5b09b0+'\x0a\x20\x20\x20\x20'),_0x5cc79e;}['_sanitizeConversationIdForFile'](_0x16a2ae){const _0x483bce=a0_0x2ba907;if(!_0x16a2ae||typeof _0x16a2ae!=='string')return'conversation-'+Date[_0x483bce(0x1f9)]();let _0x13747a=_0x16a2ae[_0x483bce(0x210)](/\s+/g,'-')['replace'](/[^a-zA-Z0-9_-]/g,'')['replace'](/-+/g,'-')[_0x483bce(0x210)](/^-+|-+$/g,'')['toLowerCase']();if(!_0x13747a)_0x13747a=_0x483bce(0x1be)+Date[_0x483bce(0x1f9)]();else _0x13747a[_0x483bce(0x2c5)]>0x32&&(_0x13747a=_0x13747a['substring'](0x0,0x28)+'-'+Date['now']()[_0x483bce(0x20b)]()['slice'](-0x8));return _0x13747a;}['_getFileSafeConversationId'](_0x49ece1){const _0x989a52=a0_0x2ba907;if(this[_0x989a52(0x2e5)]['has'](_0x49ece1))return this[_0x989a52(0x2e5)][_0x989a52(0x2ce)](_0x49ece1);const _0x393945=this[_0x989a52(0x231)](_0x49ece1);return this[_0x989a52(0x2e5)]['set'](_0x49ece1,_0x393945),_0x393945!==_0x49ece1&&this['logger']['info'](_0x989a52(0x268)+_0x49ece1+_0x989a52(0x2b0)+_0x393945+'\x22'),_0x393945;}async['initializeServices'](){const _0x19d8ce=a0_0x2ba907;this['llmService']&&this['toolRegistry']&&(this[_0x19d8ce(0x22c)][_0x19d8ce(0x251)](this['llmService']),this['logger']['info'](_0x19d8ce(0x1f0)));}async['getImageDescription'](_0x271d05,_0x132f3a,_0x44e962={}){const _0x4949e3=a0_0x2ba907;if(!this['llmService'])throw new Error('LLM\x20service\x20not\x20available\x20for\x20image\x20description');return await this[_0x4949e3(0x20a)]['getImageDescription'](_0x271d05,_0x132f3a,_0x44e962);}async['handleUserPromptBasedOnMode'](_0x3ae7f5,_0x346199){const _0x519321=a0_0x2ba907;this[_0x519321(0x1cc)][_0x519321(0x1b1)](_0x519321(0x2a9)+_0x346199[_0x519321(0x1b0)]+_0x519321(0x281)+_0x3ae7f5+'\x20(mode:\x20'+this[_0x519321(0x24d)]+')');switch(this['interactionMode']){case _0x519321(0x21d):const _0x3ec27a=_0x346199[_0x519321(0x22b)]&&_0x346199['options']['length']>0x0?_0x346199['options'][0x0]:'Continue\x20automatically';this['logger'][_0x519321(0x1b1)]('AUTO\x20mode:\x20Auto-selected\x20\x22'+_0x3ec27a+_0x519321(0x2aa)+_0x346199[_0x519321(0x1b0)]),await this['sendMessageToConversation'](_0x3ae7f5,_0x519321(0x1d2)+_0x3ec27a);break;case _0x519321(0x1f3):if(this[_0x519321(0x2bc)]){const _0x354828=await this['onUserPrompt'](_0x346199[_0x519321(0x1b0)],_0x346199['text'],_0x346199[_0x519321(0x22b)]);await this[_0x519321(0x1c1)](_0x3ae7f5,_0x519321(0x205)+_0x354828);}else await this['sendMessageToConversation'](_0x3ae7f5,_0x519321(0x236)+'Please\x20implement\x20the\x20onUserPrompt\x20handler\x20in\x20the\x20CLI.');break;case _0x519321(0x265):default:if(this[_0x519321(0x2bc)]){const _0x3c443f=await this[_0x519321(0x2bc)](_0x346199[_0x519321(0x1b0)],_0x346199['text'],_0x346199[_0x519321(0x22b)]);await this['sendMessageToConversation'](_0x3ae7f5,'User\x20selected:\x20'+_0x3c443f);}else await this['sendMessageToConversation'](_0x3ae7f5,_0x519321(0x236)+'Please\x20implement\x20the\x20onUserPrompt\x20handler\x20in\x20the\x20CLI.');break;}}async['handleJobDoneBasedOnMode'](_0x242a47){const _0x6f1ed4=a0_0x2ba907;this['logger']['info']('Job\x20done\x20received:\x20'+_0x242a47+'\x20(mode:\x20'+this[_0x6f1ed4(0x24d)]+')');if(!this['jobDoneConfirmationState']['pending']){this[_0x6f1ed4(0x217)]['pending']=!![],this[_0x6f1ed4(0x217)][_0x6f1ed4(0x295)]=_0x242a47,this['jobDoneConfirmationState']['attemptCount']=0x1,this[_0x6f1ed4(0x217)][_0x6f1ed4(0x1a5)]=new Date()[_0x6f1ed4(0x1c3)](),this[_0x6f1ed4(0x1cc)]['info']('First\x20job-done\x20received.\x20Requesting\x20verification\x20confirmation...'),await this[_0x6f1ed4(0x282)](_0x242a47);return;}else this[_0x6f1ed4(0x217)]['attemptCount']++,this['logger']['info'](_0x6f1ed4(0x1e9)+this['jobDoneConfirmationState']['attemptCount']+_0x6f1ed4(0x204)),this[_0x6f1ed4(0x240)](),await this[_0x6f1ed4(0x1d5)](_0x242a47);}async['sendJobDoneConfirmationPrompt'](_0x359bfe){const _0x2c5d1e=a0_0x2ba907,_0x59620a='‚ö†Ô∏è\x20\x20**JOB\x20COMPLETION\x20VERIFICATION\x20REQUIRED**\x20‚ö†Ô∏è\x0a\x0aYou\x20declared\x20the\x20job\x20complete\x20with:\x20\x22'+_0x359bfe+'\x22\x0a\x0aBefore\x20I\x20can\x20mark\x20this\x20job\x20as\x20finished,\x20please\x20verify\x20you\x20have\x20completed\x20ALL\x20of\x20the\x20following:\x0a\x0aüîç\x20**TESTING\x20&\x20VALIDATION:**\x0a‚úÖ\x20Used\x20testing\x20tools\x20to\x20verify\x20functionality\x20(terminal,\x20dep-resolver,\x20import-analyzer)\x0a‚úÖ\x20Ran\x20the\x20application/code\x20to\x20ensure\x20it\x20works\x20as\x20expected\x0a‚úÖ\x20Checked\x20for\x20and\x20resolved\x20any\x20errors,\x20warnings,\x20or\x20issues\x0a‚úÖ\x20Verified\x20all\x20dependencies\x20are\x20properly\x20installed\x20and\x20compatible\x0a\x0aüìÅ\x20**FILE\x20VERIFICATION:**\x0a‚úÖ\x20Reviewed\x20actual\x20file\x20contents\x20on\x20disk\x20to\x20confirm\x20implementation\x20matches\x20specifications\x0a‚úÖ\x20Ensured\x20all\x20required\x20files\x20have\x20been\x20created\x20and\x20are\x20in\x20correct\x20locations\x0a‚úÖ\x20Validated\x20that\x20code\x20structure\x20and\x20organization\x20follows\x20best\x20practices\x0a\x0aüéØ\x20**COMPLETENESS\x20CHECK:**\x0a‚úÖ\x20All\x20original\x20requirements\x20have\x20been\x20fully\x20implemented\x0a‚úÖ\x20Edge\x20cases\x20and\x20error\x20handling\x20have\x20been\x20considered\x0a‚úÖ\x20Documentation/comments\x20are\x20adequate\x20where\x20needed\x0a‚úÖ\x20No\x20TODO\x20items\x20or\x20incomplete\x20sections\x20remain\x0a\x0aIf\x20you\x20have\x20verified\x20ALL\x20of\x20the\x20above\x20and\x20are\x20confident\x20the\x20job\x20is\x20truly\x20complete,\x20declare\x20**[job-done]**\x20again\x20to\x20confirm.\x0a\x0aIf\x20you\x20discover\x20any\x20issues\x20or\x20incomplete\x20work\x20during\x20this\x20verification,\x20please\x20continue\x20working\x20to\x20address\x20them\x20before\x20declaring\x20job-done\x20again.\x0a\x0a**Remember:**\x20Quality\x20over\x20speed.\x20A\x20thorough\x20final\x20check\x20ensures\x20a\x20professional\x20deliverable.';this['sessionState'][_0x2c5d1e(0x2af)]?await this[_0x2c5d1e(0x1c1)](this['sessionState']['makerAgentId'],_0x59620a):this[_0x2c5d1e(0x1cc)]['error']('Cannot\x20send\x20confirmation\x20prompt\x20-\x20no\x20maker\x20agent\x20ID\x20found');}async[a0_0x2ba907(0x1d5)](_0xf2003e){const _0x516f8a=a0_0x2ba907;this['logger'][_0x516f8a(0x1b1)](_0x516f8a(0x2ae));if(this['onJobDone'])await this['onJobDone'](_0xf2003e);else switch(this['interactionMode']){case'auto':this[_0x516f8a(0x1cc)]['info'](_0xf2003e+'\x0aThank\x20you\x20for\x20choosing\x20Loxia.'),process[_0x516f8a(0x1ff)](0x0);break;case'semi-auto':this['logger']['info'](_0x516f8a(0x2ac)+_0xf2003e),this['logger']['info'](_0x516f8a(0x24c));break;case _0x516f8a(0x265):default:this[_0x516f8a(0x1cc)]['info']('Job\x20completed:\x20'+_0xf2003e);break;}}['resetJobDoneConfirmationState'](){this['jobDoneConfirmationState']={'pending':![],'message':null,'attemptCount':0x0,'timestamp':null};}[a0_0x2ba907(0x1d7)](_0x34e5f2){const _0x5382f1=a0_0x2ba907;this[_0x5382f1(0x206)]=_0x34e5f2;}async['processAgentMessage'](_0xa47246,_0x5cb26d){const _0x178f30=a0_0x2ba907;this['logger'][_0x178f30(0x1b1)]('Processing\x20message\x20from\x20'+_0xa47246);const _0x175138=this[_0x178f30(0x279)][_0x178f30(0x261)](_0x5cb26d);_0x175138['toolCommands']&&_0x175138['toolCommands'][_0x178f30(0x2c5)]>0x0&&await this[_0x178f30(0x2e2)](_0xa47246,_0x175138[_0x178f30(0x1b6)]);_0x175138['prompt']&&await this['handleUserPromptBasedOnMode'](_0xa47246,_0x175138[_0x178f30(0x1b5)]);if(_0x175138['jobDone']!=null){await this['handleJobDoneBasedOnMode'](_0x175138[_0x178f30(0x1f5)]);return;}if(_0x175138['recipient']){const _0x181d4f=_0x175138[_0x178f30(0x1c9)],_0x549b40=_0x175138['content'];await this[_0x178f30(0x2e7)](_0xa47246,_0x181d4f,_0x549b40),this[_0x178f30(0x1cc)][_0x178f30(0x1b1)]('['+displayOnly(_0xa47246,0xa)+'\x20->\x20'+displayOnly(_0x181d4f,0xa)+_0x178f30(0x1aa)+displayOnly(_0x549b40,0xff)+'\x0a');}!_0x175138[_0x178f30(0x1c9)]&&(!_0x175138['toolCommands']||_0x175138['toolCommands'][_0x178f30(0x2c5)]===0x0)&&!_0x175138[_0x178f30(0x1b5)]&&!_0x175138[_0x178f30(0x1f5)]&&await this[_0x178f30(0x1c1)](_0xa47246,_0x178f30(0x1db)+'Please\x20use\x20[message\x20to=\x22...\x22]\x20tags\x20to\x20send\x20a\x20message\x20to\x20another\x20agent,\x20'+'[tools-commands]\x20tags\x20to\x20use\x20tools,\x20or\x20the\x20following\x20syntax\x20to\x20interact\x20with\x20the\x20supervising\x20human\x20user:\x20[prompt\x20name=\x22some\x20prompt\x20display\x20title\x22]<prompt\x20message>[option]<option\x201\x20text>[/option]\x20[option]<option\x202\x20text>[/option]...[/prompt]\x0a');}['parsePromptEngineerResponse'](_0x5ebc2c){const _0x27eea3=a0_0x2ba907,_0x122df9=CONVERSATION_CONSTANTS['MAKER_AGENT_DEFAULT_ID'],_0x1ee48a=_0x27eea3(0x2d8);try{const _0xeea98d=TagParser['extractStructured'](_0x5ebc2c,{'role':'ai-role','systemPrompt':_0x27eea3(0x2cb)});let _0x9d459b=_0xeea98d['role'];_0x9d459b?_0x9d459b=_0x9d459b[_0x27eea3(0x210)](/[\\/]/g,''):(_0x9d459b=_0x122df9,this['logger'][_0x27eea3(0x239)]('Failed to parse role from prompt engineer response, using default'));let _0x39a467=_0xeea98d[_0x27eea3(0x238)];return!_0x39a467&&(_0x39a467=''+_0x1ee48a+_0x5ebc2c,this[_0x27eea3(0x1cc)][_0x27eea3(0x239)]('Failed to parse system prompt from prompt engineer response, using generated one')),{'role':_0x9d459b,'systemPrompt':_0x39a467};}catch(_0x1dd314){return this[_0x27eea3(0x1cc)]['error'](_0x27eea3(0x232),_0x1dd314),{'role':_0x122df9,'systemPrompt':''+_0x1ee48a+_0x5ebc2c};}}async['startNewConversation'](_0x58abd1,_0x580964,_0x61a74f,_0x26d5f5){const _0x177790=a0_0x2ba907;this['logger']['info'](_0x177790(0x1dc)+_0x58abd1),this['sessionState'][_0x177790(0x262)]=_0x580964;const _0x36c662=a0_0xe0fbbe['join'](_0x580964,CONVERSATION_CONSTANTS[_0x177790(0x225)]);await a0_0x16fd60['mkdir'](_0x36c662,{'recursive':!![]}),this['sessionState']={'projectDir':_0x580964,'makerAgentId':null,'languageModelAgentId':null,'activeConversationIds':[],'conversationHistory':{},'paused':![]};try{const _0x328f02=this[_0x177790(0x286)](this[_0x177790(0x22c)]['getToolsDescription']()),_0x3388a7=CONVERSATION_CONSTANTS['PROMPT_ENGINEER_ID'];await this[_0x177790(0x224)](_0x3388a7,_0x328f02,[],_0x61a74f);const _0x33da39=this['createInitialPromptForEngineer'](_0x58abd1),_0x36ee29=await this[_0x177790(0x1c1)](_0x3388a7,_0x33da39),{role:_0x2ca03a,systemPrompt:_0x44a73d}=this['parsePromptEngineerResponse'](_0x36ee29),_0x56b7f3=_0x2ca03a||CONVERSATION_CONSTANTS[_0x177790(0x1ee)];this[_0x177790(0x2c9)][_0x177790(0x2af)]=_0x56b7f3;const _0x4d0331=this['enhanceSystemPrompt'](_0x44a73d,this['toolRegistry'][_0x177790(0x25b)](),this[_0x177790(0x2c9)]['projectDir'],[CONVERSATION_CONSTANTS[_0x177790(0x28c)]]);await this[_0x177790(0x224)](_0x56b7f3,_0x4d0331,[],_0x61a74f);const _0x3ea6ff=CONVERSATION_CONSTANTS['LANGUAGE_MODEL_ID'];this[_0x177790(0x2c9)]['languageModelAgentId']=_0x3ea6ff;const _0x42f239=this['getLanguageModelSystemPrompt'](this[_0x177790(0x22c)][_0x177790(0x25b)](),_0x56b7f3);await this['createConversation'](_0x3ea6ff,_0x42f239,[],_0x61a74f),this[_0x177790(0x2c9)][_0x177790(0x1fa)]=[_0x56b7f3,_0x3ea6ff],await this[_0x177790(0x244)](),await this[_0x177790(0x1c1)](_0x56b7f3,'begin'),this[_0x177790(0x1cc)]['info']('New\x20conversation\x20started\x20and\x20session\x20state\x20saved');}catch(_0xc1aae9){this['logger'][_0x177790(0x2d6)](_0x177790(0x284),_0xc1aae9);throw _0xc1aae9;}}async['loadConversationHistory'](_0x514d39,_0x3250ed){const _0x41da21=a0_0x2ba907,_0x1c0527=this[_0x41da21(0x275)](_0x3250ed),_0x26d890=a0_0xe0fbbe[_0x41da21(0x2b7)](_0x514d39,''+_0x1c0527+CONVERSATION_CONSTANTS['HISTORY_SUFFIX']);try{const _0x290a86=await a0_0x16fd60[_0x41da21(0x25d)](_0x26d890,_0x41da21(0x28e)),_0x9abbbf=JSON[_0x41da21(0x28a)](_0x290a86),_0x3915f4=(_0x9abbbf['messages']||[])[_0x41da21(0x219)](_0x2e043d=>_0x2e043d[_0x41da21(0x234)]!=='system');await this[_0x41da21(0x224)](_0x3250ed,_0x9abbbf[_0x41da21(0x238)]||'Conversation\x20resumed',_0x3915f4),this['logger']['info']('Loaded\x20conversation\x20history\x20for:\x20'+_0x3250ed+'\x20(file:\x20'+_0x1c0527+')');}catch(_0x3e9155){this['logger']['warn']('Failed\x20to\x20load\x20conversation\x20history\x20for\x20'+_0x3250ed+':\x20'+_0x3e9155[_0x41da21(0x295)]),await this['tryLoadConversationHistoryByPattern'](_0x514d39,_0x3250ed);}}async[a0_0x2ba907(0x21a)](_0x3e7648,_0xffc272){const _0x2f0a43=a0_0x2ba907;try{const _0x35d786=await a0_0x16fd60['readdir'](_0x3e7648),_0xfc78f8=_0x35d786['filter'](_0x2d9c6a=>_0x2d9c6a['endsWith'](CONVERSATION_CONSTANTS[_0x2f0a43(0x27f)])),_0x699331=this[_0x2f0a43(0x275)](_0xffc272);for(const _0x16f692 of _0xfc78f8){const _0x1e0941=_0x16f692['replace'](CONVERSATION_CONSTANTS[_0x2f0a43(0x27f)],'');if(_0x1e0941===_0x699331||_0x1e0941[_0x2f0a43(0x1e6)](_0x699331)||_0x699331['includes'](_0x1e0941))try{const _0x27286d=a0_0xe0fbbe[_0x2f0a43(0x2b7)](_0x3e7648,_0x16f692),_0x49ae74=await a0_0x16fd60[_0x2f0a43(0x25d)](_0x27286d,_0x2f0a43(0x28e)),_0x5a02f8=JSON[_0x2f0a43(0x28a)](_0x49ae74),_0x764603=(_0x5a02f8[_0x2f0a43(0x23e)]||[])[_0x2f0a43(0x219)](_0x356ab6=>_0x356ab6['role']!=='system');await this['createConversation'](_0xffc272,_0x5a02f8[_0x2f0a43(0x238)]||_0x2f0a43(0x1da),_0x764603),this['logger']['info']('Found\x20and\x20loaded\x20conversation\x20history\x20for\x20'+_0xffc272+'\x20from\x20file\x20'+_0x16f692);return;}catch(_0x270b09){this[_0x2f0a43(0x1cc)][_0x2f0a43(0x230)]('Could\x20not\x20read/parse\x20'+_0x16f692+':',_0x270b09);}}this['logger'][_0x2f0a43(0x239)](_0x2f0a43(0x27e)+_0xffc272+',\x20creating\x20empty\x20conversation'),await this[_0x2f0a43(0x224)](_0xffc272,'Conversation\x20resumed\x20without\x20history.');}catch(_0x6e9720){this['logger'][_0x2f0a43(0x2d6)]('Error\x20searching\x20for\x20conversation\x20history:\x20'+_0x6e9720['message']),await this[_0x2f0a43(0x224)](_0xffc272,_0x2f0a43(0x1bf));}}async['saveConversationHistory'](_0x4c2220){const _0x1e7227=a0_0x2ba907;if(!this['sessionState'][_0x1e7227(0x262)])return;const _0x2e6cb9=this[_0x1e7227(0x1a7)][_0x1e7227(0x2ce)](_0x4c2220);if(!_0x2e6cb9)return;const _0x375521=a0_0xe0fbbe['join'](this['sessionState'][_0x1e7227(0x262)],CONVERSATION_CONSTANTS['STATE_DIR_NAME']);await a0_0x16fd60[_0x1e7227(0x1f1)](_0x375521,{'recursive':!![]});const _0x1402dc={'id':_0x4c2220,'originalId':_0x4c2220,'systemPrompt':_0x2e6cb9['systemPrompt'],'messages':_0x2e6cb9['messages'],'contextWindow':_0x2e6cb9['contextWindow'],'lastUpdated':new Date()['toISOString']()},_0x289bfe=this['_getFileSafeConversationId'](_0x4c2220),_0x360271=a0_0xe0fbbe['join'](_0x375521,''+_0x289bfe+CONVERSATION_CONSTANTS[_0x1e7227(0x27f)]);await a0_0x16fd60[_0x1e7227(0x208)](_0x360271,JSON['stringify'](_0x1402dc,null,0x2),_0x1e7227(0x28e)),this[_0x1e7227(0x1cc)]['info'](_0x1e7227(0x2a4)+_0x4c2220+_0x1e7227(0x1cb)+_0x289bfe+')');}[a0_0x2ba907(0x237)](_0x33c4d3,_0x43e739){const _0x104e93=a0_0x2ba907;this[_0x104e93(0x244)]()[_0x104e93(0x21e)](_0xc9c472=>{const _0x22a5d9=_0x104e93;this['logger']['error'](_0x22a5d9(0x252),_0xc9c472);}),this[_0x104e93(0x1cc)][_0x104e93(0x2d6)]('Critical\x20error:\x20Cannot\x20create\x20conversation\x20summary\x20for\x20'+_0x33c4d3+':',_0x43e739),console['log']('\x0a'+a0_0x5245a6['red'](_0x104e93(0x2ee))),console[_0x104e93(0x2e4)](a0_0x5245a6[_0x104e93(0x1c4)]('‚îÅ'[_0x104e93(0x220)](0x3c))),console[_0x104e93(0x2e4)](a0_0x5245a6['red'](_0x104e93(0x2d2))),console[_0x104e93(0x2e4)](a0_0x5245a6['gray'](_0x104e93(0x1e1))),console['log'](a0_0x5245a6[_0x104e93(0x2e3)]('\x20\x20and\x20the\x20summary\x20service\x20is\x20unavailable.')),console['log'](''),console['log'](a0_0x5245a6[_0x104e93(0x270)]['cyan']('üîÑ\x20TO\x20CONTINUE\x20YOUR\x20WORK:')),console['log'](a0_0x5245a6[_0x104e93(0x1ae)](_0x104e93(0x2a0))),console[_0x104e93(0x2e4)](a0_0x5245a6[_0x104e93(0x2a2)](_0x104e93(0x203))),console[_0x104e93(0x2e4)](''),console[_0x104e93(0x2e4)](a0_0x5245a6[_0x104e93(0x1ae)](_0x104e93(0x1ef))),console[_0x104e93(0x2e4)](a0_0x5245a6[_0x104e93(0x2a2)](_0x104e93(0x2b2))),console[_0x104e93(0x2e4)](''),console[_0x104e93(0x2e4)](a0_0x5245a6['white'](_0x104e93(0x27d))),console[_0x104e93(0x2e4)](a0_0x5245a6[_0x104e93(0x2a2)](_0x104e93(0x1bb))),console[_0x104e93(0x2e4)](''),console[_0x104e93(0x2e4)](a0_0x5245a6['gray']('üí°\x20Your\x20project\x20files\x20have\x20been\x20saved\x20and\x20can\x20be\x20resumed.')),console['log'](a0_0x5245a6[_0x104e93(0x1c4)]('‚îÅ'[_0x104e93(0x220)](0x3c))),this['logger']['error'](_0x104e93(0x1f2),{'conversationId':_0x33c4d3,'error':_0x43e739[_0x104e93(0x295)],'errorType':_0x43e739[_0x104e93(0x222)]||'unknown','originalError':_0x43e739[_0x104e93(0x2e1)]||null});const _0x6b41e3=new Error('Unrecoverable\x20error\x20during\x20conversation\x20summary.\x20'+'Please\x20try\x20rerunning\x20the\x20CLI\x20with\x20do,\x20modify,\x20or\x20resume\x20commands\x20asking\x20the\x20agent\x20to\x20continue.');_0x6b41e3['isUserFriendly']=!![],_0x6b41e3[_0x104e93(0x2e1)]=_0x43e739;throw _0x6b41e3;}async[a0_0x2ba907(0x244)](){const _0x35d91d=a0_0x2ba907;if(!this['sessionState']['projectDir']){this['logger'][_0x35d91d(0x239)]('No\x20project\x20directory\x20set,\x20cannot\x20save\x20session\x20state');return;}try{const _0x5b0b16=a0_0xe0fbbe['join'](this['sessionState']['projectDir'],CONVERSATION_CONSTANTS[_0x35d91d(0x225)]);await a0_0x16fd60['mkdir'](_0x5b0b16,{'recursive':!![]}),this['logger']['debug'](_0x35d91d(0x271)+_0x5b0b16);const _0x1aa1aa=a0_0xe0fbbe[_0x35d91d(0x2b7)](_0x5b0b16,CONVERSATION_CONSTANTS['SESSION_STATE_FILENAME']),_0x4a5c0e={'projectDir':this[_0x35d91d(0x2c9)]['projectDir'],'makerAgentId':this[_0x35d91d(0x2c9)][_0x35d91d(0x2af)],'languageModelAgentId':this['sessionState']['languageModelAgentId'],'activeConversationIds':this[_0x35d91d(0x2c9)][_0x35d91d(0x1fa)]||[],'conversationHistory':this['sessionState']['conversationHistory']||{},'conversationIdMapping':Object[_0x35d91d(0x1b8)](this['conversationIdMapping']),'paused':this['sessionState']['paused']||![],'lastUpdated':new Date()[_0x35d91d(0x1c3)](),'version':'1.0.0'};await a0_0x16fd60['writeFile'](_0x1aa1aa,JSON[_0x35d91d(0x211)](_0x4a5c0e,null,0x2),'utf-8'),this[_0x35d91d(0x1cc)]['debug'](_0x35d91d(0x22a)+_0x1aa1aa);const _0x19dd4d=a0_0xe0fbbe[_0x35d91d(0x2b7)](_0x5b0b16,CONVERSATION_CONSTANTS[_0x35d91d(0x223)]),_0x31cfd6={'projectDir':this[_0x35d91d(0x2c9)][_0x35d91d(0x262)],'lastUpdated':new Date()[_0x35d91d(0x1c3)](),'makerAgentId':this[_0x35d91d(0x2c9)][_0x35d91d(0x2af)],'languageModelAgentId':this['sessionState'][_0x35d91d(0x2a1)],'activeConversationIds':this['sessionState']['activeConversationIds']||[],'conversationIdMapping':Object[_0x35d91d(0x1b8)](this[_0x35d91d(0x2e5)]),'sessionStateFile':CONVERSATION_CONSTANTS['SESSION_STATE_FILENAME'],'version':'1.0.0'};await a0_0x16fd60['writeFile'](_0x19dd4d,JSON['stringify'](_0x31cfd6,null,0x2),'utf-8'),this[_0x35d91d(0x1cc)]['debug']('Index\x20file\x20saved\x20to:\x20'+_0x19dd4d);const _0x490a67=a0_0xe0fbbe['join'](_0x5b0b16,CONVERSATION_CONSTANTS['LAST_SESSION_FILENAME']),_0x324f37={'projectDir':this[_0x35d91d(0x2c9)][_0x35d91d(0x262)],'timestamp':new Date()[_0x35d91d(0x1c3)](),'makerAgentId':this[_0x35d91d(0x2c9)][_0x35d91d(0x2af)],'languageModelAgentId':this['sessionState'][_0x35d91d(0x2a1)],'conversationIdMapping':Object['fromEntries'](this[_0x35d91d(0x2e5)]),'version':'1.0.0'};await a0_0x16fd60['writeFile'](_0x490a67,JSON['stringify'](_0x324f37,null,0x2),_0x35d91d(0x28e)),this[_0x35d91d(0x1cc)][_0x35d91d(0x230)](_0x35d91d(0x2dc)+_0x490a67),this[_0x35d91d(0x1cc)][_0x35d91d(0x1b1)](_0x35d91d(0x228));}catch(_0x162808){this[_0x35d91d(0x1cc)]['error']('Failed\x20to\x20save\x20session\x20state:',_0x162808);throw new Error(_0x35d91d(0x247)+_0x162808[_0x35d91d(0x295)]);}}async['resumeConversation'](_0x34d70f){const _0x56b749=a0_0x2ba907;this['logger'][_0x56b749(0x1b1)](_0x56b749(0x2cf)+_0x34d70f);try{const _0x24794b=a0_0xe0fbbe[_0x56b749(0x2b7)](_0x34d70f,CONVERSATION_CONSTANTS[_0x56b749(0x225)]);try{await a0_0x16fd60['access'](_0x24794b);}catch(_0x2f9c95){throw new Error(_0x56b749(0x2da)+_0x24794b+_0x56b749(0x2d9));}const _0x27ff05=a0_0xe0fbbe[_0x56b749(0x2b7)](_0x24794b,CONVERSATION_CONSTANTS[_0x56b749(0x221)]);let _0x58157f;try{const _0x41a7e5=await a0_0x16fd60[_0x56b749(0x25d)](_0x27ff05,'utf-8');_0x58157f=JSON[_0x56b749(0x28a)](_0x41a7e5),_0x58157f['conversationIdMapping']&&(this[_0x56b749(0x2e5)]=new Map(Object[_0x56b749(0x2b3)](_0x58157f[_0x56b749(0x2e5)])),this[_0x56b749(0x1cc)][_0x56b749(0x1b1)](_0x56b749(0x2d1)+this['conversationIdMapping'][_0x56b749(0x209)]+_0x56b749(0x274)));}catch(_0x2b3635){this['logger']['warn'](_0x56b749(0x218)+_0x2b3635[_0x56b749(0x295)]);const _0x2551f0=a0_0xe0fbbe[_0x56b749(0x2b7)](_0x24794b,CONVERSATION_CONSTANTS['INDEX_FILENAME']);try{const _0x589381=await a0_0x16fd60[_0x56b749(0x25d)](_0x2551f0,_0x56b749(0x28e)),_0x3a6652=JSON[_0x56b749(0x28a)](_0x589381);_0x58157f={'projectDir':_0x3a6652['projectDir']||_0x34d70f,'makerAgentId':_0x3a6652[_0x56b749(0x2af)],'languageModelAgentId':_0x3a6652['languageModelAgentId'],'activeConversationIds':_0x3a6652[_0x56b749(0x1fa)]||[],'conversationHistory':{},'conversationIdMapping':_0x3a6652[_0x56b749(0x2e5)]||{}},_0x3a6652['conversationIdMapping']&&(this['conversationIdMapping']=new Map(Object['entries'](_0x3a6652[_0x56b749(0x2e5)]))),this[_0x56b749(0x1cc)][_0x56b749(0x1b1)]('Recovered session state from index file');}catch(_0x1f0e40){throw new Error('Could\x20not\x20read\x20session\x20state\x20or\x20index\x20file:\x20'+_0x2b3635['message']);}}this[_0x56b749(0x2c9)]={..._0x58157f,'projectDir':_0x34d70f};const _0x3daa0b=this[_0x56b749(0x2c9)]['activeConversationIds']||[];for(const _0x3169bb of _0x3daa0b){try{await this[_0x56b749(0x1f4)](_0x24794b,_0x3169bb);}catch(_0x3057bb){this['logger']['warn'](_0x56b749(0x21b)+_0x3169bb+':\x20'+_0x3057bb['message']),await this['createConversation'](_0x3169bb,_0x56b749(0x1bf));}}this['logger'][_0x56b749(0x1b1)]('Conversation\x20resumed\x20successfully.\x20Active\x20conversations:\x20'+_0x3daa0b['length']);}catch(_0x551c55){this['logger']['error'](_0x56b749(0x241),_0x551c55);throw new Error('Failed\x20to\x20resume\x20conversation:\x20'+_0x551c55['message']);}}async[a0_0x2ba907(0x266)](_0x31d13e,_0x2a9071){const _0x541ce0=a0_0x2ba907;this['logger'][_0x541ce0(0x1b1)](_0x541ce0(0x20c)+_0x31d13e+_0x541ce0(0x1fd)+_0x2a9071),this['sessionState']['projectDir']=_0x31d13e;const _0x4e674b=a0_0xe0fbbe['join'](_0x31d13e,CONVERSATION_CONSTANTS[_0x541ce0(0x225)]);await a0_0x16fd60[_0x541ce0(0x1f1)](_0x4e674b,{'recursive':!![]});const _0x3537f2=this[_0x541ce0(0x286)](this[_0x541ce0(0x22c)][_0x541ce0(0x25b)](),!![]),_0x24a373=CONVERSATION_CONSTANTS[_0x541ce0(0x292)];await this['createConversation'](_0x24a373,_0x3537f2);const _0x437e21=this[_0x541ce0(0x28b)](_0x2a9071,_0x31d13e,!![]),_0x27131e=await this['sendMessageToConversation'](_0x24a373,_0x437e21),{role:_0x48f05c,systemPrompt:_0x38b6f4}=this[_0x541ce0(0x27b)](_0x27131e),_0x4eb933=_0x48f05c||'content-modifier';this['sessionState'][_0x541ce0(0x2af)]=_0x4eb933;const _0xe6dd15=this[_0x541ce0(0x25f)](_0x38b6f4,this['toolRegistry'][_0x541ce0(0x25b)](),this[_0x541ce0(0x2c9)]['projectDir'],[CONVERSATION_CONSTANTS[_0x541ce0(0x28c)]]);await this['createConversation'](_0x4eb933,_0xe6dd15);const _0x4f2694=CONVERSATION_CONSTANTS[_0x541ce0(0x28c)];this['sessionState']['languageModelAgentId']=_0x4f2694;const _0x413a9f=this['getLanguageModelSystemPrompt'](this[_0x541ce0(0x22c)][_0x541ce0(0x25b)](),_0x4eb933);await this['createConversation'](_0x4f2694,_0x413a9f),this[_0x541ce0(0x2c9)]['activeConversationIds']=[_0x4eb933,_0x4f2694],await this[_0x541ce0(0x1c1)](_0x4eb933,'begin\x20modification\x20of\x20content\x20in\x20'+_0x31d13e),await this[_0x541ce0(0x244)]();}async['handleUserPrompt'](_0x3eca12,_0xea95d4){const _0x5edf44=a0_0x2ba907;this[_0x5edf44(0x1cc)]['info']('Handling\x20user\x20prompt:\x20'+_0xea95d4['name']+_0x5edf44(0x281)+_0x3eca12);if(this[_0x5edf44(0x2bc)]){const _0x4e236f=await this[_0x5edf44(0x2bc)](_0xea95d4['name'],_0xea95d4[_0x5edf44(0x24a)],_0xea95d4['options']);await this[_0x5edf44(0x1c1)](_0x3eca12,_0x5edf44(0x205)+_0x4e236f);}else await this[_0x5edf44(0x1c1)](_0x3eca12,_0x5edf44(0x236)+_0x5edf44(0x22f));}async[a0_0x2ba907(0x285)](_0x125e4c){const _0x23fe17=a0_0x2ba907;this['logger']['warn'](_0x23fe17(0x1ba)),await this['performCompactization'](_0x125e4c);}async['sendMessageToConversation'](_0x369290,_0x1a1477){const _0x2034dd=a0_0x2ba907;if(this['shouldBlockMessage'](_0x369290,_0x1a1477))return this[_0x2034dd(0x1cc)][_0x2034dd(0x1b1)](_0x2034dd(0x2db)+displayOnly(_0x1a1477,0x64)),this['blockedMessages']['push']({'conversationId':_0x369290,'message':_0x1a1477,'timestamp':Date['now']()}),'Message\x20blocked\x20-\x20waiting\x20for\x20user\x20input';const _0xfcd02=_0x369290===CONVERSATION_CONSTANTS[_0x2034dd(0x28c)],_0x45affb=_0xfcd02?'waiting-for-llm':_0x2034dd(0x2f1);!this[_0x2034dd(0x23a)]&&this[_0x2034dd(0x2d4)](_0x45affb);this[_0x2034dd(0x1cc)]['info'](_0x2034dd(0x1b9)+_0x369290+':\x0a'+displayOnly(_0x1a1477,0xff));if(!this['conversations'][_0x2034dd(0x1b3)](_0x369290)){!this['isWaitingForUserInput']&&this[_0x2034dd(0x2d4)]('idle');throw new Error('Conversation\x20'+_0x369290+'\x20does\x20not\x20exist');}try{const _0x9099e4=this[_0x2034dd(0x1a7)]['get'](_0x369290),_0x77cb34={'systemPrompt':_0x9099e4[_0x2034dd(0x238)],'messages':_0x9099e4['messages'],'id':_0x369290,'contextWindow':_0x9099e4['contextWindow']},_0x187744=await this[_0x2034dd(0x20a)][_0x2034dd(0x201)](_0x369290,_0x1a1477,_0x77cb34);return await this[_0x2034dd(0x24b)](_0x369290),await this[_0x2034dd(0x2a6)](_0x369290),this[_0x2034dd(0x2c9)]['activeConversationIds']['includes'](_0x369290)&&await this['processAgentMessage'](_0x369290,_0x187744),!this[_0x2034dd(0x23a)]&&this['updateMessageIndicator'](_0x2034dd(0x2de)),_0x187744;}catch(_0x1be418){!this[_0x2034dd(0x23a)]&&this[_0x2034dd(0x2d4)]('idle');throw _0x1be418;}}async['createConversation'](_0x3aecf1,_0x4c1867,_0x1a520a=[],_0x3dc979=null){const _0x5f5675=a0_0x2ba907;this['logger'][_0x5f5675(0x1b1)]('Creating\x20conversation:\x20'+_0x3aecf1),this['originalSystemPrompts']['set'](_0x3aecf1,_0x4c1867);const _0x951e58=this['interactionMode']==='auto'?this['removePromptSyntaxFromSystemPrompt'](_0x4c1867):_0x4c1867;let _0x17110c=[];_0x1a520a['length']>0x0&&(_0x17110c=_0x1a520a['filter'](_0x4ebcfd=>_0x4ebcfd[_0x5f5675(0x234)]!=='system'));const _0x1dcc56={'id':_0x3aecf1,'systemPrompt':_0x951e58,'messages':_0x17110c,'contextWindow':this[_0x5f5675(0x269)](_0x3aecf1)};this['conversations'][_0x5f5675(0x25c)](_0x3aecf1,_0x1dcc56),await this[_0x5f5675(0x20a)]['registerConversation'](_0x3aecf1,_0x951e58,_0x3dc979),_0x17110c['length']>0x0&&await this['llmService']['updateConversation'](_0x3aecf1,_0x1dcc56),this[_0x5f5675(0x2c9)][_0x5f5675(0x272)][_0x3aecf1]={'systemPrompt':_0x951e58,'lastUpdateTime':new Date()['toISOString']()},await this[_0x5f5675(0x2a6)](_0x3aecf1);}['getListOfAvailableAgentIds'](_0x155873){const _0x36c848=a0_0x2ba907,_0x367a54=Array[_0x36c848(0x24e)](this['conversations'][_0x36c848(0x2d3)]())['filter'](_0x1ec1eb=>_0x1ec1eb!==_0x155873);return _0x367a54;}async['routeMessageToAgent'](_0x2939d7,_0xc8ade5,_0x8d9c57){const _0x3a0896=a0_0x2ba907;this[_0x3a0896(0x1cc)][_0x3a0896(0x1b1)](_0x3a0896(0x23d)+_0x2939d7+_0x3a0896(0x227)+_0xc8ade5);if(!this[_0x3a0896(0x1a7)][_0x3a0896(0x1b3)](_0xc8ade5)){const _0x45eedb='Agent\x20'+_0xc8ade5+_0x3a0896(0x213)+this[_0x3a0896(0x233)](_0x2939d7)[_0x3a0896(0x2b7)](',\x20')+'.\x20if\x20you\x20wish\x20to\x20send\x20a\x20message\x20to\x20the\x20user\x20who\x20requested\x20this\x20task\x20use\x20the\x20[prompt]\x20tool\x20syntax';this['logger']['warn'](_0x45eedb),await this[_0x3a0896(0x1c1)](_0x2939d7,_0x45eedb);return;}const _0x42f41d=_0x3a0896(0x1d8)+_0x2939d7+_0x3a0896(0x1aa)+_0x8d9c57;await this['sendMessageToConversation'](_0xc8ade5,_0x42f41d);}async['routeMessageToAgent'](_0x28c455,_0x122948,_0xbc2e9a){const _0x51b408=a0_0x2ba907;this[_0x51b408(0x1cc)][_0x51b408(0x1b1)]('Routing\x20message\x20from\x20'+_0x28c455+_0x51b408(0x227)+_0x122948);if(!this[_0x51b408(0x1a7)][_0x51b408(0x1b3)](_0x122948)){this[_0x51b408(0x1cc)][_0x51b408(0x239)](_0x51b408(0x1a0)+_0x122948+'\x20does\x20not\x20exist,\x20cannot\x20route\x20message'),await this[_0x51b408(0x1c1)](_0x28c455,_0x51b408(0x2e0)+_0x122948+':\x20Agent\x20does\x20not\x20exist');return;}const _0x4ae730=_0x51b408(0x1d8)+_0x28c455+']:\x20'+_0xbc2e9a;await this['sendMessageToConversation'](_0x122948,_0x4ae730);}async[a0_0x2ba907(0x28f)](){const _0x99e2db=a0_0x2ba907;if(this[_0x99e2db(0x1a4)])for(const [_0x4e0669,_0x10fa14]of this['pendingResults']['entries']()){if(_0x10fa14&&_0x10fa14[_0x99e2db(0x2c5)]>0x0){this[_0x99e2db(0x1cc)]['info'](_0x99e2db(0x2c7)+_0x10fa14['length']+_0x99e2db(0x2a7)+_0x4e0669);let _0x212dc5='‚úÖ\x20**Tool\x20Execution\x20Completed:**\x0a\x0a';for(const _0x92a5f9 of _0x10fa14){if(_0x92a5f9['status']===_0x99e2db(0x27a))_0x212dc5+='‚úÖ\x20Tool\x20'+_0x92a5f9[_0x99e2db(0x1df)]+_0x99e2db(0x29a),_0x92a5f9['data']?.[_0x99e2db(0x1e2)]&&(_0x212dc5+='Result:\x20'+JSON['stringify'](_0x92a5f9['data'][_0x99e2db(0x1e2)],null,0x2)+'\x0a\x0a');else _0x92a5f9['status']==='error'&&(_0x212dc5+=_0x99e2db(0x2e6)+_0x92a5f9['toolId']+'\x20failed:\x20'+_0x92a5f9[_0x99e2db(0x1c6)]?.['error']+'\x0a\x0a');}await this[_0x99e2db(0x1c1)](_0x4e0669,_0x212dc5),this['pendingResults'][_0x99e2db(0x1ce)](_0x4e0669);}}for(const [_0xcfb23e,_0x511a33]of this['activeTools']['entries']()){const _0x2166c9=Date['now']()-_0x511a33['startTime'];_0x2166c9>CONVERSATION_CONSTANTS[_0x99e2db(0x1e7)]&&(await this[_0x99e2db(0x1c1)](_0x511a33['agentId'],'Tool\x20'+_0x511a33['toolId']+_0x99e2db(0x283)+Math[_0x99e2db(0x2c1)](_0x2166c9/0x3e8)+_0x99e2db(0x273)+_0xcfb23e),_0x511a33[_0x99e2db(0x1b4)]=Date['now']());}}['registerUserPromptHandler'](_0x55c79b){this['onUserPrompt']=_0x55c79b;}async['sendUserInput'](_0x5422f2){const _0x3ec843=a0_0x2ba907;this['logger'][_0x3ec843(0x1b1)]('Received\x20user\x20input:\x20'+_0x5422f2),this[_0x3ec843(0x1ad)](![]),this[_0x3ec843(0x2c9)]['makerAgentId']?await this['sendMessageToConversation'](this[_0x3ec843(0x2c9)][_0x3ec843(0x2af)],_0x3ec843(0x1e3)+_0x5422f2):this['logger'][_0x3ec843(0x239)]('No\x20maker\x20agent\x20found\x20to\x20send\x20user\x20input\x20to');}async['checkAndPerformCompactization'](_0x4824eb){const _0x6cdb48=a0_0x2ba907,_0x1f73b8=this[_0x6cdb48(0x1a7)][_0x6cdb48(0x2ce)](_0x4824eb);if(!_0x1f73b8)return;const _0x280fef=await this['llmService']['estimateTokenCount'](_0x4824eb),_0x4f1ed2=_0x1f73b8[_0x6cdb48(0x278)];_0x280fef>_0x4f1ed2*CONVERSATION_CONSTANTS['COMPACTIZATION_THRESHOLD_PERCENTAGE']&&(this[_0x6cdb48(0x1cc)][_0x6cdb48(0x1b1)](_0x6cdb48(0x299)+_0x4824eb),await this[_0x6cdb48(0x1af)](_0x4824eb));}async['performCompactization'](_0x1d0807){const _0x381439=a0_0x2ba907,_0x501002=this[_0x381439(0x1a7)][_0x381439(0x2ce)](_0x1d0807);if(!_0x501002||_0x501002[_0x381439(0x23e)][_0x381439(0x2c5)]<0x4)return;const _0x4693ec=CONVERSATION_CONSTANTS['MIN_MESSAGES_TO_KEEP'],_0x239224=_0x501002[_0x381439(0x23e)][_0x381439(0x212)](0x0,_0x4693ec),_0x37a005=_0x501002['contextWindow'],_0xa35425=Math['floor'](_0x37a005*CONVERSATION_CONSTANTS[_0x381439(0x21f)]),_0x234192=_0x37a005-_0xa35425,_0x854523=CONVERSATION_CONSTANTS[_0x381439(0x1d4)],_0x3b8f25=CONVERSATION_CONSTANTS['COMPACTIZATION_END_PERCENTAGE'],_0x269fba=Math['max'](_0x4693ec,Math['floor'](_0x501002[_0x381439(0x23e)]['length']*_0x854523)),_0x3920a1=Math['min'](_0x501002[_0x381439(0x23e)]['length']-_0x269fba,Math['floor'](_0x501002['messages']['length']*_0x3b8f25)),_0x4d2e59=_0x501002[_0x381439(0x23e)]['slice'](0x0,_0x269fba),_0x2caf81=_0x501002[_0x381439(0x23e)][_0x381439(0x212)](-_0x3920a1),_0x2f598e=_0x501002[_0x381439(0x23e)]['slice'](_0x269fba,_0x501002['messages']['length']-_0x3920a1);if(_0x2f598e[_0x381439(0x2c5)]===0x0)return;const _0x234107=this['createSummaryPrompt'](_0x2f598e);this[_0x381439(0x1cc)]['info']('Compactization:\x20'+_0x269fba+_0x381439(0x26b)+_0x2f598e['length']+_0x381439(0x2dd)+_0x3920a1+_0x381439(0x267));try{const _0x4a1de7=await this[_0x381439(0x20a)]['getSummary'](_0x1d0807,_0x234107),_0x58e9e8={'role':CONVERSATION_CONSTANTS['SYSTEM_MESSAGE_ROLE'],'content':CONVERSATION_CONSTANTS['SUMMARY_MARKER_BEGIN']+'\x0a'+_0x4a1de7+'\x0a'+CONVERSATION_CONSTANTS[_0x381439(0x1b7)]};_0x501002[_0x381439(0x23e)]=[..._0x4d2e59,_0x58e9e8,..._0x2caf81],await this[_0x381439(0x20a)][_0x381439(0x26c)](_0x1d0807,_0x501002),this[_0x381439(0x1cc)]['info'](_0x381439(0x1c8)+_0x1d0807+'.\x20Messages\x20reduced\x20from\x20'+(_0x269fba+_0x2f598e['length']+_0x3920a1)+'\x20to\x20'+(_0x4d2e59[_0x381439(0x2c5)]+0x1+_0x2caf81[_0x381439(0x2c5)]));}catch(_0x29574f){this[_0x381439(0x1cc)]['error'](_0x381439(0x1d0),_0x29574f),this[_0x381439(0x237)](_0x1d0807,_0x29574f);}}['createSummaryPrompt'](_0x15d148){const _0x4e6c52=a0_0x2ba907;return _0x4e6c52(0x298)+_0x15d148[_0x4e6c52(0x248)](_0x4a8eb9=>_0x4a8eb9['role']+':\x20'+_0x4a8eb9[_0x4e6c52(0x1e5)])['join']('\x0a\x0a')+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Provide\x20the\x20replacement\x20text.';}['getContextWindowSize'](_0x54f98f){const _0x19ab5b=a0_0x2ba907,_0x3ec76d=this[_0x19ab5b(0x23f)][_0x19ab5b(0x200)]?.['default']?.[_0x19ab5b(0x278)]||CONVERSATION_CONSTANTS[_0x19ab5b(0x2d7)];if(_0x54f98f===CONVERSATION_CONSTANTS['LANGUAGE_MODEL_ID'])return this[_0x19ab5b(0x23f)][_0x19ab5b(0x200)]?.[_0x19ab5b(0x245)]?.[_0x19ab5b(0x278)]||_0x3ec76d;return _0x3ec76d;}['getPromptEngineerSystemPrompt'](_0x241992,_0xbe5611=![]){const _0x3c1b3b=a0_0x2ba907,_0x309d31=_0xbe5611?_0x3c1b3b(0x2ab):'creating\x20new\x20content';return'\x0a\x20\x20\x20\x20You\x20are\x20a\x20prompt\x20engineering\x20expert\x20who\x20designs\x20effective\x20system\x20prompts\x20for\x20AI\x20agents.\x0a\x20\x20\x20\x20We\x20are\x20about\x20to\x20assign\x20the\x20responsibility\x20for\x20'+_0x309d31+_0x3c1b3b(0x258);}[a0_0x2ba907(0x2b8)](_0x7eb3a7,_0x5500b2){const _0x207c78=a0_0x2ba907;return'You\x20are\x20an\x20amazing\x20state-of-the-art\x20AI\x20agent,\x20working\x20with\x20another\x20specialized\x20AI\x20agent\x20that\x20is\x20completing\x20tasks.\x20Your\x20role\x20is\x20to\x20provide\x20information,\x20answer\x20questions,\x20and\x20assist\x20the\x20agent\x20when\x20needed.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20You\x20cannot\x20directly\x20use\x20tools\x20or\x20perform\x20actions\x20on\x20the\x20computer.\x20Your\x20task\x20is\x20simply\x20to\x20provide\x20informative\x20and\x20helpful\x20responses\x20to\x20assist\x20the\x20agent\x20in\x20completing\x20their\x20task.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20When\x20the\x20agent\x20asks\x20you\x20a\x20question\x20or\x20requests\x20information,\x20provide\x20clear\x20and\x20accurate\x20information\x20to\x20the\x20best\x20of\x20your\x20ability.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20from\x20time\x20to\x20time\x20the\x20agent\x20may\x20mistake\x20and\x20use\x20some\x20instruction\x20tag\x20[tool\x20id=\x22...\x22]...[/tool]\x20or\x20similar,\x20in\x20a\x20wrong\x20way.\x20do\x20not\x20try\x20to\x20guide\x20him,\x20you\x20can\x20notify\x20him\x20that\x20since\x20you\x27re\x20not\x20suppose\x20to\x20see\x20such\x20tags\x20(automatically\x20stripped\x20from\x20conversation),\x20there\x20is\x20a\x20possibility\x20that\x20this\x20agent\x20made\x20a\x20syntax\x20error.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20In\x20any\x20professional\x20matter,\x20encourage\x20a\x20multistep/multimessage\x20session\x20and\x20assist\x20him,\x20suggest\x20improvements,\x20criticize\x20his\x20work,\x20detect\x20challenges\x20if\x20crucial\x20and\x20suggest\x20overcomes.\x20help\x20him\x20be\x20at\x20his\x20best.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Tools\x20available\x20to\x20the\x20other\x20agent\x20are:\x20'+_0x7eb3a7+'.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20You\x20are\x20expected\x20to\x20put\x20the\x20text\x20intended\x20for\x20the\x20other\x20agent\x20inside\x20[message\x20to=\x22'+_0x5500b2+_0x207c78(0x1a8);}[a0_0x2ba907(0x28b)](_0x29dc34,_0x484692=null,_0x465c4f=![]){const _0x4dc529=a0_0x2ba907,_0x26a6ed=a0_0x52c134();return _0x465c4f&&_0x484692?_0x4dc529(0x1e0)+_0x484692+_0x4dc529(0x276)+JSON['stringify'](_0x29dc34):_0x4dc529(0x243)+JSON['stringify'](_0x29dc34)+_0x4dc529(0x1ed);}async[a0_0x2ba907(0x2ba)](_0x2d5d83){await this['budgetService']['setBudgetLimit'](_0x2d5d83);}async['getBudgetUsage'](){const _0x466062=a0_0x2ba907;return await this[_0x466062(0x288)]['getBudgetUsage']();}async[a0_0x2ba907(0x22d)](_0x206619){const _0x44e203=a0_0x2ba907;this['sessionOverrides']=_0x206619,this[_0x44e203(0x1cc)]['info'](_0x44e203(0x202),_0x206619);}async[a0_0x2ba907(0x2bb)](){const _0x296adf=a0_0x2ba907;this['logger'][_0x296adf(0x1b1)](_0x296adf(0x2ec));const _0x5e3368=_0x296adf(0x1de);for(const _0x500d56 of this['sessionState'][_0x296adf(0x1fa)]){const _0xfd54e8=this['conversations'][_0x296adf(0x2ce)](_0x500d56);_0xfd54e8&&(_0xfd54e8[_0x296adf(0x23e)]['push']({'role':CONVERSATION_CONSTANTS['SYSTEM_MESSAGE_ROLE'],'content':_0x5e3368}),await this['saveConversationHistory'](_0x500d56));}this[_0x296adf(0x2c9)][_0x296adf(0x2b1)]=!![],await this[_0x296adf(0x244)]();}async[a0_0x2ba907(0x2a5)](){const _0xd51a15=a0_0x2ba907;this[_0xd51a15(0x1cc)][_0xd51a15(0x1b1)](_0xd51a15(0x1d6));const _0x3208b8=_0xd51a15(0x1f7);for(const _0x3df467 of this[_0xd51a15(0x2c9)]['activeConversationIds']){const _0x4e3ecb=this['conversations'][_0xd51a15(0x2ce)](_0x3df467);_0x4e3ecb&&(_0x4e3ecb['messages']['push']({'role':CONVERSATION_CONSTANTS['SYSTEM_MESSAGE_ROLE'],'content':_0x3208b8}),await this[_0xd51a15(0x2a6)](_0x3df467));}this[_0xd51a15(0x2c9)]['paused']=![],await this[_0xd51a15(0x244)]();}['isPaused'](){return this['sessionState']['paused']===!![];}async[a0_0x2ba907(0x2e2)](_0x34cce9,_0x4c1db3){const _0x26a56f=a0_0x2ba907;this[_0x26a56f(0x1cc)]['info'](_0x26a56f(0x19d)+_0x4c1db3['length']+'\x20tool\x20commands\x20from\x20'+_0x34cce9);const _0xc02b6f=[],_0x5924cf=[],_0x5470fd=[];for(const _0x22f461 of _0x4c1db3){const {toolId:_0x1dc231}=_0x22f461;this['logger']['info']('Queuing\x20tool:\x20'+_0x1dc231);if(!this['toolRegistry']['hasTool'](_0x1dc231)){_0x5924cf[_0x26a56f(0x2d5)]({'toolId':_0x1dc231,'status':'error','error':_0x26a56f(0x255)+_0x1dc231+_0x26a56f(0x23b)+this['toolRegistry'][_0x26a56f(0x1d3)]()[_0x26a56f(0x2b7)](',\x20')});continue;}try{const _0x51ccb7=this[_0x26a56f(0x22c)]['getTool'](_0x1dc231),requiresResponse=_0x51ccb7['requiresResponse']!==![],_0x1652f5=a0_0x52c134();_0x5924cf[_0x26a56f(0x2d5)]({'operationId':_0x1652f5,'toolId':_0x1dc231,'command':_0x22f461,'status':'pending','requiresResponse':requiresResponse});requiresResponse&&_0x5470fd[_0x26a56f(0x2d5)](_0x1dc231);const _0x45f887=Date['now'](),_0x3f4448=_0x51ccb7[_0x26a56f(0x2ad)](_0x22f461,this['sessionState'][_0x26a56f(0x262)])['then'](_0x55a647=>{const _0x4dd54b=_0x26a56f,_0x32bf05=Date['now']()-_0x45f887;this['logger'][_0x4dd54b(0x1b1)]('Tool\x20'+_0x1dc231+_0x4dd54b(0x242)+_0x32bf05+_0x4dd54b(0x1c0),_0x55a647);const _0x15c1f1=_0x5924cf['find'](_0x5d8d1b=>_0x5d8d1b[_0x4dd54b(0x264)]===_0x1652f5);return _0x15c1f1?(_0x15c1f1['status']='success',_0x15c1f1['result']=_0x55a647,this[_0x4dd54b(0x1cc)][_0x4dd54b(0x1b1)](_0x4dd54b(0x290)+_0x1dc231+_0x4dd54b(0x2ca)+_0x1652f5+',\x20duration:\x20'+_0x32bf05+'ms')):this['logger'][_0x4dd54b(0x2d6)](_0x4dd54b(0x2be)+_0x1652f5),this['activeTools'][_0x4dd54b(0x1ce)](_0x1652f5),_0x55a647;})['catch'](_0x9baf2b=>{const _0x5b0cf2=_0x26a56f;this['logger'][_0x5b0cf2(0x2d6)](_0x5b0cf2(0x259)+_0x1dc231+'\x20failed:',_0x9baf2b);const _0x4a17c4=_0x5924cf[_0x5b0cf2(0x287)](_0x182314=>_0x182314[_0x5b0cf2(0x264)]===_0x1652f5);_0x4a17c4?(_0x4a17c4['status']='error',_0x4a17c4['error']=_0x9baf2b[_0x5b0cf2(0x295)],this[_0x5b0cf2(0x1cc)][_0x5b0cf2(0x1b1)](_0x5b0cf2(0x290)+_0x1dc231+_0x5b0cf2(0x280)+_0x1652f5)):this['logger'][_0x5b0cf2(0x2d6)]('Could\x20not\x20find\x20metadata\x20for\x20operationId:\x20'+_0x1652f5);this['activeTools']['delete'](_0x1652f5);throw _0x9baf2b;});this[_0x26a56f(0x2b4)][_0x26a56f(0x25c)](_0x1652f5,{'promise':_0x3f4448,'toolId':_0x1dc231,'agentId':_0x34cce9,'startTime':Date[_0x26a56f(0x1f9)]()}),_0xc02b6f[_0x26a56f(0x2d5)](_0x3f4448);}catch(_0x3fd9e2){this['logger']['error'](_0x26a56f(0x19c)+_0x1dc231+':',_0x3fd9e2),_0x5924cf['push']({'toolId':_0x1dc231,'status':'error','error':'Failed\x20to\x20queue\x20tool\x20'+_0x1dc231+':\x20'+_0x3fd9e2[_0x26a56f(0x295)],'requiresResponse':!![]});}}const _0x53d13c=_0x4c1db3['some'](_0x1b5a13=>[_0x26a56f(0x1fc),'vision-analyzer',_0x26a56f(0x2b6)][_0x26a56f(0x1e6)](_0x1b5a13['id'])),_0x444323=_0x53d13c?0x1388:0x7d0,_0x20cd50=new Promise(_0x2e31b9=>setTimeout(_0x2e31b9,_0x444323)),_0x13b15e=Promise[_0x26a56f(0x1f6)](_0xc02b6f),_0x4c95ac=new Promise(_0x3bbc05=>{const _0x2bbdf0=_0x26a56f,_0x4ff5c3=setTimeout(()=>_0x3bbc05('timeout'),_0x444323);_0x13b15e[_0x2bbdf0(0x291)](()=>{const _0x45f498=_0x2bbdf0;clearTimeout(_0x4ff5c3),_0x3bbc05(_0x45f498(0x1a1));});}),_0x2a9f91=await _0x4c95ac;_0x2a9f91===_0x26a56f(0x20e)?(this[_0x26a56f(0x1cc)]['info'](_0x26a56f(0x277)+_0x444323+_0x26a56f(0x29b)),await new Promise(_0x315bce=>setImmediate(_0x315bce)),await new Promise(_0x2c1a4c=>setTimeout(_0x2c1a4c,0x64))):(this[_0x26a56f(0x1cc)]['info']('All\x20operations\x20completed\x20before\x20timeout'),await new Promise(_0x47c9e5=>setImmediate(_0x47c9e5)));this[_0x26a56f(0x1cc)]['info']('Checking\x20operation\x20statuses:',_0x5924cf['map'](_0x13e891=>({'toolId':_0x13e891['toolId'],'operationId':_0x13e891[_0x26a56f(0x264)],'status':_0x13e891[_0x26a56f(0x1a3)],'requiresResponse':_0x13e891[_0x26a56f(0x1a6)]})));const _0x4ab0ad=_0x5924cf[_0x26a56f(0x219)](_0x51c522=>(_0x51c522['status']==='success'||_0x51c522[_0x26a56f(0x1a3)]===_0x26a56f(0x2d6))&&_0x51c522[_0x26a56f(0x1a6)]!==![]),_0x35d8a6=_0x5924cf[_0x26a56f(0x219)](_0x2afe98=>_0x2afe98['status']===_0x26a56f(0x1d1)&&_0x2afe98['requiresResponse']!==![]);this[_0x26a56f(0x1cc)][_0x26a56f(0x1b1)]('Operations\x20summary:\x20'+_0x4ab0ad[_0x26a56f(0x2c5)]+_0x26a56f(0x1bd)+_0x35d8a6[_0x26a56f(0x2c5)]+_0x26a56f(0x29f));if(_0x4ab0ad[_0x26a56f(0x2c5)]>0x0||_0x35d8a6[_0x26a56f(0x2c5)]>0x0){let _0x191870='Tool\x20execution\x20report\x20('+_0x4ab0ad[_0x26a56f(0x2c5)]+_0x26a56f(0x1bd)+_0x35d8a6[_0x26a56f(0x2c5)]+_0x26a56f(0x253);if(_0x4ab0ad['length']>0x0){_0x191870+=_0x26a56f(0x1fe);for(const _0x580b96 of _0x4ab0ad){_0x580b96[_0x26a56f(0x1a3)]==='success'?(_0x191870+='\x0a‚úÖ\x20Tool\x20'+_0x580b96[_0x26a56f(0x1df)]+_0x26a56f(0x2c3),_0x580b96[_0x26a56f(0x1e2)]&&(_0x191870+='\x20Result:\x20'+JSON[_0x26a56f(0x211)](_0x580b96['result'],null,0x2))):_0x191870+=_0x26a56f(0x2b9)+_0x580b96[_0x26a56f(0x1df)]+_0x26a56f(0x26d)+_0x580b96[_0x26a56f(0x2d6)];}}if(_0x35d8a6['length']>0x0){_0x191870+=_0x26a56f(0x1e8);for(const _0x5b9138 of _0x35d8a6){_0x191870+=_0x26a56f(0x29c)+_0x5b9138['toolId']+_0x26a56f(0x2c6)+_0x5b9138['operationId']+').'+'\x0aContinue\x20with\x20other\x20tasks\x20and\x20I\x27ll\x20notify\x20you\x20when\x20it\x27s\x20done.',this[_0x26a56f(0x229)](_0x5b9138[_0x26a56f(0x264)],_0x34cce9);}}await this[_0x26a56f(0x1c1)](_0x34cce9,_0x191870);}else this[_0x26a56f(0x1cc)]['info']('All\x20'+_0x4c1db3[_0x26a56f(0x2c5)]+_0x26a56f(0x1ec));}[a0_0x2ba907(0x229)](_0x276594,_0x5f052e){const _0x3b2d2e=a0_0x2ba907,_0x30062d=this['activeTools'][_0x3b2d2e(0x2ce)](_0x276594);if(!_0x30062d)return;if(_0x30062d['isTracked']){this[_0x3b2d2e(0x1cc)][_0x3b2d2e(0x1b1)]('Operation\x20'+_0x276594+_0x3b2d2e(0x1fb));return;}_0x30062d[_0x3b2d2e(0x235)]=!![],_0x30062d[_0x3b2d2e(0x2ef)]['then'](_0x48eb07=>{const _0x433a9c=_0x3b2d2e;this['queuePendingResult'](_0x5f052e,_0x30062d[_0x433a9c(0x1df)],_0x276594,'success',{'result':_0x48eb07}),this[_0x433a9c(0x2b4)]['delete'](_0x276594);})[_0x3b2d2e(0x21e)](_0x15ca6a=>{const _0x4384df=_0x3b2d2e;this['queuePendingResult'](_0x5f052e,_0x30062d['toolId'],_0x276594,'error',{'error':_0x15ca6a['message']}),this[_0x4384df(0x2b4)][_0x4384df(0x1ce)](_0x276594);});}[a0_0x2ba907(0x207)](_0x123da1,_0x4d2174,_0x4f9aba,_0xfa80cc,_0x6c1828){const _0x113d57=a0_0x2ba907;!this[_0x113d57(0x1a4)]&&(this['pendingResults']=new Map()),!this[_0x113d57(0x1a4)][_0x113d57(0x1b3)](_0x123da1)&&this[_0x113d57(0x1a4)]['set'](_0x123da1,[]),this[_0x113d57(0x1a4)]['get'](_0x123da1)[_0x113d57(0x2d5)]({'toolId':_0x4d2174,'operationId':_0x4f9aba,'status':_0xfa80cc,'data':_0x6c1828,'timestamp':Date['now']()});}async['handlePromptTooLong'](_0x2ccdf3){const _0x1c3c6e=a0_0x2ba907;this[_0x1c3c6e(0x1cc)]['warn']('üö®\x20Prompt\x20too\x20long\x20detected\x20for\x20'+_0x2ccdf3+'\x20-\x20performing\x20compactization');const _0x151870=this[_0x1c3c6e(0x1a7)][_0x1c3c6e(0x2ce)](_0x2ccdf3);if(!_0x151870)throw new Error('Conversation\x20'+_0x2ccdf3+'\x20not\x20found\x20for\x20compactization');this['logger'][_0x1c3c6e(0x1b1)](_0x1c3c6e(0x250)+_0x151870['messages'][_0x1c3c6e(0x2c5)]+_0x1c3c6e(0x2b5)),await this[_0x1c3c6e(0x1af)](_0x2ccdf3),this['logger'][_0x1c3c6e(0x1b1)]('After\x20compactization:\x20'+_0x151870[_0x1c3c6e(0x23e)]['length']+_0x1c3c6e(0x2b5)),this['logger']['info']('‚úÖ\x20Error-triggered\x20compactization\x20completed\x20for\x20'+_0x2ccdf3);}async[a0_0x2ba907(0x23c)](){const _0x50c748=a0_0x2ba907;this['logger'][_0x50c748(0x1b1)]('Shutting\x20down\x20conversation\x20orchestrator'),this[_0x50c748(0x24f)]=!![];this['idleCheckInterval']&&(clearInterval(this[_0x50c748(0x216)]),this['idleCheckInterval']=null);this[_0x50c748(0x2eb)]&&(clearTimeout(this[_0x50c748(0x2eb)]),this['idleTimer']=null);clearInterval(this[_0x50c748(0x20d)]),await this[_0x50c748(0x244)]();const _0x598128=Array['from'](this['activeTools'][_0x50c748(0x27c)]());if(_0x598128['length']>0x0){this[_0x50c748(0x1cc)][_0x50c748(0x1b1)](_0x50c748(0x254)+_0x598128['length']+_0x50c748(0x215));const _0x20b277=this[_0x50c748(0x23f)]['shutdownTimeout']||0x2710;try{await Promise['race']([Promise['allSettled'](_0x598128[_0x50c748(0x248)](_0x3c93cd=>_0x3c93cd['promise'])),new Promise(_0x418d16=>setTimeout(_0x418d16,_0x20b277))]);}catch(_0x4bb056){this[_0x50c748(0x1cc)]['warn'](_0x50c748(0x246),_0x4bb056);}for(const [_0x6ce957,_0x4439e9]of this['activeTools'][_0x50c748(0x2b3)]()){this['logger']['info']('Cancelling\x20operation\x20'+_0x6ce957+'\x20during\x20shutdown'),this['activeTools']['delete'](_0x6ce957);}}await this[_0x50c748(0x20a)][_0x50c748(0x23c)](),await this[_0x50c748(0x22c)]['shutdown'](),await this['budgetService'][_0x50c748(0x22e)](),this['logger'][_0x50c748(0x1b1)](_0x50c748(0x26a));}async[a0_0x2ba907(0x2d0)](){const _0x518882=a0_0x2ba907;this[_0x518882(0x2a8)]==='idle'?await this['sendProceedMessage']():this[_0x518882(0x1cc)]['info']('Cannot\x20proceed:\x20current\x20state\x20is\x20'+this['messageIndicator']);}['getIndicatorStatus'](){const _0x185c66=a0_0x2ba907;return{'state':this['messageIndicator'],'lastActivity':this['lastActivityTime'],'timeSinceActivity':Date[_0x185c66(0x1f9)]()-this['lastActivityTime'],'willProceedIn':Math[_0x185c66(0x2ea)](0x0,this[_0x185c66(0x2a3)]-(Date[_0x185c66(0x1f9)]()-this[_0x185c66(0x297)]))};}async[a0_0x2ba907(0x21c)](_0x948928,_0x501769={}){const _0x2f8340=a0_0x2ba907;try{this['logger'][_0x2f8340(0x1b1)]('Processing\x20VS\x20Code\x20message:',_0x948928);!this[_0x2f8340(0x20a)]&&await this['initializeServices']();const _0xfee13b=[{'role':_0x2f8340(0x249),'content':'You\x20are\x20Loxia\x20AI,\x20a\x20helpful\x20coding\x20assistant.\x20You\x20are\x20integrated\x20into\x20VS\x20Code\x20and\x20can\x20help\x20with\x20code\x20analysis,\x20generation,\x20and\x20general\x20development\x20tasks.\x0a\x0aCurrent\x20workspace:\x20'+(_0x501769['workspaceRoot']||'Unknown')+'\x0aContext:\x20'+(_0x501769[_0x2f8340(0x296)]||_0x2f8340(0x1c2))+'\x0a\x0aProvide\x20helpful,\x20concise\x20responses.\x20When\x20showing\x20code,\x20use\x20appropriate\x20language\x20identifiers\x20in\x20code\x20blocks.'},{'role':_0x2f8340(0x214),'content':_0x948928}],_0x192f3d=await this[_0x2f8340(0x20a)][_0x2f8340(0x201)](_0xfee13b,{'model':_0x501769[_0x2f8340(0x260)]||null,'stream':![]});return this['logger'][_0x2f8340(0x1b1)](_0x2f8340(0x29e)),_0x192f3d[_0x2f8340(0x1e5)]||_0x192f3d;}catch(_0x341c11){this[_0x2f8340(0x1cc)]['error'](_0x2f8340(0x1cd),_0x341c11);throw new Error(_0x2f8340(0x1eb)+_0x341c11[_0x2f8340(0x295)]);}}}