const a0_0x36b902=a0_0x196e;function a0_0x196e(_0x512a04,_0x56479a){const _0xe4e2b5=a0_0xe4e2();return a0_0x196e=function(_0x196ee,_0xbd4e61){_0x196ee=_0x196ee-0x171;let _0xebdaee=_0xe4e2b5[_0x196ee];if(a0_0x196e['itXUHn']===undefined){var _0x42c21f=function(_0x409097){const _0xe565cf='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x36d199='',_0x2c6334='';for(let _0x1564ef=0x0,_0xfa2478,_0x20ddf6,_0x31f7f1=0x0;_0x20ddf6=_0x409097['charAt'](_0x31f7f1++);~_0x20ddf6&&(_0xfa2478=_0x1564ef%0x4?_0xfa2478*0x40+_0x20ddf6:_0x20ddf6,_0x1564ef++%0x4)?_0x36d199+=String['fromCharCode'](0xff&_0xfa2478>>(-0x2*_0x1564ef&0x6)):0x0){_0x20ddf6=_0xe565cf['indexOf'](_0x20ddf6);}for(let _0x5110c9=0x0,_0x2af276=_0x36d199['length'];_0x5110c9<_0x2af276;_0x5110c9++){_0x2c6334+='%'+('00'+_0x36d199['charCodeAt'](_0x5110c9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2c6334);};a0_0x196e['YARnIt']=_0x42c21f,_0x512a04=arguments,a0_0x196e['itXUHn']=!![];}const _0x52b5fe=_0xe4e2b5[0x0],_0x266544=_0x196ee+_0x52b5fe,_0x400e81=_0x512a04[_0x266544];return!_0x400e81?(_0xebdaee=a0_0x196e['YARnIt'](_0xebdaee),_0x512a04[_0x266544]=_0xebdaee):_0xebdaee=_0x400e81,_0xebdaee;},a0_0x196e(_0x512a04,_0x56479a);}(function(_0x261386,_0x26b671){const _0x289c8a=a0_0x196e,_0x3ce24c=_0x261386();while(!![]){try{const _0x166ef0=parseInt(_0x289c8a(0x220))/0x1+-parseInt(_0x289c8a(0x25f))/0x2+-parseInt(_0x289c8a(0x257))/0x3+-parseInt(_0x289c8a(0x214))/0x4*(parseInt(_0x289c8a(0x235))/0x5)+parseInt(_0x289c8a(0x23c))/0x6*(-parseInt(_0x289c8a(0x236))/0x7)+parseInt(_0x289c8a(0x1a5))/0x8*(parseInt(_0x289c8a(0x195))/0x9)+parseInt(_0x289c8a(0x251))/0xa;if(_0x166ef0===_0x26b671)break;else _0x3ce24c['push'](_0x3ce24c['shift']());}catch(_0x208504){_0x3ce24c['push'](_0x3ce24c['shift']());}}}(a0_0xe4e2,0x430f4));import{TagParser}from'../utilities/tagParser.js';import{TagParserService}from'../services/tagParserService.js';import a0_0x409097 from'path';import{promises as a0_0xe565cf}from'fs';function a0_0xe4e2(){const _0x48ebc2=['DxbKyxrLtwvZC2fNzuLUzgLJyxrVCG','jYbHy2nVCMrPBMCGDg8GDgHLC2uGAw5ZDhj1y3rPB25ZoGOGicaGicaGicaGica','oIbbz2vUDcbKB2vZig5VDcbLEgLZDa','z2v0q29UDgv4DfDPBMrVD1nPEMu','Dg9VBeLK','u2vZC2LVBIbZDgf0zsbZyxzLzcb0BZOG','B3jPz2LUywXtExn0zw1qCM9TChrZ','C2vTAs1HDxrV','vg9VBcbLEgvJDxrPB24GCMvWB3j0icG','tMv3ignVBNzLCNnHDgLVBIbZDgfYDgvKigfUzcbZzxnZAw9Uihn0yxrLihnHDMvK','BMfTzq','y29UDMvYC2f0Aw9Ulq','C3vIC3rYAw5N','Aw50zxjHy3rPDMu','cGO9psbdB21WBgv0zwqGt3bLCMf0Aw9UCYa9pq','q291BgqGBM90igXVywqGy29UDMvYC2f0Aw9UigHPC3rVCNKGzM9Yia','BwvZC2fNzq','DxnPBMCGDgHLifTTzxnZywDLxsb0ywCGD2L0Acb0AguGzM9SBg93Aw5NigLKCW','ms4WlJa','C3rHCNrozxDdB252zxjZyxrPB24','y3jLyxrPBMCGBMv3ignVBNrLBNq','ve9ptf9tvefuvvnFvvbeqvrfx0LovevsvKfmx01t','mtu1otqZmKzdzendzW','qMvMB3jLignVBxbHy3rPEMf0Aw9UoIa','y29UDgvUDa','C2v0','igjLz2LUicSG','CM9Szq','ywKTCM9Szq','CgvUzgLUzW','z2v0vg9VBhnezxnJCMLWDgLVBG','ywn0AxzLq29UDMvYC2f0Aw9UswrZ','ihn1Bw1HCML6zwqGkYa','su5ervHFrKLmru5btuu','nti4ntaYsNfXCu54','z3jHEq','DxbKyxrLq29UDMvYC2f0Aw9U','ChjVy2vZC1rVB2XdB21Tyw5KCW','cGOGicaGicaGifbYB3zPzguGDgHLihjLCgXHy2vTzw50ihrLEhqU','ChjVAMvJDerPCG','cIaGicaGicaGicaGifrOzsb0yxnRigLZihrVig1VzgLMEsbJB250zw50igLUihrOzsbKAxjLy3rVCNKGjW','y2f0y2G','Bg9N','w1n5C3rLBsbbDxrVlvjLC3bVBNnLxtOG','Aw5PDgLHBgL6zvDPDgHqCM9Qzwn0','q29UDMvYC2f0Aw9Uia','D3jPDgvgAwXL','Bw9KzwXZ','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EqOGicaGicaGic0GugvYzM9YBsbZDgf0AwmGy29KzsbHBMfSExnPCYaTifjfuefjuIbvtLrjtcbotYbfuLjpuLmGqvjfifbsrvnftLqkicaGicaGicaTigv4zwn1DguGDw5PDcb0zxn0CYbMB3iGAw5KAxzPzhvHBcbJB21WB25LBNrZicaTifjfuefjuIbvtLrjtcbotYbfuLjpuLmGqvjfifbsrvnftLqkicaGicaGicaTiev4zwn1DguGAw50zwDYyxrPB24GDgvZDhmGzM9YignVBxbVBMvUDcbPBNrLCMfJDgLVBNmGic0GuKvqquLsifvoveLmie5pievsuK9suYbbuKuGufjfu0vovaOGicaGicaGic0GugvYzM9YBsbLBMqTDg8Tzw5KihrLC3rZigzVCIb1C2vYihDVCMTMBg93CYaGlsbsrvbbsviGvu5usuWGtK8Grvjst1jtiefsrsbquKvtru5ucIaGicaGicaGlsbnywTLihn1CMuGBM8GzxjYB3jZig9Yigj1z3mGyxjLihbYzxnLBNqGAw4GDgHLihn0yxrPyYbJB2rLigfUywX5C2LZlcb0zxn0CYWGDgvYBwLUywWGB3v0Chv0lcbHBMqGyNjVD3nLCIb0zxn0Aw5NicHJB25ZB2XLicSGDMLZDwfSihrLC3rPBMCGDxnPBMCGDMLZAw9UignHCgfIAwXPDgLLCYKkicaGicaGicaTifrOAxmGC3rHz2uGseftifrpiejfifjfuevbveveieforcbsrs1dsevds0veihvUDgLSigfSBcbJB21WB25LBNrZigXHDw5JAcb3AxrOB3v0igvYCM9YCWOkicaGicaGicbptKXziefgvevsifrisvmGu1rbr0uSie9oq0uGvevtveLorYbjuYbdt01qtevuruqGqu5eifbst0Dsqu0Gv0ftievyrunvveveifDjveGGtK8Grvjst1jtlcbzt1uGqvjfiefmte9xruqGve8Gqu5ot1voq0uGsK9cierptKuUcGOGicaGicaGicmJifbYB2nLC3mGr3vPzgvSAw5LCWOGicaGicaGic0Gq29TCgXLDguGzwfJAcbZDgfNzsb0Ag9YB3vNAgX5igjLzM9YzsbTB3zPBMCGDg8GDgHLig5LEhqkicaGicaGicaTicHjBxbVCNrHBNqHksbdB3zL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y29UC29SzsWGBw9IAwXLkqOkicaGicaGicaGicaGkIPtDgfNzsaYoIbhyw1Lie1Ly2HHBMLJCYbezxnPz24QkGOGicaGicaGicaGica1lIbezxzLBg9WignVCMuGBwvJAgfUAwnZicHOB3CGCgXHEwvYigLUDgvYywn0CYb3AxrOihrOzsbNyw1LkqOGicaGicaGicaGica2lIbezxnPz24GCgXHEwvYihbYB2DYzxnZAw9Uihn5C3rLBqOGicaGicaGicaGica3lIbezwzPBMuGz2fTzsbYDwXLCYWGBgLTAxrHDgLVBNmGyw5KignOywXSzw5NzxmkicaGicaGicaGicaGoc4GrgvZAwDUihnJB3jPBMCVCMv3yxjKihn5C3rLBqOkicaGicaGicaGicaGkIPtDgfNzsaZoIbjBML0AwfSifrLy2HUAwnHBcbqBgfUBMLUzYOQcIaGicaGicaGicaGidKUienOB29ZzsbNyw1LigvUz2LUzsaOvw5PDhKSifvUCMvHBcWGr29KB3qSigv0yY4PcIaGicaGicaGicaGideWlIbjzgvUDgLMEsbYzxf1AxjLzcbSAwjYyxjPzxmGyw5KihrVB2XZicHWAhLZAwnZlcbUzxr3B3jRAw5NlcbbssKkicaGicaGicaGicaGmteUifbSyw4GyMfZAwmGy29KzsbHCMnOAxrLy3r1CMukicaGicaGicaGicaGmtiUiefZC2vZCYbOyxjKD2fYzsbYzxf1AxjLBwvUDhmGyw5KihbLCMzVCM1HBMnLcGOGicaGicaGicaGicaQkLn0ywDLidq6ifzPC3vHBcbHBMqGqxj0Axn0AwmGrgvZAwDUkIOkicaGicaGicaGicaGmtmUierLDgvYBwLUzsbHCNqGC3r5BguGkhjLywXPC3rPyYWGy2fYDg9VBIWGCgL4zwWGyxj0lcbLDgmUkqOGicaGicaGicaGicaXnc4GrgvZAwDUignVBg9YihbHBgv0DguGyw5Kig92zxjHBgWGyxrTB3nWAgvYzqOGicaGicaGicaGicaXns4GugXHBIb1C2vYigLUDgvYzMfJzsaOvuKVvvGPcIaGicaGicaGicaGide2lIbdCMvHDguGyxj0Axn0AwmGC3r5BguGz3vPzguGkefYDcbcAwjSzsKkcIaGicaGicaGicaGicOQu3rHz2uGntOGu3rVCNKGyw5KifbSB3qGrgv2zwXVCg1LBNqQkGOGicaGicaGicaGicaXnY4Gv3jPDguGBwfPBIbZDg9YEwXPBMuGyw5KihnLy29UzgfYEsbWBg90igXPBMvZcIaGicaGicaGicaGide4lIbezxzLBg9Wig1HAw4Gyw5KihnLy29UzgfYEsbJAgfYywn0zxjZihDPDgGGzgv0ywLSzwqGyMfJA2DYB3vUzhmkicaGicaGicaGicaGmtKUienYzwf0zsbNyw1LihDVCMXKigfUzcbLBNzPCM9UBwvUDcbKzxnJCMLWDgLVBGOGicaGicaGicaGicaYmc4Gv3jPDguGzgLHBg9NDwvZigfUzcbPBI1Nyw1LihrLEhrZcGOGicaGicaGicaGicaQkLn0ywDLidy6ieXLDMvSigfUzcbtDgfNzsbezxnPz24QkGOGicaGicaGicaGicaYms4GugXHBIbVDMvYywXSihn0CNvJDhvYzsbVzIbNyw1Lihn0ywDLCWOGicaGicaGicaGicaYmI4Grgv0ywLSzwqGzgvZAwDUig9MigvHy2GGC3rHz2uVBgv2zwWkicaGicaGicaGicaGmJmUierLDgvYBwLUzsbOB3CGC3rHz2vZignVBM5Ly3qGDg8GDgHLihn0B3j5BgLUzqOGicaGicaGicaGicaYnc4GugXHBIbKAwzMAwn1Bhr5ign1CNzLigfUzcbJAgfSBgvUz2uGChjVz3jLC3nPB24kcIaGicaGicaGicaGicOQu3rHz2uGnZOGqxvKAw8Gyw5Kie11C2LJierLC2LNBIOQcIaGicaGicaGicaGidi1lIbezxrLCM1PBMuGBxvZAwnHBcbZDhLSzsbHBMqGyxj0Axn0AwmGzgLYzwn0Aw9UcIaGicaGicaGicaGidi2lIbqBgfUigjHy2TNCM91BMqGBxvZAwmGzM9YigrPzMzLCMvUDcbZDgfNzxmkicaGicaGicaGicaGmJCUierLC2LNBIbZB3vUzcbLzMzLy3rZicHtrLGPcIaGicaGicaGicaGidi4lIbqBgfUihzVAwnLigfJDgLUzYbHBMqGzhvIyMLUzYbPzIbYzxf1AxjLzaOkicaGicaGicaGicaGkIPtDgfNzsa4oIbjBI1hyw1LifrVB2XZigfUzcbtExn0zw1ZifbSyw5UAw5NkIOkicaGicaGicaGicaGmJKUierLzMLUzsb0B29SCY93zwfWB25Zl2L0zw1ZigfUzcb0AgvPCIbWCM9Wzxj0AwvZcIaGicaGicaGicaGidmWlIbezxnPz24GywnXDwLZAxrPB24Gyw5KignVBgXLy3rPB24GC3LZDgvTcIaGicaGicaGicaGidmXlIbqBgfUigLUDMvUDg9YEsbHBMqGzxf1AxbTzw50ihn5C3rLBqOGicaGicaGicaGicaZmI4GrgvZAwDUigfKzgL0Aw9UywWGz2fTzsbZExn0zw1ZicH0CMfKAw5NlcbJCMfMDgLUzYWGzxrJlIKkcIaGicaGicaGicaGicOQu3rHz2uGotOGuhjVDg90ExbLierLDMvSB3bTzw50kIOkicaGicaGicaGicaGmZmUienYzwf0zsbIyxnPyYbWBgf5ywjSzsb2zxjZAw9UcIaGicaGicaGicaGidm0lIbuzxn0ignVCMuGBwvJAgfUAwnZcIaGicaGicaGicaGidm1lIbhyxrOzxiGAw5PDgLHBcbMzwvKyMfJAYbHBMqGDxbKyxrLCWOGicaGicaGicaGicaZnI4GvMfSAwrHDguGDgvJAg5Py2fSignVBMnLChqkcIaGicaGicaGicaGicOQu3rHz2uGmta6iez1BgWGrgv2zwXVCg1LBNqQkGOGicaGicaGicaGicaZnY4Grgv2zwXVCcbHBgWGC3LZDgvTCYbHBMqGy29UDgvUDaOGicaGicaGicaGicaZoc4Gq3jLyxrLigfSBcbHCNrPC3rPyYbHC3nLDhmGkgDYyxbOAwnZlcbHBMLTyxrPB25ZkqOGicaGicaGicaGicaZos4GuMvJB3jKigfUzcbWCM9KDwnLigfSBcbHDwrPBYbTyxrLCMLHBhmkicaGicaGicaGicaGndaUieLUDgvNCMf0Aw9Uig9MigfSBcbJB21WB25LBNrZcGOGicaGicaGicaGicaQkLn0ywDLideXoIbuzxn0Aw5NigfUzcbcDwCGrML4zxmQkGOGicaGicaGicaGica0ms4Gq29TChjLAgvUC2L2zsbMDw5JDgLVBMfSihrLC3rPBMCkicaGicaGicaGicaGndiUifbLCMzVCM1HBMnLihrLC3rPBMCGyw5Kig9WDgLTAxPHDgLVBGOGicaGicaGicaGica0mY4G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','z2v0sw5KAwnHDg9YrgLZCgXHEq','lIbuAgLZig1HEsbUB3qGyMuGysb2ywXPzcbmB3HPysbWCM9Qzwn0lG','w1vZzxiGAw5WDxrDoIa','zMXVB3i','D2fYBG','u0vtu0LptL9tvefurv9gsuXftKfnrq','nvrMDK94sq','nJm4mdu3BNvXwgDv','ignVBxbSzxrLzcWG','y2HLy2TbBMrqzxjMB3jTq29TCgfJDgL6yxrPB24','cGO9psbqzw5KAw5Nie9WzxjHDgLVBNmGpt0','cIbuAgLZihnLy3rPB24GD2LSBcbIzsbZzw50igfWyxj0igzYB20GDgHLihrVB2WGAw5ZDhj1y3rPB25ZlG','xtOG','mZzbtxHXtNy','iL08Ew91CIbJB250zw50pLSVBwvZC2fNzv0UcGOGicaGicaGienOywXSzw5Nzsb0AguGywDLBNqSigHLihDPBgWGDhj5ihrVignVDMvYigvHy2GGC3vIAMvJDc9ZDgfNzsb3AxrOAw4GysbZAw5NBguGBwvZC2fNzsWGyxnRigHPBsb0BYbZDxbWBhKGzgv0ywLSCYWGy2HHBgXLBMDLigHPCYbHC3n1Bxb0Aw9UCYWGyw5Kig1HA2uGC3vYzsbOzsDZig5VDcbMB3jNzxr0Aw5NigfUEsbPBxbVCNrHBNqGyxnWzwn0ig9MihrOzsb0yxnRlaOGicaGicaGie9UzsbZCgvJAwzPyYbLEgfTCgXLig9MigeGBwf0DgvYig9MigHPz2GGAw1WB3j0yw5JzsbPCYb0AguGDMvYAwzPy2f0Aw9Uig9MihrOzsb0yxnRignVBxbSzxrPB24GAw4GysbSyxjNzsb2yxjPzxr5ig9MihDHExmUcIaGicaGicaG','yMXVy2TLze1LC3nHz2vZ','lGOGicaGcIaGicaGicaGww91igfYzsbLEhbLy3rLzcb0BYbWDxqGDgHLihrLEhqGAw50zw5KzwqGzM9YihrOzsbVDgHLCIbHz2vUDcbPBNnPzguGw21LC3nHz2uGDg89iG','CMvNAxn0zxjdB252zxjZyxrPB24','zxHLy3v0zq','Bg9Nz2vY','rMfPBgvKihrVihjLC3vTzsbJB252zxjZyxrPB246ia','ihrVia','AwrSzunOzwnRsw50zxj2ywW','ywn0AxzLvg9VBhm','Dg9ju09tDhjPBMC','ic0+ia','Dgv4Da','vg8GCMuTzw5HyMXLlcbZD2L0y2GGDg8GAw50zxjHy3rPDMuGBw9KzsbVCIbTB2rPzNKGzw5Oyw5Jzvn5C3rLBvbYB21WDcGPicOV','u1Ltvevnx01fu1nbr0vFuK9mrq','ihDPDgGGAw5ZDhj1y3rPB25ZoIa','zgvMyxvSDa','q29UDMvYC2f0Aw9UihjLC3vTzwqGD2L0Ag91DcbJB21WBgv0zsbOAxn0B3j5','q3jLyxrPBMCGy29UDMvYC2f0Aw9UoIa','rxjYB3iGCgfYC2LUzYbWCM9TChqGzw5NAw5LzxiGCMvZCg9UC2u6','mta5mti0nZbvrejkEeW','q09nuefdveLAqvrjt05FqKvhsu5Fuevsq0vovefhrq','ugXLyxnLihrYEsbYzxj1BM5PBMCGDgHLienmssb3AxrOigrVlcbTB2rPzNKSig9YihjLC3vTzsbJB21Tyw5KCYbHC2TPBMCGDgHLigfNzw50ihrVignVBNrPBNvLlG','CgfYC2vqCM9TChrfBMDPBMvLCLjLC3bVBNnL','DgHLBG','teXnihnLCNzPy2uGBM90igf2ywLSywjSzsbMB3iGAw1Hz2uGzgvZy3jPChrPB24','ndG2oda0uM9wrLvA','CYbLBgfWC2vKks4Gt3bLCMf0Aw9UieLeoIa','z2v0tgfUz3vHz2vnB2rLBfn5C3rLBvbYB21WDa','C2v0u2vZC2LVBK92zxjYAwrLCW','tefor1vbr0vFtu9eruXFsuq','C3rHCNrjzgXLtw9UAxrVCMLUzW','C2f2zunVBNzLCNnHDgLVBKHPC3rVCNK','CxvLDwvqzw5KAw5NuMvZDwX0','oti2otC2CxHcyunc','qwXSia','DxbKyxrLuhjVAMvJDerPCMvJDg9YEq','CMvJAxbPzw50','igr1CMLUzYbZAhv0zg93BG','q291BgqGBM90ihjLywqVCgfYC2uG','ChjVy2vZC0fNzw50twvZC2fNzq','Bg9HzenVBNzLCNnHDgLVBKHPC3rVCNK','sw50zxjHy3rPB24GBw9KzsbJAgfUz2vKoIa','C3rHCNruAw1L','zNjVBuvUDhjPzxm','ig1LC3nHz2vZ','ihn5C3rLBsbTzxnZywDLoIKGChjVy2vLzc4GswyGC3r1y2SGzM9YihrVBYbSB25NihvZzsb0B29SCYbVCIbWzxjMB3jTig9WzxjHDgLVBNmGDg8GzwzMzwn0AxzLBhKGy29UDgLUDwuGDgHLihrHC2SU','C2XPy2u','C3rYAw5NAwz5','vxbKyxrLzcbZExn0zw0GChjVBxb0igzVCIa','AxntAhv0DgLUz0rVD24','tw9KAwz5Aw5NignVBNrLBNqGAw46ia','icHMAwXLoIa','zxjYB3i','ls1dB252zxjZyxrPB24GqMvJyw1LieXVBMCSifrOAxmGugfYDcbiyxmGqMvLBIbtDw1TyxjPEMvKls0','ihrVB2XZihDLCMuGzMLYzs1HBMqTzM9Yz2v0lcbUBYbYzxnWB25ZzsbZzw50ihrVigfNzw50','sM9IignVBxbSzxrLzdOG','BgfUz3vHz2vnB2rLBefNzw50swq','CgvUzgLUz1jLC3vSDhm','AxnvC2vYrNjPzw5KBhK','w09Yy2HLC3rYyxrVCL0GtwvZC2fNAw5Nia','B25vC2vYuhjVBxb0','C2H1DgrVD24','Dg9mB2nHBgvmB3DLCKnHC2u','zgvIDwC','8j+uHcbutYbdt05usu5vrsbzt1vsifDpuKS6','u1rbvevFreLsx05btuu','ChvZAa','BM93','C3LZDgvT','u1vntufswv9nqvjlrvjFru5e','q29UDMvYC2f0Aw9Uig9Yy2HLC3rYyxrVCIbPBML0AwfSAxPLzcb3AxrOihbYB2PLy3q6ia','CMvXDwLYzxnszxnWB25Zzq','z2v0','cUkDJcbuB29Sia','AgfZ','CMvNAxn0zxjkB2jeB25LsgfUzgXLCG','yM9Sza','CMvTB3zLuhjVBxb0u3LUDgf4rNjVBvn5C3rLBvbYB21WDa','AM9Irg9Uzq','y29UDgv4DfDPBMrVDW','ignVBxbSzxrLzcbZDwnJzxnZzNvSBhKU','C2vUzfvZzxjjBNb1Da','tuflrvjFquDftLrFrevgqvvmvf9jra','zxH0CMfJDfn0CNvJDhvYzwq','tuLox01fu1nbr0vtx1rpx0Tfrva','jYbUB3qGzM91BMqUief2ywLSywjSzsb0B29SCZOG','uMvJzwL2zwqGDxnLCIbPBNb1DdOG','Dhj5tg9HzenVBNzLCNnHDgLVBKHPC3rVCNLcEvbHDhrLCM4','vw5YzwnVDMvYywjSzsbLCNjVCIbKDxjPBMCGy29UDMvYC2f0Aw9Uihn1Bw1HCNKUia','yMX1zq','icaYlIbpCIbZDgfYDcbHig5LDYbZzxnZAw9UigfZA2LUzYb0AguGywDLBNqGDg8Gy29UDgLUDwu6','q29UDgLUDwuGyxv0B21HDgLJywXSEq','C2vZC2LVBLn0yxrL','w3rVB2XZlwnVBw1HBMrZxsb0ywDZihrVihvZzsb0B29SCYWGB3iGDgHLigzVBgXVD2LUzYbZEw50yxGGDg8GAw50zxjHy3qGD2L0Acb0AguGC3vWzxj2AxnPBMCGAhvTyw4GDxnLCJOGw3bYB21WDcbUyw1LpsjZB21LihbYB21WDcbKAxnWBgf5ihrPDgXLiL08ChjVBxb0ig1LC3nHz2u+w29WDgLVBL08B3b0Aw9UideGDgv4Dd5Bl29WDgLVBL0Gw29WDgLVBL08B3b0Aw9UidiGDgv4Dd5Bl29WDgLVBL0UlI5Bl3bYB21WDf0k','u1vntufswv9nqvjlrvjFqKvhsu4','y29UDMvYC2f0Aw9UCW','D2fPDgLUzY1MB3iTywDLBNq','CM91DgvnzxnZywDLvg9bz2vUDa','icbHBMqGDgHLihn1Bw1HCNKGC2vYDMLJzsbPCYb1BMf2ywLSywjSzs4','y3jLyxrLu3vTBwfYEvbYB21WDa','CgfYC2u','EwvSBg93','C3LZDgvTuhjVBxb0','teftvf9trvntsu9ox0zjtevoqu1f','Aw50zxjHy3rPB25nB2rL','BgfZDc1ZzxnZAw9UlMPZB24','z3jLzw4','CMvWBgfJzq','BgXTu2vYDMLJzq','B3jPz2LUywXfCNjVCG','AgfUzgXLvxnLCLbYB21WDejHC2vKt25nB2rL','rMfPBgvKihrVihf1zxvLihrVB2WG','ignVBNzLCNnHDgLVBIbjrcbTyxbWAw5NCW','DxbKyxrLq29UDMvYC2f0Aw9Uu3LZDgvTuhjVBxb0','AM9PBG','q2fUBM90ihnLBMqGBwvZC2fNzsb0BYa','mte1mte5svvAAMnQ','x3nHBML0AxPLq29UDMvYC2f0Aw9UswrgB3jgAwXL','icaZlIbpCIbTB2rPzNKGzxHPC3rPBMCGy29UDgvUDdO','C3rHDhvZ','AxnxywL0Aw5NrM9YvxnLCKLUChv0','cLrOyw5RihLVDsbMB3iGy2HVB3nPBMCGtg94AweU','q2fUBM90igrPC3bSyxKGChjVBxb0ihrVihvZzxi6ie5VihbYB21WDcbOyw5KBgvYigLZihjLz2LZDgvYzwqUia','C2vUze1LC3nHz2vuB0nVBNzLCNnHDgLVBG','BwLU','y3jLyxrLsw5PDgLHBfbYB21WDezVCKvUz2LUzwvY','yNvKz2v0u2vYDMLJzq','uM91DgLUzYbTzxnZywDLigzYB20G','AgfUzgXLsM9Irg9UzujHC2vKt25nB2rL','ihrVB2WGy29TBwfUzhmGzNjVBsa','z2v0uhjVBxb0rw5NAw5LzxjtExn0zw1qCM9TChq','BgvUz3rO','mtm2yMjwvfz0','iIaTpIaI','Dg9tDhjPBMC','qwDLBNqG','BgfZDefJDgL2Axr5vgLTzq','u2vZC2LVBIbZDgf0zsbZyxzLzcbZDwnJzxnZzNvSBhKGD2L0AcbPBMrLEcbMAwXLCW','B3b0Aw9UCW','cIaGicaGicaGicaGia','zw5Oyw5Jzvn5C3rLBvbYB21WDa','ChjVBxb0lwvUz2LUzwvY','surmrv9usu1ft1vux01t','y3jLyxrLq29UDMvYC2f0Aw9U','CMvHzezPBgu','u0vnss1bvvrpig1Vzgu6ifrHC2SGy29TCgXLDgvKlIbqCMvZCYbdDhjSk0KGDg8Gzw50zxiGAw50zxjHy3rPDMuGBw9KzsbVCIbLEgL0lG','AwrSzvrPBwvY','C2HVDwXKqMXVy2TnzxnZywDL','q09nuefdveLAqvrjt05FveHsrvnit0Xex1bfuKnftLrbr0u','CgvYzM9YBunVBxbHy3rPEMf0Aw9U','Aw5JBhvKzxm','Dg9VBenVBw1HBMrZ','cUkpSYbuB29Sia','zgvSzxrL','8j+uKYbjBNrLCMfJDgL2zsbTB2rLoIbszxn1BwLUzYbTzxnZywDLigzSB3C','zMLSDgvY','Dg9VBfjLz2LZDhj5','ChjVBxb0','Bw9KAwz5Aw5Nigv4Axn0Aw5NignVBNrLBNq','ihbLBMrPBMCPoG','rMfPBgvKihrVigXVywqGy29UDMvYC2f0Aw9UigHPC3rVCNKGzM9Yia','C3vJy2vZCW','8j+AQcbvtLjfq09wrvjbqKXfievsuK9s','q29UDMvYC2f0Aw9Uig9Yy2HLC3rYyxrVCIbZAhv0igrVD24GC3vJy2vZC2z1BgX5','zw5KC1DPDgG','D2HPDgu','y29UzMLN','x2DLDezPBgvtywzLq29UDMvYC2f0Aw9Uswq','B3bLCMf0Aw9Uswq','ugXLyxnLihvZzsbBBwvZC2fNzsb0BZ0IlI4UiL0GDgfNCYb0BYbZzw5KigeGBwvZC2fNzsb0BYbHBM90AgvYigfNzw50lca','BwTKAxi','uhjVy2vZC2LUzYa','BwvZC2fNzxm','Cgf1C2vK','zw50CMLLCW','C2f2zvnLC3nPB25tDgf0zq','q29UDMvYC2f0Aw9UihjLC3vTzwq','DgfNugfYC2vYu2vYDMLJzq','Aw5MBW','CgfYC2vnzxnZywDL','y3LHBG','vg9VBca','AwrSzq','khn5C3rLBsbTzxnZywDLkq','DxrMltG','z2v0sw5KAwnHDg9Yu3rHDhvZ','ywnJzxnZ','uMvZDw1PBMCGy29UDMvYC2f0Aw9UigzYB206ia','CMvHzgrPCG','z2v0qMXVy2TPBMDtDgf0Dxm','yxv0BW','zNjVBq','C2v0qNvKz2v0tgLTAxq','rM91BMqGyw5KigXVywrLzcbJB252zxjZyxrPB24GAgLZDg9YEsbMB3iG','tgfZDcbZzxnZAw9UigzPBguGC2f2zwqGDg86ia','Dw5RBM93BG','lMXVEgLHlxn0yxrL','igrVzxmGBM90igv4Axn0','q2fUBM90ihbYB2nLzwq6ign1CNjLBNqGC3rHDguGAxmG','C2v0v2fPDgLUz0zVCLvZzxjjBNb1Da','sgfUzgXPBMCGDxnLCIbWCM9TChq6ia','z2v0sw1Hz2vezxnJCMLWDgLVBG','y29UDMvYC2f0Aw9UlwLUzgv4lMPZB24','C2vZC2LVBI1ZDgf0zs5QC29U','y2HLy2TuB29SrxHLy3v0Aw9Uu3rHDhvZ','cKnVBNrPBNvLihDPDgGGB3rOzxiGDgfZA3mGyw5KieKNBgWGBM90Awz5ihLVDsb3AgvUigL0j3mGzg9Uzs4','CMvZDw1Lq29UDMvYC2f0Aw9U','C2v0uhjVAMvJDerPCMvJDg9YEq','icHTB2rLoIa','AgfUzgXLuhjVBxb0vg9Vtg9UzW','vxnLCIbZzwXLy3rLzdOG','qvvutYbTB2rLoIbbDxrVlxnLBgvJDgvKici','rMfPBgvKihrVihjLC3vTzsbJB252zxjZyxrPB246','CMvK','vxbKyxrLzcbJB252zxjZyxrPB24GB3jJAgvZDhjHDg9YihbYB2PLy3qGzgLYzwn0B3j5oIa','y29UDMvYC2f0Aw9Uihj1BgvZigfYzq','BwvZC2fNzuLUzgLJyxrVCG','lcbJCMvHDgLUzYbLBxb0EsbJB252zxjZyxrPB24','rMfPBgvKihrVihnHDMuGC2vZC2LVBIbZDgf0ztO','y29UDMvYC2f0Aw9UswrnyxbWAw5N','BwfRzxjbz2vUDeLK'];a0_0xe4e2=function(){return _0x48ebc2;};return a0_0xe4e2();}import{v4 as a0_0x36d199}from'uuid';import{LLMService}from'../services/llmService.js';import{ToolRegistry}from'../services/toolRegistry.js';import{BudgetService}from'../services/budgetService.js';import{displayOnly}from'../utilities/stringOps.js';import a0_0x2c6334 from'chalk';export const CONVERSATION_CONSTANTS={'STATE_DIR_NAME':a0_0x36b902(0x1e5),'SESSION_STATE_FILENAME':a0_0x36b902(0x1ec),'INDEX_FILENAME':a0_0x36b902(0x1eb),'LAST_SESSION_FILENAME':a0_0x36b902(0x18a),'HISTORY_SUFFIX':'-history.json','SYSTEM_MESSAGE_ROLE':a0_0x36b902(0x282),'USER_MESSAGE_ROLE':'user','ASSISTANT_MESSAGE_ROLE':'assistant','COMPACTIZATION_THRESHOLD_PERCENTAGE':0.7,'COMPACTIZATION_OUTPUT_RESERVE_PERCENTAGE':0.4,'COMPACTIZATION_BEGIN_PERCENTAGE':0.15,'COMPACTIZATION_END_PERCENTAGE':0.35,'MIN_MESSAGES_TO_KEEP':0x2,'SUMMARY_MARKER_BEGIN':a0_0x36b902(0x273),'SUMMARY_MARKER_END':'--End\x20of\x20Summary--','TOOL_CALL_FREQUENCY_CHECK_MS':0x2710,'TOOL_STATUS_UPDATE_INTERVAL_MS':0x2710,'DEFAULT_CONTEXT_WINDOW_SIZE':0x186a0,'MAKER_AGENT_DEFAULT_ID':'maker-agent','LANGUAGE_MODEL_ID':'language-model','PROMPT_ENGINEER_ID':a0_0x36b902(0x1ae)};export class ConversationOrchestrator{constructor(_0x1564ef,_0xfa2478){const _0x5dfe15=a0_0x36b902;this['config']=_0x1564ef,this['logger']=_0xfa2478,this[_0x5dfe15(0x1d2)]=new TagParserService(_0xfa2478),this[_0x5dfe15(0x18d)]=new LLMService(_0x1564ef,_0xfa2478),this['llmService']['registerPromptTooLongHandler'](_0x20ddf6=>this[_0x5dfe15(0x1f2)](_0x20ddf6)),this[_0x5dfe15(0x1bd)]=new ToolRegistry(_0x1564ef,_0xfa2478,this[_0x5dfe15(0x18d)]),this['budgetService']=new BudgetService(_0x1564ef,_0xfa2478),this['conversations']=new Map(),this['activeTools']=new Map(),this[_0x5dfe15(0x1fc)]=new Map(),this[_0x5dfe15(0x189)]=_0x5dfe15(0x20b),this['originalSystemPrompts']=new Map(),this['sessionState']={'projectDir':null,'makerAgentId':null,'languageModelAgentId':null,'activeConversationIds':[],'conversationHistory':{}},this['toolCheckInterval']=setInterval(()=>this[_0x5dfe15(0x1ed)](),CONVERSATION_CONSTANTS['TOOL_CALL_FREQUENCY_CHECK_MS']),this[_0x5dfe15(0x1f9)]=_0x5dfe15(0x1d7),this[_0x5dfe15(0x1a9)]=Date[_0x5dfe15(0x281)](),this['idleTimer']=null,this[_0x5dfe15(0x1af)]=0x1388,this[_0x5dfe15(0x26f)]=![],this[_0x5dfe15(0x25c)]();}async[a0_0x36b902(0x22a)](_0x31f7f1){const _0x221fa9=a0_0x36b902;this[_0x221fa9(0x17d)]['projectDir']=_0x31f7f1,this['toolRegistry']['setProjectDirectory'](_0x31f7f1),this[_0x221fa9(0x242)]['info'](_0x221fa9(0x284)+_0x31f7f1);}async[a0_0x36b902(0x22a)](_0x5110c9){const _0x5d8940=a0_0x36b902;this['sessionState']['projectDir']=_0x5110c9,this['toolRegistry'][_0x5d8940(0x1f0)](_0x5110c9),this['logger'][_0x5d8940(0x1d3)]('Conversation\x20orchestrator\x20initialized\x20with\x20project:\x20'+_0x5110c9);}['setProjectDirectory'](_0x2af276){const _0x564e12=a0_0x36b902;this[_0x564e12(0x17d)][_0x564e12(0x225)]=_0x2af276,this['toolRegistry']&&this['toolRegistry'][_0x564e12(0x1f0)](_0x2af276),this['logger']['info'](_0x564e12(0x1f7)+_0x2af276);}async['initialize'](){const _0x3c991f=a0_0x36b902;this[_0x3c991f(0x1bd)]=new ToolRegistry(this[_0x3c991f(0x1c7)],this[_0x3c991f(0x242)]),await this['toolRegistry']['registerBuiltInTools']();}[a0_0x36b902(0x261)](_0x37b8e0){const _0x11e6ef=a0_0x36b902;this[_0x11e6ef(0x1f0)](_0x37b8e0);}['startIdleMonitoring'](){const _0x255839=a0_0x36b902;this[_0x255839(0x245)]=setInterval(()=>{const _0x21363a=_0x255839;if(this['isShuttingDown'])return;if(this[_0x21363a(0x189)]===_0x21363a(0x20b))return;const _0x329fec=Date[_0x21363a(0x281)](),_0x45d849=_0x329fec-this[_0x21363a(0x1a9)];this['messageIndicator']===_0x21363a(0x1d7)&&_0x45d849>=this['IDLE_TIMEOUT_MS']&&this['sessionState'][_0x21363a(0x1fd)]&&(this[_0x21363a(0x242)][_0x21363a(0x1d3)]('üîÑ\x20Auto-proceeding\x20after\x203\x20seconds\x20of\x20idle\x20time'),this['sendProceedMessage']());},0x1f4);}['setWaitingForUserInput'](_0x3f9a9f){const _0x5de498=a0_0x36b902,_0x60d3b8=this['isWaitingForUserInput'];this[_0x5de498(0x199)]=_0x3f9a9f;if(_0x3f9a9f&&!_0x60d3b8)console[_0x5de498(0x228)](a0_0x2c6334['cyan']('üîí\x20Interactive\x20mode:\x20Blocking\x20automatic\x20messages'));else!_0x3f9a9f&&_0x60d3b8&&(console['log'](a0_0x2c6334[_0x5de498(0x18b)](_0x5de498(0x1bb))),this[_0x5de498(0x23e)]=[]);}[a0_0x36b902(0x1b4)](_0x5e24e1,_0x38bb32){const _0x1627fc=a0_0x36b902;if(this['interactionMode']!=='interactive'||!this['isWaitingForUserInput'])return![];if(_0x38bb32['includes']('[User\x20input]:'))return![];if(_0x38bb32[_0x1627fc(0x1b7)](_0x1627fc(0x1d8)))return![];return!![];}['updateMessageIndicator'](_0x11699c){const _0x50dff=a0_0x36b902,_0x3f892e=this['messageIndicator'];this['messageIndicator']=_0x11699c,this[_0x50dff(0x1a9)]=Date['now']();this[_0x50dff(0x1b3)]&&(clearTimeout(this['idleTimer']),this[_0x50dff(0x1b3)]=null);if(_0x3f892e!==_0x11699c){const _0x19883e=this[_0x50dff(0x22f)](_0x11699c);console['log'](a0_0x2c6334['gray'](_0x19883e+'\x20'+_0x11699c));}}[a0_0x36b902(0x22f)](_0x525938){const _0x7441b=a0_0x36b902;switch(_0x525938){case _0x7441b(0x181):return a0_0x2c6334[_0x7441b(0x186)]('‚è≥');case'waiting-for-llm':return a0_0x2c6334[_0x7441b(0x17a)]('ü§ñ');case _0x7441b(0x1d7):return a0_0x2c6334['green']('‚úì');default:return'‚Ä¢';}}async['sendProceedMessage'](){const _0x5863b2=a0_0x36b902;if(!this['sessionState']['makerAgentId']||this[_0x5863b2(0x26f)])return;try{this['updateMessageIndicator'](_0x5863b2(0x181)),console['log'](a0_0x2c6334['gray']('üì§\x20Sending\x20auto-proceed\x20message...'));const _0x4745ba=new Date()['toTimeString']()['split']('\x20')[0x0];await this['sendMessageToConversation'](this['sessionState']['makerAgentId'],'('+_0x4745ba+_0x5863b2(0x26b));}catch(_0x49bdb6){this[_0x5863b2(0x242)]['error']('Error\x20sending\x20auto-proceed\x20message:',_0x49bdb6),this[_0x5863b2(0x1fe)](_0x5863b2(0x1d7));}}['setInteractionMode'](_0x426d29){const _0x2449bd=a0_0x36b902,_0x2ab7dd=this[_0x2449bd(0x189)];this['interactionMode']=_0x426d29,this[_0x2449bd(0x242)]['info'](_0x2449bd(0x267)+_0x2ab7dd+_0x2449bd(0x248)+_0x426d29);if(_0x426d29==='interactive'&&_0x2ab7dd!==_0x2449bd(0x20b))this['setWaitingForUserInput'](!![]);else _0x426d29!=='interactive'&&_0x2ab7dd===_0x2449bd(0x20b)&&this[_0x2449bd(0x1e8)](![]);this['updateSystemPromptsForMode'](_0x426d29);}[a0_0x36b902(0x1de)](){const _0x59159e=a0_0x36b902;return{'interactionMode':this['interactionMode'],'isWaitingForUserInput':this['isWaitingForUserInput'],'blockedMessagesCount':this['blockedMessages']['length'],'indicatorState':this[_0x59159e(0x1f9)]};}['updateSystemPromptsForMode'](_0x5a6e08){for(const [_0x587582,_0x4a5326]of this['conversations']){this['updateConversationSystemPrompt'](_0x587582,_0x5a6e08);}}['updateConversationSystemPrompt'](_0x46d7a1,_0x3051ee){const _0x2e78d7=a0_0x36b902,_0xab4d56=this[_0x2e78d7(0x180)]['get'](_0x46d7a1);if(!_0xab4d56)return;!this[_0x2e78d7(0x204)][_0x2e78d7(0x288)](_0x46d7a1)&&this['originalSystemPrompts'][_0x2e78d7(0x217)](_0x46d7a1,_0xab4d56[_0x2e78d7(0x187)]);const _0x5d4d20=this['originalSystemPrompts'][_0x2e78d7(0x286)](_0x46d7a1);let _0x2332cd;_0x3051ee==='auto'?_0x2332cd=this[_0x2e78d7(0x28b)](_0x5d4d20):_0x2332cd=_0x5d4d20,_0xab4d56[_0x2e78d7(0x187)]=_0x2332cd,this[_0x2e78d7(0x18d)]&&this['llmService']['updateConversationSystemPrompt']&&this['llmService'][_0x2e78d7(0x192)](_0x46d7a1,_0x2332cd),this['logger']['debug'](_0x2e78d7(0x26e)+_0x46d7a1+_0x2e78d7(0x1f1)+_0x3051ee+')');}[a0_0x36b902(0x28b)](_0x257266){const _0x2f32db=a0_0x36b902;let _0x2d626d=_0x257266[_0x2f32db(0x18c)](/5\.\s*If you need user input or a decision[^6]*/,'5.\x20[USER\x20PROMPTS\x20DISABLED\x20IN\x20AUTO\x20MODE]\x20');return _0x2d626d=_0x2d626d[_0x2f32db(0x18c)](/\[prompt[^\]]*\][^[]*\[\/prompt\]/g,''),_0x2d626d+='\x0a\x0a/*\x20NOTE:\x20Prompt\x20syntax\x20removed\x20for\x20auto\x20mode.\x20'+_0x2f32db(0x24a),_0x2d626d;}['enhanceSystemPrompt'](_0x1dd2ce,_0x8ae7ea,_0x2291eb,_0x4567fe){const _0x19a5b3=a0_0x36b902;let _0x3a1de1=_0x1dd2ce;return!_0x3a1de1[_0x19a5b3(0x27c)]()['includes']('tools\x20available\x20are')&&(_0x3a1de1+='\x0a\x0aTools\x20available\x20are:\x0a'+_0x8ae7ea),!_0x3a1de1['toLocaleLowerCase']()['includes'](_0x19a5b3(0x20f))&&(_0x3a1de1+='\x0a\x0aYou\x20are\x20expected\x20to\x20consult\x20your\x20LLM\x20agent\x20using\x20the\x20[message]\x20tag\x20with\x20the\x20following\x20ids:\x20'+_0x4567fe['join'](',\x20')+_0x19a5b3(0x23a)),!_0x3a1de1[_0x19a5b3(0x1b7)](_0x19a5b3(0x1f8))&&(_0x3a1de1+='\x0a\x0aConversation\x20rules\x20are:\x0a\x20\x20\x20\x201.\x20When\x20sending\x20a\x20message\x20to\x20another\x20participant,\x20use\x20[message\x20to=\x22participant_id\x22]\x20format\x0a\x20\x20\x20\x202.\x20When\x20using\x20tools,\x20wrap\x20commands\x20in\x20[tools-commands]\x20and\x20[/tools-commands]\x20tags\x0a\x20\x20\x20\x203.\x20Each\x20tool\x20command\x20should\x20be\x20wrapped\x20in\x20[tool\x20id=\x22tool_id\x22]\x20and\x20[/tool]\x20tags\x0a\x20\x20\x20\x204.\x20You\x20must\x20follow\x20the\x20specific\x20format\x20for\x20each\x20tool\x20as\x20described\x20in\x20the\x20tools\x20section\x0a\x20\x20\x20\x205.\x20If\x20you\x20need\x20user\x20input\x20or\x20a\x20decision,\x20use\x20the\x20[prompt]\x20format(NOTICE:\x20at\x20least\x202\x20option\x20tags\x20are\x20recommended):\x20[prompt\x20name=\x22prompt\x20display\x20title\x22]the\x20message\x20the\x20user\x20will\x20see[option]option\x201\x20text[/option]\x20[option]option\x202\x20text[/option]...more\x20options\x20if\x20needed...[/prompt]\x0a\x20\x20\x20\x206.\x20when\x20you\x20have\x20finished\x20your\x20task\x20including\x20verification\x20and\x20validation\x20of\x20actual\x20content\x20as\x20written\x20on\x20disk\x20as\x20compareed\x20to\x20derived\x20specs,\x20or\x20you\x27re\x20not\x20getting\x20any\x20progress\x20use\x20the\x20[job-done]<your\x20message>[/job-done]\x20special\x20instruction\x20tag.\x20preferrably\x20in\x20its\x20own\x20message\x20(no\x20other\x20instructions).\x0a\x20\x20\x20\x207.\x20never\x20announce\x20job-done\x20before\x20you\x20have\x20completed\x20all\x20stages\x20of\x20the\x20development\x20process,\x20tested\x20and\x20re-validated\x20your\x20solution\x20by\x20observing\x20the\x20created\x20files\x20and\x20artifacts.\x0a\x20\x20\x20\x20Your\x20Project\x20Root\x20Directory\x20Is:\x20'+_0x2291eb+'\x0a\x20\x20\x20\x20'),_0x3a1de1;}[a0_0x36b902(0x196)](_0x30ecd5){const _0x4676c9=a0_0x36b902;if(!_0x30ecd5||typeof _0x30ecd5!=='string')return _0x4676c9(0x209)+Date[_0x4676c9(0x281)]();let _0x119b75=_0x30ecd5[_0x4676c9(0x18c)](/\s+/g,'-')['replace'](/[^a-zA-Z0-9_-]/g,'')['replace'](/-+/g,'-')['replace'](/^-+|-+$/g,'')['toLowerCase']();if(!_0x119b75)_0x119b75=_0x4676c9(0x209)+Date['now']();else _0x119b75[_0x4676c9(0x1a4)]>0x32&&(_0x119b75=_0x119b75[_0x4676c9(0x20a)](0x0,0x28)+'-'+Date[_0x4676c9(0x281)]()[_0x4676c9(0x1a7)]()['slice'](-0x8));return _0x119b75;}['_getFileSafeConversationId'](_0xa8998b){const _0x7d38a6=a0_0x36b902;if(this[_0x7d38a6(0x1fc)][_0x7d38a6(0x288)](_0xa8998b))return this[_0x7d38a6(0x1fc)]['get'](_0xa8998b);const _0x1b8996=this['_sanitizeConversationIdForFile'](_0xa8998b);return this['conversationIdMapping'][_0x7d38a6(0x217)](_0xa8998b,_0x1b8996),_0x1b8996!==_0xa8998b&&this['logger'][_0x7d38a6(0x1d3)]('Mapped\x20conversation\x20ID\x20for\x20file\x20operations:\x20\x22'+_0xa8998b+_0x7d38a6(0x1a6)+_0x1b8996+'\x22'),_0x1b8996;}async['initializeServices'](){const _0x1d7505=a0_0x36b902;this[_0x1d7505(0x18d)]&&this['toolRegistry']&&(this[_0x1d7505(0x1bd)]['setLLMService'](this[_0x1d7505(0x18d)]),this['logger']['info']('LLM\x20service\x20connected\x20to\x20tool\x20registry\x20for\x20vision\x20capabilities'));}async[a0_0x36b902(0x1ea)](_0x3b8b71,_0x26f6fd,_0x137739={}){const _0x1b4227=a0_0x36b902;if(!this['llmService'])throw new Error(_0x1b4227(0x256));return await this[_0x1b4227(0x18d)]['getImageDescription'](_0x3b8b71,_0x26f6fd,_0x137739);}async[a0_0x36b902(0x18f)](_0x253d9a,_0x114d52){const _0x36a186=a0_0x36b902;this['logger']['info']('Handling\x20user\x20prompt:\x20'+_0x114d52['name']+'\x20from\x20'+_0x253d9a+'\x20(mode:\x20'+this[_0x36a186(0x189)]+')');switch(this['interactionMode']){case _0x36a186(0x1df):const _0x619ffa=_0x114d52[_0x36a186(0x1ab)]&&_0x114d52['options'][_0x36a186(0x1a4)]>0x0?_0x114d52['options'][0x0]:_0x36a186(0x17c);this[_0x36a186(0x242)][_0x36a186(0x1d3)](_0x36a186(0x1f4)+_0x619ffa+'\x22\x20for\x20prompt:\x20'+_0x114d52['name']),await this[_0x36a186(0x19c)](_0x253d9a,_0x36a186(0x229)+_0x619ffa);break;case _0x36a186(0x205):if(this[_0x36a186(0x27a)]){const _0x5747d4=await this['onUserPrompt'](_0x114d52[_0x36a186(0x208)],_0x114d52['text'],_0x114d52[_0x36a186(0x1ab)]);await this[_0x36a186(0x19c)](_0x253d9a,_0x36a186(0x1f3)+_0x5747d4);}else await this[_0x36a186(0x19c)](_0x253d9a,'Cannot\x20display\x20prompt\x20to\x20user:\x20No\x20prompt\x20handler\x20is\x20registered.\x20'+'Please\x20implement\x20the\x20onUserPrompt\x20handler\x20in\x20the\x20CLI.');break;case _0x36a186(0x20b):default:if(this['onUserPrompt']){const _0xe8aa18=await this['onUserPrompt'](_0x114d52['name'],_0x114d52['text'],_0x114d52['options']);await this['sendMessageToConversation'](_0x253d9a,'User\x20selected:\x20'+_0xe8aa18);}else await this[_0x36a186(0x19c)](_0x253d9a,_0x36a186(0x19b)+'Please\x20implement\x20the\x20onUserPrompt\x20handler\x20in\x20the\x20CLI.');break;}}async[a0_0x36b902(0x1a1)](_0x231691){const _0x3c3f3f=a0_0x36b902;this[_0x3c3f3f(0x242)]['info']('Job\x20done\x20received:\x20'+_0x231691+'\x20(mode:\x20'+this['interactionMode']+')');if(this['onJobDone'])await this['onJobDone'](_0x231691);else switch(this[_0x3c3f3f(0x189)]){case'auto':this['logger']['info'](_0x231691+_0x3c3f3f(0x19a)),process['exit'](0x0);break;case'semi-auto':this[_0x3c3f3f(0x242)]['info'](_0x3c3f3f(0x275)+_0x231691),this['logger']['info'](_0x3c3f3f(0x1b2));break;case'interactive':default:this['logger']['info']('Job\x20completed:\x20'+_0x231691);break;}}[a0_0x36b902(0x289)](_0x349602){this['onJobDone']=_0x349602;}async['processAgentMessage'](_0x4781b6,_0x29b638){const _0x370aec=a0_0x36b902;this[_0x370aec(0x242)][_0x370aec(0x1d3)]('Processing\x20message\x20from\x20'+_0x4781b6);const _0x5d2197=this[_0x370aec(0x1d2)][_0x370aec(0x1d4)](_0x29b638);_0x5d2197['toolCommands']&&_0x5d2197['toolCommands']['length']>0x0&&await this[_0x370aec(0x223)](_0x4781b6,_0x5d2197[_0x370aec(0x1b8)]);_0x5d2197[_0x370aec(0x1be)]&&await this[_0x370aec(0x18f)](_0x4781b6,_0x5d2197['prompt']);if(_0x5d2197[_0x370aec(0x28c)]!=null){await this['handleJobDoneBasedOnMode'](_0x5d2197['jobDone']);return;}if(_0x5d2197[_0x370aec(0x262)]){const _0x4c36be=_0x5d2197[_0x370aec(0x262)],_0x22b3a2=_0x5d2197[_0x370aec(0x216)];await this['routeMessageToAgent'](_0x4781b6,_0x4c36be,_0x22b3a2),this[_0x370aec(0x242)]['info']('['+displayOnly(_0x4781b6,0xa)+'\x20->\x20'+displayOnly(_0x4c36be,0xa)+_0x370aec(0x23b)+displayOnly(_0x22b3a2,0xff)+'\x0a');}!_0x5d2197[_0x370aec(0x262)]&&(!_0x5d2197[_0x370aec(0x1b8)]||_0x5d2197[_0x370aec(0x1b8)][_0x370aec(0x1a4)]===0x0)&&!_0x5d2197['prompt']&&!_0x5d2197['jobDone']&&await this[_0x370aec(0x19c)](_0x4781b6,'Your\x20message\x20didn\x27t\x20contain\x20any\x20tool\x20commands,\x20a\x20message\x20to\x20another\x20agent,\x20or\x20a\x20prompt.\x20'+_0x370aec(0x1ca)+_0x370aec(0x17e));}['parsePromptEngineerResponse'](_0x542aa4){const _0x32e813=a0_0x36b902,_0x21d4b0=CONVERSATION_CONSTANTS[_0x32e813(0x173)],_0x597865='You\x20are\x20an\x20AI\x20assistant\x20tasked\x20with\x20completing\x20the\x20following:\x20';try{const _0x5dab18=TagParser[_0x32e813(0x174)](_0x542aa4,{'role':_0x32e813(0x21a),'systemPrompt':'system-prompt'});let _0x1fed2d=_0x5dab18['role'];_0x1fed2d?_0x1fed2d=_0x1fed2d['replace'](/[\\/]/g,''):(_0x1fed2d=_0x21d4b0,this['logger'][_0x32e813(0x233)]('Failed to parse role from prompt engineer response, using default'));let _0x36a2f7=_0x5dab18[_0x32e813(0x187)];return!_0x36a2f7&&(_0x36a2f7=''+_0x597865+_0x542aa4,this['logger']['warn']('Failed to parse system prompt from prompt engineer response, using generated one')),{'role':_0x1fed2d,'systemPrompt':_0x36a2f7};}catch(_0x51980a){return this['logger'][_0x32e813(0x272)](_0x32e813(0x250),_0x51980a),{'role':_0x21d4b0,'systemPrompt':''+_0x597865+_0x542aa4};}}async[a0_0x36b902(0x211)](_0x5cb584,_0x7b6ff7,_0x184313,_0x201e80){const _0x11060a=a0_0x36b902;this[_0x11060a(0x242)]['info']('Starting\x20new\x20conversation\x20for\x20task:\x20'+_0x5cb584),this['sessionState'][_0x11060a(0x225)]=_0x7b6ff7;const _0xc205f3=a0_0x409097['join'](_0x7b6ff7,CONVERSATION_CONSTANTS[_0x11060a(0x27f)]);await a0_0xe565cf[_0x11060a(0x1cb)](_0xc205f3,{'recursive':!![]}),this[_0x11060a(0x17d)]={'projectDir':_0x7b6ff7,'makerAgentId':null,'languageModelAgentId':null,'activeConversationIds':[],'conversationHistory':{},'paused':![]};try{const _0x3337a0=this['getPromptEngineerSystemPrompt'](this[_0x11060a(0x1bd)]['getToolsDescription']()),_0x290ef9=CONVERSATION_CONSTANTS['PROMPT_ENGINEER_ID'];await this['createConversation'](_0x290ef9,_0x3337a0,[],_0x184313);const _0x30907c=this[_0x11060a(0x19e)](_0x5cb584),_0x51ccba=await this['sendMessageToConversation'](_0x290ef9,_0x30907c),{role:_0x23d45d,systemPrompt:_0x1bdac9}=this[_0x11060a(0x254)](_0x51ccba),_0x359aa6=_0x23d45d||CONVERSATION_CONSTANTS['MAKER_AGENT_DEFAULT_ID'];this['sessionState'][_0x11060a(0x1fd)]=_0x359aa6;const _0x25a827=this[_0x11060a(0x1ad)](_0x1bdac9,this['toolRegistry']['getToolsDescription'](),this['sessionState']['projectDir'],[CONVERSATION_CONSTANTS['LANGUAGE_MODEL_ID']]);await this[_0x11060a(0x1b0)](_0x359aa6,_0x25a827,[],_0x184313);const _0x1d1f52=CONVERSATION_CONSTANTS[_0x11060a(0x25b)];this['sessionState'][_0x11060a(0x276)]=_0x1d1f52;const _0x106e7e=this[_0x11060a(0x259)](this[_0x11060a(0x1bd)]['getToolsDescription'](),_0x359aa6);await this[_0x11060a(0x1b0)](_0x1d1f52,_0x106e7e,[],_0x184313),this[_0x11060a(0x17d)]['activeConversationIds']=[_0x359aa6,_0x1d1f52],await this[_0x11060a(0x1d0)](),await this['sendMessageToConversation'](_0x359aa6,'begin'),this[_0x11060a(0x242)]['info'](_0x11060a(0x207));}catch(_0x3a26bb){this['logger'][_0x11060a(0x272)]('Error\x20starting\x20new\x20conversation:',_0x3a26bb);throw _0x3a26bb;}}async['loadConversationHistory'](_0x4dcff2,_0x43261e){const _0x451c49=a0_0x36b902,_0x35ae87=this[_0x451c49(0x1c8)](_0x43261e),_0x2e1a77=a0_0x409097[_0x451c49(0x193)](_0x4dcff2,''+_0x35ae87+CONVERSATION_CONSTANTS['HISTORY_SUFFIX']);try{const _0x5bfcd6=await a0_0xe565cf['readFile'](_0x2e1a77,_0x451c49(0x1d9)),_0x33d91a=JSON[_0x451c49(0x185)](_0x5bfcd6),_0x5538bf=(_0x33d91a['messages']||[])[_0x451c49(0x1bc)](_0x211bbc=>_0x211bbc[_0x451c49(0x219)]!==_0x451c49(0x282));await this['createConversation'](_0x43261e,_0x33d91a['systemPrompt']||'Conversation\x20resumed',_0x5538bf),this['logger']['info']('Loaded\x20conversation\x20history\x20for:\x20'+_0x43261e+_0x451c49(0x271)+_0x35ae87+')');}catch(_0x2860e5){this['logger']['warn'](_0x451c49(0x1c1)+_0x43261e+':\x20'+_0x2860e5['message']),await this[_0x451c49(0x178)](_0x4dcff2,_0x43261e);}}async[a0_0x36b902(0x178)](_0x32a7c8,_0x445ea8){const _0x40332e=a0_0x36b902;try{const _0x3ababd=await a0_0xe565cf[_0x40332e(0x1dd)](_0x32a7c8),_0x4a5f1e=_0x3ababd['filter'](_0x2107d3=>_0x2107d3[_0x40332e(0x1c5)](CONVERSATION_CONSTANTS['HISTORY_SUFFIX'])),_0x3989a8=this['_getFileSafeConversationId'](_0x445ea8);for(const _0x3c3d58 of _0x4a5f1e){const _0x1da2c9=_0x3c3d58[_0x40332e(0x18c)](CONVERSATION_CONSTANTS['HISTORY_SUFFIX'],'');if(_0x1da2c9===_0x3989a8||_0x1da2c9[_0x40332e(0x1b7)](_0x3989a8)||_0x3989a8[_0x40332e(0x1b7)](_0x1da2c9))try{const _0x22cd87=a0_0x409097[_0x40332e(0x193)](_0x32a7c8,_0x3c3d58),_0x597ad2=await a0_0xe565cf[_0x40332e(0x1b1)](_0x22cd87,_0x40332e(0x1d9)),_0x221a60=JSON[_0x40332e(0x185)](_0x597ad2),_0x132195=(_0x221a60['messages']||[])[_0x40332e(0x1bc)](_0x882f13=>_0x882f13['role']!==_0x40332e(0x282));await this['createConversation'](_0x445ea8,_0x221a60['systemPrompt']||_0x40332e(0x1d1),_0x132195),this['logger']['info'](_0x40332e(0x1e2)+_0x445ea8+'\x20from\x20file\x20'+_0x3c3d58);return;}catch(_0xe68e3e){this[_0x40332e(0x242)][_0x40332e(0x27d)](_0x40332e(0x264)+_0x3c3d58+':',_0xe68e3e);}}this[_0x40332e(0x242)]['warn']('Could\x20not\x20find\x20history\x20for\x20'+_0x445ea8+_0x40332e(0x1fa)),await this['createConversation'](_0x445ea8,'Conversation\x20resumed\x20without\x20history.');}catch(_0x277f49){this[_0x40332e(0x242)][_0x40332e(0x272)]('Error\x20searching\x20for\x20conversation\x20history:\x20'+_0x277f49[_0x40332e(0x20e)]),await this[_0x40332e(0x1b0)](_0x445ea8,_0x40332e(0x24e));}}async[a0_0x36b902(0x25d)](_0x2e41b1){const _0x525386=a0_0x36b902;if(!this[_0x525386(0x17d)][_0x525386(0x225)])return;const _0xc8b521=this[_0x525386(0x180)][_0x525386(0x286)](_0x2e41b1);if(!_0xc8b521)return;const _0x741175=a0_0x409097['join'](this[_0x525386(0x17d)]['projectDir'],CONVERSATION_CONSTANTS['STATE_DIR_NAME']);await a0_0xe565cf[_0x525386(0x1cb)](_0x741175,{'recursive':!![]});const _0x37d491={'id':_0x2e41b1,'originalId':_0x2e41b1,'systemPrompt':_0xc8b521[_0x525386(0x187)],'messages':_0xc8b521['messages'],'contextWindow':_0xc8b521['contextWindow'],'lastUpdated':new Date()[_0x525386(0x247)]()},_0x334a42=this['_getFileSafeConversationId'](_0x2e41b1),_0x2fb290=a0_0x409097['join'](_0x741175,''+_0x334a42+CONVERSATION_CONSTANTS['HISTORY_SUFFIX']);await a0_0xe565cf['writeFile'](_0x2fb290,JSON[_0x525386(0x26d)](_0x37d491,null,0x2),'utf-8'),this['logger']['info']('Conversation\x20history\x20saved\x20for\x20'+_0x2e41b1+_0x525386(0x271)+_0x334a42+')');}['_handleSummaryFailure'](_0x5c9dd0,_0x197815){const _0x43adb0=a0_0x36b902;this['saveSessionState']()[_0x43adb0(0x227)](_0x3e32c2=>{this['logger']['error']('Failed\x20to\x20save\x20session\x20state:',_0x3e32c2);}),this[_0x43adb0(0x242)]['error']('Critical\x20error:\x20Cannot\x20create\x20conversation\x20summary\x20for\x20'+_0x5c9dd0+':',_0x197815),console['log']('\x0a'+a0_0x2c6334[_0x43adb0(0x1f6)](_0x43adb0(0x1c3))),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x186)]('‚îÅ'['repeat'](0x3c))),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x1f6)]('‚úó\x20Failed\x20to\x20create\x20conversation\x20summary')),console['log'](a0_0x2c6334['gray']('\x20\x20This\x20can\x20happen\x20when\x20the\x20conversation\x20becomes\x20too\x20large')),console[_0x43adb0(0x228)](a0_0x2c6334['gray'](_0x43adb0(0x183))),console[_0x43adb0(0x228)](''),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x28a)][_0x43adb0(0x1d5)](_0x43adb0(0x27e))),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x1c6)]('\x20\x201.\x20Use\x20the\x20resume\x20command\x20to\x20continue\x20this\x20conversation:')),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x1d5)]('\x20\x20\x20\x20\x20loxia\x20resume\x20./your-project-directory')),console['log'](''),console['log'](a0_0x2c6334[_0x43adb0(0x1c6)](_0x43adb0(0x17b))),console['log'](a0_0x2c6334['cyan']('\x20\x20\x20\x20\x20loxia\x20do\x20\x22continue\x20the\x20previous\x20work\x20in\x20this\x20directory\x22')),console['log'](''),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x1c6)](_0x43adb0(0x197))),console['log'](a0_0x2c6334['cyan']('\x20\x20\x20\x20\x20loxia\x20modify\x20./your-project\x20\x22continue\x20development\x22')),console[_0x43adb0(0x228)](''),console[_0x43adb0(0x228)](a0_0x2c6334[_0x43adb0(0x221)]('üí°\x20Your\x20project\x20files\x20have\x20been\x20saved\x20and\x20can\x20be\x20resumed.')),console['log'](a0_0x2c6334['yellow']('‚îÅ'['repeat'](0x3c))),this['logger']['error']('Summary\x20failure\x20details:',{'conversationId':_0x5c9dd0,'error':_0x197815['message'],'errorType':_0x197815['errorType']||_0x43adb0(0x1e4),'originalError':_0x197815[_0x43adb0(0x18e)]||null});const _0xafd2f8=new Error(_0x43adb0(0x179)+_0x43adb0(0x253));_0xafd2f8[_0x43adb0(0x278)]=!![],_0xafd2f8['originalError']=_0x197815;throw _0xafd2f8;}async['saveSessionState'](){const _0x16b5da=a0_0x36b902;if(!this['sessionState']['projectDir']){this[_0x16b5da(0x242)][_0x16b5da(0x233)]('No\x20project\x20directory\x20set,\x20cannot\x20save\x20session\x20state');return;}try{const _0x5dc119=a0_0x409097[_0x16b5da(0x193)](this['sessionState'][_0x16b5da(0x225)],CONVERSATION_CONSTANTS[_0x16b5da(0x27f)]);await a0_0xe565cf[_0x16b5da(0x1cb)](_0x5dc119,{'recursive':!![]}),this['logger'][_0x16b5da(0x27d)]('State\x20directory\x20created/verified:\x20'+_0x5dc119);const _0x4a39e2=a0_0x409097['join'](_0x5dc119,CONVERSATION_CONSTANTS[_0x16b5da(0x234)]),_0x23b80c={'projectDir':this[_0x16b5da(0x17d)][_0x16b5da(0x225)],'makerAgentId':this['sessionState']['makerAgentId'],'languageModelAgentId':this[_0x16b5da(0x17d)]['languageModelAgentId'],'activeConversationIds':this['sessionState'][_0x16b5da(0x21d)]||[],'conversationHistory':this[_0x16b5da(0x17d)]['conversationHistory']||{},'conversationIdMapping':Object['fromEntries'](this[_0x16b5da(0x1fc)]),'paused':this['sessionState'][_0x16b5da(0x1ce)]||![],'lastUpdated':new Date()[_0x16b5da(0x247)](),'version':'1.0.0'};await a0_0xe565cf['writeFile'](_0x4a39e2,JSON[_0x16b5da(0x26d)](_0x23b80c,null,0x2),_0x16b5da(0x1d9)),this['logger'][_0x16b5da(0x27d)](_0x16b5da(0x203)+_0x4a39e2);const _0x7b610=a0_0x409097[_0x16b5da(0x193)](_0x5dc119,CONVERSATION_CONSTANTS[_0x16b5da(0x21f)]),_0x964241={'projectDir':this[_0x16b5da(0x17d)][_0x16b5da(0x225)],'lastUpdated':new Date()['toISOString'](),'makerAgentId':this[_0x16b5da(0x17d)][_0x16b5da(0x1fd)],'languageModelAgentId':this[_0x16b5da(0x17d)][_0x16b5da(0x276)],'activeConversationIds':this['sessionState'][_0x16b5da(0x21d)]||[],'conversationIdMapping':Object['fromEntries'](this['conversationIdMapping']),'sessionStateFile':CONVERSATION_CONSTANTS['SESSION_STATE_FILENAME'],'version':'1.0.0'};await a0_0xe565cf[_0x16b5da(0x22c)](_0x7b610,JSON['stringify'](_0x964241,null,0x2),_0x16b5da(0x1d9)),this['logger']['debug']('Index\x20file\x20saved\x20to:\x20'+_0x7b610);const _0x3bed50=a0_0x409097['join'](_0x5dc119,CONVERSATION_CONSTANTS[_0x16b5da(0x188)]),_0x481fda={'projectDir':this[_0x16b5da(0x17d)][_0x16b5da(0x225)],'timestamp':new Date()[_0x16b5da(0x247)](),'makerAgentId':this['sessionState']['makerAgentId'],'languageModelAgentId':this['sessionState'][_0x16b5da(0x276)],'conversationIdMapping':Object[_0x16b5da(0x269)](this[_0x16b5da(0x1fc)]),'version':_0x16b5da(0x210)};await a0_0xe565cf[_0x16b5da(0x22c)](_0x3bed50,JSON['stringify'](_0x481fda,null,0x2),_0x16b5da(0x1d9)),this[_0x16b5da(0x242)][_0x16b5da(0x27d)](_0x16b5da(0x1e3)+_0x3bed50),this[_0x16b5da(0x242)]['info'](_0x16b5da(0x1aa));}catch(_0x6d178b){this[_0x16b5da(0x242)]['error'](_0x16b5da(0x1fb),_0x6d178b);throw new Error('Failed\x20to\x20save\x20session\x20state:\x20'+_0x6d178b['message']);}}async[a0_0x36b902(0x1ef)](_0x458181){const _0x1bc813=a0_0x36b902;this['logger'][_0x1bc813(0x1d3)](_0x1bc813(0x1dc)+_0x458181);try{const _0x20c0e4=a0_0x409097[_0x1bc813(0x193)](_0x458181,CONVERSATION_CONSTANTS['STATE_DIR_NAME']);try{await a0_0xe565cf[_0x1bc813(0x1db)](_0x20c0e4);}catch(_0x318f8d){throw new Error('State\x20directory\x20not\x20found:\x20'+_0x20c0e4+_0x1bc813(0x230));}const _0x2bfbc1=a0_0x409097[_0x1bc813(0x193)](_0x20c0e4,CONVERSATION_CONSTANTS[_0x1bc813(0x234)]);let _0x2287db;try{const _0x468d1d=await a0_0xe565cf[_0x1bc813(0x1b1)](_0x2bfbc1,'utf-8');_0x2287db=JSON['parse'](_0x468d1d),_0x2287db['conversationIdMapping']&&(this[_0x1bc813(0x1fc)]=new Map(Object[_0x1bc813(0x1cf)](_0x2287db['conversationIdMapping'])),this[_0x1bc813(0x242)][_0x1bc813(0x1d3)]('Restored\x20'+this[_0x1bc813(0x1fc)]['size']+_0x1bc813(0x191)));}catch(_0x3acd27){this[_0x1bc813(0x242)][_0x1bc813(0x233)]('Could\x20not\x20read\x20session\x20state\x20file:\x20'+_0x3acd27[_0x1bc813(0x20e)]);const _0xb1af65=a0_0x409097[_0x1bc813(0x193)](_0x20c0e4,CONVERSATION_CONSTANTS['INDEX_FILENAME']);try{const _0x5a6d91=await a0_0xe565cf[_0x1bc813(0x1b1)](_0xb1af65,'utf-8'),_0x11f19a=JSON[_0x1bc813(0x185)](_0x5a6d91);_0x2287db={'projectDir':_0x11f19a['projectDir']||_0x458181,'makerAgentId':_0x11f19a[_0x1bc813(0x1fd)],'languageModelAgentId':_0x11f19a[_0x1bc813(0x276)],'activeConversationIds':_0x11f19a[_0x1bc813(0x21d)]||[],'conversationHistory':{},'conversationIdMapping':_0x11f19a['conversationIdMapping']||{}},_0x11f19a[_0x1bc813(0x1fc)]&&(this['conversationIdMapping']=new Map(Object['entries'](_0x11f19a['conversationIdMapping']))),this[_0x1bc813(0x242)]['info']('Recovered session state from index file');}catch(_0x5c8922){throw new Error('Could\x20not\x20read\x20session\x20state\x20or\x20index\x20file:\x20'+_0x3acd27['message']);}}this[_0x1bc813(0x17d)]={..._0x2287db,'projectDir':_0x458181};const _0x59a980=this[_0x1bc813(0x17d)][_0x1bc813(0x21d)]||[];for(const _0x240c65 of _0x59a980){try{await this[_0x1bc813(0x266)](_0x20c0e4,_0x240c65);}catch(_0x45b4c2){this['logger'][_0x1bc813(0x233)](_0x1bc813(0x20d)+_0x240c65+':\x20'+_0x45b4c2[_0x1bc813(0x20e)]),await this[_0x1bc813(0x1b0)](_0x240c65,'Conversation\x20resumed\x20without\x20complete\x20history');}}this['logger'][_0x1bc813(0x1d3)]('Conversation\x20resumed\x20successfully.\x20Active\x20conversations:\x20'+_0x59a980['length']);}catch(_0x16d08d){this['logger']['error'](_0x1bc813(0x1f5),_0x16d08d);throw new Error(_0x1bc813(0x243)+_0x16d08d['message']);}}async['modifyExistingContent'](_0x41714f,_0x862eae){const _0x56c72f=a0_0x36b902;this['logger'][_0x56c72f(0x1d3)](_0x56c72f(0x270)+_0x41714f+_0x56c72f(0x24c)+_0x862eae),this['sessionState'][_0x56c72f(0x225)]=_0x41714f;const _0x31e664=a0_0x409097[_0x56c72f(0x193)](_0x41714f,CONVERSATION_CONSTANTS['STATE_DIR_NAME']);await a0_0xe565cf['mkdir'](_0x31e664,{'recursive':!![]});const _0x10d77c=this[_0x56c72f(0x1a3)](this[_0x56c72f(0x1bd)]['getToolsDescription'](),!![]),_0x2e4741=CONVERSATION_CONSTANTS['PROMPT_ENGINEER_ID'];await this[_0x56c72f(0x1b0)](_0x2e4741,_0x10d77c);const _0x13da19=this['createInitialPromptForEngineer'](_0x862eae,_0x41714f,!![]),_0x302d3c=await this['sendMessageToConversation'](_0x2e4741,_0x13da19),{role:_0x53bf83,systemPrompt:_0x27d7a1}=this['parsePromptEngineerResponse'](_0x302d3c),_0x54aa7b=_0x53bf83||'content-modifier';this['sessionState']['makerAgentId']=_0x54aa7b;const _0x1e4d2a=this[_0x56c72f(0x1ad)](_0x27d7a1,this['toolRegistry'][_0x56c72f(0x21c)](),this[_0x56c72f(0x17d)]['projectDir'],[CONVERSATION_CONSTANTS['LANGUAGE_MODEL_ID']]);await this['createConversation'](_0x54aa7b,_0x1e4d2a);const _0x5edb41=CONVERSATION_CONSTANTS[_0x56c72f(0x25b)];this['sessionState'][_0x56c72f(0x276)]=_0x5edb41;const _0x513dbd=this['getLanguageModelSystemPrompt'](this['toolRegistry']['getToolsDescription'](),_0x54aa7b);await this['createConversation'](_0x5edb41,_0x513dbd),this['sessionState'][_0x56c72f(0x21d)]=[_0x54aa7b,_0x5edb41],await this['sendMessageToConversation'](_0x54aa7b,'begin\x20modification\x20of\x20content\x20in\x20'+_0x41714f),await this[_0x56c72f(0x1d0)]();}async['handleUserPrompt'](_0x49298c,_0x2dd0d6){const _0x5f57d9=a0_0x36b902;this[_0x5f57d9(0x242)][_0x5f57d9(0x1d3)](_0x5f57d9(0x1e9)+_0x2dd0d6['name']+'\x20from\x20'+_0x49298c);if(this['onUserPrompt']){const _0x192e78=await this['onUserPrompt'](_0x2dd0d6[_0x5f57d9(0x208)],_0x2dd0d6[_0x5f57d9(0x249)],_0x2dd0d6[_0x5f57d9(0x1ab)]);await this['sendMessageToConversation'](_0x49298c,'User\x20selected:\x20'+_0x192e78);}else await this['sendMessageToConversation'](_0x49298c,'Cannot\x20display\x20prompt\x20to\x20user:\x20No\x20prompt\x20handler\x20is\x20registered.\x20'+'Please\x20implement\x20the\x20onUserPrompt\x20handler\x20in\x20the\x20CLI.');}async['handlePromptTooLong'](_0x1c70cd){const _0x2e73dc=a0_0x36b902;this['logger'][_0x2e73dc(0x233)]('üö®\x20Prompt\x20too\x20long\x20detected\x20for\x20${conversationId}\x20-\x20performing\x20compactization'),await this['performCompactization'](_0x1c70cd);}async['sendMessageToConversation'](_0x4c9f35,_0x570896){const _0x3a76e6=a0_0x36b902;if(this[_0x3a76e6(0x1b4)](_0x4c9f35,_0x570896))return this['logger'][_0x3a76e6(0x1d3)]('üö´\x20Blocking\x20message\x20in\x20interactive\x20mode:\x20'+displayOnly(_0x570896,0x64)),this[_0x3a76e6(0x23e)]['push']({'conversationId':_0x4c9f35,'message':_0x570896,'timestamp':Date['now']()}),'Message\x20blocked\x20-\x20waiting\x20for\x20user\x20input';const _0x422f12=_0x4c9f35===CONVERSATION_CONSTANTS['LANGUAGE_MODEL_ID'],_0x24d8d6=_0x422f12?'waiting-for-llm':_0x3a76e6(0x181);!this['isWaitingForUserInput']&&this[_0x3a76e6(0x1fe)](_0x24d8d6);this[_0x3a76e6(0x242)]['info'](_0x3a76e6(0x279)+_0x4c9f35+':\x0a'+displayOnly(_0x570896,0xff));if(!this['conversations']['has'](_0x4c9f35)){!this['isWaitingForUserInput']&&this[_0x3a76e6(0x1fe)](_0x3a76e6(0x1d7));throw new Error(_0x3a76e6(0x22b)+_0x4c9f35+_0x3a76e6(0x1e6));}try{const _0x34474b=this[_0x3a76e6(0x180)]['get'](_0x4c9f35),_0x2cf077={'systemPrompt':_0x34474b['systemPrompt'],'messages':_0x34474b['messages'],'id':_0x4c9f35,'contextWindow':_0x34474b['contextWindow']},_0x29e5dd=await this['llmService']['sendMessage'](_0x4c9f35,_0x570896,_0x2cf077);return await this[_0x3a76e6(0x238)](_0x4c9f35),await this['saveConversationHistory'](_0x4c9f35),this['sessionState']['activeConversationIds']['includes'](_0x4c9f35)&&await this[_0x3a76e6(0x265)](_0x4c9f35,_0x29e5dd),!this['isWaitingForUserInput']&&this[_0x3a76e6(0x1fe)](_0x3a76e6(0x1d7)),_0x29e5dd;}catch(_0x387589){!this[_0x3a76e6(0x199)]&&this['updateMessageIndicator'](_0x3a76e6(0x1d7));throw _0x387589;}}async['createConversation'](_0x4f1265,_0x1658f1,_0x13a3a4=[],_0x5e6867=null){const _0x46783c=a0_0x36b902;this['logger'][_0x46783c(0x1d3)](_0x46783c(0x24f)+_0x4f1265),this['originalSystemPrompts'][_0x46783c(0x217)](_0x4f1265,_0x1658f1);const _0x2124ce=this['interactionMode']===_0x46783c(0x1df)?this[_0x46783c(0x28b)](_0x1658f1):_0x1658f1;let _0x45aec1=[];_0x13a3a4[_0x46783c(0x1a4)]>0x0&&(_0x45aec1=_0x13a3a4[_0x46783c(0x1bc)](_0x59742f=>_0x59742f['role']!==_0x46783c(0x282)));const _0x58baac={'id':_0x4f1265,'systemPrompt':_0x2124ce,'messages':_0x45aec1,'contextWindow':this['getContextWindowSize'](_0x4f1265)};this[_0x46783c(0x180)]['set'](_0x4f1265,_0x58baac),await this[_0x46783c(0x18d)][_0x46783c(0x240)](_0x4f1265,_0x2124ce,_0x5e6867),_0x45aec1[_0x46783c(0x1a4)]>0x0&&await this[_0x46783c(0x18d)][_0x46783c(0x222)](_0x4f1265,_0x58baac),this['sessionState']['conversationHistory'][_0x4f1265]={'systemPrompt':_0x2124ce,'lastUpdateTime':new Date()[_0x46783c(0x247)]()},await this[_0x46783c(0x25d)](_0x4f1265);}['getListOfAvailableAgentIds'](_0x7d4d81){const _0x269e04=a0_0x36b902,_0x4316a4=Array[_0x269e04(0x1e0)](this['conversations']['keys']())['filter'](_0x5e2194=>_0x5e2194!==_0x7d4d81);return _0x4316a4;}async['routeMessageToAgent'](_0x37cf6a,_0x5e9684,_0x118189){const _0x2c6db6=a0_0x36b902;this['logger']['info'](_0x2c6db6(0x1a0)+_0x37cf6a+_0x2c6db6(0x244)+_0x5e9684);if(!this['conversations'][_0x2c6db6(0x288)](_0x5e9684)){const _0xa9f1fb='Agent\x20'+_0x5e9684+'\x20does\x20not\x20exist,\x20cannot\x20route\x20message.\x20Available\x20agents\x20are:\x20'+this['getListOfAvailableAgentIds'](_0x37cf6a)['join'](',\x20')+'.\x20if\x20you\x20wish\x20to\x20send\x20a\x20message\x20to\x20the\x20user\x20who\x20requested\x20this\x20task\x20use\x20the\x20[prompt]\x20tool\x20syntax';this[_0x2c6db6(0x242)]['warn'](_0xa9f1fb),await this['sendMessageToConversation'](_0x37cf6a,_0xa9f1fb);return;}const _0x32cde8='[From\x20'+_0x37cf6a+_0x2c6db6(0x23b)+_0x118189;await this['sendMessageToConversation'](_0x5e9684,_0x32cde8);}async[a0_0x36b902(0x182)](_0x319f14,_0x1227b3,_0x4a7e5d){const _0x1f8126=a0_0x36b902;this['logger']['info']('Routing\x20message\x20from\x20'+_0x319f14+_0x1f8126(0x244)+_0x1227b3);if(!this[_0x1f8126(0x180)][_0x1f8126(0x288)](_0x1227b3)){this['logger'][_0x1f8126(0x233)](_0x1f8126(0x1a8)+_0x1227b3+'\x20does\x20not\x20exist,\x20cannot\x20route\x20message'),await this['sendMessageToConversation'](_0x319f14,_0x1f8126(0x194)+_0x1227b3+_0x1f8126(0x200));return;}const _0x22c790='[From\x20'+_0x319f14+']:\x20'+_0x4a7e5d;await this['sendMessageToConversation'](_0x1227b3,_0x22c790);}async[a0_0x36b902(0x1ed)](){const _0x5e48e4=a0_0x36b902;for(const [_0x519e20,_0x107981]of this[_0x5e48e4(0x246)]['entries']()){const _0x45bacd=Date[_0x5e48e4(0x281)]()-_0x107981[_0x5e48e4(0x268)];_0x45bacd>CONVERSATION_CONSTANTS[_0x5e48e4(0x213)]&&(await this[_0x5e48e4(0x19c)](_0x107981['agentId'],'Tool\x20'+_0x107981[_0x5e48e4(0x202)]+'\x20is\x20still\x20running\x20('+Math[_0x5e48e4(0x232)](_0x45bacd/0x3e8)+_0x5e48e4(0x258)+_0x519e20),_0x107981[_0x5e48e4(0x268)]=Date[_0x5e48e4(0x281)]());}}['registerUserPromptHandler'](_0x53543c){const _0x313811=a0_0x36b902;this[_0x313811(0x27a)]=_0x53543c;}async[a0_0x36b902(0x172)](_0x2bf20e){const _0x1b1abf=a0_0x36b902;this[_0x1b1abf(0x242)]['info'](_0x1b1abf(0x177)+_0x2bf20e),this['setWaitingForUserInput'](![]),this['sessionState']['makerAgentId']?await this['sendMessageToConversation'](this[_0x1b1abf(0x17d)][_0x1b1abf(0x1fd)],_0x1b1abf(0x231)+_0x2bf20e):this['logger'][_0x1b1abf(0x233)]('No\x20maker\x20agent\x20found\x20to\x20send\x20user\x20input\x20to');}async[a0_0x36b902(0x238)](_0x493819){const _0x3e4f31=a0_0x36b902,_0x586018=this[_0x3e4f31(0x180)][_0x3e4f31(0x286)](_0x493819);if(!_0x586018)return;const _0x1514ed=await this[_0x3e4f31(0x18d)]['estimateTokenCount'](_0x493819),_0x16295f=_0x586018['contextWindow'];_0x1514ed>_0x16295f*CONVERSATION_CONSTANTS[_0x3e4f31(0x1b5)]&&(this['logger'][_0x3e4f31(0x1d3)]('Performing\x20compactization\x20for\x20conversation\x20'+_0x493819),await this['performCompactization'](_0x493819));}async[a0_0x36b902(0x1b6)](_0x4c49d0){const _0x1130ad=a0_0x36b902,_0x7ee8f5=this['conversations']['get'](_0x4c49d0);if(!_0x7ee8f5||_0x7ee8f5['messages'][_0x1130ad(0x1a4)]<0x4)return;const _0x4e333f=CONVERSATION_CONSTANTS[_0x1130ad(0x175)],_0x595380=_0x7ee8f5[_0x1130ad(0x1cd)][_0x1130ad(0x26c)](0x0,_0x4e333f),_0x41b4c8=_0x7ee8f5['contextWindow'],_0x4d8fee=Math[_0x1130ad(0x232)](_0x41b4c8*CONVERSATION_CONSTANTS['COMPACTIZATION_OUTPUT_RESERVE_PERCENTAGE']),_0xfdfcef=_0x41b4c8-_0x4d8fee,_0x2653d0=CONVERSATION_CONSTANTS[_0x1130ad(0x252)],_0x4aa041=CONVERSATION_CONSTANTS['COMPACTIZATION_END_PERCENTAGE'],_0x355335=Math['max'](_0x4e333f,Math['floor'](_0x7ee8f5[_0x1130ad(0x1cd)][_0x1130ad(0x1a4)]*_0x2653d0)),_0x353ccc=Math[_0x1130ad(0x19d)](_0x7ee8f5['messages']['length']-_0x355335,Math[_0x1130ad(0x232)](_0x7ee8f5['messages'][_0x1130ad(0x1a4)]*_0x4aa041)),_0x3a9d86=_0x7ee8f5['messages'][_0x1130ad(0x26c)](0x0,_0x355335),_0xe00eee=_0x7ee8f5[_0x1130ad(0x1cd)][_0x1130ad(0x26c)](-_0x353ccc),_0xe35a6c=_0x7ee8f5[_0x1130ad(0x1cd)][_0x1130ad(0x26c)](_0x355335,_0x7ee8f5[_0x1130ad(0x1cd)]['length']-_0x353ccc);if(_0xe35a6c['length']===0x0)return;const _0x5b7c53=this[_0x1130ad(0x184)](_0xe35a6c);this[_0x1130ad(0x242)][_0x1130ad(0x1d3)]('Compactization:\x20'+_0x355335+_0x1130ad(0x218)+_0xe35a6c[_0x1130ad(0x1a4)]+_0x1130ad(0x21e)+_0x353ccc+'\x20end\x20messages');try{const _0x439749=await this[_0x1130ad(0x18d)]['getSummary'](_0x4c49d0,_0x5b7c53),_0x213d66={'role':CONVERSATION_CONSTANTS['SYSTEM_MESSAGE_ROLE'],'content':CONVERSATION_CONSTANTS[_0x1130ad(0x17f)]+'\x0a'+_0x439749+'\x0a'+CONVERSATION_CONSTANTS[_0x1130ad(0x283)]};_0x7ee8f5[_0x1130ad(0x1cd)]=[..._0x3a9d86,_0x213d66,..._0xe00eee],await this['llmService'][_0x1130ad(0x222)](_0x4c49d0,_0x7ee8f5),this['logger']['info']('Compactization\x20completed\x20for\x20'+_0x4c49d0+'.\x20Messages\x20reduced\x20from\x20'+(_0x355335+_0xe35a6c[_0x1130ad(0x1a4)]+_0x353ccc)+_0x1130ad(0x244)+(_0x3a9d86['length']+0x1+_0xe00eee[_0x1130ad(0x1a4)]));}catch(_0x21c7ac){this['logger'][_0x1130ad(0x272)]('Critical\x20compactization\x20failure:',_0x21c7ac),this['_handleSummaryFailure'](_0x4c49d0,_0x21c7ac);}}[a0_0x36b902(0x184)](_0x2bf20b){const _0x579613=a0_0x36b902;return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20The\x20following\x20text\x20is\x20a\x20part\x20of\x20a\x20conversation.\x20It\x20is\x20very\x20long.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20Replace\x20this\x20part\x20of\x20the\x20conversation\x20with\x20a\x20concise\x20alternative\x20while\x20preserving\x20key\x20information,\x20decisions,\x20and\x20context\x0a\x20\x20\x20\x20\x20\x20\x20\x20Agent\x20should\x20be\x20able\x20to\x20proceed\x20with\x20its\x20task\x20by\x20using\x20this\x20shorter\x20summary\x20instead\x20of\x20the\x20original\x20long\x20conversation.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x2bf20b['map'](_0x2352bb=>_0x2352bb[_0x579613(0x219)]+':\x20'+_0x2352bb[_0x579613(0x216)])['join']('\x0a\x0a')+_0x579613(0x224);}[a0_0x36b902(0x201)](_0x223bb5){const _0x499665=a0_0x36b902,_0x4726f8=this['config'][_0x499665(0x22d)]?.[_0x499665(0x24d)]?.['contextWindow']||CONVERSATION_CONSTANTS['DEFAULT_CONTEXT_WINDOW_SIZE'];if(_0x223bb5===CONVERSATION_CONSTANTS[_0x499665(0x25b)])return this[_0x499665(0x1c7)]['models']?.['languageModel']?.[_0x499665(0x28d)]||_0x4726f8;return _0x4726f8;}[a0_0x36b902(0x1a3)](_0x2e2847,_0x14328a=![]){const _0xfee6b9=a0_0x36b902,_0x3d12e2=_0x14328a?_0xfee6b9(0x1bf):_0xfee6b9(0x212);return'\x0a\x20\x20\x20\x20You\x20are\x20a\x20prompt\x20engineering\x20expert\x20who\x20designs\x20effective\x20system\x20prompts\x20for\x20AI\x20agents.\x0a\x20\x20\x20\x20We\x20are\x20about\x20to\x20assign\x20the\x20responsibility\x20for\x20'+_0x3d12e2+_0xfee6b9(0x22e);}['getLanguageModelSystemPrompt'](_0x3afb51,_0x198a3d){const _0x45e1e5=a0_0x36b902;return'You\x20are\x20an\x20amazing\x20state-of-the-art\x20AI\x20agent,\x20working\x20with\x20another\x20specialized\x20AI\x20agent\x20that\x20is\x20completing\x20tasks.\x20Your\x20role\x20is\x20to\x20provide\x20information,\x20answer\x20questions,\x20and\x20assist\x20the\x20agent\x20when\x20needed.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20You\x20cannot\x20directly\x20use\x20tools\x20or\x20perform\x20actions\x20on\x20the\x20computer.\x20Your\x20task\x20is\x20simply\x20to\x20provide\x20informative\x20and\x20helpful\x20responses\x20to\x20assist\x20the\x20agent\x20in\x20completing\x20their\x20task.\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20When\x20the\x20agent\x20asks\x20you\x20a\x20question\x20or\x20requests\x20information,\x20provide\x20clear\x20and\x20accurate\x20information\x20to\x20the\x20best\x20of\x20your\x20ability.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20from\x20time\x20to\x20time\x20the\x20agent\x20may\x20mistake\x20and\x20use\x20some\x20instruction\x20tag\x20[tool\x20id=\x22...\x22]...[/tool]\x20or\x20similar,\x20in\x20a\x20wrong\x20way.\x20do\x20not\x20try\x20to\x20guide\x20him,\x20you\x20can\x20notify\x20him\x20that\x20since\x20you\x27re\x20not\x20suppose\x20to\x20see\x20such\x20tags\x20(automatically\x20stripped\x20from\x20conversation),\x20there\x20is\x20a\x20possibility\x20that\x20this\x20agent\x20made\x20a\x20syntax\x20error.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20In\x20any\x20professional\x20matter,\x20encourage\x20a\x20multistep/multimessage\x20session\x20and\x20assist\x20him,\x20suggest\x20improvements,\x20criticize\x20his\x20work,\x20detect\x20challenges\x20if\x20crucial\x20and\x20suggest\x20overcomes.\x20help\x20him\x20be\x20at\x20his\x20best.\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20Tools\x20available\x20to\x20the\x20other\x20agent\x20are:\x20'+_0x3afb51+_0x45e1e5(0x23f)+_0x198a3d+_0x45e1e5(0x23d);}['createInitialPromptForEngineer'](_0x11e587,_0xcdd33c=null,_0x54e12e=![]){const _0xfac48a=a0_0x36b902,_0x970a4f=a0_0x36d199();return _0x54e12e&&_0xcdd33c?_0xfac48a(0x226)+_0xcdd33c+_0xfac48a(0x1ff)+JSON['stringify'](_0x11e587):'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20TASK\x20FOR\x20THE\x20FUTURE\x20AI\x20AGENT:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+JSON['stringify'](_0x11e587)+_0xfac48a(0x1ac);}async[a0_0x36b902(0x1e1)](_0x40cde6){const _0x597e62=a0_0x36b902;await this[_0x597e62(0x19f)]['setBudgetLimit'](_0x40cde6);}async['getBudgetUsage'](){return await this['budgetService']['getBudgetUsage']();}async[a0_0x36b902(0x25a)](_0x27d952){const _0x5b3d3d=a0_0x36b902;this['sessionOverrides']=_0x27d952,this['logger'][_0x5b3d3d(0x1d3)]('Session\x20overrides\x20set',_0x27d952);}async['pauseExecution'](){const _0x48b476=a0_0x36b902;this[_0x48b476(0x242)]['info']('Pausing\x20execution');const _0x2f5780='[System]:\x20Execution\x20has\x20been\x20paused\x20by\x20the\x20user.\x20Waiting\x20to\x20resume.';for(const _0x8d8cdc of this[_0x48b476(0x17d)][_0x48b476(0x21d)]){const _0x5b11c5=this[_0x48b476(0x180)]['get'](_0x8d8cdc);_0x5b11c5&&(_0x5b11c5[_0x48b476(0x1cd)]['push']({'role':CONVERSATION_CONSTANTS[_0x48b476(0x24b)],'content':_0x2f5780}),await this[_0x48b476(0x25d)](_0x8d8cdc));}this[_0x48b476(0x17d)]['paused']=!![],await this[_0x48b476(0x1d0)]();}async['resumeExecution'](){const _0x431320=a0_0x36b902;this['logger'][_0x431320(0x1d3)]('Resuming\x20execution');const _0x2293f0='[System]:\x20Execution\x20has\x20been\x20resumed\x20by\x20the\x20user.';for(const _0x2a4bfc of this['sessionState']['activeConversationIds']){const _0x3637ce=this['conversations'][_0x431320(0x286)](_0x2a4bfc);_0x3637ce&&(_0x3637ce['messages']['push']({'role':CONVERSATION_CONSTANTS[_0x431320(0x24b)],'content':_0x2293f0}),await this[_0x431320(0x25d)](_0x2a4bfc));}this[_0x431320(0x17d)]['paused']=![],await this[_0x431320(0x1d0)]();}['isPaused'](){const _0x373335=a0_0x36b902;return this[_0x373335(0x17d)][_0x373335(0x1ce)]===!![];}async[a0_0x36b902(0x223)](_0x26ab15,_0xb61a39){const _0x38abfb=a0_0x36b902;this['logger']['info'](_0x38abfb(0x1cc)+_0xb61a39['length']+_0x38abfb(0x1a2)+_0x26ab15);const _0xe99f78=[],_0x5b2a27=[],_0x561649=[];for(const _0x1f8f99 of _0xb61a39){const {toolId:_0x16570b}=_0x1f8f99;this[_0x38abfb(0x242)]['info']('Queuing\x20tool:\x20'+_0x16570b);if(!this[_0x38abfb(0x1bd)]['hasTool'](_0x16570b)){_0x5b2a27['push']({'toolId':_0x16570b,'status':_0x38abfb(0x272),'error':'Tool\x20\x27'+_0x16570b+_0x38abfb(0x176)+this['toolRegistry']['getToolIds']()[_0x38abfb(0x193)](',\x20')});continue;}try{const _0x22e7cb=this[_0x38abfb(0x1bd)]['getTool'](_0x16570b),requiresResponse=_0x22e7cb[_0x38abfb(0x285)]!==![],_0x659282=a0_0x36d199();_0x5b2a27['push']({'operationId':_0x659282,'toolId':_0x16570b,'command':_0x1f8f99,'status':_0x38abfb(0x21b),'requiresResponse':requiresResponse});requiresResponse&&_0x561649[_0x38abfb(0x280)](_0x16570b);const _0x35b5a5=_0x22e7cb[_0x38abfb(0x241)](_0x1f8f99,this[_0x38abfb(0x17d)][_0x38abfb(0x225)])['then'](_0x253245=>{const _0x289bf8=_0x38abfb;this[_0x289bf8(0x242)][_0x289bf8(0x1d3)]('Tool\x20'+_0x16570b+'\x20completed\x20with\x20result:',_0x253245);const _0x5358b4=_0x5b2a27['find'](_0x1e3e10=>_0x1e3e10['operationId']===_0x659282);return _0x5358b4&&(_0x5358b4[_0x289bf8(0x198)]='success',_0x5358b4['result']=_0x253245),this[_0x289bf8(0x246)][_0x289bf8(0x1ba)](_0x659282),_0x253245;})['catch'](_0x1d634c=>{const _0x58056c=_0x38abfb;this['logger'][_0x58056c(0x272)](_0x58056c(0x1d6)+_0x16570b+'\x20failed:',_0x1d634c);const _0x5c2bf6=_0x5b2a27['find'](_0x5e301d=>_0x5e301d[_0x58056c(0x1c9)]===_0x659282);_0x5c2bf6&&(_0x5c2bf6['status']=_0x58056c(0x272),_0x5c2bf6[_0x58056c(0x272)]=_0x1d634c[_0x58056c(0x20e)]);this[_0x58056c(0x246)][_0x58056c(0x1ba)](_0x659282);throw _0x1d634c;});this[_0x38abfb(0x246)]['set'](_0x659282,{'promise':_0x35b5a5,'toolId':_0x16570b,'agentId':_0x26ab15,'startTime':Date['now']()}),_0xe99f78['push'](_0x35b5a5);}catch(_0x3113d6){this['logger']['error'](_0x38abfb(0x190)+_0x16570b+':',_0x3113d6),_0x5b2a27[_0x38abfb(0x280)]({'toolId':_0x16570b,'status':_0x38abfb(0x272),'error':_0x38abfb(0x190)+_0x16570b+':\x20'+_0x3113d6[_0x38abfb(0x20e)],'requiresResponse':!![]});}}const _0x555a2b=new Promise(_0x3e0d27=>setTimeout(_0x3e0d27,0x7d0));await Promise['race']([_0x555a2b,Promise['allSettled'](_0xe99f78)]);const _0x4b4e13=_0x5b2a27[_0x38abfb(0x1bc)](_0x55b2c2=>(_0x55b2c2['status']===_0x38abfb(0x1c2)||_0x55b2c2['status']==='error')&&_0x55b2c2['requiresResponse']!==![]),_0x4e6787=_0x5b2a27['filter'](_0x34aa37=>_0x34aa37['status']===_0x38abfb(0x21b)&&_0x34aa37[_0x38abfb(0x285)]!==![]);if(_0x4b4e13['length']>0x0||_0x4e6787[_0x38abfb(0x1a4)]>0x0){let _0x446dc9=_0x38abfb(0x206)+_0x4b4e13[_0x38abfb(0x1a4)]+_0x38abfb(0x237)+_0x4e6787[_0x38abfb(0x1a4)]+_0x38abfb(0x1c0);if(_0x4b4e13[_0x38abfb(0x1a4)]>0x0){_0x446dc9+=_0x38abfb(0x20c);for(const _0x46cfbd of _0x4b4e13){_0x46cfbd['status']==='success'?(_0x446dc9+='\x0a‚úÖ\x20Tool\x20'+_0x46cfbd['toolId']+_0x38abfb(0x171),_0x46cfbd['result']&&(_0x446dc9+='\x20Result:\x20'+JSON['stringify'](_0x46cfbd['result'],null,0x2))):_0x446dc9+=_0x38abfb(0x287)+_0x46cfbd['toolId']+'\x20failed:\x20'+_0x46cfbd['error'];}}if(_0x4e6787[_0x38abfb(0x1a4)]>0x0){_0x446dc9+=_0x38abfb(0x239);for(const _0x3db4cc of _0x4e6787){_0x446dc9+=_0x38abfb(0x1b9)+_0x3db4cc[_0x38abfb(0x202)]+'\x20is\x20still\x20running\x20(operation\x20ID:\x20'+_0x3db4cc['operationId']+').'+_0x38abfb(0x1ee),this['trackPendingOperation'](_0x3db4cc['operationId'],_0x26ab15);}}await this[_0x38abfb(0x19c)](_0x26ab15,_0x446dc9);}else this[_0x38abfb(0x242)][_0x38abfb(0x1d3)](_0x38abfb(0x260)+_0xb61a39['length']+_0x38abfb(0x274));}['trackPendingOperation'](_0x31aa21,_0x2a48e8){const _0x30f23e=a0_0x36b902,_0xf26ee3=this['activeTools']['get'](_0x31aa21);if(!_0xf26ee3)return;_0xf26ee3['promise'][_0x30f23e(0x255)](_0x3a2314=>{const _0x33f796=_0x30f23e;this['queuePendingResult'](_0x2a48e8,_0xf26ee3[_0x33f796(0x202)],_0x31aa21,_0x33f796(0x1c2),{'result':_0x3a2314});})['catch'](_0x154155=>{const _0x138622=_0x30f23e;this[_0x138622(0x25e)](_0x2a48e8,_0xf26ee3[_0x138622(0x202)],_0x31aa21,'error',{'error':_0x154155[_0x138622(0x20e)]});});}['queuePendingResult'](_0x198a32,_0x4ce5af,_0x36ef49,_0x418d4b,_0x5a5f72){const _0x581ad4=a0_0x36b902;!this['pendingResults']&&(this[_0x581ad4(0x277)]=new Map()),!this[_0x581ad4(0x277)][_0x581ad4(0x288)](_0x198a32)&&this[_0x581ad4(0x277)]['set'](_0x198a32,[]),this['pendingResults']['get'](_0x198a32)['push']({'toolId':_0x4ce5af,'operationId':_0x36ef49,'status':_0x418d4b,'data':_0x5a5f72,'timestamp':Date['now']()});}async[a0_0x36b902(0x1f2)](_0x5b11be){const _0x90c234=a0_0x36b902;this['logger'][_0x90c234(0x233)]('üö®\x20Prompt\x20too\x20long\x20detected\x20for\x20'+_0x5b11be+'\x20-\x20performing\x20compactization');const _0x7b01b0=this['conversations'][_0x90c234(0x286)](_0x5b11be);if(!_0x7b01b0)throw new Error(_0x90c234(0x22b)+_0x5b11be+'\x20not\x20found\x20for\x20compactization');this['logger']['info'](_0x90c234(0x215)+_0x7b01b0[_0x90c234(0x1cd)][_0x90c234(0x1a4)]+_0x90c234(0x26a)),await this['performCompactization'](_0x5b11be),this['logger']['info']('After\x20compactization:\x20'+_0x7b01b0['messages']['length']+_0x90c234(0x26a)),this['logger'][_0x90c234(0x1d3)]('‚úÖ\x20Error-triggered\x20compactization\x20completed\x20for\x20'+_0x5b11be);}async[a0_0x36b902(0x27b)](){const _0x5fe841=a0_0x36b902;this[_0x5fe841(0x242)][_0x5fe841(0x1d3)]('Shutting\x20down\x20conversation\x20orchestrator'),this[_0x5fe841(0x26f)]=!![];this['idleCheckInterval']&&(clearInterval(this[_0x5fe841(0x245)]),this[_0x5fe841(0x245)]=null);this[_0x5fe841(0x1b3)]&&(clearTimeout(this['idleTimer']),this['idleTimer']=null);clearInterval(this['toolCheckInterval']),await this[_0x5fe841(0x1d0)]();const _0x3e5ef1=Array['from'](this['activeTools']['values']());if(_0x3e5ef1['length']>0x0){this['logger'][_0x5fe841(0x1d3)]('Waiting\x20for\x20'+_0x3e5ef1[_0x5fe841(0x1a4)]+'\x20pending\x20operations\x20to\x20complete\x20or\x20timeout');const _0x5b242d=this['config']['shutdownTimeout']||0x2710;try{await Promise['race']([Promise['allSettled'](_0x3e5ef1['map'](_0x51ddc3=>_0x51ddc3['promise'])),new Promise(_0x4f70ee=>setTimeout(_0x4f70ee,_0x5b242d))]);}catch(_0x16e5ad){this['logger']['warn']('Error\x20waiting\x20for\x20pending\x20operations\x20during\x20shutdown:',_0x16e5ad);}for(const [_0x3d266e,_0x37f1c4]of this['activeTools'][_0x5fe841(0x1cf)]()){this['logger'][_0x5fe841(0x1d3)]('Cancelling\x20operation\x20'+_0x3d266e+_0x5fe841(0x263)),this[_0x5fe841(0x246)]['delete'](_0x3d266e);}}await this[_0x5fe841(0x18d)][_0x5fe841(0x27b)](),await this['toolRegistry']['shutdown'](),await this[_0x5fe841(0x19f)]['saveUsageData'](),this[_0x5fe841(0x242)][_0x5fe841(0x1d3)](_0x5fe841(0x1c4));}async['triggerProceed'](){const _0x50fcde=a0_0x36b902;this[_0x50fcde(0x1f9)]===_0x50fcde(0x1d7)?await this['sendProceedMessage']():this[_0x50fcde(0x242)]['info'](_0x50fcde(0x1e7)+this[_0x50fcde(0x1f9)]);}[a0_0x36b902(0x1da)](){const _0x13827=a0_0x36b902;return{'state':this[_0x13827(0x1f9)],'lastActivity':this[_0x13827(0x1a9)],'timeSinceActivity':Date['now']()-this[_0x13827(0x1a9)],'willProceedIn':Math['max'](0x0,this[_0x13827(0x1af)]-(Date[_0x13827(0x281)]()-this[_0x13827(0x1a9)]))};}}