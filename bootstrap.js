#!/usr/bin/env node

const a0_0x152ccf=a0_0x3020;(function(_0x151336,_0x213d78){const _0x2d7e07=a0_0x3020,_0x4085aa=_0x151336();while(!![]){try{const _0x182e89=parseInt(_0x2d7e07(0x1ed))/0x1+parseInt(_0x2d7e07(0x19a))/0x2*(parseInt(_0x2d7e07(0x210))/0x3)+parseInt(_0x2d7e07(0x1fd))/0x4*(-parseInt(_0x2d7e07(0x1a4))/0x5)+-parseInt(_0x2d7e07(0x218))/0x6+-parseInt(_0x2d7e07(0x1ce))/0x7*(parseInt(_0x2d7e07(0x1d2))/0x8)+-parseInt(_0x2d7e07(0x1f5))/0x9*(-parseInt(_0x2d7e07(0x200))/0xa)+-parseInt(_0x2d7e07(0x1fc))/0xb*(-parseInt(_0x2d7e07(0x1ba))/0xc);if(_0x182e89===_0x213d78)break;else _0x4085aa['push'](_0x4085aa['shift']());}catch(_0x38f8e4){_0x4085aa['push'](_0x4085aa['shift']());}}}(a0_0x947f,0x6038f));import a0_0x887984 from'dotenv';a0_0x887984['config']();import{CLI}from'./core/cli.js';import{ConversationOrchestrator}from'./core/conversationOrchestrator.js';function a0_0x3020(_0xf37378,_0xd3e94c){const _0x947fe8=a0_0x947f();return a0_0x3020=function(_0x302067,_0x2f11e9){_0x302067=_0x302067-0x197;let _0x41ebb5=_0x947fe8[_0x302067];if(a0_0x3020['LGKgmO']===undefined){var _0x3ec289=function(_0x887984){const _0x4b2f22='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1baa47='',_0x1c2a2f='';for(let _0x43d77c=0x0,_0x3ba863,_0x350261,_0x312bb6=0x0;_0x350261=_0x887984['charAt'](_0x312bb6++);~_0x350261&&(_0x3ba863=_0x43d77c%0x4?_0x3ba863*0x40+_0x350261:_0x350261,_0x43d77c++%0x4)?_0x1baa47+=String['fromCharCode'](0xff&_0x3ba863>>(-0x2*_0x43d77c&0x6)):0x0){_0x350261=_0x4b2f22['indexOf'](_0x350261);}for(let _0x39bb7e=0x0,_0x8323e6=_0x1baa47['length'];_0x39bb7e<_0x8323e6;_0x39bb7e++){_0x1c2a2f+='%'+('00'+_0x1baa47['charCodeAt'](_0x39bb7e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1c2a2f);};a0_0x3020['lFYKBC']=_0x3ec289,_0xf37378=arguments,a0_0x3020['LGKgmO']=!![];}const _0x34195c=_0x947fe8[0x0],_0x303d6a=_0x302067+_0x34195c,_0x7a90a4=_0xf37378[_0x303d6a];return!_0x7a90a4?(_0x41ebb5=a0_0x3020['lFYKBC'](_0x41ebb5),_0xf37378[_0x303d6a]=_0x41ebb5):_0x41ebb5=_0x7a90a4,_0x41ebb5;},a0_0x3020(_0xf37378,_0xd3e94c);}import{LoggingService}from'./services/loggingService.js';import{loadConfig}from'./config/configLoader.js';import a0_0x4b2f22 from'chalk';import{performance}from'perf_hooks';const INITIALIZATION_TIMEOUT_MS=0x7530,GRACEFUL_SHUTDOWN_TIMEOUT_MS=0x2710,SERVICE_HEALTH_CHECK_INTERVAL_MS=0x493e0;let applicationState={'isShuttingDown':![],'initializationStartTime':null,'services':{'logger':null,'config':null,'cli':null,'orchestrator':null},'healthCheckInterval':null};async function bootstrap(){const _0x4732d2=a0_0x3020;applicationState[_0x4732d2(0x1ef)]=performance[_0x4732d2(0x1e6)]();const _0x1baa47=createInitialLogger();applicationState['services']['logger']=_0x1baa47;try{_0x1baa47[_0x4732d2(0x203)]('Starting\x20Loxia\x20CLI\x20application'),_0x1baa47[_0x4732d2(0x1a6)](_0x4732d2(0x1a2),'Initializing\x20application\x20components');const _0x1c2a2f=await initializeConfiguration(_0x1baa47);applicationState[_0x4732d2(0x1b2)][_0x4732d2(0x1e5)]=_0x1c2a2f;const _0x43d77c=createEnhancedLogger(_0x1c2a2f);applicationState['services']['logger']=_0x43d77c;const _0x3ba863=await initializeCLI(_0x1c2a2f,_0x43d77c);applicationState[_0x4732d2(0x1b2)][_0x4732d2(0x1a8)]=_0x3ba863,await initializeOrchestratorIfNeeded(_0x3ba863,_0x1c2a2f,_0x43d77c),setupSignalHandlers(_0x43d77c),setupHealthMonitoring(_0x43d77c);const _0x350261=performance['now']()-applicationState[_0x4732d2(0x1ef)];_0x43d77c[_0x4732d2(0x1f4)]('Bootstrap',!![],{'initializationTime':Math['round'](_0x350261),'serverMode':_0x1c2a2f[_0x4732d2(0x197)],'services':Object[_0x4732d2(0x221)](applicationState['services'])[_0x4732d2(0x20d)](_0x312bb6=>applicationState['services'][_0x312bb6]!==null)}),_0x43d77c['info'](_0x4732d2(0x1b5)+Math[_0x4732d2(0x1ab)](_0x350261)+'ms'),await _0x3ba863['start']();}catch(_0x39bb7e){const _0x8323e6=performance['now']()-applicationState[_0x4732d2(0x1ef)];_0x1baa47['completeTask']('Bootstrap',![],{'error':_0x39bb7e[_0x4732d2(0x1d4)],'initializationTime':Math['round'](_0x8323e6)}),console[_0x4732d2(0x1d6)](a0_0x4b2f22['red'](_0x4732d2(0x1ad))),console[_0x4732d2(0x1d6)](a0_0x4b2f22['red']('\x20\x20\x20'+_0x39bb7e['message'])),_0x39bb7e['stack']&&process[_0x4732d2(0x1f9)][_0x4732d2(0x1db)]&&(console['error'](a0_0x4b2f22[_0x4732d2(0x21d)]('\x0aStack\x20trace:')),console['error'](a0_0x4b2f22[_0x4732d2(0x21d)](_0x39bb7e[_0x4732d2(0x1c3)]))),provideTroubleshootingSuggestions(_0x39bb7e),await performEmergencyShutdown(_0x1baa47),process['exit'](0x1);}}function createInitialLogger(){const _0x367550=a0_0x3020;return new LoggingService({'console':![],'file':![],'logLevel':process[_0x367550(0x1f9)][_0x367550(0x21b)]||_0x367550(0x203),'silent':process[_0x367550(0x1f9)]['LOXIA_SILENT']===_0x367550(0x208)});}async function initializeConfiguration(_0xec3d2b){const _0x30ac9c=a0_0x3020;_0xec3d2b[_0x30ac9c(0x203)]('Loading\x20configuration');try{const _0x423224=await loadConfig();return await validateRuntimeConfiguration(_0x423224,_0xec3d2b),_0xec3d2b['info']('Configuration\x20loaded\x20and\x20validated\x20successfully',{'serverMode':_0x423224[_0x30ac9c(0x197)],'logLevel':_0x423224[_0x30ac9c(0x20e)]['logLevel'],'llmStrategy':_0x423224['llmStrategy']}),_0x423224;}catch(_0xb4b003){_0xec3d2b['error'](_0x30ac9c(0x19c),_0xb4b003);throw new Error('Configuration\x20error:\x20'+_0xb4b003['message']);}}async function validateRuntimeConfiguration(_0x1d1369,_0xb2683e){const _0x1169ae=a0_0x3020,_0xaaef16=[];if(_0x1d1369[_0x1169ae(0x197)])try{const _0x37aa37=await fetch(_0x1d1369[_0x1169ae(0x21a)]+'/health',{'method':'GET','timeout':0x1388});!_0x37aa37['ok']&&_0xaaef16[_0x1169ae(0x19b)]('Server\x20health\x20check\x20failed:\x20HTTP\x20'+_0x37aa37[_0x1169ae(0x214)]);}catch(_0x445667){_0xaaef16[_0x1169ae(0x19b)]('Cannot\x20reach\x20server\x20at\x20'+_0x1d1369[_0x1169ae(0x21a)]+':\x20'+_0x445667['message']);}if(!_0x1d1369['useServerLLM']){const _0x1d9651=_0x1d1369[_0x1169ae(0x1b2)]['anthropic']['apiKey']||_0x1d1369[_0x1169ae(0x1b2)][_0x1169ae(0x217)][_0x1169ae(0x1a5)]||_0x1d1369[_0x1169ae(0x1b2)][_0x1169ae(0x1ae)]['apiKey'];!_0x1d9651&&_0xaaef16[_0x1169ae(0x19b)](_0x1169ae(0x215));}try{const _0xd3cd30=_0x1d1369['budget'][_0x1169ae(0x1a3)];await import('fs')['then'](_0x1510ea=>_0x1510ea[_0x1169ae(0x1c2)][_0x1169ae(0x20b)](_0xd3cd30,{'recursive':!![]})),await import('fs')[_0x1169ae(0x1cb)](_0x4fc56f=>_0x4fc56f[_0x1169ae(0x1c2)]['access'](_0xd3cd30,_0x4fc56f['constants'][_0x1169ae(0x202)]));}catch(_0x34c952){_0xaaef16[_0x1169ae(0x19b)]('Cannot\x20write\x20to\x20budget\x20directory:\x20'+_0x34c952['message']);}if(_0xaaef16['length']>0x0){const _0x46c89f=_0x1169ae(0x1ca)+_0xaaef16[_0x1169ae(0x21e)](_0x1a1c46=>'\x20\x20-\x20'+_0x1a1c46)['join']('\x0a');if(_0x1d1369['useServerLLM']&&_0xaaef16['some'](_0x196918=>_0x196918['includes']('server')))_0xb2683e[_0x1169ae(0x1f0)](_0x1169ae(0x1cc)),_0x1d1369[_0x1169ae(0x197)]=![],_0x1d1369[_0x1169ae(0x1b2)][_0x1169ae(0x19d)][_0x1169ae(0x198)]=!!_0x1d1369[_0x1169ae(0x1b2)]['anthropic'][_0x1169ae(0x1a5)],_0x1d1369[_0x1169ae(0x1b2)][_0x1169ae(0x217)][_0x1169ae(0x198)]=!!_0x1d1369[_0x1169ae(0x1b2)][_0x1169ae(0x217)]['apiKey'],_0x1d1369[_0x1169ae(0x1b2)]['google'][_0x1169ae(0x198)]=!!_0x1d1369['services']['google'][_0x1169ae(0x1a5)];else throw new Error(_0x46c89f);}}function createEnhancedLogger(_0x1cab78){const _0x4fd32d=a0_0x3020;return new LoggingService({'console':_0x1cab78[_0x4fd32d(0x20e)][_0x4fd32d(0x205)]!==![],'file':_0x1cab78['logging']['file']!==![],'logLevel':_0x1cab78['logging'][_0x4fd32d(0x204)],'logDir':_0x1cab78[_0x4fd32d(0x20e)]['logDir'],'silent':_0x1cab78[_0x4fd32d(0x20e)]['silent']===!![]});}async function initializeCLI(_0x2e1c05,_0x7e6c26){const _0x5c5d96=a0_0x3020;_0x7e6c26[_0x5c5d96(0x203)](_0x5c5d96(0x1ea));try{const _0x442476=new CLI(null,_0x2e1c05,_0x7e6c26);return await validateCLIResources(_0x442476,_0x2e1c05,_0x7e6c26),_0x7e6c26['info'](_0x5c5d96(0x211)),_0x442476;}catch(_0x44a3b0){_0x7e6c26['error']('CLI\x20initialization\x20failed:',_0x44a3b0);throw new Error(_0x5c5d96(0x1be)+_0x44a3b0['message']);}}async function validateCLIResources(_0x2aaccb,_0x556c16,_0x32c847){const _0x28d7b2=a0_0x3020,_0x4d38b0=await _0x2aaccb[_0x28d7b2(0x1d5)]()[_0x28d7b2(0x1c1)](()=>null);!_0x4d38b0&&_0x556c16['useServerLLM']&&_0x32c847[_0x28d7b2(0x1f0)]('No\x20API\x20key\x20found\x20-\x20some\x20commands\x20will\x20not\x20be\x20available');try{const {getConfigPaths:_0x336886}=await import('./config/configLoader.js'),_0x1f9251=_0x336886();await import('fs')[_0x28d7b2(0x1cb)](_0xb6db4e=>{const _0x327858=_0x28d7b2,_0x3a56b3=[];return _0x1f9251['global']&&_0x3a56b3[_0x327858(0x19b)](_0xb6db4e[_0x327858(0x1c2)]['access'](_0x1f9251[_0x327858(0x1a0)])[_0x327858(0x1c1)](()=>'no\x20global\x20config')),_0x1f9251[_0x327858(0x1ac)]&&_0x3a56b3['push'](_0xb6db4e[_0x327858(0x1c2)]['access'](_0x1f9251[_0x327858(0x1ac)])[_0x327858(0x1c1)](()=>_0x327858(0x1f7))),Promise['allSettled'](_0x3a56b3);});}catch(_0x349da8){_0x32c847['warn'](_0x28d7b2(0x1bf),_0x349da8);}}async function initializeOrchestratorIfNeeded(_0xccb0b0,_0x2061d1,_0x2d56f5){const _0x4ca0a8=a0_0x3020,_0x414367=process['argv'][_0x4ca0a8(0x1e7)](0x2),_0x386823=_0x414367[0x0],_0x55985c=['key',_0x4ca0a8(0x214),'budget','--help','-h',_0x4ca0a8(0x1bc),'-v'];if(_0x55985c['includes'](_0x386823)||_0x414367[_0x4ca0a8(0x19f)]('--help')||_0x414367[_0x4ca0a8(0x19f)]('-h')){_0x2d56f5[_0x4ca0a8(0x1d3)]('Skipping\x20orchestrator\x20initialization\x20for\x20utility\x20command');return;}_0x2d56f5[_0x4ca0a8(0x203)](_0x4ca0a8(0x1da));try{const _0x77c470=new ConversationOrchestrator(_0x2061d1,_0x2d56f5);await _0x77c470[_0x4ca0a8(0x21f)](),_0xccb0b0['setOrchestrator'](_0x77c470),applicationState['services'][_0x4ca0a8(0x1f2)]=_0x77c470,_0x2d56f5[_0x4ca0a8(0x203)]('Conversation\x20orchestrator\x20initialized\x20successfully');}catch(_0xde1749){_0x2d56f5['error'](_0x4ca0a8(0x1e9),_0xde1749);if([_0x4ca0a8(0x214),'budget']['includes'](_0x386823))_0x2d56f5[_0x4ca0a8(0x1f0)](_0x4ca0a8(0x1c4));else throw new Error(_0x4ca0a8(0x1f8)+_0xde1749[_0x4ca0a8(0x1d4)]);}}function setupSignalHandlers(_0xaa8f8b){const _0x38b6fc=a0_0x3020;process['on']('SIGINT',async()=>{const _0x3ecc32=a0_0x3020;applicationState[_0x3ecc32(0x207)]&&(_0xaa8f8b[_0x3ecc32(0x1f0)]('Force\x20shutdown\x20-\x20received\x20second\x20SIGINT'),process[_0x3ecc32(0x1eb)](0x1)),_0xaa8f8b['info']('Received\x20SIGINT,\x20initiating\x20graceful\x20shutdown'),await performGracefulShutdown(_0xaa8f8b,'SIGINT');}),process['on'](_0x38b6fc(0x1dc),async()=>{const _0x4f67df=_0x38b6fc;applicationState['isShuttingDown']&&(_0xaa8f8b['warn'](_0x4f67df(0x1de)),process[_0x4f67df(0x1eb)](0x1)),_0xaa8f8b[_0x4f67df(0x203)](_0x4f67df(0x219)),await performGracefulShutdown(_0xaa8f8b,'SIGTERM');}),process['on'](_0x38b6fc(0x1c5),async _0x4be68f=>{const _0xfc7bb5=_0x38b6fc;_0xaa8f8b['error'](_0xfc7bb5(0x220),_0x4be68f),_0x4be68f['stack']&&_0xaa8f8b[_0xfc7bb5(0x1d6)]('Stack\x20trace:',_0x4be68f[_0xfc7bb5(0x1c3)]),await performEmergencyShutdown(_0xaa8f8b),process[_0xfc7bb5(0x1eb)](0x1);}),process['on'](_0x38b6fc(0x1b9),async(_0x54fc38,_0x2bc76c)=>{const _0x55d0aa=_0x38b6fc;_0xaa8f8b['error'](_0x55d0aa(0x1dd),{'reason':_0x54fc38?.['message']||_0x54fc38,'promise':_0x2bc76c?.[_0x55d0aa(0x1bd)]()}),_0x54fc38?.[_0x55d0aa(0x1c3)]&&_0xaa8f8b['error'](_0x55d0aa(0x1cf),_0x54fc38[_0x55d0aa(0x1c3)]),await performEmergencyShutdown(_0xaa8f8b),process[_0x55d0aa(0x1eb)](0x1);}),process['on'](_0x38b6fc(0x1f6),_0x5a7314=>{const _0x78a5ea=_0x38b6fc;_0xaa8f8b['warn'](_0x78a5ea(0x1c0),{'name':_0x5a7314['name'],'message':_0x5a7314[_0x78a5ea(0x1d4)],'stack':_0x5a7314[_0x78a5ea(0x1c3)]});}),_0xaa8f8b[_0x38b6fc(0x1d3)]('Signal\x20handlers\x20configured');}function setupHealthMonitoring(_0x398463){const _0x1b859c=a0_0x3020,_0x3e2edc=process['argv'][_0x1b859c(0x1e7)](0x2),_0x57fb32=['do',_0x1b859c(0x1b0),_0x1b859c(0x212),_0x1b859c(0x1e2)];if(!_0x57fb32['some'](_0x2f8410=>_0x3e2edc[_0x1b859c(0x19f)](_0x2f8410)))return;applicationState[_0x1b859c(0x1b1)]=setInterval(async()=>{const _0x30b726=_0x1b859c;try{await performHealthCheck(_0x398463);}catch(_0x106076){_0x398463['warn'](_0x30b726(0x1ff),_0x106076);}},SERVICE_HEALTH_CHECK_INTERVAL_MS),_0x398463['debug']('Health\x20monitoring\x20configured');}async function performHealthCheck(_0x2c59e8){const _0x9cadd2=a0_0x3020,_0xdda700={'timestamp':new Date()[_0x9cadd2(0x1d0)](),'services':{},'overall':_0x9cadd2(0x1fb)};if(applicationState['services']['cli'])try{_0xdda700['services'][_0x9cadd2(0x1a8)]=_0x9cadd2(0x1fb);}catch(_0xcac0ff){_0xdda700[_0x9cadd2(0x1b2)]['cli']=_0x9cadd2(0x20f),_0xdda700[_0x9cadd2(0x1f1)]='degraded';}if(applicationState[_0x9cadd2(0x1b2)]['orchestrator'])try{const _0xee27a9=await applicationState['services']['orchestrator'][_0x9cadd2(0x1c9)]?.()||_0x9cadd2(0x1b3);_0xdda700[_0x9cadd2(0x1b2)]['orchestrator']=_0xee27a9['overall']||'healthy',(_0xee27a9['overall']===_0x9cadd2(0x1fa)||_0xee27a9['overall']==='unhealthy')&&(_0xdda700['overall']=_0x9cadd2(0x1fa));}catch(_0x2aa4a7){_0xdda700['services']['orchestrator']='unhealthy',_0xdda700[_0x9cadd2(0x1f1)]=_0x9cadd2(0x1fa);}_0xdda700[_0x9cadd2(0x1f1)]!==_0x9cadd2(0x1fb)?_0x2c59e8['warn'](_0x9cadd2(0x20a),_0xdda700):_0x2c59e8['debug'](_0x9cadd2(0x1af),_0xdda700);}async function performGracefulShutdown(_0x1f89dc,_0x33b90e){const _0x48bb6e=a0_0x3020;if(applicationState[_0x48bb6e(0x207)])return;applicationState['isShuttingDown']=!![],_0x1f89dc['startTask']('Graceful\x20shutdown',_0x48bb6e(0x1b6)+_0x33b90e);try{applicationState[_0x48bb6e(0x1b1)]&&(clearInterval(applicationState['healthCheckInterval']),applicationState['healthCheckInterval']=null);const _0x4bca05=[];applicationState[_0x48bb6e(0x1b2)]['orchestrator']?.['shutdown']&&_0x4bca05['push'](Promise[_0x48bb6e(0x1a9)]([applicationState['services'][_0x48bb6e(0x1f2)][_0x48bb6e(0x1e1)](),new Promise((_0x4619f3,_0x49cdfc)=>setTimeout(()=>_0x49cdfc(new Error('Orchestrator\x20shutdown\x20timeout')),0x1388))])[_0x48bb6e(0x1c1)](_0x19c7ce=>{_0x1f89dc['warn']('Orchestrator\x20shutdown\x20error:',_0x19c7ce);})),applicationState[_0x48bb6e(0x1b2)]['cli']?.[_0x48bb6e(0x1e1)]&&_0x4bca05[_0x48bb6e(0x19b)](Promise['race']([applicationState[_0x48bb6e(0x1b2)][_0x48bb6e(0x1a8)][_0x48bb6e(0x1e1)](),new Promise((_0x19fb03,_0x36cb01)=>setTimeout(()=>_0x36cb01(new Error(_0x48bb6e(0x1a1))),0xbb8))])['catch'](_0x137090=>{const _0x141605=_0x48bb6e;_0x1f89dc[_0x141605(0x1f0)](_0x141605(0x1df),_0x137090);})),await Promise[_0x48bb6e(0x1a9)]([Promise['allSettled'](_0x4bca05),new Promise(_0x3a0ed4=>setTimeout(_0x3a0ed4,GRACEFUL_SHUTDOWN_TIMEOUT_MS))]),_0x1f89dc['completeTask']('Graceful\x20shutdown',!![]),_0x1f89dc['info'](_0x48bb6e(0x1fe));}catch(_0x56c749){_0x1f89dc[_0x48bb6e(0x1f4)]('Graceful\x20shutdown',![],{'error':_0x56c749['message']}),_0x1f89dc['error'](_0x48bb6e(0x1b4),_0x56c749);}finally{setTimeout(()=>{const _0x311e45=_0x48bb6e;process[_0x311e45(0x1eb)](0x0);},0x1f4);}}async function performEmergencyShutdown(_0x199c79){const _0x50318c=a0_0x3020;if(applicationState['isShuttingDown'])return;applicationState['isShuttingDown']=!![],_0x199c79[_0x50318c(0x1d6)](_0x50318c(0x1bb));try{applicationState[_0x50318c(0x1b1)]&&clearInterval(applicationState['healthCheckInterval']),applicationState[_0x50318c(0x1b2)]['orchestrator']?.['saveSessionState']&&await Promise['race']([applicationState[_0x50318c(0x1b2)]['orchestrator']['saveSessionState'](),new Promise(_0x23fd38=>setTimeout(_0x23fd38,0x7d0))])[_0x50318c(0x1c1)](()=>{}),_0x199c79['error']('Emergency\x20shutdown\x20completed');}catch(_0xd3ec27){console['error']('Emergency\x20shutdown\x20failed:',_0xd3ec27['message']);}}function provideTroubleshootingSuggestions(_0x419ce3){const _0x46e8da=a0_0x3020,_0x5a93db=[],_0xb55c36=_0x419ce3[_0x46e8da(0x1d4)][_0x46e8da(0x1c7)]();_0xb55c36['includes']('api\x20key')&&(_0x5a93db[_0x46e8da(0x19b)](_0x46e8da(0x1e3)),_0x5a93db['push']('Get your API key from: https://autopilot.loxia.ai/account/api-keys')),(_0xb55c36['includes'](_0x46e8da(0x1ec))||_0xb55c36[_0x46e8da(0x19f)](_0x46e8da(0x1c6)))&&(_0x5a93db['push'](_0x46e8da(0x206)),_0x5a93db[_0x46e8da(0x19b)](_0x46e8da(0x19e)),_0x5a93db['push']('Try\x20using\x20fallback\x20mode:\x20LOXIA_USE_SERVER_LLM=false')),(_0xb55c36[_0x46e8da(0x19f)]('permission')||_0xb55c36['includes'](_0x46e8da(0x209)))&&(_0x5a93db[_0x46e8da(0x19b)](_0x46e8da(0x201)),_0x5a93db['push']('Ensure\x20you\x20have\x20write\x20access\x20to\x20the\x20current\x20directory'),_0x5a93db['push']('Try running from a different directory')),_0xb55c36['includes']('timeout')&&(_0x5a93db[_0x46e8da(0x19b)](_0x46e8da(0x1a7)),_0x5a93db['push']('Check\x20network\x20connectivity'),_0x5a93db[_0x46e8da(0x19b)](_0x46e8da(0x222))),_0xb55c36['includes'](_0x46e8da(0x1e5))&&(_0x5a93db['push'](_0x46e8da(0x1aa)),_0x5a93db['push']('Create default config: loxia config --create'),_0x5a93db['push'](_0x46e8da(0x199))),_0x5a93db[_0x46e8da(0x1d8)]>0x0&&(console[_0x46e8da(0x1b7)](a0_0x4b2f22[_0x46e8da(0x1f3)](_0x46e8da(0x20c))),_0x5a93db['forEach'](_0x4c4d63=>{const _0x35d044=_0x46e8da;console[_0x35d044(0x1b7)](a0_0x4b2f22[_0x35d044(0x1d7)]('\x20\x20\x20•\x20'+_0x4c4d63));})),console[_0x46e8da(0x1b7)](a0_0x4b2f22['gray'](_0x46e8da(0x1cd))),console[_0x46e8da(0x1b7)](a0_0x4b2f22['gray'](_0x46e8da(0x1d9))),console['log'](a0_0x4b2f22[_0x46e8da(0x21d)]('\x20\x20\x20•\x20Check\x20documentation:\x20https://docs.loxia.ai')),console['log'](a0_0x4b2f22['gray'](_0x46e8da(0x1ee)));}async function handleBootstrapTimeout(_0x588e59){const _0x967b19=a0_0x3020;_0x588e59['error']('Bootstrap\x20process\x20timed\x20out'),console[_0x967b19(0x1d6)](a0_0x4b2f22[_0x967b19(0x1d1)](_0x967b19(0x1e4))),console[_0x967b19(0x1d6)](a0_0x4b2f22['yellow']('This\x20might\x20indicate:')),console['error'](a0_0x4b2f22[_0x967b19(0x1f3)](_0x967b19(0x1c8))),console['error'](a0_0x4b2f22[_0x967b19(0x1f3)](_0x967b19(0x1e0))),console['error'](a0_0x4b2f22['yellow']('\x20\x20\x20•\x20Configuration\x20problems')),await performEmergencyShutdown(_0x588e59),process['exit'](0x1);}async function main(){const _0x19268d=a0_0x3020,_0x40e4de=Date[_0x19268d(0x1e6)]();try{await Promise['race']([bootstrap(),new Promise((_0x147ded,_0x604c4e)=>setTimeout(()=>_0x604c4e(new Error(_0x19268d(0x1b8))),INITIALIZATION_TIMEOUT_MS))]);}catch(_0x486bce){const _0x29bd7f=Date[_0x19268d(0x1e6)]()-_0x40e4de;if(_0x486bce['message']===_0x19268d(0x1b8))await handleBootstrapTimeout(applicationState['services']['logger']||createInitialLogger());else throw _0x486bce;}}main()[a0_0x152ccf(0x1c1)](_0x3a8164=>{const _0x3efab6=a0_0x152ccf,_0x414611=applicationState['services'][_0x3efab6(0x213)]||createInitialLogger();_0x414611[_0x3efab6(0x1d6)]('Fatal\x20error\x20during\x20startup:',_0x3a8164),console['error'](a0_0x4b2f22[_0x3efab6(0x1d1)](_0x3efab6(0x216))),console[_0x3efab6(0x1d6)](a0_0x4b2f22['red'](_0x3efab6(0x21c)+_0x3a8164['message'])),process[_0x3efab6(0x1f9)][_0x3efab6(0x1db)]&&_0x3a8164['stack']&&(console['error'](a0_0x4b2f22[_0x3efab6(0x21d)]('\x0aStack\x20trace:')),console['error'](a0_0x4b2f22[_0x3efab6(0x21d)](_0x3a8164[_0x3efab6(0x1c3)]))),process['exit'](0x1);}),process['on']('warning',_0x57d4e0=>{const _0x772cf3=a0_0x152ccf;applicationState['services']['logger']&&applicationState[_0x772cf3(0x1b2)][_0x772cf3(0x213)]['warn'](_0x772cf3(0x1e8),_0x57d4e0);});function a0_0x947f(){const _0x2e5408=['B3zLCMfSBa','B3jJAgvZDhjHDg9Y','EwvSBg93','y29TCgXLDgvuyxnR','oufyzKLTCW','D2fYBMLUzW','BM8GBg9JywWGy29UzMLN','t3jJAgvZDhjHDg9YigLUAxrPywXPEMf0Aw9UigvYCM9YoIa','zw52','zgvNCMfKzwq','AgvHBhrOEq','mtKWnZrxAuL6C2S','ngnrBK5Oza','r3jHy2vMDwWGC2H1DgrVD24Gy29TCgXLDgvKihn1y2nLC3nMDwXSEq','sgvHBhrOignOzwnRigzHAwXLzdO','mtmWodC1mhLZExPUtW','q2HLy2SGzMLSzsbZExn0zw0GCgvYBwLZC2LVBNm','v19psW','Aw5MBW','Bg9Ntgv2zwW','y29UC29Szq','q2HLy2SGEw91CIbPBNrLCM5LDcbJB25Uzwn0Aw9U','AxntAhv0DgLUz0rVD24','Dhj1zq','ywnJzxnZ','u2vYDMLJzsbOzwfSDgGGy2HLy2SGzgv0zwn0zwqGAxnZDwvZoG','BwTKAxi','cVcFKQeGvhjVDwjSzxnOB290Aw5Nihn1z2DLC3rPB25ZoG','zMLSDgvY','Bg9Nz2LUzW','Dw5OzwfSDgH5','mJaZndeYoxr1vhbfqG','q0XjigLUAxrPywXPEMvKihn1y2nLC3nMDwXSEq','CMvZDw1L','Bg9Nz2vY','C3rHDhvZ','tM8GqvbjigTLExmGy29UzMLNDxjLzcbMB3iGzMfSBgjHy2SGC2vYDMLJzxm','cVcFKQuGrMf0ywWGC3rHCNr1CcbLCNjVCJO','B3bLBMfP','mJy2oduZmejgAwXSzW','uMvJzwL2zwqGu0LhvevstsWGAw5PDgLHDgLUzYbNCMfJzwz1BcbZAhv0zg93BG','C2vYDMvYvxjS','te9ysufFte9hx0XfvKvm','icaG','z3jHEq','BwfW','Aw5PDgLHBgL6zvnLCNzPy2vZ','vw5JyxvNAhqGzxHJzxb0Aw9UoG','A2v5CW','vhj5igfNywLUigLUigeGzMv3ig1VBwvUDhm','DxnLu2vYDMvYteXn','zw5HyMXLza','vMfSAwrHDguGy29UzMLNDxjHDgLVBJOGBg94AweGy29UzMLNic0TDMfSAwrHDgu','mNHYu2v5BW','ChvZAa','q29UzMLNDxjHDgLVBIbSB2fKAw5NigzHAwXLzdO','yw50AhjVCgLJ','vMvYAwz5ihrOzsbZzxj2zxiGvvjmigLUihLVDxiGy29UzMLNDxjHDgLVBG','Aw5JBhvKzxm','z2XVyMfS','q0XjihnODxrKB3DUihrPBwvVDxq','qM9VDhn0CMfW','DxnHz2veAxi','mJCWmJa0nuz0wenwyq','yxbPs2v5','C3rHCNruyxnR','sw5JCMvHC2uGDgLTzw91DcbZzxr0Aw5NCYbPBIbJB25MAwD1CMf0Aw9U','y2XP','CMfJzq','q2HLy2SGy29UzMLNDxjHDgLVBIbMAwXLihn5BNrHEa','CM91BMq','Bg9JywW','cUkDJcbgywLSzwqGDg8GC3rHCNqGtg94AweGq0XjoG','z29Vz2XL','sgvHBhrOignOzwnRihbHC3nLzdO','BwfRzq','AgvHBhrOq2HLy2TjBNrLCNzHBa','C2vYDMLJzxm','Dw5RBM93BG','rxjYB3iGzhvYAw5NigDYywnLzNvSihnODxrKB3DUoG','tg94AweGq0XjigLUAxrPywXPEMvKihn1y2nLC3nMDwXSEsbPBIa','u2H1DhrPBMCGzg93BIbKDwuGDg8G','Bg9N','qM9VDhn0CMfWihrPBwvVDxq','Dw5Oyw5KBgvKuMvQzwn0Aw9U','mJy1mKPID29YtW','ugvYzM9YBwLUzYbLBwvYz2vUy3KGC2H1DgrVD24','ls12zxjZAw9U','Dg9tDhjPBMC','q0XjigLUAxrPywXPEMf0Aw9UigvYCM9YoIa','q29UzMLNDxjHDgLVBIbMAwXLihzHBgLKyxrPB24GzMfPBgvKoG','tM9Kzs5QCYb3yxjUAw5NoG','y2f0y2G','ChjVBwLZzxm','C3rHy2S','q29UDgLUDwLUzYb3AxrOB3v0ig9Yy2HLC3rYyxrVCIbMB3iGC3rHDhvZignVBw1HBMq','Dw5JyxvNAhrfEgnLChrPB24','y29UBMvJDgLVBG','Dg9mB3DLCKnHC2u','icaG4OcIie5LDhDVCMSGy29UBMvJDgL2Axr5igLZC3vLCW','z2v0sgvHBhrOu3rHDhvZ','uNvUDgLTzsb2ywXPzgf0Aw9UigzHAwXLzdOk','DgHLBG','u2vYDMvYihzHBgLKyxrPB24GzMfPBgvKlcb3AwXSigf0DgvTChqGzMfSBgjHy2SGDg8GBg9JywWGC2vYDMLJzxm','cVcFLi0GrM9Yig1VCMuGAgvSCdO','mJi5mZCXmufWEKHYAW','uMvQzwn0Aw9Uihn0ywnRihrYywnLoG','Dg9ju09tDhjPBMC','CMvK','ogfds2HSuW','zgvIDwC','BwvZC2fNzq','z2v0u3rVCMvKqxbPs2v5','zxjYB3i','y3LHBG','BgvUz3rO','icaG4OcIifj1BJOGBg94AweGls1OzwXW','sw5PDgLHBgL6Aw5NignVBNzLCNnHDgLVBIbVCMnOzxn0CMf0B3i','te9ysufFrevcvuC','u0Lhvevstq','vw5Oyw5KBgvKihbYB21PC2uGCMvQzwn0Aw9UoG','rM9Yy2uGC2H1DgrVD24GlsbYzwnLAxzLzcbZzwnVBMqGu0Lhvevstq','q0XjihnODxrKB3DUigvYCM9YoG','icaG4OcIifnLCNzLCIbPCYbKB3DUig9Yig92zxjSB2fKzwq','C2H1DgrVD24','Bw9KAwz5','u2v0ihLVDxiGqvbjigTLEsb3AxrOoIbSB3HPysbRzxKGls1ZzxqGphLVDxiTyxbPlwTLEt4','cUkpScbjBML0AwfSAxPHDgLVBIb0Aw1LzcbVDxq','y29UzMLN','BM93','C2XPy2u','uhjVy2vZCYb3yxjUAw5NoG','t3jJAgvZDhjHDg9YigLUAxrPywXPEMf0Aw9UigzHAwXLzdO','sw5PDgLHBgL6Aw5Nienmsq','zxHPDa','C2vYDMvY','nte0odmYu0veEuLW','icaG4OcIifjLCg9YDcbPC3n1zxm6igH0DhbZoI8Vz2L0AhvIlMnVBs9SB3HPys1HAs9JBgKVAxnZDwvZ','Aw5PDgLHBgL6yxrPB25tDgfYDfrPBwu','D2fYBG'];a0_0x947f=function(){return _0x2e5408;};return a0_0x947f();}export{bootstrap,performGracefulShutdown,performHealthCheck};